function qv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Wv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gv={exports:{}},Uu={},Kv={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),N1=Symbol.for("react.portal"),b1=Symbol.for("react.fragment"),D1=Symbol.for("react.strict_mode"),L1=Symbol.for("react.profiler"),j1=Symbol.for("react.provider"),O1=Symbol.for("react.context"),M1=Symbol.for("react.forward_ref"),V1=Symbol.for("react.suspense"),F1=Symbol.for("react.memo"),U1=Symbol.for("react.lazy"),Vg=Symbol.iterator;function z1(t){return t===null||typeof t!="object"?null:(t=Vg&&t[Vg]||t["@@iterator"],typeof t=="function"?t:null)}var Qv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yv=Object.assign,Xv={};function Do(t,e,n){this.props=t,this.context=e,this.refs=Xv,this.updater=n||Qv}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jv(){}Jv.prototype=Do.prototype;function ep(t,e,n){this.props=t,this.context=e,this.refs=Xv,this.updater=n||Qv}var tp=ep.prototype=new Jv;tp.constructor=ep;Yv(tp,Do.prototype);tp.isPureReactComponent=!0;var Fg=Array.isArray,Zv=Object.prototype.hasOwnProperty,np={current:null},ew={key:!0,ref:!0,__self:!0,__source:!0};function tw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Zv.call(e,r)&&!ew.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:_l,type:t,key:s,ref:o,props:i,_owner:np.current}}function B1(t,e){return{$$typeof:_l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rp(t){return typeof t=="object"&&t!==null&&t.$$typeof===_l}function $1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ug=/\/+/g;function Vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$1(""+t.key):e.toString(36)}function Tc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _l:case N1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vd(o,0):r,Fg(i)?(n="",t!=null&&(n=t.replace(Ug,"$&/")+"/"),Tc(i,e,n,"",function(u){return u})):i!=null&&(rp(i)&&(i=B1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ug,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Fg(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Vd(s,l);o+=Tc(s,e,n,c,i)}else if(c=z1(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Vd(s,l++),o+=Tc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zl(t,e,n){if(t==null)return t;var r=[],i=0;return Tc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function H1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},Sc={transition:null},q1={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:np};function nw(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Zl,forEach:function(t,e,n){Zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zl(t,function(){e++}),e},toArray:function(t){return Zl(t,function(e){return e})||[]},only:function(t){if(!rp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Do;me.Fragment=b1;me.Profiler=L1;me.PureComponent=ep;me.StrictMode=D1;me.Suspense=V1;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1;me.act=nw;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=np.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Zv.call(e,c)&&!ew.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:_l,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:O1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:j1,_context:t},t.Consumer=t};me.createElement=tw;me.createFactory=function(t){var e=tw.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:M1,render:t}};me.isValidElement=rp;me.lazy=function(t){return{$$typeof:U1,_payload:{_status:-1,_result:t},_init:H1}};me.memo=function(t,e){return{$$typeof:F1,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Sc.transition;Sc.transition={};try{t()}finally{Sc.transition=e}};me.unstable_act=nw;me.useCallback=function(t,e){return Xt.current.useCallback(t,e)};me.useContext=function(t){return Xt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Xt.current.useEffect(t,e)};me.useId=function(){return Xt.current.useId()};me.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Xt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};me.useRef=function(t){return Xt.current.useRef(t)};me.useState=function(t){return Xt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Xt.current.useTransition()};me.version="18.3.1";Kv.exports=me;var j=Kv.exports;const W1=Wv(j),G1=qv({__proto__:null,default:W1},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1=j,Q1=Symbol.for("react.element"),Y1=Symbol.for("react.fragment"),X1=Object.prototype.hasOwnProperty,J1=K1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z1={key:!0,ref:!0,__self:!0,__source:!0};function rw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)X1.call(e,r)&&!Z1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Q1,type:t,key:s,ref:o,props:i,_owner:J1.current}}Uu.Fragment=Y1;Uu.jsx=rw;Uu.jsxs=rw;Gv.exports=Uu;var d=Gv.exports,xh={},iw={exports:{}},_n={},sw={exports:{}},ow={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,G){var ne=U.length;U.push(G);e:for(;0<ne;){var we=ne-1>>>1,fe=U[we];if(0<i(fe,G))U[we]=G,U[ne]=fe,ne=we;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],ne=U.pop();if(ne!==G){U[0]=ne;e:for(var we=0,fe=U.length,Pe=fe>>>1;we<Pe;){var qt=2*(we+1)-1,ct=U[qt],_t=qt+1,vt=U[_t];if(0>i(ct,ne))_t<fe&&0>i(vt,ct)?(U[we]=vt,U[_t]=ne,we=_t):(U[we]=ct,U[qt]=ne,we=qt);else if(_t<fe&&0>i(vt,ne))U[we]=vt,U[_t]=ne,we=_t;else break e}}return G}function i(U,G){var ne=U.sortIndex-G.sortIndex;return ne!==0?ne:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,g=3,w=!1,C=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=U)r(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(u)}}function L(U){if(P=!1,A(U),!C)if(n(c)!==null)C=!0,wn(z);else{var G=n(u);G!==null&&X(L,G.startTime-U)}}function z(U,G){C=!1,P&&(P=!1,S(_),_=-1),w=!0;var ne=g;try{for(A(G),m=n(c);m!==null&&(!(m.expirationTime>G)||U&&!x());){var we=m.callback;if(typeof we=="function"){m.callback=null,g=m.priorityLevel;var fe=we(m.expirationTime<=G);G=t.unstable_now(),typeof fe=="function"?m.callback=fe:m===n(c)&&r(c),A(G)}else r(c);m=n(c)}if(m!==null)var Pe=!0;else{var qt=n(u);qt!==null&&X(L,qt.startTime-G),Pe=!1}return Pe}finally{m=null,g=ne,w=!1}}var V=!1,y=null,_=-1,E=5,T=-1;function x(){return!(t.unstable_now()-T<E)}function N(){if(y!==null){var U=t.unstable_now();T=U;var G=!0;try{G=y(!0,U)}finally{G?R():(V=!1,y=null)}}else V=!1}var R;if(typeof I=="function")R=function(){I(N)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,nt=Ce.port2;Ce.port1.onmessage=N,R=function(){nt.postMessage(null)}}else R=function(){k(N,0)};function wn(U){y=U,V||(V=!0,R())}function X(U,G){_=k(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,wn(z))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var ne=g;g=G;try{return U()}finally{g=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=g;g=U;try{return G()}finally{g=ne}},t.unstable_scheduleCallback=function(U,G,ne){var we=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,U){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ne+fe,U={id:f++,callback:G,priorityLevel:U,startTime:ne,expirationTime:fe,sortIndex:-1},ne>we?(U.sortIndex=ne,e(u,U),n(c)===null&&U===n(u)&&(P?(S(_),_=-1):P=!0,X(L,ne-we))):(U.sortIndex=fe,e(c,U),C||w||(C=!0,wn(z))),U},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(U){var G=g;return function(){var ne=g;g=G;try{return U.apply(this,arguments)}finally{g=ne}}}})(ow);sw.exports=ow;var eS=sw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=j,yn=eS;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aw=new Set,qa={};function Is(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(qa[t]=e,t=0;t<e.length;t++)aw.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=Object.prototype.hasOwnProperty,nS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zg={},Bg={};function rS(t){return kh.call(Bg,t)?!0:kh.call(zg,t)?!1:nS.test(t)?Bg[t]=!0:(zg[t]=!0,!1)}function iS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sS(t,e,n,r){if(e===null||typeof e>"u"||iS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ip=/[\-:]([a-z])/g;function sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ip,sp);Nt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ip,sp);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ip,sp);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function op(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sS(e,n,i,r)&&(n=null),r||i===null?rS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hr=tS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),ap=Symbol.for("react.strict_mode"),Nh=Symbol.for("react.profiler"),lw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),lp=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),cp=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),uw=Symbol.for("react.offscreen"),$g=Symbol.iterator;function sa(t){return t===null||typeof t!="object"?null:(t=$g&&t[$g]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Fd;function va(t){if(Fd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fd=e&&e[1]||""}return`
`+Fd+t}var Ud=!1;function zd(t,e){if(!t||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function oS(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=zd(t.type,!1),t;case 11:return t=zd(t.type.render,!1),t;case 1:return t=zd(t.type,!0),t;default:return""}}function Lh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ks:return"Fragment";case Gs:return"Portal";case Nh:return"Profiler";case ap:return"StrictMode";case bh:return"Suspense";case Dh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cw:return(t.displayName||"Context")+".Consumer";case lw:return(t._context.displayName||"Context")+".Provider";case lp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cp:return e=t.displayName||null,e!==null?e:Lh(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return Lh(t(e))}catch{}}return null}function aS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lh(e);case 8:return e===ap?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lS(t){var e=dw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=lS(t))}function hw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jh(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fw(t,e){e=e.checked,e!=null&&op(t,"checked",e,!1)}function Oh(t,e){fw(t,e);var n=Si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mh(t,e.type,Si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mh(t,e,n){(e!=="number"||Hc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wa=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(wa(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Si(n)}}function pw(t,e){var n=Si(e.value),r=Si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,gw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cS=["Webkit","ms","Moz","O"];Object.keys(xa).forEach(function(t){cS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xa[e]=xa[t]})});function yw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xa.hasOwnProperty(t)&&xa[t]?(""+e).trim():e+"px"}function _w(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uS=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uh(t,e){if(e){if(uS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function zh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=null;function up(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $h=null,ao=null,lo=null;function Kg(t){if(t=El(t)){if(typeof $h!="function")throw Error(H(280));var e=t.stateNode;e&&(e=qu(e),$h(t.stateNode,t.type,e))}}function vw(t){ao?lo?lo.push(t):lo=[t]:ao=t}function ww(){if(ao){var t=ao,e=lo;if(lo=ao=null,Kg(t),e)for(t=0;t<e.length;t++)Kg(e[t])}}function Ew(t,e){return t(e)}function Iw(){}var Bd=!1;function Tw(t,e,n){if(Bd)return t(e,n);Bd=!0;try{return Ew(t,e,n)}finally{Bd=!1,(ao!==null||lo!==null)&&(Iw(),ww())}}function Ga(t,e){var n=t.stateNode;if(n===null)return null;var r=qu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Hh=!1;if(Or)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Hh=!1}function dS(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var ka=!1,qc=null,Wc=!1,qh=null,hS={onError:function(t){ka=!0,qc=t}};function fS(t,e,n,r,i,s,o,l,c){ka=!1,qc=null,dS.apply(hS,arguments)}function pS(t,e,n,r,i,s,o,l,c){if(fS.apply(this,arguments),ka){if(ka){var u=qc;ka=!1,qc=null}else throw Error(H(198));Wc||(Wc=!0,qh=u)}}function Ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qg(t){if(Ts(t)!==t)throw Error(H(188))}function mS(t){var e=t.alternate;if(!e){if(e=Ts(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Qg(i),t;if(s===r)return Qg(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Cw(t){return t=mS(t),t!==null?Aw(t):null}function Aw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Aw(t);if(e!==null)return e;t=t.sibling}return null}var Rw=yn.unstable_scheduleCallback,Yg=yn.unstable_cancelCallback,gS=yn.unstable_shouldYield,yS=yn.unstable_requestPaint,tt=yn.unstable_now,_S=yn.unstable_getCurrentPriorityLevel,dp=yn.unstable_ImmediatePriority,Pw=yn.unstable_UserBlockingPriority,Gc=yn.unstable_NormalPriority,vS=yn.unstable_LowPriority,xw=yn.unstable_IdlePriority,zu=null,sr=null;function wS(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(zu,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:TS,ES=Math.log,IS=Math.LN2;function TS(t){return t>>>=0,t===0?32:31-(ES(t)/IS|0)|0}var rc=64,ic=4194304;function Ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ea(l):(s&=o,s!==0&&(r=Ea(s)))}else o=n&~i,o!==0?r=Ea(o):s!==0&&(r=Ea(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),i=1<<n,r|=t[n],e&=~i;return r}function SS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=SS(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Wh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kw(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function $d(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function AS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function Nw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bw,fp,Dw,Lw,jw,Gh=!1,sc=[],hi=null,fi=null,pi=null,Ka=new Map,Qa=new Map,si=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(t,e){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(e.pointerId)}}function aa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=El(e),e!==null&&fp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PS(t,e,n,r,i){switch(e){case"focusin":return hi=aa(hi,t,e,n,r,i),!0;case"dragenter":return fi=aa(fi,t,e,n,r,i),!0;case"mouseover":return pi=aa(pi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ka.set(s,aa(Ka.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qa.set(s,aa(Qa.get(s)||null,t,e,n,r,i)),!0}return!1}function Ow(t){var e=Yi(t.target);if(e!==null){var n=Ts(e);if(n!==null){if(e=n.tag,e===13){if(e=Sw(n),e!==null){t.blockedOn=e,jw(t.priority,function(){Dw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bh=r,n.target.dispatchEvent(r),Bh=null}else return e=El(n),e!==null&&fp(e),t.blockedOn=n,!1;e.shift()}return!0}function Jg(t,e,n){Cc(t)&&n.delete(e)}function xS(){Gh=!1,hi!==null&&Cc(hi)&&(hi=null),fi!==null&&Cc(fi)&&(fi=null),pi!==null&&Cc(pi)&&(pi=null),Ka.forEach(Jg),Qa.forEach(Jg)}function la(t,e){t.blockedOn===e&&(t.blockedOn=null,Gh||(Gh=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,xS)))}function Ya(t){function e(i){return la(i,t)}if(0<sc.length){la(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hi!==null&&la(hi,t),fi!==null&&la(fi,t),pi!==null&&la(pi,t),Ka.forEach(e),Qa.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)Ow(n),n.blockedOn===null&&si.shift()}var co=Hr.ReactCurrentBatchConfig,Qc=!0;function kS(t,e,n,r){var i=Re,s=co.transition;co.transition=null;try{Re=1,pp(t,e,n,r)}finally{Re=i,co.transition=s}}function NS(t,e,n,r){var i=Re,s=co.transition;co.transition=null;try{Re=4,pp(t,e,n,r)}finally{Re=i,co.transition=s}}function pp(t,e,n,r){if(Qc){var i=Kh(t,e,n,r);if(i===null)Zd(t,e,r,Yc,n),Xg(t,r);else if(PS(i,t,e,n,r))r.stopPropagation();else if(Xg(t,r),e&4&&-1<RS.indexOf(t)){for(;i!==null;){var s=El(i);if(s!==null&&bw(s),s=Kh(t,e,n,r),s===null&&Zd(t,e,r,Yc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zd(t,e,r,null,n)}}var Yc=null;function Kh(t,e,n,r){if(Yc=null,t=up(r),t=Yi(t),t!==null)if(e=Ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yc=t,null}function Mw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_S()){case dp:return 1;case Pw:return 4;case Gc:case vS:return 16;case xw:return 536870912;default:return 16}default:return 16}}var ci=null,mp=null,Ac=null;function Vw(){if(Ac)return Ac;var t,e=mp,n=e.length,r,i="value"in ci?ci.value:ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ac=i.slice(t,1<r?1-r:void 0)}function Rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function Zg(){return!1}function vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:Zg,this.isPropagationStopped=Zg,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gp=vn(Lo),wl=Ke({},Lo,{view:0,detail:0}),bS=vn(wl),Hd,qd,ca,Bu=Ke({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ca&&(ca&&t.type==="mousemove"?(Hd=t.screenX-ca.screenX,qd=t.screenY-ca.screenY):qd=Hd=0,ca=t),Hd)},movementY:function(t){return"movementY"in t?t.movementY:qd}}),ey=vn(Bu),DS=Ke({},Bu,{dataTransfer:0}),LS=vn(DS),jS=Ke({},wl,{relatedTarget:0}),Wd=vn(jS),OS=Ke({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),MS=vn(OS),VS=Ke({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FS=vn(VS),US=Ke({},Lo,{data:0}),ty=vn(US),zS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$S[t])?!!e[t]:!1}function yp(){return HS}var qS=Ke({},wl,{key:function(t){if(t.key){var e=zS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yp,charCode:function(t){return t.type==="keypress"?Rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WS=vn(qS),GS=Ke({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ny=vn(GS),KS=Ke({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yp}),QS=vn(KS),YS=Ke({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XS=vn(YS),JS=Ke({},Bu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZS=vn(JS),eC=[9,13,27,32],_p=Or&&"CompositionEvent"in window,Na=null;Or&&"documentMode"in document&&(Na=document.documentMode);var tC=Or&&"TextEvent"in window&&!Na,Fw=Or&&(!_p||Na&&8<Na&&11>=Na),ry=" ",iy=!1;function Uw(t,e){switch(t){case"keyup":return eC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function nC(t,e){switch(t){case"compositionend":return zw(e);case"keypress":return e.which!==32?null:(iy=!0,ry);case"textInput":return t=e.data,t===ry&&iy?null:t;default:return null}}function rC(t,e){if(Qs)return t==="compositionend"||!_p&&Uw(t,e)?(t=Vw(),Ac=mp=ci=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fw&&e.locale!=="ko"?null:e.data;default:return null}}var iC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iC[t.type]:e==="textarea"}function Bw(t,e,n,r){vw(r),e=Xc(e,"onChange"),0<e.length&&(n=new gp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ba=null,Xa=null;function sC(t){Zw(t,0)}function $u(t){var e=Js(t);if(hw(e))return t}function oC(t,e){if(t==="change")return e}var $w=!1;if(Or){var Gd;if(Or){var Kd="oninput"in document;if(!Kd){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Kd=typeof oy.oninput=="function"}Gd=Kd}else Gd=!1;$w=Gd&&(!document.documentMode||9<document.documentMode)}function ay(){ba&&(ba.detachEvent("onpropertychange",Hw),Xa=ba=null)}function Hw(t){if(t.propertyName==="value"&&$u(Xa)){var e=[];Bw(e,Xa,t,up(t)),Tw(sC,e)}}function aC(t,e,n){t==="focusin"?(ay(),ba=e,Xa=n,ba.attachEvent("onpropertychange",Hw)):t==="focusout"&&ay()}function lC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(Xa)}function cC(t,e){if(t==="click")return $u(e)}function uC(t,e){if(t==="input"||t==="change")return $u(e)}function dC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:dC;function Ja(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kh.call(e,i)||!Xn(t[i],e[i]))return!1}return!0}function ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cy(t,e){var n=ly(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ly(n)}}function qw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ww(){for(var t=window,e=Hc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hc(t.document)}return e}function vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hC(t){var e=Ww(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qw(n.ownerDocument.documentElement,n)){if(r!==null&&vp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cy(n,s);var o=cy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fC=Or&&"documentMode"in document&&11>=document.documentMode,Ys=null,Qh=null,Da=null,Yh=!1;function uy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yh||Ys==null||Ys!==Hc(r)||(r=Ys,"selectionStart"in r&&vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Ja(Da,r)||(Da=r,r=Xc(Qh,"onSelect"),0<r.length&&(e=new gp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ys)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xs={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Qd={},Gw={};Or&&(Gw=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Hu(t){if(Qd[t])return Qd[t];if(!Xs[t])return t;var e=Xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gw)return Qd[t]=e[n];return t}var Kw=Hu("animationend"),Qw=Hu("animationiteration"),Yw=Hu("animationstart"),Xw=Hu("transitionend"),Jw=new Map,dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){Jw.set(t,e),Is(e,[t])}for(var Yd=0;Yd<dy.length;Yd++){var Xd=dy[Yd],pC=Xd.toLowerCase(),mC=Xd[0].toUpperCase()+Xd.slice(1);Ni(pC,"on"+mC)}Ni(Kw,"onAnimationEnd");Ni(Qw,"onAnimationIteration");Ni(Yw,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(Xw,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function hy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pS(r,e,void 0,t),t.currentTarget=null}function Zw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;hy(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;hy(i,l,u),s=c}}}if(Wc)throw t=qh,Wc=!1,qh=null,t}function je(t,e){var n=e[tf];n===void 0&&(n=e[tf]=new Set);var r=t+"__bubble";n.has(r)||(e0(e,t,2,!1),n.add(r))}function Jd(t,e,n){var r=0;e&&(r|=4),e0(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Za(t){if(!t[lc]){t[lc]=!0,aw.forEach(function(n){n!=="selectionchange"&&(gC.has(n)||Jd(n,!1,t),Jd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,Jd("selectionchange",!1,e))}}function e0(t,e,n,r){switch(Mw(e)){case 1:var i=kS;break;case 4:i=NS;break;default:i=pp}n=i.bind(null,e,n,t),i=void 0,!Hh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Yi(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Tw(function(){var u=s,f=up(n),m=[];e:{var g=Jw.get(t);if(g!==void 0){var w=gp,C=t;switch(t){case"keypress":if(Rc(n)===0)break e;case"keydown":case"keyup":w=WS;break;case"focusin":C="focus",w=Wd;break;case"focusout":C="blur",w=Wd;break;case"beforeblur":case"afterblur":w=Wd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=LS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=QS;break;case Kw:case Qw:case Yw:w=MS;break;case Xw:w=XS;break;case"scroll":w=bS;break;case"wheel":w=ZS;break;case"copy":case"cut":case"paste":w=FS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ny}var P=(e&4)!==0,k=!P&&t==="scroll",S=P?g!==null?g+"Capture":null:g;P=[];for(var I=u,A;I!==null;){A=I;var L=A.stateNode;if(A.tag===5&&L!==null&&(A=L,S!==null&&(L=Ga(I,S),L!=null&&P.push(el(I,L,A)))),k)break;I=I.return}0<P.length&&(g=new w(g,C,null,n,f),m.push({event:g,listeners:P}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==Bh&&(C=n.relatedTarget||n.fromElement)&&(Yi(C)||C[Mr]))break e;if((w||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,w?(C=n.relatedTarget||n.toElement,w=u,C=C?Yi(C):null,C!==null&&(k=Ts(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(w=null,C=u),w!==C)){if(P=ey,L="onMouseLeave",S="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(P=ny,L="onPointerLeave",S="onPointerEnter",I="pointer"),k=w==null?g:Js(w),A=C==null?g:Js(C),g=new P(L,I+"leave",w,n,f),g.target=k,g.relatedTarget=A,L=null,Yi(f)===u&&(P=new P(S,I+"enter",C,n,f),P.target=A,P.relatedTarget=k,L=P),k=L,w&&C)t:{for(P=w,S=C,I=0,A=P;A;A=zs(A))I++;for(A=0,L=S;L;L=zs(L))A++;for(;0<I-A;)P=zs(P),I--;for(;0<A-I;)S=zs(S),A--;for(;I--;){if(P===S||S!==null&&P===S.alternate)break t;P=zs(P),S=zs(S)}P=null}else P=null;w!==null&&fy(m,g,w,P,!1),C!==null&&k!==null&&fy(m,k,C,P,!0)}}e:{if(g=u?Js(u):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var z=oC;else if(sy(g))if($w)z=uC;else{z=lC;var V=aC}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(z=cC);if(z&&(z=z(t,u))){Bw(m,z,n,f);break e}V&&V(t,g,u),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&Mh(g,"number",g.value)}switch(V=u?Js(u):window,t){case"focusin":(sy(V)||V.contentEditable==="true")&&(Ys=V,Qh=u,Da=null);break;case"focusout":Da=Qh=Ys=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,uy(m,n,f);break;case"selectionchange":if(fC)break;case"keydown":case"keyup":uy(m,n,f)}var y;if(_p)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Qs?Uw(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Fw&&n.locale!=="ko"&&(Qs||_!=="onCompositionStart"?_==="onCompositionEnd"&&Qs&&(y=Vw()):(ci=f,mp="value"in ci?ci.value:ci.textContent,Qs=!0)),V=Xc(u,_),0<V.length&&(_=new ty(_,t,null,n,f),m.push({event:_,listeners:V}),y?_.data=y:(y=zw(n),y!==null&&(_.data=y)))),(y=tC?nC(t,n):rC(t,n))&&(u=Xc(u,"onBeforeInput"),0<u.length&&(f=new ty("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=y))}Zw(m,e)})}function el(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ga(t,n),s!=null&&r.unshift(el(t,s,i)),s=Ga(t,e),s!=null&&r.push(el(t,s,i))),t=t.return}return r}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Ga(n,s),c!=null&&o.unshift(el(n,c,l))):i||(c=Ga(n,s),c!=null&&o.push(el(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yC=/\r\n?/g,_C=/\u0000|\uFFFD/g;function py(t){return(typeof t=="string"?t:""+t).replace(yC,`
`).replace(_C,"")}function cc(t,e,n){if(e=py(e),py(t)!==e&&n)throw Error(H(425))}function Jc(){}var Xh=null,Jh=null;function Zh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ef=typeof setTimeout=="function"?setTimeout:void 0,vC=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(t){return my.resolve(null).then(t).catch(EC)}:ef;function EC(t){setTimeout(function(){throw t})}function eh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ya(e)}function mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=Math.random().toString(36).slice(2),ir="__reactFiber$"+jo,tl="__reactProps$"+jo,Mr="__reactContainer$"+jo,tf="__reactEvents$"+jo,IC="__reactListeners$"+jo,TC="__reactHandles$"+jo;function Yi(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gy(t);t!==null;){if(n=t[ir])return n;t=gy(t)}return e}t=n,n=t.parentNode}return null}function El(t){return t=t[ir]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function qu(t){return t[tl]||null}var nf=[],Zs=-1;function bi(t){return{current:t}}function Ve(t){0>Zs||(t.current=nf[Zs],nf[Zs]=null,Zs--)}function Ne(t,e){Zs++,nf[Zs]=t.current,t.current=e}var Ci={},$t=bi(Ci),nn=bi(!1),ls=Ci;function _o(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Zc(){Ve(nn),Ve($t)}function yy(t,e,n){if($t.current!==Ci)throw Error(H(168));Ne($t,e),Ne(nn,n)}function t0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,aS(t)||"Unknown",i));return Ke({},n,r)}function eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,ls=$t.current,Ne($t,t),Ne(nn,nn.current),!0}function _y(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=t0(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,Ve(nn),Ve($t),Ne($t,t)):Ve(nn),Ne(nn,n)}var Sr=null,Wu=!1,th=!1;function n0(t){Sr===null?Sr=[t]:Sr.push(t)}function SC(t){Wu=!0,n0(t)}function Di(){if(!th&&Sr!==null){th=!0;var t=0,e=Re;try{var n=Sr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,Wu=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),Rw(dp,Di),i}finally{Re=e,th=!1}}return null}var eo=[],to=0,tu=null,nu=0,Sn=[],Cn=0,cs=null,Rr=1,Pr="";function Gi(t,e){eo[to++]=nu,eo[to++]=tu,tu=t,nu=e}function r0(t,e,n){Sn[Cn++]=Rr,Sn[Cn++]=Pr,Sn[Cn++]=cs,cs=t;var r=Rr;t=Pr;var i=32-Gn(r)-1;r&=~(1<<i),n+=1;var s=32-Gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rr=1<<32-Gn(e)+i|n<<i|r,Pr=s+t}else Rr=1<<s|n<<i|r,Pr=t}function wp(t){t.return!==null&&(Gi(t,1),r0(t,1,0))}function Ep(t){for(;t===tu;)tu=eo[--to],eo[to]=null,nu=eo[--to],eo[to]=null;for(;t===cs;)cs=Sn[--Cn],Sn[Cn]=null,Pr=Sn[--Cn],Sn[Cn]=null,Rr=Sn[--Cn],Sn[Cn]=null}var pn=null,hn=null,Be=!1,$n=null;function i0(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:Rr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function rf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sf(t){if(Be){var e=hn;if(e){var n=e;if(!vy(t,e)){if(rf(t))throw Error(H(418));e=mi(n.nextSibling);var r=pn;e&&vy(t,e)?i0(r,n):(t.flags=t.flags&-4097|2,Be=!1,pn=t)}}else{if(rf(t))throw Error(H(418));t.flags=t.flags&-4097|2,Be=!1,pn=t}}}function wy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function uc(t){if(t!==pn)return!1;if(!Be)return wy(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zh(t.type,t.memoizedProps)),e&&(e=hn)){if(rf(t))throw s0(),Error(H(418));for(;e;)i0(t,e),e=mi(e.nextSibling)}if(wy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?mi(t.stateNode.nextSibling):null;return!0}function s0(){for(var t=hn;t;)t=mi(t.nextSibling)}function vo(){hn=pn=null,Be=!1}function Ip(t){$n===null?$n=[t]:$n.push(t)}var CC=Hr.ReactCurrentBatchConfig;function ua(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function dc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ey(t){var e=t._init;return e(t._payload)}function o0(t){function e(S,I){if(t){var A=S.deletions;A===null?(S.deletions=[I],S.flags|=16):A.push(I)}}function n(S,I){if(!t)return null;for(;I!==null;)e(S,I),I=I.sibling;return null}function r(S,I){for(S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function i(S,I){return S=vi(S,I),S.index=0,S.sibling=null,S}function s(S,I,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<I?(S.flags|=2,I):A):(S.flags|=2,I)):(S.flags|=1048576,I)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,I,A,L){return I===null||I.tag!==6?(I=lh(A,S.mode,L),I.return=S,I):(I=i(I,A),I.return=S,I)}function c(S,I,A,L){var z=A.type;return z===Ks?f(S,I,A.props.children,L,A.key):I!==null&&(I.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ri&&Ey(z)===I.type)?(L=i(I,A.props),L.ref=ua(S,I,A),L.return=S,L):(L=Lc(A.type,A.key,A.props,null,S.mode,L),L.ref=ua(S,I,A),L.return=S,L)}function u(S,I,A,L){return I===null||I.tag!==4||I.stateNode.containerInfo!==A.containerInfo||I.stateNode.implementation!==A.implementation?(I=ch(A,S.mode,L),I.return=S,I):(I=i(I,A.children||[]),I.return=S,I)}function f(S,I,A,L,z){return I===null||I.tag!==7?(I=os(A,S.mode,L,z),I.return=S,I):(I=i(I,A),I.return=S,I)}function m(S,I,A){if(typeof I=="string"&&I!==""||typeof I=="number")return I=lh(""+I,S.mode,A),I.return=S,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ec:return A=Lc(I.type,I.key,I.props,null,S.mode,A),A.ref=ua(S,null,I),A.return=S,A;case Gs:return I=ch(I,S.mode,A),I.return=S,I;case ri:var L=I._init;return m(S,L(I._payload),A)}if(wa(I)||sa(I))return I=os(I,S.mode,A,null),I.return=S,I;dc(S,I)}return null}function g(S,I,A,L){var z=I!==null?I.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return z!==null?null:l(S,I,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ec:return A.key===z?c(S,I,A,L):null;case Gs:return A.key===z?u(S,I,A,L):null;case ri:return z=A._init,g(S,I,z(A._payload),L)}if(wa(A)||sa(A))return z!==null?null:f(S,I,A,L,null);dc(S,A)}return null}function w(S,I,A,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return S=S.get(A)||null,l(I,S,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ec:return S=S.get(L.key===null?A:L.key)||null,c(I,S,L,z);case Gs:return S=S.get(L.key===null?A:L.key)||null,u(I,S,L,z);case ri:var V=L._init;return w(S,I,A,V(L._payload),z)}if(wa(L)||sa(L))return S=S.get(A)||null,f(I,S,L,z,null);dc(I,L)}return null}function C(S,I,A,L){for(var z=null,V=null,y=I,_=I=0,E=null;y!==null&&_<A.length;_++){y.index>_?(E=y,y=null):E=y.sibling;var T=g(S,y,A[_],L);if(T===null){y===null&&(y=E);break}t&&y&&T.alternate===null&&e(S,y),I=s(T,I,_),V===null?z=T:V.sibling=T,V=T,y=E}if(_===A.length)return n(S,y),Be&&Gi(S,_),z;if(y===null){for(;_<A.length;_++)y=m(S,A[_],L),y!==null&&(I=s(y,I,_),V===null?z=y:V.sibling=y,V=y);return Be&&Gi(S,_),z}for(y=r(S,y);_<A.length;_++)E=w(y,S,_,A[_],L),E!==null&&(t&&E.alternate!==null&&y.delete(E.key===null?_:E.key),I=s(E,I,_),V===null?z=E:V.sibling=E,V=E);return t&&y.forEach(function(x){return e(S,x)}),Be&&Gi(S,_),z}function P(S,I,A,L){var z=sa(A);if(typeof z!="function")throw Error(H(150));if(A=z.call(A),A==null)throw Error(H(151));for(var V=z=null,y=I,_=I=0,E=null,T=A.next();y!==null&&!T.done;_++,T=A.next()){y.index>_?(E=y,y=null):E=y.sibling;var x=g(S,y,T.value,L);if(x===null){y===null&&(y=E);break}t&&y&&x.alternate===null&&e(S,y),I=s(x,I,_),V===null?z=x:V.sibling=x,V=x,y=E}if(T.done)return n(S,y),Be&&Gi(S,_),z;if(y===null){for(;!T.done;_++,T=A.next())T=m(S,T.value,L),T!==null&&(I=s(T,I,_),V===null?z=T:V.sibling=T,V=T);return Be&&Gi(S,_),z}for(y=r(S,y);!T.done;_++,T=A.next())T=w(y,S,_,T.value,L),T!==null&&(t&&T.alternate!==null&&y.delete(T.key===null?_:T.key),I=s(T,I,_),V===null?z=T:V.sibling=T,V=T);return t&&y.forEach(function(N){return e(S,N)}),Be&&Gi(S,_),z}function k(S,I,A,L){if(typeof A=="object"&&A!==null&&A.type===Ks&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ec:e:{for(var z=A.key,V=I;V!==null;){if(V.key===z){if(z=A.type,z===Ks){if(V.tag===7){n(S,V.sibling),I=i(V,A.props.children),I.return=S,S=I;break e}}else if(V.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ri&&Ey(z)===V.type){n(S,V.sibling),I=i(V,A.props),I.ref=ua(S,V,A),I.return=S,S=I;break e}n(S,V);break}else e(S,V);V=V.sibling}A.type===Ks?(I=os(A.props.children,S.mode,L,A.key),I.return=S,S=I):(L=Lc(A.type,A.key,A.props,null,S.mode,L),L.ref=ua(S,I,A),L.return=S,S=L)}return o(S);case Gs:e:{for(V=A.key;I!==null;){if(I.key===V)if(I.tag===4&&I.stateNode.containerInfo===A.containerInfo&&I.stateNode.implementation===A.implementation){n(S,I.sibling),I=i(I,A.children||[]),I.return=S,S=I;break e}else{n(S,I);break}else e(S,I);I=I.sibling}I=ch(A,S.mode,L),I.return=S,S=I}return o(S);case ri:return V=A._init,k(S,I,V(A._payload),L)}if(wa(A))return C(S,I,A,L);if(sa(A))return P(S,I,A,L);dc(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,I!==null&&I.tag===6?(n(S,I.sibling),I=i(I,A),I.return=S,S=I):(n(S,I),I=lh(A,S.mode,L),I.return=S,S=I),o(S)):n(S,I)}return k}var wo=o0(!0),a0=o0(!1),ru=bi(null),iu=null,no=null,Tp=null;function Sp(){Tp=no=iu=null}function Cp(t){var e=ru.current;Ve(ru),t._currentValue=e}function of(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){iu=t,Tp=no=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(Tp!==t)if(t={context:t,memoizedValue:e,next:null},no===null){if(iu===null)throw Error(H(308));no=t,iu.dependencies={lanes:0,firstContext:t}}else no=no.next=t;return e}var Xi=null;function Ap(t){Xi===null?Xi=[t]:Xi.push(t)}function l0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ap(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ii=!1;function Rp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ap(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function Pc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hp(t,n)}}function Iy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function su(t,e,n,r){var i=t.updateQueue;ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,f=u=c=null,l=s;do{var g=l.lane,w=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,P=l;switch(g=e,w=n,P.tag){case 1:if(C=P.payload,typeof C=="function"){m=C.call(w,m,g);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,g=typeof C=="function"?C.call(w,m,g):C,g==null)break e;m=Ke({},m,g);break e;case 2:ii=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=w,c=m):f=f.next=w,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ds|=o,t.lanes=o,t.memoizedState=m}}function Ty(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Il={},or=bi(Il),nl=bi(Il),rl=bi(Il);function Ji(t){if(t===Il)throw Error(H(174));return t}function Pp(t,e){switch(Ne(rl,e),Ne(nl,t),Ne(or,Il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fh(e,t)}Ve(or),Ne(or,e)}function Eo(){Ve(or),Ve(nl),Ve(rl)}function u0(t){Ji(rl.current);var e=Ji(or.current),n=Fh(e,t.type);e!==n&&(Ne(nl,t),Ne(or,n))}function xp(t){nl.current===t&&(Ve(or),Ve(nl))}var We=bi(0);function ou(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nh=[];function kp(){for(var t=0;t<nh.length;t++)nh[t]._workInProgressVersionPrimary=null;nh.length=0}var xc=Hr.ReactCurrentDispatcher,rh=Hr.ReactCurrentBatchConfig,us=0,Ge=null,ht=null,gt=null,au=!1,La=!1,il=0,AC=0;function jt(){throw Error(H(321))}function Np(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function bp(t,e,n,r,i,s){if(us=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xc.current=t===null||t.memoizedState===null?kC:NC,t=n(r,i),La){s=0;do{if(La=!1,il=0,25<=s)throw Error(H(301));s+=1,gt=ht=null,e.updateQueue=null,xc.current=bC,t=n(r,i)}while(La)}if(xc.current=lu,e=ht!==null&&ht.next!==null,us=0,gt=ht=Ge=null,au=!1,e)throw Error(H(300));return t}function Dp(){var t=il!==0;return il=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ge.memoizedState=gt=t:gt=gt.next=t,gt}function bn(){if(ht===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=gt===null?Ge.memoizedState:gt.next;if(e!==null)gt=e,ht=t;else{if(t===null)throw Error(H(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?Ge.memoizedState=gt=t:gt=gt.next=t}return gt}function sl(t,e){return typeof e=="function"?e(t):e}function ih(t){var e=bn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((us&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Ge.lanes|=f,ds|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Xn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ge.lanes|=s,ds|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sh(t){var e=bn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xn(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function d0(){}function h0(t,e){var n=Ge,r=bn(),i=e(),s=!Xn(r.memoizedState,i);if(s&&(r.memoizedState=i,tn=!0),r=r.queue,Lp(m0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,ol(9,p0.bind(null,n,r,i,e),void 0,null),yt===null)throw Error(H(349));us&30||f0(n,e,i)}return i}function f0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p0(t,e,n,r){e.value=n,e.getSnapshot=r,g0(e)&&y0(t)}function m0(t,e,n){return n(function(){g0(e)&&y0(t)})}function g0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch{return!0}}function y0(t){var e=Vr(t,1);e!==null&&Kn(e,t,1,-1)}function Sy(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},e.queue=t,t=t.dispatch=xC.bind(null,Ge,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _0(){return bn().memoizedState}function kc(t,e,n,r){var i=rr();Ge.flags|=t,i.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function Gu(t,e,n,r){var i=bn();r=r===void 0?null:r;var s=void 0;if(ht!==null){var o=ht.memoizedState;if(s=o.destroy,r!==null&&Np(r,o.deps)){i.memoizedState=ol(e,n,s,r);return}}Ge.flags|=t,i.memoizedState=ol(1|e,n,s,r)}function Cy(t,e){return kc(8390656,8,t,e)}function Lp(t,e){return Gu(2048,8,t,e)}function v0(t,e){return Gu(4,2,t,e)}function w0(t,e){return Gu(4,4,t,e)}function E0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function I0(t,e,n){return n=n!=null?n.concat([t]):null,Gu(4,4,E0.bind(null,e,t),n)}function jp(){}function T0(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Np(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function S0(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Np(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function C0(t,e,n){return us&21?(Xn(n,e)||(n=kw(),Ge.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function RC(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=rh.transition;rh.transition={};try{t(!1),e()}finally{Re=n,rh.transition=r}}function A0(){return bn().memoizedState}function PC(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},R0(t))P0(e,n);else if(n=l0(t,e,n,r),n!==null){var i=Yt();Kn(n,t,r,i),x0(n,e,r)}}function xC(t,e,n){var r=_i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(R0(t))P0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Xn(l,o)){var c=e.interleaved;c===null?(i.next=i,Ap(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=l0(t,e,i,r),n!==null&&(i=Yt(),Kn(n,t,r,i),x0(n,e,r))}}function R0(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function P0(t,e){La=au=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hp(t,n)}}var lu={readContext:Nn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},kC={readContext:Nn,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:Cy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kc(4194308,4,E0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return kc(4,2,t,e)},useMemo:function(t,e){var n=rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PC.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:Sy,useDebugValue:jp,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=Sy(!1),e=t[0];return t=RC.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,i=rr();if(Be){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),yt===null)throw Error(H(349));us&30||f0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Cy(m0.bind(null,r,s,t),[t]),r.flags|=2048,ol(9,p0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rr(),e=yt.identifierPrefix;if(Be){var n=Pr,r=Rr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NC={readContext:Nn,useCallback:T0,useContext:Nn,useEffect:Lp,useImperativeHandle:I0,useInsertionEffect:v0,useLayoutEffect:w0,useMemo:S0,useReducer:ih,useRef:_0,useState:function(){return ih(sl)},useDebugValue:jp,useDeferredValue:function(t){var e=bn();return C0(e,ht.memoizedState,t)},useTransition:function(){var t=ih(sl)[0],e=bn().memoizedState;return[t,e]},useMutableSource:d0,useSyncExternalStore:h0,useId:A0,unstable_isNewReconciler:!1},bC={readContext:Nn,useCallback:T0,useContext:Nn,useEffect:Lp,useImperativeHandle:I0,useInsertionEffect:v0,useLayoutEffect:w0,useMemo:S0,useReducer:sh,useRef:_0,useState:function(){return sh(sl)},useDebugValue:jp,useDeferredValue:function(t){var e=bn();return ht===null?e.memoizedState=t:C0(e,ht.memoizedState,t)},useTransition:function(){var t=sh(sl)[0],e=bn().memoizedState;return[t,e]},useMutableSource:d0,useSyncExternalStore:h0,useId:A0,unstable_isNewReconciler:!1};function Un(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function af(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ku={isMounted:function(t){return(t=t._reactInternals)?Ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=_i(t),s=br(r,i);s.payload=e,n!=null&&(s.callback=n),e=gi(t,s,i),e!==null&&(Kn(e,t,i,r),Pc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=_i(t),s=br(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gi(t,s,i),e!==null&&(Kn(e,t,i,r),Pc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=_i(t),i=br(n,r);i.tag=2,e!=null&&(i.callback=e),e=gi(t,i,r),e!==null&&(Kn(e,t,r,n),Pc(e,t,r))}};function Ay(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ja(n,r)||!Ja(i,s):!0}function k0(t,e,n){var r=!1,i=Ci,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(i=rn(e)?ls:$t.current,r=e.contextTypes,s=(r=r!=null)?_o(t,i):Ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ku,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ry(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ku.enqueueReplaceState(e,e.state,null)}function lf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Rp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nn(s):(s=rn(e)?ls:$t.current,i.context=_o(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(af(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ku.enqueueReplaceState(i,i.state,null),su(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=oS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function oh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DC=typeof WeakMap=="function"?WeakMap:Map;function N0(t,e,n){n=br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uu||(uu=!0,vf=r),cf(t,e)},n}function b0(t,e,n){n=br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cf(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Py(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=GC.bind(null,t,e,n),e.then(t,t))}function xy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ky(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=br(-1,1),e.tag=2,gi(n,e,1))),n.lanes|=1),t)}var LC=Hr.ReactCurrentOwner,tn=!1;function Qt(t,e,n,r){e.child=t===null?a0(e,null,n,r):wo(e,t.child,n,r)}function Ny(t,e,n,r,i){n=n.render;var s=e.ref;return uo(e,i),r=bp(t,e,n,r,s,i),n=Dp(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Be&&n&&wp(e),e.flags|=1,Qt(t,e,r,i),e.child)}function by(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$p(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,D0(t,e,s,r,i)):(t=Lc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ja,n(o,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=vi(s,r),t.ref=e.ref,t.return=e,e.child=t}function D0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ja(s,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return uf(t,e,n,r,i)}function L0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(io,dn),dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(io,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(io,dn),dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ne(io,dn),dn|=r;return Qt(t,e,i,n),e.child}function j0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uf(t,e,n,r,i){var s=rn(n)?ls:$t.current;return s=_o(e,s),uo(e,i),n=bp(t,e,n,r,s,i),r=Dp(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Be&&r&&wp(e),e.flags|=1,Qt(t,e,n,i),e.child)}function Dy(t,e,n,r,i){if(rn(n)){var s=!0;eu(e)}else s=!1;if(uo(e,i),e.stateNode===null)Nc(t,e),k0(e,n,r),lf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nn(u):(u=rn(n)?ls:$t.current,u=_o(e,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Ry(e,o,r,u),ii=!1;var g=e.memoizedState;o.state=g,su(e,r,o,i),c=e.memoizedState,l!==r||g!==c||nn.current||ii?(typeof f=="function"&&(af(e,n,f,r),c=e.memoizedState),(l=ii||Ay(e,n,l,r,g,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,c0(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Un(e.type,l),o.props=u,m=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=rn(n)?ls:$t.current,c=_o(e,c));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==c)&&Ry(e,o,r,c),ii=!1,g=e.memoizedState,o.state=g,su(e,r,o,i);var C=e.memoizedState;l!==m||g!==C||nn.current||ii?(typeof w=="function"&&(af(e,n,w,r),C=e.memoizedState),(u=ii||Ay(e,n,u,r,g,C,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return df(t,e,n,r,s,i)}function df(t,e,n,r,i,s){j0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_y(e,n,!1),Fr(t,e,s);r=e.stateNode,LC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wo(e,t.child,null,s),e.child=wo(e,null,l,s)):Qt(t,e,l,s),e.memoizedState=r.state,i&&_y(e,n,!0),e.child}function O0(t){var e=t.stateNode;e.pendingContext?yy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yy(t,e.context,!1),Pp(t,e.containerInfo)}function Ly(t,e,n,r,i){return vo(),Ip(i),e.flags|=256,Qt(t,e,n,r),e.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(t){return{baseLanes:t,cachePool:null,transitions:null}}function M0(t,e,n){var r=e.pendingProps,i=We.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(We,i&1),t===null)return sf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xu(o,r,0,null),t=os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ff(n),e.memoizedState=hf,t):Op(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return jC(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=vi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=vi(l,s):(s=os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ff(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hf,r}return s=t.child,t=s.sibling,r=vi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Op(t,e){return e=Xu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hc(t,e,n,r){return r!==null&&Ip(r),wo(e,t.child,null,n),t=Op(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=oh(Error(H(422))),hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xu({mode:"visible",children:r.children},i,0,null),s=os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wo(e,t.child,null,o),e.child.memoizedState=ff(o),e.memoizedState=hf,s);if(!(e.mode&1))return hc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=oh(s,r,void 0),hc(t,e,o,r)}if(l=(o&t.childLanes)!==0,tn||l){if(r=yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vr(t,i),Kn(r,t,i,-1))}return Bp(),r=oh(Error(H(421))),hc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=mi(i.nextSibling),pn=e,Be=!0,$n=null,t!==null&&(Sn[Cn++]=Rr,Sn[Cn++]=Pr,Sn[Cn++]=cs,Rr=t.id,Pr=t.overflow,cs=e),e=Op(e,r.children),e.flags|=4096,e)}function jy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),of(t.return,e,n)}function ah(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function V0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,n,e);else if(t.tag===19)jy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ou(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ah(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ou(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ah(e,!0,n,null,s);break;case"together":ah(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function OC(t,e,n){switch(e.tag){case 3:O0(e),vo();break;case 5:u0(e);break;case 1:rn(e.type)&&eu(e);break;case 4:Pp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(ru,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?M0(t,e,n):(Ne(We,We.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);Ne(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,L0(t,e,n)}return Fr(t,e,n)}var F0,pf,U0,z0;F0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pf=function(){};U0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ji(or.current);var s=null;switch(n){case"input":i=jh(t,i),r=jh(t,r),s=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":i=Vh(t,i),r=Vh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jc)}Uh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};z0=function(t,e,n,r){n!==r&&(e.flags|=4)};function da(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MC(t,e,n){var r=e.pendingProps;switch(Ep(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return rn(e.type)&&Zc(),Ot(e),null;case 3:return r=e.stateNode,Eo(),Ve(nn),Ve($t),kp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(If($n),$n=null))),pf(t,e),Ot(e),null;case 5:xp(e);var i=Ji(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)U0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ot(e),null}if(t=Ji(or.current),uc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ir]=e,r[tl]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Ia.length;i++)je(Ia[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Hg(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":Wg(r,s),je("invalid",r)}Uh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&cc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&cc(r.textContent,l,t),i=["children",""+l]):qa.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":tc(r),qg(r,s,!0);break;case"textarea":tc(r),Gg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ir]=e,t[tl]=r,F0(t,e,!1,!1),e.stateNode=t;e:{switch(o=zh(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ia.length;i++)je(Ia[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":Hg(t,r),i=jh(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),je("invalid",t);break;case"textarea":Wg(t,r),i=Vh(t,r),je("invalid",t);break;default:i=r}Uh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?_w(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wa(t,c):typeof c=="number"&&Wa(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qa.hasOwnProperty(s)?c!=null&&s==="onScroll"&&je("scroll",t):c!=null&&op(t,s,c,o))}switch(n){case"input":tc(t),qg(t,r,!1);break;case"textarea":tc(t),Gg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Si(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)z0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ji(rl.current),Ji(or.current),uc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:cc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ve(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&hn!==null&&e.mode&1&&!(e.flags&128))s0(),vo(),e.flags|=98560,s=!1;else if(s=uc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[ir]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else $n!==null&&(If($n),$n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ft===0&&(ft=3):Bp())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Eo(),pf(t,e),t===null&&Za(e.stateNode.containerInfo),Ot(e),null;case 10:return Cp(e.type._context),Ot(e),null;case 17:return rn(e.type)&&Zc(),Ot(e),null;case 19:if(Ve(We),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)da(s,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ou(t),o!==null){for(e.flags|=128,da(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>To&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304)}else{if(!r)if(t=ou(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),da(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return Ot(e),null}else 2*tt()-s.renderingStartTime>To&&n!==1073741824&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=We.current,Ne(We,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return zp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function VC(t,e){switch(Ep(e),e.tag){case 1:return rn(e.type)&&Zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Eo(),Ve(nn),Ve($t),kp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xp(e),null;case 13:if(Ve(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(We),null;case 4:return Eo(),null;case 10:return Cp(e.type._context),null;case 22:case 23:return zp(),null;case 24:return null;default:return null}}var fc=!1,Ut=!1,FC=typeof WeakSet=="function"?WeakSet:Set,J=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function mf(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var Oy=!1;function UC(t,e){if(Xh=Qc,t=Ww(),vp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,m=t,g=null;t:for(;;){for(var w;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(w=m.firstChild)!==null;)g=m,m=w;for(;;){if(m===t)break t;if(g===n&&++u===i&&(l=o),g===s&&++f===r&&(c=o),(w=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jh={focusedElem:t,selectionRange:n},Qc=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,k=C.memoizedState,S=e.stateNode,I=S.getSnapshotBeforeUpdate(e.elementType===e.type?P:Un(e.type,P),k);S.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(L){Xe(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return C=Oy,Oy=!1,C}function ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mf(e,n,s)}i=i.next}while(i!==r)}}function Qu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B0(t){var e=t.alternate;e!==null&&(t.alternate=null,B0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[tl],delete e[tf],delete e[IC],delete e[TC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $0(t){return t.tag===5||t.tag===3||t.tag===4}function My(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jc));else if(r!==4&&(t=t.child,t!==null))for(yf(t,e,n),t=t.sibling;t!==null;)yf(t,e,n),t=t.sibling}function _f(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_f(t,e,n),t=t.sibling;t!==null;)_f(t,e,n),t=t.sibling}var At=null,zn=!1;function ei(t,e,n){for(n=n.child;n!==null;)H0(t,e,n),n=n.sibling}function H0(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(zu,n)}catch{}switch(n.tag){case 5:Ut||ro(n,e);case 6:var r=At,i=zn;At=null,ei(t,e,n),At=r,zn=i,At!==null&&(zn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(zn?(t=At,n=n.stateNode,t.nodeType===8?eh(t.parentNode,n):t.nodeType===1&&eh(t,n),Ya(t)):eh(At,n.stateNode));break;case 4:r=At,i=zn,At=n.stateNode.containerInfo,zn=!0,ei(t,e,n),At=r,zn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mf(n,e,o),i=i.next}while(i!==r)}ei(t,e,n);break;case 1:if(!Ut&&(ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Xe(n,e,l)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,ei(t,e,n),Ut=r):ei(t,e,n);break;default:ei(t,e,n)}}function Vy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FC),e.forEach(function(r){var i=QC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:At=l.stateNode,zn=!1;break e;case 3:At=l.stateNode.containerInfo,zn=!0;break e;case 4:At=l.stateNode.containerInfo,zn=!0;break e}l=l.return}if(At===null)throw Error(H(160));H0(s,o,i),At=null,zn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q0(e,t),e=e.sibling}function q0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),nr(t),r&4){try{ja(3,t,t.return),Qu(3,t)}catch(P){Xe(t,t.return,P)}try{ja(5,t,t.return)}catch(P){Xe(t,t.return,P)}}break;case 1:Vn(e,t),nr(t),r&512&&n!==null&&ro(n,n.return);break;case 5:if(Vn(e,t),nr(t),r&512&&n!==null&&ro(n,n.return),t.flags&32){var i=t.stateNode;try{Wa(i,"")}catch(P){Xe(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&fw(i,s),zh(l,o);var u=zh(l,s);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?_w(i,m):f==="dangerouslySetInnerHTML"?gw(i,m):f==="children"?Wa(i,m):op(i,f,m,u)}switch(l){case"input":Oh(i,s);break;case"textarea":pw(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?oo(i,!!s.multiple,w,!1):g!==!!s.multiple&&(s.defaultValue!=null?oo(i,!!s.multiple,s.defaultValue,!0):oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[tl]=s}catch(P){Xe(t,t.return,P)}}break;case 6:if(Vn(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){Xe(t,t.return,P)}}break;case 3:if(Vn(e,t),nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(P){Xe(t,t.return,P)}break;case 4:Vn(e,t),nr(t);break;case 13:Vn(e,t),nr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fp=tt())),r&4&&Vy(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||f,Vn(e,t),Ut=u):Vn(e,t),nr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(J=t,f=t.child;f!==null;){for(m=J=f;J!==null;){switch(g=J,w=g.child,g.tag){case 0:case 11:case 14:case 15:ja(4,g,g.return);break;case 1:ro(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(P){Xe(r,n,P)}}break;case 5:ro(g,g.return);break;case 22:if(g.memoizedState!==null){Uy(m);continue}}w!==null?(w.return=g,J=w):Uy(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yw("display",o))}catch(P){Xe(t,t.return,P)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(P){Xe(t,t.return,P)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Vn(e,t),nr(t),r&4&&Vy(t);break;case 21:break;default:Vn(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($0(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wa(i,""),r.flags&=-33);var s=My(t);_f(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=My(t);yf(t,l,o);break;default:throw Error(H(161))}}catch(c){Xe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zC(t,e,n){J=t,W0(t)}function W0(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=fc;var u=Ut;if(fc=o,(Ut=c)&&!u)for(J=i;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?zy(i):c!==null?(c.return=o,J=c):zy(i);for(;s!==null;)J=s,W0(s),s=s.sibling;J=i,fc=l,Ut=u}Fy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):Fy(t)}}function Fy(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Qu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ty(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ty(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Ya(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ut||e.flags&512&&gf(e)}catch(g){Xe(e,e.return,g)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Uy(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function zy(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qu(4,e)}catch(c){Xe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Xe(e,i,c)}}var s=e.return;try{gf(e)}catch(c){Xe(e,s,c)}break;case 5:var o=e.return;try{gf(e)}catch(c){Xe(e,o,c)}}}catch(c){Xe(e,e.return,c)}if(e===t){J=null;break}var l=e.sibling;if(l!==null){l.return=e.return,J=l;break}J=e.return}}var BC=Math.ceil,cu=Hr.ReactCurrentDispatcher,Mp=Hr.ReactCurrentOwner,xn=Hr.ReactCurrentBatchConfig,Ee=0,yt=null,at=null,xt=0,dn=0,io=bi(0),ft=0,al=null,ds=0,Yu=0,Vp=0,Oa=null,Zt=null,Fp=0,To=1/0,Tr=null,uu=!1,vf=null,yi=null,pc=!1,ui=null,du=0,Ma=0,wf=null,bc=-1,Dc=0;function Yt(){return Ee&6?tt():bc!==-1?bc:bc=tt()}function _i(t){return t.mode&1?Ee&2&&xt!==0?xt&-xt:CC.transition!==null?(Dc===0&&(Dc=kw()),Dc):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Mw(t.type)),t):1}function Kn(t,e,n,r){if(50<Ma)throw Ma=0,wf=null,Error(H(185));vl(t,n,r),(!(Ee&2)||t!==yt)&&(t===yt&&(!(Ee&2)&&(Yu|=n),ft===4&&oi(t,xt)),sn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(To=tt()+500,Wu&&Di()))}function sn(t,e){var n=t.callbackNode;CS(t,e);var r=Kc(t,t===yt?xt:0);if(r===0)n!==null&&Yg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yg(n),e===1)t.tag===0?SC(By.bind(null,t)):n0(By.bind(null,t)),wC(function(){!(Ee&6)&&Di()}),n=null;else{switch(Nw(r)){case 1:n=dp;break;case 4:n=Pw;break;case 16:n=Gc;break;case 536870912:n=xw;break;default:n=Gc}n=eE(n,G0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G0(t,e){if(bc=-1,Dc=0,Ee&6)throw Error(H(327));var n=t.callbackNode;if(ho()&&t.callbackNode!==n)return null;var r=Kc(t,t===yt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hu(t,r);else{e=r;var i=Ee;Ee|=2;var s=Q0();(yt!==t||xt!==e)&&(Tr=null,To=tt()+500,ss(t,e));do try{qC();break}catch(l){K0(t,l)}while(!0);Sp(),cu.current=s,Ee=i,at!==null?e=0:(yt=null,xt=0,e=ft)}if(e!==0){if(e===2&&(i=Wh(t),i!==0&&(r=i,e=Ef(t,i))),e===1)throw n=al,ss(t,0),oi(t,r),sn(t,tt()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!$C(i)&&(e=hu(t,r),e===2&&(s=Wh(t),s!==0&&(r=s,e=Ef(t,s))),e===1))throw n=al,ss(t,0),oi(t,r),sn(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Ki(t,Zt,Tr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=Fp+500-tt(),10<e)){if(Kc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ef(Ki.bind(null,t,Zt,Tr),e);break}Ki(t,Zt,Tr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BC(r/1960))-r,10<r){t.timeoutHandle=ef(Ki.bind(null,t,Zt,Tr),r);break}Ki(t,Zt,Tr);break;case 5:Ki(t,Zt,Tr);break;default:throw Error(H(329))}}}return sn(t,tt()),t.callbackNode===n?G0.bind(null,t):null}function Ef(t,e){var n=Oa;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=hu(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&If(e)),t}function If(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function $C(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~Vp,e&=~Yu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function By(t){if(Ee&6)throw Error(H(327));ho();var e=Kc(t,0);if(!(e&1))return sn(t,tt()),null;var n=hu(t,e);if(t.tag!==0&&n===2){var r=Wh(t);r!==0&&(e=r,n=Ef(t,r))}if(n===1)throw n=al,ss(t,0),oi(t,e),sn(t,tt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,Zt,Tr),sn(t,tt()),null}function Up(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(To=tt()+500,Wu&&Di())}}function hs(t){ui!==null&&ui.tag===0&&!(Ee&6)&&ho();var e=Ee;Ee|=1;var n=xn.transition,r=Re;try{if(xn.transition=null,Re=1,t)return t()}finally{Re=r,xn.transition=n,Ee=e,!(Ee&6)&&Di()}}function zp(){dn=io.current,Ve(io)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vC(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(Ep(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zc();break;case 3:Eo(),Ve(nn),Ve($t),kp();break;case 5:xp(r);break;case 4:Eo();break;case 13:Ve(We);break;case 19:Ve(We);break;case 10:Cp(r.type._context);break;case 22:case 23:zp()}n=n.return}if(yt=t,at=t=vi(t.current,null),xt=dn=e,ft=0,al=null,Vp=Yu=ds=0,Zt=Oa=null,Xi!==null){for(e=0;e<Xi.length;e++)if(n=Xi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xi=null}return t}function K0(t,e){do{var n=at;try{if(Sp(),xc.current=lu,au){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}au=!1}if(us=0,gt=ht=Ge=null,La=!1,il=0,Mp.current=null,n===null||n.return===null){ft=1,al=e,at=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=xy(o);if(w!==null){w.flags&=-257,ky(w,o,l,s,e),w.mode&1&&Py(s,u,e),e=w,c=u;var C=e.updateQueue;if(C===null){var P=new Set;P.add(c),e.updateQueue=P}else C.add(c);break e}else{if(!(e&1)){Py(s,u,e),Bp();break e}c=Error(H(426))}}else if(Be&&l.mode&1){var k=xy(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ky(k,o,l,s,e),Ip(Io(c,l));break e}}s=c=Io(c,l),ft!==4&&(ft=2),Oa===null?Oa=[s]:Oa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=N0(s,c,e);Iy(s,S);break e;case 1:l=c;var I=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(yi===null||!yi.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=b0(s,l,e);Iy(s,L);break e}}s=s.return}while(s!==null)}X0(n)}catch(z){e=z,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function Q0(){var t=cu.current;return cu.current=lu,t===null?lu:t}function Bp(){(ft===0||ft===3||ft===2)&&(ft=4),yt===null||!(ds&268435455)&&!(Yu&268435455)||oi(yt,xt)}function hu(t,e){var n=Ee;Ee|=2;var r=Q0();(yt!==t||xt!==e)&&(Tr=null,ss(t,e));do try{HC();break}catch(i){K0(t,i)}while(!0);if(Sp(),Ee=n,cu.current=r,at!==null)throw Error(H(261));return yt=null,xt=0,ft}function HC(){for(;at!==null;)Y0(at)}function qC(){for(;at!==null&&!gS();)Y0(at)}function Y0(t){var e=Z0(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?X0(t):at=e,Mp.current=null}function X0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VC(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,at=null;return}}else if(n=MC(n,e,dn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ft===0&&(ft=5)}function Ki(t,e,n){var r=Re,i=xn.transition;try{xn.transition=null,Re=1,WC(t,e,n,r)}finally{xn.transition=i,Re=r}return null}function WC(t,e,n,r){do ho();while(ui!==null);if(Ee&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(AS(t,s),t===yt&&(at=yt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,eE(Gc,function(){return ho(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=Re;Re=1;var l=Ee;Ee|=4,Mp.current=null,UC(t,n),q0(n,t),hC(Jh),Qc=!!Xh,Jh=Xh=null,t.current=n,zC(n),yS(),Ee=l,Re=o,xn.transition=s}else t.current=n;if(pc&&(pc=!1,ui=t,du=i),s=t.pendingLanes,s===0&&(yi=null),wS(n.stateNode),sn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uu)throw uu=!1,t=vf,vf=null,t;return du&1&&t.tag!==0&&ho(),s=t.pendingLanes,s&1?t===wf?Ma++:(Ma=0,wf=t):Ma=0,Di(),null}function ho(){if(ui!==null){var t=Nw(du),e=xn.transition,n=Re;try{if(xn.transition=null,Re=16>t?16:t,ui===null)var r=!1;else{if(t=ui,ui=null,du=0,Ee&6)throw Error(H(331));var i=Ee;for(Ee|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:ja(8,f,s)}var m=f.child;if(m!==null)m.return=f,J=m;else for(;J!==null;){f=J;var g=f.sibling,w=f.return;if(B0(f),f===u){J=null;break}if(g!==null){g.return=w,J=g;break}J=w}}}var C=s.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var k=P.sibling;P.sibling=null,P=k}while(P!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ja(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,J=S;break e}J=s.return}}var I=t.current;for(J=I;J!==null;){o=J;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,J=A;else e:for(o=I;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qu(9,l)}}catch(z){Xe(l,l.return,z)}if(l===o){J=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,J=L;break e}J=l.return}}if(Ee=i,Di(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(zu,t)}catch{}r=!0}return r}finally{Re=n,xn.transition=e}}return!1}function $y(t,e,n){e=Io(n,e),e=N0(t,e,1),t=gi(t,e,1),e=Yt(),t!==null&&(vl(t,1,e),sn(t,e))}function Xe(t,e,n){if(t.tag===3)$y(t,t,n);else for(;e!==null;){if(e.tag===3){$y(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=Io(n,t),t=b0(e,t,1),e=gi(e,t,1),t=Yt(),e!==null&&(vl(e,1,t),sn(e,t));break}}e=e.return}}function GC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(xt&n)===n&&(ft===4||ft===3&&(xt&130023424)===xt&&500>tt()-Fp?ss(t,0):Vp|=n),sn(t,e)}function J0(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=Yt();t=Vr(t,e),t!==null&&(vl(t,e,n),sn(t,n))}function KC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J0(t,n)}function QC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),J0(t,n)}var Z0;Z0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,OC(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Be&&e.flags&1048576&&r0(e,nu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nc(t,e),t=e.pendingProps;var i=_o(e,$t.current);uo(e,n),i=bp(null,e,r,t,i,n);var s=Dp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(s=!0,eu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rp(e),i.updater=Ku,e.stateNode=i,i._reactInternals=e,lf(e,r,t,n),e=df(null,e,r,!0,s,n)):(e.tag=0,Be&&s&&wp(e),Qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XC(r),t=Un(r,t),i){case 0:e=uf(null,e,r,t,n);break e;case 1:e=Dy(null,e,r,t,n);break e;case 11:e=Ny(null,e,r,t,n);break e;case 14:e=by(null,e,r,Un(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),uf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),Dy(t,e,r,i,n);case 3:e:{if(O0(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,c0(t,e),su(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Io(Error(H(423)),e),e=Ly(t,e,r,n,i);break e}else if(r!==i){i=Io(Error(H(424)),e),e=Ly(t,e,r,n,i);break e}else for(hn=mi(e.stateNode.containerInfo.firstChild),pn=e,Be=!0,$n=null,n=a0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){e=Fr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return u0(e),t===null&&sf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Zh(r,i)?o=null:s!==null&&Zh(r,s)&&(e.flags|=32),j0(t,e),Qt(t,e,o,n),e.child;case 6:return t===null&&sf(e),null;case 13:return M0(t,e,n);case 4:return Pp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wo(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),Ny(t,e,r,i,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ne(ru,r._currentValue),r._currentValue=o,s!==null)if(Xn(s.value,o)){if(s.children===i.children&&!nn.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=br(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),of(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),of(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,uo(e,n),i=Nn(i),r=r(i),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,i=Un(r,e.pendingProps),i=Un(r.type,i),by(t,e,r,i,n);case 15:return D0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),Nc(t,e),e.tag=1,rn(r)?(t=!0,eu(e)):t=!1,uo(e,n),k0(e,r,i),lf(e,r,i,n),df(null,e,r,!0,t,n);case 19:return V0(t,e,n);case 22:return L0(t,e,n)}throw Error(H(156,e.tag))};function eE(t,e){return Rw(t,e)}function YC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new YC(t,e,n,r)}function $p(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XC(t){if(typeof t=="function")return $p(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lp)return 11;if(t===cp)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$p(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ks:return os(n.children,i,s,e);case ap:o=8,i|=8;break;case Nh:return t=Pn(12,n,e,i|2),t.elementType=Nh,t.lanes=s,t;case bh:return t=Pn(13,n,e,i),t.elementType=bh,t.lanes=s,t;case Dh:return t=Pn(19,n,e,i),t.elementType=Dh,t.lanes=s,t;case uw:return Xu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lw:o=10;break e;case cw:o=9;break e;case lp:o=11;break e;case cp:o=14;break e;case ri:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function os(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Xu(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=uw,t.lanes=n,t.stateNode={isHidden:!1},t}function lh(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function ch(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$d(0),this.expirationTimes=$d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$d(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hp(t,e,n,r,i,s,o,l,c){return t=new JC(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(s),t}function ZC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tE(t){if(!t)return Ci;t=t._reactInternals;e:{if(Ts(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(rn(n))return t0(t,n,e)}return e}function nE(t,e,n,r,i,s,o,l,c){return t=Hp(n,r,!0,t,i,s,o,l,c),t.context=tE(null),n=t.current,r=Yt(),i=_i(n),s=br(r,i),s.callback=e??null,gi(n,s,i),t.current.lanes=i,vl(t,i,r),sn(t,r),t}function Ju(t,e,n,r){var i=e.current,s=Yt(),o=_i(i);return n=tE(n),e.context===null?e.context=n:e.pendingContext=n,e=br(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gi(i,e,o),t!==null&&(Kn(t,i,o,s),Pc(t,i,o)),o}function fu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qp(t,e){Hy(t,e),(t=t.alternate)&&Hy(t,e)}function eA(){return null}var rE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wp(t){this._internalRoot=t}Zu.prototype.render=Wp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Ju(t,e,null,null)};Zu.prototype.unmount=Wp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){Ju(null,t,null,null)}),e[Mr]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&Ow(t)}};function Gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qy(){}function tA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fu(o);s.call(u)}}var o=nE(e,r,t,0,null,!1,!1,"",qy);return t._reactRootContainer=o,t[Mr]=o.current,Za(t.nodeType===8?t.parentNode:t),hs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=fu(c);l.call(u)}}var c=Hp(t,0,!1,null,null,!1,!1,"",qy);return t._reactRootContainer=c,t[Mr]=c.current,Za(t.nodeType===8?t.parentNode:t),hs(function(){Ju(e,c,n,r)}),c}function td(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=fu(o);l.call(c)}}Ju(e,o,t,i)}else o=tA(n,e,t,i,r);return fu(o)}bw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ea(e.pendingLanes);n!==0&&(hp(e,n|1),sn(e,tt()),!(Ee&6)&&(To=tt()+500,Di()))}break;case 13:hs(function(){var r=Vr(t,1);if(r!==null){var i=Yt();Kn(r,t,1,i)}}),qp(t,1)}};fp=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Yt();Kn(e,t,134217728,n)}qp(t,134217728)}};Dw=function(t){if(t.tag===13){var e=_i(t),n=Vr(t,e);if(n!==null){var r=Yt();Kn(n,t,e,r)}qp(t,e)}};Lw=function(){return Re};jw=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};$h=function(t,e,n){switch(e){case"input":if(Oh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qu(r);if(!i)throw Error(H(90));hw(r),Oh(r,i)}}}break;case"textarea":pw(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};Ew=Up;Iw=hs;var nA={usingClientEntryPoint:!1,Events:[El,Js,qu,vw,ww,Up]},ha={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rA={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cw(t),t===null?null:t.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||eA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{zu=mc.inject(rA),sr=mc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nA;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gp(e))throw Error(H(200));return ZC(t,e,null,n)};_n.createRoot=function(t,e){if(!Gp(t))throw Error(H(299));var n=!1,r="",i=rE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hp(t,1,!1,null,null,n,!1,r,i),t[Mr]=e.current,Za(t.nodeType===8?t.parentNode:t),new Wp(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Cw(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return hs(t)};_n.hydrate=function(t,e,n){if(!ed(e))throw Error(H(200));return td(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!Gp(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nE(e,null,t,1,n??null,i,!1,s,o),t[Mr]=e.current,Za(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zu(e)};_n.render=function(t,e,n){if(!ed(e))throw Error(H(200));return td(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!ed(t))throw Error(H(40));return t._reactRootContainer?(hs(function(){td(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};_n.unstable_batchedUpdates=Up;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ed(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return td(t,e,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function iE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iE)}catch(t){console.error(t)}}iE(),iw.exports=_n;var Kp=iw.exports;const iA=Wv(Kp),sA=qv({__proto__:null,default:iA},[Kp]);var Wy=Kp;xh.createRoot=Wy.createRoot,xh.hydrateRoot=Wy.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qe(){return qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qe.apply(this,arguments)}var st;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(st||(st={}));const Gy="popstate";function oA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return ll("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fs(i)}return lA(e,n,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function So(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aA(){return Math.random().toString(36).substr(2,8)}function Ky(t,e){return{usr:t.state,key:t.key,idx:e}}function ll(t,e,n,r){return n===void 0&&(n=null),qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Li(e):e,{state:n,key:e&&e.key||r||aA()})}function fs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Li(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=st.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(qe({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=st.Pop;let k=f(),S=k==null?null:k-u;u=k,c&&c({action:l,location:P.location,delta:S})}function g(k,S){l=st.Push;let I=ll(P.location,k,S);u=f()+1;let A=Ky(I,u),L=P.createHref(I);try{o.pushState(A,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(L)}s&&c&&c({action:l,location:P.location,delta:1})}function w(k,S){l=st.Replace;let I=ll(P.location,k,S);u=f();let A=Ky(I,u),L=P.createHref(I);o.replaceState(A,"",L),s&&c&&c({action:l,location:P.location,delta:0})}function C(k){let S=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof k=="string"?k:fs(k);return I=I.replace(/ $/,"%20"),he(S,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,S)}let P={get action(){return l},get location(){return t(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Gy,m),c=k,()=>{i.removeEventListener(Gy,m),c=null}},createHref(k){return e(i,k)},createURL:C,encodeLocation(k){let S=C(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:w,go(k){return o.go(k)}};return P}var ze;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ze||(ze={}));const cA=new Set(["lazy","caseSensitive","path","id","index","children"]);function uA(t){return t.index===!0}function Tf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(he(i.index!==!0||!i.children,"Cannot specify children on an index route"),he(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),uA(i)){let c=qe({},i,e(i),{id:l});return r[l]=c,c}else{let c=qe({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=Tf(i.children,e,o,r)),c}})}function so(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Li(e):e,i=Ur(r.pathname||"/",n);if(i==null)return null;let s=sE(t);hA(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=TA(i);o=EA(s[l],c)}return o}function dA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function sE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(he(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Dr([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(he(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sE(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:vA(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of oE(s.path))i(s,o,c)}),e}function oE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=oE(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function hA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fA=/^:[\w-]+$/,pA=3,mA=2,gA=1,yA=10,_A=-2,Qy=t=>t==="*";function vA(t,e){let n=t.split("/"),r=n.length;return n.some(Qy)&&(r+=_A),e&&(r+=mA),n.filter(i=>!Qy(i)).reduce((i,s)=>i+(fA.test(s)?pA:s===""?gA:yA),r)}function wA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function EA(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=Sf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!f)return null;Object.assign(r,f.params);let m=l.route;s.push({params:r,pathname:Dr([i,f.pathname]),pathnameBase:AA(Dr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Dr([i,f.pathnameBase]))}return s}function Sf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,m)=>{let{paramName:g,isOptional:w}=f;if(g==="*"){let P=l[m]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const C=l[m];return w&&!C?u[g]=void 0:u[g]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function IA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),So(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return So(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ur(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Li(t):t;return{pathname:n?n.startsWith("/")?n:CA(n,e):e,search:RA(r),hash:PA(i)}}function CA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function uh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qp(t,e){let n=aE(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Li(t):(i=qe({},t),he(!i.pathname||!i.pathname.includes("?"),uh("?","pathname","search",i)),he(!i.pathname||!i.pathname.includes("#"),uh("#","pathname","hash",i)),he(!i.search||!i.search.includes("#"),uh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=SA(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Dr=t=>t.join("/").replace(/\/\/+/g,"/"),AA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Xp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Jp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lE=["post","put","patch","delete"],xA=new Set(lE),kA=["get",...lE],NA=new Set(kA),bA=new Set([301,302,303,307,308]),DA=new Set([307,308]),dh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},LA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Zp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),cE="remix-router-transitions";function OA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;he(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let b=t.detectErrorBoundary;i=O=>({hasErrorBoundary:b(O)})}else i=jA;let s={},o=Tf(t.routes,i,void 0,s),l,c=t.basename||"/",u=t.unstable_dataStrategy||UA,f=qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),m=null,g=new Set,w=null,C=null,P=null,k=t.hydrationData!=null,S=so(o,t.history.location,c),I=null;if(S==null){let b=Tn(404,{pathname:t.history.location.pathname}),{matches:O,route:F}=s_(o);S=O,I={[F.id]:b}}let A,L=S.some(b=>b.route.lazy),z=S.some(b=>b.route.loader);if(L)A=!1;else if(!z)A=!0;else if(f.v7_partialHydration){let b=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null,F=q=>q.route.loader?typeof q.route.loader=="function"&&q.route.loader.hydrate===!0?!1:b&&b[q.route.id]!==void 0||O&&O[q.route.id]!==void 0:!0;if(O){let q=S.findIndex(Y=>O[Y.route.id]!==void 0);A=S.slice(0,q+1).every(F)}else A=S.every(F)}else A=t.hydrationData!=null;let V,y={historyAction:t.history.action,location:t.history.location,matches:S,initialized:A,navigation:dh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},_=st.Pop,E=!1,T,x=!1,N=new Map,R=null,Ce=!1,nt=!1,wn=[],X=[],U=new Map,G=0,ne=-1,we=new Map,fe=new Set,Pe=new Map,qt=new Map,ct=new Set,_t=new Map,vt=new Map,Ho=!1;function Rd(){if(m=t.history.listen(b=>{let{action:O,location:F,delta:q}=b;if(Ho){Ho=!1;return}So(vt.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=js({currentLocation:y.location,nextLocation:F,historyAction:O});if(Y&&q!=null){Ho=!0,t.history.go(q*-1),Ls(Y,{state:"blocked",location:F,proceed(){Ls(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(q)},reset(){let te=new Map(y.blockers);te.set(Y,fa),wt({blockers:te})}});return}return er(O,F)}),n){JA(e,N);let b=()=>ZA(e,N);e.addEventListener("pagehide",b),R=()=>e.removeEventListener("pagehide",b)}return y.initialized||er(st.Pop,y.location,{initialHydration:!0}),V}function xs(){m&&m(),R&&R(),g.clear(),T&&T.abort(),y.fetchers.forEach((b,O)=>$i(O)),y.blockers.forEach((b,O)=>zl(O))}function ks(b){return g.add(b),()=>g.delete(b)}function wt(b,O){O===void 0&&(O={}),y=qe({},y,b);let F=[],q=[];f.v7_fetcherPersist&&y.fetchers.forEach((Y,te)=>{Y.state==="idle"&&(ct.has(te)?q.push(te):F.push(te))}),[...g].forEach(Y=>Y(y,{deletedFetchers:q,unstable_viewTransitionOpts:O.viewTransitionOpts,unstable_flushSync:O.flushSync===!0})),f.v7_fetcherPersist&&(F.forEach(Y=>y.fetchers.delete(Y)),q.forEach(Y=>$i(Y)))}function pr(b,O,F){var q,Y;let{flushSync:te}=F===void 0?{}:F,re=y.actionData!=null&&y.navigation.formMethod!=null&&Bn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((q=b.state)==null?void 0:q._isRedirect)!==!0,Q;O.actionData?Object.keys(O.actionData).length>0?Q=O.actionData:Q=null:re?Q=y.actionData:Q=null;let ae=O.loaderData?r_(y.loaderData,O.loaderData,O.matches||[],O.errors):y.loaderData,le=y.blockers;le.size>0&&(le=new Map(le),le.forEach((se,ke)=>le.set(ke,fa)));let ut=E===!0||y.navigation.formMethod!=null&&Bn(y.navigation.formMethod)&&((Y=b.state)==null?void 0:Y._isRedirect)!==!0;l&&(o=l,l=void 0),Ce||_===st.Pop||(_===st.Push?t.history.push(b,b.state):_===st.Replace&&t.history.replace(b,b.state));let Fe;if(_===st.Pop){let se=N.get(y.location.pathname);se&&se.has(b.pathname)?Fe={currentLocation:y.location,nextLocation:b}:N.has(b.pathname)&&(Fe={currentLocation:b,nextLocation:y.location})}else if(x){let se=N.get(y.location.pathname);se?se.add(b.pathname):(se=new Set([b.pathname]),N.set(y.location.pathname,se)),Fe={currentLocation:y.location,nextLocation:b}}wt(qe({},O,{actionData:Q,loaderData:ae,historyAction:_,location:b,initialized:!0,navigation:dh,revalidation:"idle",restoreScrollPosition:Ms(b,O.matches||y.matches),preventScrollReset:ut,blockers:le}),{viewTransitionOpts:Fe,flushSync:te===!0}),_=st.Pop,E=!1,x=!1,Ce=!1,nt=!1,wn=[],X=[]}async function Ns(b,O){if(typeof b=="number"){t.history.go(b);return}let F=Cf(y.location,y.matches,c,f.v7_prependBasename,b,f.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:q,submission:Y,error:te}=Yy(f.v7_normalizeFormMethod,!1,F,O),re=y.location,Q=ll(y.location,q,O&&O.state);Q=qe({},Q,t.history.encodeLocation(Q));let ae=O&&O.replace!=null?O.replace:void 0,le=st.Push;ae===!0?le=st.Replace:ae===!1||Y!=null&&Bn(Y.formMethod)&&Y.formAction===y.location.pathname+y.location.search&&(le=st.Replace);let ut=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,Fe=(O&&O.unstable_flushSync)===!0,se=js({currentLocation:re,nextLocation:Q,historyAction:le});if(se){Ls(se,{state:"blocked",location:Q,proceed(){Ls(se,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Ns(b,O)},reset(){let ke=new Map(y.blockers);ke.set(se,fa),wt({blockers:ke})}});return}return await er(le,Q,{submission:Y,pendingError:te,preventScrollReset:ut,replace:O&&O.replace,enableViewTransition:O&&O.unstable_viewTransition,flushSync:Fe})}function qo(){if(Ds(),wt({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){er(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}er(_||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function er(b,O,F){T&&T.abort(),T=null,_=b,Ce=(F&&F.startUninterruptedRevalidation)===!0,Yo(y.location,y.matches),E=(F&&F.preventScrollReset)===!0,x=(F&&F.enableViewTransition)===!0;let q=l||o,Y=F&&F.overrideNavigation,te=so(q,O,c),re=(F&&F.flushSync)===!0;if(!te){let se=Tn(404,{pathname:O.pathname}),{matches:ke,route:$e}=s_(q);Os(),pr(O,{matches:ke,loaderData:{},errors:{[$e.id]:se}},{flushSync:re});return}if(y.initialized&&!nt&&WA(y.location,O)&&!(F&&F.submission&&Bn(F.submission.formMethod))){pr(O,{matches:te},{flushSync:re});return}T=new AbortController;let Q=Bs(t.history,O,T.signal,F&&F.submission),ae;if(F&&F.pendingError)ae=[Va(te).route.id,{type:ze.error,error:F.pendingError}];else if(F&&F.submission&&Bn(F.submission.formMethod)){let se=await Pd(Q,O,F.submission,te,{replace:F.replace,flushSync:re});if(se.shortCircuited)return;ae=se.pendingActionResult,Y=hh(O,F.submission),re=!1,Q=Bs(t.history,Q.url,Q.signal)}let{shortCircuited:le,loaderData:ut,errors:Fe}=await xd(Q,O,te,Y,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,re,ae);le||(T=null,pr(O,qe({matches:te},i_(ae),{loaderData:ut,errors:Fe})))}async function Pd(b,O,F,q,Y){Y===void 0&&(Y={}),Ds();let te=YA(O,F);wt({navigation:te},{flushSync:Y.flushSync===!0});let re,Q=Rf(q,O);if(!Q.route.action&&!Q.route.lazy)re={type:ze.error,error:Tn(405,{method:b.method,pathname:O.pathname,routeId:Q.route.id})};else if(re=(await mr("action",b,[Q],q))[0],b.signal.aborted)return{shortCircuited:!0};if(es(re)){let ae;return Y&&Y.replace!=null?ae=Y.replace:ae=e_(re.response.headers.get("Location"),new URL(b.url),c)===y.location.pathname+y.location.search,await zi(b,re,{submission:F,replace:ae}),{shortCircuited:!0}}if(Zi(re))throw Tn(400,{type:"defer-action"});if(An(re)){let ae=Va(q,Q.route.id);return(Y&&Y.replace)!==!0&&(_=st.Push),{pendingActionResult:[ae.route.id,re]}}return{pendingActionResult:[Q.route.id,re]}}async function xd(b,O,F,q,Y,te,re,Q,ae,le){let ut=q||hh(O,Y),Fe=Y||te||l_(ut),se=l||o,[ke,$e]=Xy(t.history,y,F,Fe,O,f.v7_partialHydration&&Q===!0,f.unstable_skipActionErrorRevalidation,nt,wn,X,ct,Pe,fe,se,c,le);if(Os(pe=>!(F&&F.some(Et=>Et.route.id===pe))||ke&&ke.some(Et=>Et.route.id===pe)),ne=++G,ke.length===0&&$e.length===0){let pe=Go();return pr(O,qe({matches:F,loaderData:{},errors:le&&An(le[1])?{[le[0]]:le[1].error}:null},i_(le),pe?{fetchers:new Map(y.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(!Ce&&(!f.v7_partialHydration||!Q)){$e.forEach(Et=>{let It=y.fetchers.get(Et.key),rt=pa(void 0,It?It.data:void 0);y.fetchers.set(Et.key,rt)});let pe;le&&!An(le[1])?pe={[le[0]]:le[1].data}:y.actionData&&(Object.keys(y.actionData).length===0?pe=null:pe=y.actionData),wt(qe({navigation:ut},pe!==void 0?{actionData:pe}:{},$e.length>0?{fetchers:new Map(y.fetchers)}:{}),{flushSync:ae})}$e.forEach(pe=>{U.has(pe.key)&&tr(pe.key),pe.controller&&U.set(pe.key,pe.controller)});let Kr=()=>$e.forEach(pe=>tr(pe.key));T&&T.signal.addEventListener("abort",Kr);let{loaderResults:En,fetcherResults:On}=await bs(y.matches,F,ke,$e,b);if(b.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Kr),$e.forEach(pe=>U.delete(pe.key));let Wt=o_([...En,...On]);if(Wt){if(Wt.idx>=ke.length){let pe=$e[Wt.idx-ke.length].key;fe.add(pe)}return await zi(b,Wt.result,{replace:re}),{shortCircuited:!0}}let{loaderData:yr,errors:ln}=n_(y,F,ke,En,le,$e,On,_t);_t.forEach((pe,Et)=>{pe.subscribe(It=>{(It||pe.done)&&_t.delete(Et)})}),f.v7_partialHydration&&Q&&y.errors&&Object.entries(y.errors).filter(pe=>{let[Et]=pe;return!ke.some(It=>It.route.id===Et)}).forEach(pe=>{let[Et,It]=pe;ln=Object.assign(ln||{},{[Et]:It})});let Qr=Go(),Yr=Ko(ne),Hi=Qr||Yr||$e.length>0;return qe({loaderData:yr,errors:ln},Hi?{fetchers:new Map(y.fetchers)}:{})}function Vl(b,O,F,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");U.has(b)&&tr(b);let Y=(q&&q.unstable_flushSync)===!0,te=l||o,re=Cf(y.location,y.matches,c,f.v7_prependBasename,F,f.v7_relativeSplatPath,O,q==null?void 0:q.relative),Q=so(te,re,c);if(!Q){Ze(b,O,Tn(404,{pathname:re}),{flushSync:Y});return}let{path:ae,submission:le,error:ut}=Yy(f.v7_normalizeFormMethod,!0,re,q);if(ut){Ze(b,O,ut,{flushSync:Y});return}let Fe=Rf(Q,ae);if(E=(q&&q.preventScrollReset)===!0,le&&Bn(le.formMethod)){Wo(b,O,ae,Fe,Q,Y,le);return}Pe.set(b,{routeId:O,path:ae}),Fl(b,O,ae,Fe,Q,Y,le)}async function Wo(b,O,F,q,Y,te,re){if(Ds(),Pe.delete(b),!q.route.action&&!q.route.lazy){let rt=Tn(405,{method:re.formMethod,pathname:F,routeId:O});Ze(b,O,rt,{flushSync:te});return}let Q=y.fetchers.get(b);De(b,XA(re,Q),{flushSync:te});let ae=new AbortController,le=Bs(t.history,F,ae.signal,re);U.set(b,ae);let ut=G,se=(await mr("action",le,[q],Y))[0];if(le.signal.aborted){U.get(b)===ae&&U.delete(b);return}if(f.v7_fetcherPersist&&ct.has(b)){if(es(se)||An(se)){De(b,ni(void 0));return}}else{if(es(se))if(U.delete(b),ne>ut){De(b,ni(void 0));return}else return fe.add(b),De(b,pa(re)),zi(le,se,{fetcherSubmission:re});if(An(se)){Ze(b,O,se.error);return}}if(Zi(se))throw Tn(400,{type:"defer-action"});let ke=y.navigation.location||y.location,$e=Bs(t.history,ke,ae.signal),Kr=l||o,En=y.navigation.state!=="idle"?so(Kr,y.navigation.location,c):y.matches;he(En,"Didn't find any matches after fetcher action");let On=++G;we.set(b,On);let Wt=pa(re,se.data);y.fetchers.set(b,Wt);let[yr,ln]=Xy(t.history,y,En,re,ke,!1,f.unstable_skipActionErrorRevalidation,nt,wn,X,ct,Pe,fe,Kr,c,[q.route.id,se]);ln.filter(rt=>rt.key!==b).forEach(rt=>{let _r=rt.key,Xr=y.fetchers.get(_r),vr=pa(void 0,Xr?Xr.data:void 0);y.fetchers.set(_r,vr),U.has(_r)&&tr(_r),rt.controller&&U.set(_r,rt.controller)}),wt({fetchers:new Map(y.fetchers)});let Qr=()=>ln.forEach(rt=>tr(rt.key));ae.signal.addEventListener("abort",Qr);let{loaderResults:Yr,fetcherResults:Hi}=await bs(y.matches,En,yr,ln,$e);if(ae.signal.aborted)return;ae.signal.removeEventListener("abort",Qr),we.delete(b),U.delete(b),ln.forEach(rt=>U.delete(rt.key));let pe=o_([...Yr,...Hi]);if(pe){if(pe.idx>=yr.length){let rt=ln[pe.idx-yr.length].key;fe.add(rt)}return zi($e,pe.result)}let{loaderData:Et,errors:It}=n_(y,y.matches,yr,Yr,void 0,ln,Hi,_t);if(y.fetchers.has(b)){let rt=ni(se.data);y.fetchers.set(b,rt)}Ko(On),y.navigation.state==="loading"&&On>ne?(he(_,"Expected pending action"),T&&T.abort(),pr(y.navigation.location,{matches:En,loaderData:Et,errors:It,fetchers:new Map(y.fetchers)})):(wt({errors:It,loaderData:r_(y.loaderData,Et,En,It),fetchers:new Map(y.fetchers)}),nt=!1)}async function Fl(b,O,F,q,Y,te,re){let Q=y.fetchers.get(b);De(b,pa(re,Q?Q.data:void 0),{flushSync:te});let ae=new AbortController,le=Bs(t.history,F,ae.signal);U.set(b,ae);let ut=G,se=(await mr("loader",le,[q],Y))[0];if(Zi(se)&&(se=await fE(se,le.signal,!0)||se),U.get(b)===ae&&U.delete(b),!le.signal.aborted){if(ct.has(b)){De(b,ni(void 0));return}if(es(se))if(ne>ut){De(b,ni(void 0));return}else{fe.add(b),await zi(le,se);return}if(An(se)){Ze(b,O,se.error);return}he(!Zi(se),"Unhandled fetcher deferred data"),De(b,ni(se.data))}}async function zi(b,O,F){let{submission:q,fetcherSubmission:Y,replace:te}=F===void 0?{}:F;O.response.headers.has("X-Remix-Revalidate")&&(nt=!0);let re=O.response.headers.get("Location");he(re,"Expected a Location header on the redirect Response"),re=e_(re,new URL(b.url),c);let Q=ll(y.location,re,{_isRedirect:!0});if(n){let ke=!1;if(O.response.headers.has("X-Remix-Reload-Document"))ke=!0;else if(Zp.test(re)){const $e=t.history.createURL(re);ke=$e.origin!==e.location.origin||Ur($e.pathname,c)==null}if(ke){te?e.location.replace(re):e.location.assign(re);return}}T=null;let ae=te===!0?st.Replace:st.Push,{formMethod:le,formAction:ut,formEncType:Fe}=y.navigation;!q&&!Y&&le&&ut&&Fe&&(q=l_(y.navigation));let se=q||Y;if(DA.has(O.response.status)&&se&&Bn(se.formMethod))await er(ae,Q,{submission:qe({},se,{formAction:re}),preventScrollReset:E});else{let ke=hh(Q,q);await er(ae,Q,{overrideNavigation:ke,fetcherSubmission:Y,preventScrollReset:E})}}async function mr(b,O,F,q){try{let Y=await zA(u,b,O,F,q,s,i);return await Promise.all(Y.map((te,re)=>{if(GA(te)){let Q=te.result;return{type:ze.redirect,response:HA(Q,O,F[re].route.id,q,c,f.v7_relativeSplatPath)}}return $A(te)}))}catch(Y){return F.map(()=>({type:ze.error,error:Y}))}}async function bs(b,O,F,q,Y){let[te,...re]=await Promise.all([F.length?mr("loader",Y,F,O):[],...q.map(Q=>{if(Q.matches&&Q.match&&Q.controller){let ae=Bs(t.history,Q.path,Q.controller.signal);return mr("loader",ae,[Q.match],Q.matches).then(le=>le[0])}else return Promise.resolve({type:ze.error,error:Tn(404,{pathname:Q.path})})})]);return await Promise.all([a_(b,F,te,te.map(()=>Y.signal),!1,y.loaderData),a_(b,q.map(Q=>Q.match),re,q.map(Q=>Q.controller?Q.controller.signal:null),!0)]),{loaderResults:te,fetcherResults:re}}function Ds(){nt=!0,wn.push(...Os()),Pe.forEach((b,O)=>{U.has(O)&&(X.push(O),tr(O))})}function De(b,O,F){F===void 0&&(F={}),y.fetchers.set(b,O),wt({fetchers:new Map(y.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Ze(b,O,F,q){q===void 0&&(q={});let Y=Va(y.matches,O);$i(b),wt({errors:{[Y.route.id]:F},fetchers:new Map(y.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function Bi(b){return f.v7_fetcherPersist&&(qt.set(b,(qt.get(b)||0)+1),ct.has(b)&&ct.delete(b)),y.fetchers.get(b)||LA}function $i(b){let O=y.fetchers.get(b);U.has(b)&&!(O&&O.state==="loading"&&we.has(b))&&tr(b),Pe.delete(b),we.delete(b),fe.delete(b),ct.delete(b),y.fetchers.delete(b)}function Ul(b){if(f.v7_fetcherPersist){let O=(qt.get(b)||0)-1;O<=0?(qt.delete(b),ct.add(b)):qt.set(b,O)}else $i(b);wt({fetchers:new Map(y.fetchers)})}function tr(b){let O=U.get(b);he(O,"Expected fetch controller: "+b),O.abort(),U.delete(b)}function Wr(b){for(let O of b){let F=Bi(O),q=ni(F.data);y.fetchers.set(O,q)}}function Go(){let b=[],O=!1;for(let F of fe){let q=y.fetchers.get(F);he(q,"Expected fetcher: "+F),q.state==="loading"&&(fe.delete(F),b.push(F),O=!0)}return Wr(b),O}function Ko(b){let O=[];for(let[F,q]of we)if(q<b){let Y=y.fetchers.get(F);he(Y,"Expected fetcher: "+F),Y.state==="loading"&&(tr(F),we.delete(F),O.push(F))}return Wr(O),O.length>0}function Qo(b,O){let F=y.blockers.get(b)||fa;return vt.get(b)!==O&&vt.set(b,O),F}function zl(b){y.blockers.delete(b),vt.delete(b)}function Ls(b,O){let F=y.blockers.get(b)||fa;he(F.state==="unblocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="proceeding"||F.state==="blocked"&&O.state==="unblocked"||F.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+O.state);let q=new Map(y.blockers);q.set(b,O),wt({blockers:q})}function js(b){let{currentLocation:O,nextLocation:F,historyAction:q}=b;if(vt.size===0)return;vt.size>1&&So(!1,"A router only supports one blocker at a time");let Y=Array.from(vt.entries()),[te,re]=Y[Y.length-1],Q=y.blockers.get(te);if(!(Q&&Q.state==="proceeding")&&re({currentLocation:O,nextLocation:F,historyAction:q}))return te}function Os(b){let O=[];return _t.forEach((F,q)=>{(!b||b(q))&&(F.cancel(),O.push(q),_t.delete(q))}),O}function Bl(b,O,F){if(w=b,P=O,C=F||null,!k&&y.navigation===dh){k=!0;let q=Ms(y.location,y.matches);q!=null&&wt({restoreScrollPosition:q})}return()=>{w=null,P=null,C=null}}function Gr(b,O){return C&&C(b,O.map(q=>dA(q,y.loaderData)))||b.key}function Yo(b,O){if(w&&P){let F=Gr(b,O);w[F]=P()}}function Ms(b,O){if(w){let F=Gr(b,O),q=w[F];if(typeof q=="number")return q}return null}function gr(b){s={},l=Tf(b,i,void 0,s)}return V={get basename(){return c},get future(){return f},get state(){return y},get routes(){return o},get window(){return e},initialize:Rd,subscribe:ks,enableScrollRestoration:Bl,navigate:Ns,fetch:Vl,revalidate:qo,createHref:b=>t.history.createHref(b),encodeLocation:b=>t.history.encodeLocation(b),getFetcher:Bi,deleteFetcher:Ul,dispose:xs,getBlocker:Qo,deleteBlocker:zl,_internalFetchControllers:U,_internalActiveDeferreds:_t,_internalSetRoutes:gr},V}function MA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Cf(t,e,n,r,i,s,o,l){let c,u;if(o){c=[];for(let m of e)if(c.push(m),m.route.id===o){u=m;break}}else c=e,u=e[e.length-1];let f=Yp(i||".",Qp(c,s),Ur(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!em(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Dr([n,f.pathname])),fs(f)}function Yy(t,e,n,r){if(!r||!MA(r))return{path:n};if(r.formMethod&&!QA(r.formMethod))return{path:n,error:Tn(405,{method:r.formMethod})};let i=()=>({path:n,error:Tn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=dE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Bn(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,C)=>{let[P,k]=C;return""+w+P+"="+k+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Bn(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}he(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=Af(r.formData),u=r.formData;else if(r.body instanceof FormData)c=Af(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=t_(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=t_(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Bn(f.formMethod))return{path:n,submission:f};let m=Li(n);return e&&m.search&&em(m.search)&&c.append("index",""),m.search="?"+c,{path:fs(m),submission:f}}function VA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Xy(t,e,n,r,i,s,o,l,c,u,f,m,g,w,C,P){let k=P?An(P[1])?P[1].error:P[1].data:void 0,S=t.createURL(e.location),I=t.createURL(i),A=P&&An(P[1])?P[0]:void 0,L=A?VA(n,A):n,z=P?P[1].statusCode:void 0,V=o&&z&&z>=400,y=L.filter((E,T)=>{let{route:x}=E;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return typeof x.loader!="function"||x.loader.hydrate?!0:e.loaderData[x.id]===void 0&&(!e.errors||e.errors[x.id]===void 0);if(FA(e.loaderData,e.matches[T],E)||c.some(Ce=>Ce===E.route.id))return!0;let N=e.matches[T],R=E;return Jy(E,qe({currentUrl:S,currentParams:N.params,nextUrl:I,nextParams:R.params},r,{actionResult:k,unstable_actionStatus:z,defaultShouldRevalidate:V?!1:l||S.pathname+S.search===I.pathname+I.search||S.search!==I.search||uE(N,R)}))}),_=[];return m.forEach((E,T)=>{if(s||!n.some(nt=>nt.route.id===E.routeId)||f.has(T))return;let x=so(w,E.path,C);if(!x){_.push({key:T,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(T),R=Rf(x,E.path),Ce=!1;g.has(T)?Ce=!1:u.includes(T)?Ce=!0:N&&N.state!=="idle"&&N.data===void 0?Ce=l:Ce=Jy(R,qe({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:I,nextParams:n[n.length-1].params},r,{actionResult:k,unstable_actionStatus:z,defaultShouldRevalidate:V?!1:l})),Ce&&_.push({key:T,routeId:E.routeId,path:E.path,matches:x,match:R,controller:new AbortController})}),[y,_]}function FA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function uE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Jy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Zy(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];he(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";So(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!cA.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,qe({},e(i),{lazy:void 0}))}function UA(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function zA(t,e,n,r,i,s,o,l){let c=r.reduce((m,g)=>m.add(g.route.id),new Set),u=new Set,f=await t({matches:i.map(m=>{let g=c.has(m.route.id);return qe({},m,{shouldLoad:g,resolve:C=>(u.add(m.route.id),g?BA(e,n,m,s,o,C,l):Promise.resolve({type:ze.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(m=>he(u.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((m,g)=>c.has(i[g].route.id))}async function BA(t,e,n,r,i,s,o){let l,c,u=f=>{let m,g=new Promise((P,k)=>m=k);c=()=>m(),e.signal.addEventListener("abort",c);let w=P=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:o},...P!==void 0?[P]:[]),C;return s?C=s(P=>w(P)):C=(async()=>{try{return{type:"data",result:await w()}}catch(P){return{type:"error",result:P}}})(),Promise.race([C,g])};try{let f=n.route[t];if(n.route.lazy)if(f){let m,[g]=await Promise.all([u(f).catch(w=>{m=w}),Zy(n.route,i,r)]);if(m!==void 0)throw m;l=g}else if(await Zy(n.route,i,r),f=n.route[t],f)l=await u(f);else if(t==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw Tn(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:ze.data,result:void 0};else if(f)l=await u(f);else{let m=new URL(e.url),g=m.pathname+m.search;throw Tn(404,{pathname:g})}he(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:ze.error,result:f}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function $A(t){let{result:e,type:n,status:r}=t;if(hE(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:ze.error,error:l}}return n===ze.error?{type:ze.error,error:new Xp(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:ze.data,data:o,statusCode:e.status,headers:e.headers}}if(n===ze.error)return{type:ze.error,error:e,statusCode:Jp(e)?e.status:r};if(KA(e)){var i,s;return{type:ze.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:ze.data,data:e,statusCode:r}}function HA(t,e,n,r,i,s){let o=t.headers.get("Location");if(he(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zp.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=Cf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function e_(t,e,n){if(Zp.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Ur(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Bs(t,e,n,r){let i=t.createURL(dE(e)).toString(),s={signal:n};if(r&&Bn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Af(r.formData):s.body=r.formData}return new Request(i,s)}function Af(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function t_(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function qA(t,e,n,r,i,s){let o={},l=null,c,u=!1,f={},m=r&&An(r[1])?r[1].error:void 0;return n.forEach((g,w)=>{let C=e[w].route.id;if(he(!es(g),"Cannot handle redirect results in processLoaderData"),An(g)){let P=g.error;m!==void 0&&(P=m,m=void 0),l=l||{};{let k=Va(t,C);l[k.route.id]==null&&(l[k.route.id]=P)}o[C]=void 0,u||(u=!0,c=Jp(g.error)?g.error.status:500),g.headers&&(f[C]=g.headers)}else Zi(g)?(i.set(C,g.deferredData),o[C]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!u&&(c=g.statusCode),g.headers&&(f[C]=g.headers)):(o[C]=g.data,g.statusCode&&g.statusCode!==200&&!u&&(c=g.statusCode),g.headers&&(f[C]=g.headers))}),m!==void 0&&r&&(l={[r[0]]:m},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:f}}function n_(t,e,n,r,i,s,o,l){let{loaderData:c,errors:u}=qA(e,n,r,i,l);for(let f=0;f<s.length;f++){let{key:m,match:g,controller:w}=s[f];he(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let C=o[f];if(!(w&&w.signal.aborted))if(An(C)){let P=Va(t.matches,g==null?void 0:g.route.id);u&&u[P.route.id]||(u=qe({},u,{[P.route.id]:C.error})),t.fetchers.delete(m)}else if(es(C))he(!1,"Unhandled fetcher revalidation redirect");else if(Zi(C))he(!1,"Unhandled fetcher deferred data");else{let P=ni(C.data);t.fetchers.set(m,P)}}return{loaderData:c,errors:u}}function r_(t,e,n,r){let i=qe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function i_(t){return t?An(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Va(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function s_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Xp(t||500,o,new Error(l),!0)}function o_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(es(n))return{result:n,idx:e}}}function dE(t){let e=typeof t=="string"?Li(t):t;return fs(qe({},e,{hash:""}))}function WA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function GA(t){return hE(t.result)&&bA.has(t.result.status)}function Zi(t){return t.type===ze.deferred}function An(t){return t.type===ze.error}function es(t){return(t&&t.type)===ze.redirect}function KA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function hE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function QA(t){return NA.has(t.toLowerCase())}function Bn(t){return xA.has(t.toLowerCase())}async function a_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let u=t.find(m=>m.route.id===c.route.id),f=u!=null&&!uE(u,c)&&(s&&s[c.route.id])!==void 0;if(Zi(l)&&(i||f)){let m=r[o];he(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await fE(l,m,i).then(g=>{g&&(n[o]=g||n[o])})}}}async function fE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ze.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ze.error,error:i}}return{type:ze.data,data:t.deferredData.data}}}function em(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Rf(t,e){let n=typeof e=="string"?Li(e).search:e.search;if(t[t.length-1].route.index&&em(n||""))return t[t.length-1];let r=aE(t);return r[r.length-1]}function l_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function hh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function pa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function XA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ni(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function JA(t,e){try{let n=t.sessionStorage.getItem(cE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function ZA(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(cE,JSON.stringify(n))}catch(r){So(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}const Tl=j.createContext(null),tm=j.createContext(null),ji=j.createContext(null),nm=j.createContext(null),Oi=j.createContext({outlet:null,matches:[],isDataRoute:!1}),pE=j.createContext(null);function eR(t,e){let{relative:n}=e===void 0?{}:e;Sl()||he(!1);let{basename:r,navigator:i}=j.useContext(ji),{hash:s,pathname:o,search:l}=nd(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Dr([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Sl(){return j.useContext(nm)!=null}function Oo(){return Sl()||he(!1),j.useContext(nm).location}function mE(t){j.useContext(ji).static||j.useLayoutEffect(t)}function hr(){let{isDataRoute:t}=j.useContext(Oi);return t?pR():tR()}function tR(){Sl()||he(!1);let t=j.useContext(Tl),{basename:e,future:n,navigator:r}=j.useContext(ji),{matches:i}=j.useContext(Oi),{pathname:s}=Oo(),o=JSON.stringify(Qp(i,n.v7_relativeSplatPath)),l=j.useRef(!1);return mE(()=>{l.current=!0}),j.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=Yp(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Dr([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,s,t])}const nR=j.createContext(null);function rR(t){let e=j.useContext(Oi).outlet;return e&&j.createElement(nR.Provider,{value:t},e)}function nd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(ji),{matches:i}=j.useContext(Oi),{pathname:s}=Oo(),o=JSON.stringify(Qp(i,r.v7_relativeSplatPath));return j.useMemo(()=>Yp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function iR(t,e,n,r){Sl()||he(!1);let{navigator:i}=j.useContext(ji),{matches:s}=j.useContext(Oi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Oo(),f;f=u;let m=f.pathname||"/",g=m;if(c!=="/"){let P=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let w=so(t,{pathname:g});return cR(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Dr([c,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:Dr([c,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r)}function sR(){let t=fR(),e=Jp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const oR=j.createElement(sR,null);class aR extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Oi.Provider,{value:this.props.routeContext},j.createElement(pE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lR(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(Tl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Oi.Provider,{value:e},r)}function cR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||he(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:w}=n,C=m.route.loader&&g[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||C){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let w,C=!1,P=null,k=null;n&&(w=l&&m.route.id?l[m.route.id]:void 0,P=m.route.errorElement||oR,c&&(u<0&&g===0?(mR("route-fallback"),C=!0,k=null):u===g&&(C=!0,k=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,g+1)),I=()=>{let A;return w?A=P:C?A=k:m.route.Component?A=j.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=f,j.createElement(lR,{match:m,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?j.createElement(aR,{location:n.location,revalidation:n.revalidation,component:P,error:w,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}var gE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gE||{}),mu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mu||{});function uR(t){let e=j.useContext(Tl);return e||he(!1),e}function dR(t){let e=j.useContext(tm);return e||he(!1),e}function hR(t){let e=j.useContext(Oi);return e||he(!1),e}function yE(t){let e=hR(),n=e.matches[e.matches.length-1];return n.route.id||he(!1),n.route.id}function fR(){var t;let e=j.useContext(pE),n=dR(mu.UseRouteError),r=yE(mu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pR(){let{router:t}=uR(gE.UseNavigateStable),e=yE(mu.UseNavigateStable),n=j.useRef(!1);return mE(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pu({fromRouteId:e},s)))},[t,e])}const c_={};function mR(t,e,n){c_[t]||(c_[t]=!0)}function gR(t){return rR(t.context)}function yR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=st.Pop,navigator:s,static:o=!1,future:l}=t;Sl()&&he(!1);let c=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:s,static:o,future:pu({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Li(r));let{pathname:f="/",search:m="",hash:g="",state:w=null,key:C="default"}=r,P=j.useMemo(()=>{let k=Ur(f,c);return k==null?null:{location:{pathname:k,search:m,hash:g,state:w,key:C},navigationType:i}},[c,f,m,g,w,C,i]);return P==null?null:j.createElement(ji.Provider,{value:u},j.createElement(nm.Provider,{children:n,value:P}))}new Promise(()=>{});function _R(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:j.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Co.apply(this,arguments)}function _E(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wR(t,e){return t.button===0&&(!e||e==="_self")&&!vR(t)}const ER=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],IR=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],TR="6";try{window.__reactRouterVersion=TR}catch{}function SR(t,e){return OA({basename:void 0,future:Co({},void 0,{v7_prependBasename:!0}),history:oA({window:void 0}),hydrationData:CR(),routes:t,mapRouteProperties:_R,unstable_dataStrategy:void 0,window:void 0}).initialize()}function CR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Co({},e,{errors:AR(e.errors)})),e}function AR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Xp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const vE=j.createContext({isTransitioning:!1}),RR=j.createContext(new Map),PR="startTransition",u_=G1[PR],xR="flushSync",d_=sA[xR];function kR(t){u_?u_(t):t()}function ma(t){d_?d_(t):t()}let NR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function bR(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=j.useState(n.state),[o,l]=j.useState(),[c,u]=j.useState({isTransitioning:!1}),[f,m]=j.useState(),[g,w]=j.useState(),[C,P]=j.useState(),k=j.useRef(new Map),{v7_startTransition:S}=r||{},I=j.useCallback(y=>{S?kR(y):y()},[S]),A=j.useCallback((y,_)=>{let{deletedFetchers:E,unstable_flushSync:T,unstable_viewTransitionOpts:x}=_;E.forEach(R=>k.current.delete(R)),y.fetchers.forEach((R,Ce)=>{R.data!==void 0&&k.current.set(Ce,R.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!x||N){T?ma(()=>s(y)):I(()=>s(y));return}if(T){ma(()=>{g&&(f&&f.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let R=n.window.document.startViewTransition(()=>{ma(()=>s(y))});R.finished.finally(()=>{ma(()=>{m(void 0),w(void 0),l(void 0),u({isTransitioning:!1})})}),ma(()=>w(R));return}g?(f&&f.resolve(),g.skipTransition(),P({state:y,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(l(y),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[n.window,g,f,k,I]);j.useLayoutEffect(()=>n.subscribe(A),[n,A]),j.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new NR)},[c]),j.useEffect(()=>{if(f&&o&&n.window){let y=o,_=f.promise,E=n.window.document.startViewTransition(async()=>{I(()=>s(y)),await _});E.finished.finally(()=>{m(void 0),w(void 0),l(void 0),u({isTransitioning:!1})}),w(E)}},[I,o,f,n.window]),j.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,g,i.location,o]),j.useEffect(()=>{!c.isTransitioning&&C&&(l(C.state),u({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),P(void 0))},[c.isTransitioning,C]),j.useEffect(()=>{},[]);let L=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,_,E)=>n.navigate(y,{state:_,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(y,_,E)=>n.navigate(y,{replace:!0,state:_,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[n]),z=n.basename||"/",V=j.useMemo(()=>({router:n,navigator:L,static:!1,basename:z}),[n,L,z]);return j.createElement(j.Fragment,null,j.createElement(Tl.Provider,{value:V},j.createElement(tm.Provider,{value:i},j.createElement(RR.Provider,{value:k.current},j.createElement(vE.Provider,{value:c},j.createElement(yR,{basename:z,location:i.location,navigationType:i.historyAction,navigator:L,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?j.createElement(DR,{routes:n.routes,future:n.future,state:i}):e))))),null)}function DR(t){let{routes:e,future:n,state:r}=t;return iR(e,void 0,r,n)}const LR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,unstable_viewTransition:m}=e,g=_E(e,ER),{basename:w}=j.useContext(ji),C,P=!1;if(typeof u=="string"&&jR.test(u)&&(C=u,LR))try{let A=new URL(window.location.href),L=u.startsWith("//")?new URL(A.protocol+u):new URL(u),z=Ur(L.pathname,w);L.origin===A.origin&&z!=null?u=z+L.search+L.hash:P=!0}catch{}let k=eR(u,{relative:i}),S=VR(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,unstable_viewTransition:m});function I(A){r&&r(A),A.defaultPrevented||S(A)}return j.createElement("a",Co({},g,{href:C||k,onClick:P||s?r:I,ref:n,target:c}))}),OR=j.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,unstable_viewTransition:u,children:f}=e,m=_E(e,IR),g=nd(c,{relative:m.relative}),w=Oo(),C=j.useContext(tm),{navigator:P,basename:k}=j.useContext(ji),S=C!=null&&FR(g)&&u===!0,I=P.encodeLocation?P.encodeLocation(g).pathname:g.pathname,A=w.pathname,L=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(A=A.toLowerCase(),L=L?L.toLowerCase():null,I=I.toLowerCase()),L&&k&&(L=Ur(L,k)||L);const z=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let V=A===I||!o&&A.startsWith(I)&&A.charAt(z)==="/",y=L!=null&&(L===I||!o&&L.startsWith(I)&&L.charAt(I.length)==="/"),_={isActive:V,isPending:y,isTransitioning:S},E=V?r:void 0,T;typeof s=="function"?T=s(_):T=[s,V?"active":null,y?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(_):l;return j.createElement(Ae,Co({},m,{"aria-current":E,className:T,ref:n,style:x,to:c,unstable_viewTransition:u}),typeof f=="function"?f(_):f)});var Pf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pf||(Pf={}));var h_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(h_||(h_={}));function MR(t){let e=j.useContext(Tl);return e||he(!1),e}function VR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=hr(),u=Oo(),f=nd(t,{relative:o});return j.useCallback(m=>{if(wR(m,n)){m.preventDefault();let g=r!==void 0?r:fs(u)===fs(f);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,c,f,r,i,n,t,s,o,l])}function FR(t,e){e===void 0&&(e={});let n=j.useContext(vE);n==null&&he(!1);let{basename:r}=MR(Pf.useViewTransitionState),i=nd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ur(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ur(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sf(i.pathname,o)!=null||Sf(i.pathname,s)!=null}const St=[{path:"/",name:"Inicio"},{path:"/menu",name:"Menu",children:[{path:"/menu/platillos",name:"Platillos"}]},{path:"/nosotros",name:"Nosotros"},{path:"/ayuda",name:"Ayuda"},{path:"/acceder",name:"Acceder"},{path:"/login",name:"IniciarSesion"},{path:"/*",name:"Error"},{path:"/perfil",name:"Perfil",children:[{path:"/perfil/editarperfil",name:"EditarPerfil"}]},{path:"/comentarios",name:"Comentarios"},{path:"/menuadmin",name:"MenuAdmin"},{path:"/historial",name:"Historial"},{path:"/pedidosactuales",name:"PedidosActuales"},{path:"/cliente",name:"Cliente"},{path:"/compra",name:"Compra"}];var f_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},EE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|u>>6,w=u&63;c||(w=64,o||(g=64)),r.push(n[f],n[m],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||m==null)throw new zR;const g=s<<2|l>>4;if(r.push(g),u!==64){const w=l<<4&240|u>>2;if(r.push(w),m!==64){const C=u<<6&192|m;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BR=function(t){const e=wE(t);return EE.encodeByteArray(e,!0)},gu=function(t){return BR(t).replace(/\./g,"")},IE=function(t){try{return EE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=()=>$R().__FIREBASE_DEFAULTS__,qR=()=>{if(typeof process>"u"||typeof f_>"u")return;const t=f_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IE(t[1]);return e&&JSON.parse(e)},rd=()=>{try{return HR()||qR()||WR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TE=t=>{var e,n;return(n=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SE=t=>{const e=TE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CE=()=>{var t;return(t=rd())===null||t===void 0?void 0:t.config},AE=t=>{var e;return(e=rd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gu(JSON.stringify(n)),gu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function QR(){var t;const e=(t=rd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XR(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JR(){return!QR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xE(){try{return typeof indexedDB=="object"}catch{return!1}}function kE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function ZR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="FirebaseError";class jn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eP,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ss.prototype.create)}}class Ss{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tP(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new jn(i,l,r)}}function tP(t,e){return t.replace(nP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nP=/\{\$([^}]+)}/g;function rP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(p_(s)&&p_(o)){if(!yu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iP(t,e){const n=new sP(t,e);return n.subscribe.bind(n)}class sP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fh),i.error===void 0&&(i.error=fh),i.complete===void 0&&(i.complete=fh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=1e3,lP=2,cP=4*60*60*1e3,uP=.5;function m_(t,e=aP,n=lP){const r=e*Math.pow(n,t),i=Math.round(uP*r*(Math.random()-.5)*2);return Math.min(cP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class Dn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fP(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hP(t){return t===Qi?void 0:t}function fP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const mP={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},gP=_e.INFO,yP={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},_P=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class id{constructor(e){this.name=e,this._logLevel=gP,this._logHandler=_P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const vP=(t,e)=>e.some(n=>t instanceof n);let g_,y_;function wP(){return g_||(g_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EP(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,xf=new WeakMap,bE=new WeakMap,ph=new WeakMap,rm=new WeakMap;function IP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NE.set(n,t)}).catch(()=>{}),rm.set(e,t),e}function TP(t){if(xf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xf.set(t,e)}let kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SP(t){kf=t(kf)}function CP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mh(this),e,...n);return bE.set(r,e.sort?e.sort():[e]),wi(r)}:EP().includes(t)?function(...e){return t.apply(mh(this),e),wi(NE.get(this))}:function(...e){return wi(t.apply(mh(this),e))}}function AP(t){return typeof t=="function"?CP(t):(t instanceof IDBTransaction&&TP(t),vP(t,wP())?new Proxy(t,kf):t)}function wi(t){if(t instanceof IDBRequest)return IP(t);if(ph.has(t))return ph.get(t);const e=AP(t);return e!==t&&(ph.set(t,e),rm.set(e,t)),e}const mh=t=>rm.get(t);function DE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=wi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(wi(o.result),c.oldVersion,c.newVersion,wi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const RP=["get","getKey","getAll","getAllKeys","count"],PP=["put","add","delete","clear"],gh=new Map;function __(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gh.get(e))return gh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RP.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return gh.set(e,s),s}SP(t=>({...t,get:(e,n,r)=>__(e,n)||t.get(e,n,r),has:(e,n)=>!!__(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nf="@firebase/app",v_="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new id("@firebase/app"),NP="@firebase/app-compat",bP="@firebase/analytics-compat",DP="@firebase/analytics",LP="@firebase/app-check-compat",jP="@firebase/app-check",OP="@firebase/auth",MP="@firebase/auth-compat",VP="@firebase/database",FP="@firebase/database-compat",UP="@firebase/functions",zP="@firebase/functions-compat",BP="@firebase/installations",$P="@firebase/installations-compat",HP="@firebase/messaging",qP="@firebase/messaging-compat",WP="@firebase/performance",GP="@firebase/performance-compat",KP="@firebase/remote-config",QP="@firebase/remote-config-compat",YP="@firebase/storage",XP="@firebase/storage-compat",JP="@firebase/firestore",ZP="@firebase/vertexai-preview",ex="@firebase/firestore-compat",tx="firebase",nx="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",rx={[Nf]:"fire-core",[NP]:"fire-core-compat",[DP]:"fire-analytics",[bP]:"fire-analytics-compat",[jP]:"fire-app-check",[LP]:"fire-app-check-compat",[OP]:"fire-auth",[MP]:"fire-auth-compat",[VP]:"fire-rtdb",[FP]:"fire-rtdb-compat",[UP]:"fire-fn",[zP]:"fire-fn-compat",[BP]:"fire-iid",[$P]:"fire-iid-compat",[HP]:"fire-fcm",[qP]:"fire-fcm-compat",[WP]:"fire-perf",[GP]:"fire-perf-compat",[KP]:"fire-rc",[QP]:"fire-rc-compat",[YP]:"fire-gcs",[XP]:"fire-gcs-compat",[JP]:"fire-fst",[ex]:"fire-fst-compat",[ZP]:"fire-vertex","fire-js":"fire-js",[tx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,ix=new Map,Df=new Map;function w_(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jn(t){const e=t.name;if(Df.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,t);for(const n of _u.values())w_(n,t);for(const n of ix.values())w_(n,t);return!0}function Mo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Ss("app","Firebase",sx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=nx;function LE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=CE()),!n)throw Ei.create("no-options");const s=_u.get(i);if(s){if(yu(n,s.options)&&yu(r,s.config))return s;throw Ei.create("duplicate-app",{appName:i})}const o=new pP(i);for(const c of Df.values())o.addComponent(c);const l=new ox(n,r,o);return _u.set(i,l),l}function im(t=bf){const e=_u.get(t);if(!e&&t===bf&&CE())return LE();if(!e)throw Ei.create("no-app",{appName:t});return e}function on(t,e,n){var r;let i=(r=rx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(l.join(" "));return}Jn(new Dn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebase-heartbeat-database",lx=1,cl="firebase-heartbeat-store";let yh=null;function jE(){return yh||(yh=DE(ax,lx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),yh}async function cx(t){try{const n=(await jE()).transaction(cl),r=await n.objectStore(cl).get(OE(t));return await n.done,r}catch(e){if(e instanceof jn)ps.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function E_(t,e){try{const r=(await jE()).transaction(cl,"readwrite");await r.objectStore(cl).put(e,OE(t)),await r.done}catch(n){if(n instanceof jn)ps.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function OE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=1024,dx=30*24*60*60*1e3;class hx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new px(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=I_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=dx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=I_(),{heartbeatsToSend:r,unsentEntries:i}=fx(this._heartbeatsCache.heartbeats),s=gu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function I_(){return new Date().toISOString().substring(0,10)}function fx(t,e=ux){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),T_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class px{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xE()?kE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return E_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return E_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function T_(t){return gu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){Jn(new Dn("platform-logger",e=>new xP(e),"PRIVATE")),Jn(new Dn("heartbeat",e=>new hx(e),"PRIVATE")),on(Nf,v_,t),on(Nf,v_,"esm2017"),on("fire-js","")}mx("");function sm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gx=ME,VE=new Ss("auth","Firebase",ME());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new id("@firebase/auth");function yx(t,...e){vu.logLevel<=_e.WARN&&vu.warn(`Auth (${Cs}): ${t}`,...e)}function jc(t,...e){vu.logLevel<=_e.ERROR&&vu.error(`Auth (${Cs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw am(t,...e)}function Qn(t,...e){return am(t,...e)}function om(t,e,n){const r=Object.assign(Object.assign({},gx()),{[e]:n});return new Ss("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return om(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _x(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ln(t,"argument-error"),om(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function am(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VE.create(t,...e)}function oe(t,e,...n){if(!t)throw am(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jc(e),new Error(e)}function zr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vx(){return S_()==="http:"||S_()==="https:"}function S_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vx()||PE()||"connection"in navigator)?navigator.onLine:!0}function Ex(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=KR()||YR()}get(){return wx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Al(3e4,6e4);function Mi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vi(t,e,n,r,i={}){return UE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Cl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),FE.fetch()(zE(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function UE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ix),e);try{const i=new Cx(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw gc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw gc(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw om(t,f,u);Ln(t,f)}}catch(i){if(i instanceof jn)throw i;Ln(t,"network-request-failed",{message:String(i)})}}async function Rl(t,e,n,r,i={}){const s=await Vi(t,e,n,r,i);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function zE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?lm(t.config,i):`${t.config.apiScheme}://${i}`}function Sx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),Tx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function C_(t){return t!==void 0&&t.enterprise!==void 0}class Ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Rx(t,e){return Vi(t,"GET","/v2/recaptchaConfig",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e){return Vi(t,"POST","/v1/accounts:delete",e)}async function BE(t,e){return Vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xx(t,e=!1){const n=Je(t),r=await n.getIdToken(e),i=cm(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fa(_h(i.auth_time)),issuedAtTime:Fa(_h(i.iat)),expirationTime:Fa(_h(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _h(t){return Number(t)*1e3}function cm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const i=IE(n);return i?JSON.parse(i):(jc("Failed to decode base64 JWT payload"),null)}catch(i){return jc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function A_(t){const e=cm(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jn&&kx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ul(t,BE(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$E(s.providerUserInfo):[],l=Dx(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new jf(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function bx(t){const e=Je(t);await wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $E(t){return t.map(e=>{var{providerId:n}=e,r=sm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t,e){const n=await UE(t,{},async()=>{const r=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=zE(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",FE.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jx(t,e){return Vi(t,"POST","/v2/accounts:revokeToken",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=A_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Lx(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ul(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xx(this,e)}reload(){return bx(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await ul(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(u=n.createdAt)!==null&&u!==void 0?u:void 0,I=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:A,emailVerified:L,isAnonymous:z,providerData:V,stsTokenManager:y}=n;oe(A&&y,e,"internal-error");const _=fo.fromJSON(this.name,y);oe(typeof A=="string",e,"internal-error"),ti(m,e.name),ti(g,e.name),oe(typeof L=="boolean",e,"internal-error"),oe(typeof z=="boolean",e,"internal-error"),ti(w,e.name),ti(C,e.name),ti(P,e.name),ti(k,e.name),ti(S,e.name),ti(I,e.name);const E=new kr({uid:A,auth:e,email:g,emailVerified:L,displayName:m,isAnonymous:z,photoURL:C,phoneNumber:w,tenantId:P,stsTokenManager:_,createdAt:S,lastLoginAt:I});return V&&Array.isArray(V)&&(E.providerData=V.map(T=>Object.assign({},T))),k&&(E._redirectEventId=k),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new fo;i.updateFromServerResponse(n);const s=new kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$E(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new fo;l.updateFromIdToken(r);const c=new kr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function Nr(t){zr(t instanceof Function,"Expected a class definition");let e=R_.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HE.type="NONE";const P_=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Oc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Oc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(Nr(P_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Nr(P_);const o=Oc(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const f=await u._get(o);if(f){const m=kr._fromJSON(e,f);u!==s&&(l=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new po(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new po(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QE(e))return"Blackberry";if(YE(e))return"Webos";if(um(e))return"Safari";if((e.includes("chrome/")||WE(e))&&!e.includes("edge/"))return"Chrome";if(KE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qE(t=bt()){return/firefox\//i.test(t)}function um(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WE(t=bt()){return/crios\//i.test(t)}function GE(t=bt()){return/iemobile/i.test(t)}function KE(t=bt()){return/android/i.test(t)}function QE(t=bt()){return/blackberry/i.test(t)}function YE(t=bt()){return/webos/i.test(t)}function sd(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ox(t=bt()){var e;return sd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mx(){return XR()&&document.documentMode===10}function XE(t=bt()){return sd(t)||KE(t)||YE(t)||QE(t)||/windows phone/i.test(t)||GE(t)}function Vx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e=[]){let n;switch(t){case"Browser":n=x_(bt());break;case"Worker":n=`${x_(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(t,e={}){return Vi(t,"GET","/v2/passwordPolicy",Mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=6;class Bx{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zx,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new Fx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await BE(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ex()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Lr(this));const n=e?Je(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ux(this),n=new Bx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ss("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return Je(t)}class k_{constructor(e){this.auth=e,this.observer=null,this.addObserver=iP(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hx(t){od=t}function ZE(t){return od.loadJS(t)}function qx(){return od.recaptchaEnterpriseScript}function Wx(){return od.gapiScript}function Gx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Kx="recaptcha-enterprise",Qx="NO_RECAPTCHA";class Yx{constructor(e){this.type=Kx,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Rx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Ax(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;C_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Qx)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&C_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=qx();c.length!==0&&(c+=l),ZE(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function N_(t,e,n,r=!1){const i=new Yx(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Of(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await N_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await N_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e){const n=Mo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yu(s,e??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}function Jx(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Zx(t,e,n){const r=Fi(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=eI(e),{host:o,port:l}=ek(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),tk()}function eI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ek(t){const e=eI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:b_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:b_(o)}}}function b_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function nk(t,e){return Vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(t,e){return Rl(t,"POST","/v1/accounts:signInWithPassword",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(t,e){return Rl(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}async function sk(t,e){return Rl(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends dm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new dl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Of(e,n,"signInWithPassword",rk);case"emailLink":return ik(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Of(e,r,"signUpPassword",nk);case"emailLink":return sk(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t,e){return Rl(t,"POST","/v1/accounts:signInWithIdp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="http://localhost";class ms extends dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=sm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ms(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:ok,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lk(t){const e=Ta(Sa(t)).link,n=e?Ta(Sa(e)).deep_link_id:null,r=Ta(Sa(t)).deep_link_id;return(r?Ta(Sa(r)).link:null)||r||n||e||t}class hm{constructor(e){var n,r,i,s,o,l;const c=Ta(Sa(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,m=ak((i=c.mode)!==null&&i!==void 0?i:null);oe(u&&f&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=lk(e);try{return new hm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return dl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hm.parseLink(n);return oe(r,"argument-error"),dl._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends fm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Pl{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ms._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Pl{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.GITHUB_SIGN_IN_METHOD="github.com";ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Pl{constructor(){super("twitter.com")}static credential(e,n){return ms._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return li.credential(n,r)}catch{return null}}}li.TWITTER_SIGN_IN_METHOD="twitter.com";li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t,e){return Rl(t,"POST","/v1/accounts:signUp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await kr._fromIdTokenResponse(e,r,i),o=D_(r);return new gs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=D_(r);return new gs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function D_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends jn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Eu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Eu(e,n,r,i)}}function tI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Eu._fromErrorAndOperation(t,s,e,r):s})}async function uk(t,e,n=!1){const r=await ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(Lr(r));const i="reauthenticate";try{const s=await ul(t,tI(r,i,e,t),n);oe(s.idToken,r,"internal-error");const o=cm(s.idToken);oe(o,r,"internal-error");const{sub:l}=o;return oe(t.uid===l,r,"user-mismatch"),gs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(t,e,n=!1){if(qn(t.app))return Promise.reject(Lr(t));const r="signIn",i=await tI(t,r,e),s=await gs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function hk(t,e){return nI(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fk(t,e,n){if(qn(t.app))return Promise.reject(Lr(t));const r=Fi(t),o=await Of(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ck).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&rI(t),c}),l=await gs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function pk(t,e,n){return qn(t.app)?Promise.reject(Lr(t)):hk(Je(t),Vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rI(t),r})}function mk(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function gk(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function Fo(t,e,n,r){return Je(t).onAuthStateChanged(e,n,r)}function L_(t){return Je(t).signOut()}async function yk(t){return Je(t).delete()}const Iu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){const t=bt();return um(t)||sd(t)}const vk=1e3,wk=10;class sI extends iI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_k()&&Vx(),this.fallbackToPolling=XE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Mx()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sI.type="LOCAL";const Ek=sI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI extends iI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oI.type="SESSION";const aI=oI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await Ik(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=pm("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function Sk(t){ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function Ck(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ak(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Rk(){return lI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebaseLocalStorageDb",Pk=1,Tu="firebaseLocalStorage",uI="fbase_key";class xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(t,e){return t.transaction([Tu],e?"readwrite":"readonly").objectStore(Tu)}function xk(){const t=indexedDB.deleteDatabase(cI);return new xl(t).toPromise()}function Mf(){const t=indexedDB.open(cI,Pk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tu,{keyPath:uI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tu)?e(r):(r.close(),await xk(),e(await Mf()))})})}async function j_(t,e,n){const r=ld(t,!0).put({[uI]:e,value:n});return new xl(r).toPromise()}async function kk(t,e){const n=ld(t,!1).get(e),r=await new xl(n).toPromise();return r===void 0?null:r.value}function O_(t,e){const n=ld(t,!0).delete(e);return new xl(n).toPromise()}const Nk=800,bk=3;class dI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(Rk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Ck(),!this.activeServiceWorker)return;this.sender=new Tk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ak()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mf();return await j_(e,Iu,"1"),await O_(e,Iu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ld(i,!1).getAll();return new xl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dI.type="LOCAL";const Dk=dI;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){return e?Nr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends dm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lk(t){return nI(t.auth,new mm(t),t.bypassAuthState)}function jk(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),dk(n,new mm(t),t.bypassAuthState)}async function Ok(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),uk(n,new mm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lk;case"linkViaPopup":case"linkViaRedirect":return Ok;case"reauthViaPopup":case"reauthViaRedirect":return jk;default:Ln(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=new Al(2e3,1e4);async function Su(t,e,n){if(qn(t.app))return Promise.reject(Qn(t,"operation-not-supported-in-this-environment"));const r=Fi(t);_x(t,e,fm);const i=hI(r,n);return new ts(r,"signInViaPopup",e,i).executeNotNull()}class ts extends fI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ts.currentPopupAction&&ts.currentPopupAction.cancel(),ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mk.get())};e()}}ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="pendingRedirect",Mc=new Map;class Fk extends fI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const r=await Uk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uk(t,e){const n=$k(e),r=Bk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zk(t,e){Mc.set(t._key(),e)}function Bk(t){return Nr(t._redirectPersistence)}function $k(t){return Oc(Vk,t.config.apiKey,t.name)}async function Hk(t,e,n=!1){if(qn(t.app))return Promise.reject(Lr(t));const r=Fi(t),i=hI(r,e),o=await new Fk(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=10*60*1e3;class Wk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qk&&this.cachedEventUids.clear(),this.cachedEventUids.has(M_(e))}saveEventToCache(e){this.cachedEventUids.add(M_(e)),this.lastProcessedEventTime=Date.now()}}function M_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Gk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e={}){return Vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yk=/^https?/;async function Xk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kk(t);for(const n of e)try{if(Jk(n))return}catch{}Ln(t,"unauthorized-domain")}function Jk(t){const e=Lf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Yk.test(n))return!1;if(Qk.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new Al(3e4,6e4);function V_(){const t=ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eN(t){return new Promise((e,n)=>{var r,i,s;function o(){V_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V_(),n(Qn(t,"network-request-failed"))},timeout:Zk.get()})}if(!((i=(r=ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ar().gapi)===null||s===void 0)&&s.load)o();else{const l=Gx("iframefcb");return ar()[l]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},ZE(`${Wx()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function tN(t){return Vc=Vc||eN(t),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new Al(5e3,15e3),rN="__/auth/iframe",iN="emulator/auth/iframe",sN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aN(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lm(e,iN):`https://${t.config.authDomain}/${rN}`,r={apiKey:e.apiKey,appName:t.name,v:Cs},i=oN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Cl(r).slice(1)}`}async function lN(t){const e=await tN(t),n=ar().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:aN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(t,"network-request-failed"),l=ar().setTimeout(()=>{s(o)},nN.get());function c(){ar().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,dN=600,hN="_blank",fN="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pN(t,e,n,r=uN,i=dN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},cN),{width:r.toString(),height:i.toString(),top:s,left:o}),u=bt().toLowerCase();n&&(l=WE(u)?hN:n),qE(u)&&(e=e||fN,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[w,C])=>`${g}${w}=${C},`,"");if(Ox(u)&&l!=="_self")return mN(e||"",l),new F_(null);const m=window.open(e||"",l,f);oe(m,t,"popup-blocked");try{m.focus()}catch{}return new F_(m)}function mN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="__/auth/handler",yN="emulator/auth/handler",_N=encodeURIComponent("fac");async function U_(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cs,eventId:i};if(e instanceof fm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Pl){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),u=c?`#${_N}=${encodeURIComponent(c)}`:"";return`${vN(t)}?${Cl(l).slice(1)}${u}`}function vN({config:t}){return t.emulator?lm(t,yN):`https://${t.authDomain}/${gN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="webStorageSupport";class wN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aI,this._completeRedirectFn=Hk,this._overrideRedirectResult=zk}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await U_(e,n,r,Lf(),i);return pN(e,o,pm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await U_(e,n,r,Lf(),i);return Sk(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lN(e),r=new Wk(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vh,{type:vh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[vh];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Xk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XE()||um()||sd()}}const EN=wN;var z_="@firebase/auth",B_="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SN(t){Jn(new Dn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(t)},u=new $x(r,i,s,c);return Jx(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new Dn("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new IN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(z_,B_,TN(t)),on(z_,B_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=5*60,AN=AE("authIdTokenMaxAge")||CN;let $_=null;const RN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AN)return;const i=n==null?void 0:n.token;$_!==i&&($_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mI(t=im()){const e=Mo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Xx(t,{popupRedirectResolver:EN,persistence:[Dk,Ek,aI]}),r=AE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=RN(s.toString());gk(n,o,()=>o(n.currentUser)),mk(n,l=>o(l))}}const i=TE("auth");return i&&Zx(n,`http://${i}`),n}function PN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Hx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",PN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SN("Browser");var xN="firebase",kN="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on(xN,kN,"app");const gI="@firebase/installations",gm="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1e4,_I=`w:${gm}`,vI="FIS_v2",NN="https://firebaseinstallations.googleapis.com/v1",bN=60*60*1e3,DN="installations",LN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ys=new Ss(DN,LN,jN);function wI(t){return t instanceof jn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI({projectId:t}){return`${NN}/projects/${t}/installations`}function II(t){return{token:t.token,requestStatus:2,expiresIn:MN(t.expiresIn),creationTime:Date.now()}}async function TI(t,e){const r=(await e.json()).error;return ys.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ON(t,{refreshToken:e}){const n=SI(t);return n.append("Authorization",VN(e)),n}async function CI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function MN(t){return Number(t.replace("s","000"))}function VN(t){return`${vI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=EI(t),i=SI(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:vI,appId:t.appId,sdkVersion:_I},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await CI(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:II(u.authToken)}}else throw await TI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=/^[cdef][\w-]{21}$/,Vf="";function BN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=$N(t);return zN.test(n)?n:Vf}catch{return Vf}}function $N(t){return UN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new Map;function PI(t,e){const n=cd(t);xI(n,e),HN(n,e)}function xI(t,e){const n=RI.get(t);if(n)for(const r of n)r(e)}function HN(t,e){const n=qN();n&&n.postMessage({key:t,fid:e}),WN()}let ns=null;function qN(){return!ns&&"BroadcastChannel"in self&&(ns=new BroadcastChannel("[Firebase] FID Change"),ns.onmessage=t=>{xI(t.data.key,t.data.fid)}),ns}function WN(){RI.size===0&&ns&&(ns.close(),ns=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="firebase-installations-database",KN=1,_s="firebase-installations-store";let wh=null;function ym(){return wh||(wh=DE(GN,KN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_s)}}})),wh}async function Cu(t,e){const n=cd(t),i=(await ym()).transaction(_s,"readwrite"),s=i.objectStore(_s),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&PI(t,e.fid),e}async function kI(t){const e=cd(t),r=(await ym()).transaction(_s,"readwrite");await r.objectStore(_s).delete(e),await r.done}async function ud(t,e){const n=cd(t),i=(await ym()).transaction(_s,"readwrite"),s=i.objectStore(_s),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&PI(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){let e;const n=await ud(t.appConfig,r=>{const i=QN(r),s=YN(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Vf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function QN(t){const e=t||{fid:BN(),registrationStatus:0};return NI(e)}function YN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ys.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=XN(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JN(t)}:{installationEntry:e}}async function XN(t,e){try{const n=await FN(t,e);return Cu(t.appConfig,n)}catch(n){throw wI(n)&&n.customData.serverCode===409?await kI(t.appConfig):await Cu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function JN(t){let e=await H_(t.appConfig);for(;e.registrationStatus===1;)await AI(100),e=await H_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await _m(t);return r||n}return e}function H_(t){return ud(t,e=>{if(!e)throw ys.create("installation-not-found");return NI(e)})}function NI(t){return ZN(t)?{fid:t.fid,registrationStatus:0}:t}function ZN(t){return t.registrationStatus===1&&t.registrationTime+yI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb({appConfig:t,heartbeatServiceProvider:e},n){const r=tb(t,n),i=ON(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:_I,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await CI(()=>fetch(r,l));if(c.ok){const u=await c.json();return II(u)}else throw await TI("Generate Auth Token",c)}function tb(t,{fid:e}){return`${EI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(t,e=!1){let n;const r=await ud(t.appConfig,s=>{if(!bI(s))throw ys.create("not-registered");const o=s.authToken;if(!e&&ib(o))return s;if(o.requestStatus===1)return n=nb(t,e),s;{if(!navigator.onLine)throw ys.create("app-offline");const l=ob(s);return n=rb(t,l),l}});return n?await n:r.authToken}async function nb(t,e){let n=await q_(t.appConfig);for(;n.authToken.requestStatus===1;)await AI(100),n=await q_(t.appConfig);const r=n.authToken;return r.requestStatus===0?vm(t,e):r}function q_(t){return ud(t,e=>{if(!bI(e))throw ys.create("not-registered");const n=e.authToken;return ab(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rb(t,e){try{const n=await eb(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Cu(t.appConfig,r),n}catch(n){if(wI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Cu(t.appConfig,r)}throw n}}function bI(t){return t!==void 0&&t.registrationStatus===2}function ib(t){return t.requestStatus===2&&!sb(t)}function sb(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bN}function ob(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ab(t){return t.requestStatus===1&&t.requestTime+yI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(t){const e=t,{installationEntry:n,registrationPromise:r}=await _m(e);return r?r.catch(console.error):vm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(t,e=!1){const n=t;return await ub(n),(await vm(n,e)).token}async function ub(t){const{registrationPromise:e}=await _m(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){if(!t||!t.options)throw Eh("App Configuration");if(!t.name)throw Eh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Eh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Eh(t){return ys.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="installations",fb="installations-internal",pb=t=>{const e=t.getProvider("app").getImmediate(),n=hb(e),r=Mo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},mb=t=>{const e=t.getProvider("app").getImmediate(),n=Mo(e,DI).getImmediate();return{getId:()=>lb(n),getToken:i=>cb(n,i)}};function gb(){Jn(new Dn(DI,pb,"PUBLIC")),Jn(new Dn(fb,mb,"PRIVATE"))}gb();on(gI,gm);on(gI,gm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="analytics",yb="firebase_id",_b="origin",vb=60*1e3,wb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new id("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new Ss("analytics","Analytics",Eb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){if(!t.startsWith(wm)){const e=kn.create("invalid-gtag-resource",{gtagURL:t});return an.warn(e.message),""}return t}function LI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Tb(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Sb(t,e){const n=Tb("firebase-js-sdk-policy",{createScriptURL:Ib}),r=document.createElement("script"),i=`${wm}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Cb(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Ab(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await LI(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){an.error(l)}t("config",i,s)}async function Rb(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await LI(n);for(const c of o){const u=l.find(m=>m.measurementId===c),f=u&&e[u.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){an.error(s)}}function Pb(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await Rb(t,e,n,l,c)}else if(s==="config"){const[l,c]=o;await Ab(t,e,n,r,l,c)}else if(s==="consent"){const[l,c]=o;t("consent",l,c)}else if(s==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){an.error(l)}}return i}function xb(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Pb(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function kb(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=30,bb=1e3;class Db{constructor(e={},n=bb){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jI=new Db;function Lb(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function jb(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Lb(r)},s=wb.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function Ob(t,e=jI,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw kn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw kn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Fb;return setTimeout(async()=>{l.abort()},vb),OI({appId:r,apiKey:i,measurementId:s},o,l,e)}async function OI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=jI){var s;const{appId:o,measurementId:l}=t;try{await Mb(r,e)}catch(c){if(l)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await jb(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!Vb(u)){if(i.deleteThrottleMetadata(o),l)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const f=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?m_(n,i.intervalMillis,Nb):m_(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(o,m),an.debug(`Calling attemptFetch again in ${f} millis`),OI(t,m,r,i)}}function Mb(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Vb(t){if(!(t instanceof jn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Fb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ub(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(){if(xE())try{await kE()}catch(t){return an.warn(kn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return an.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Bb(t,e,n,r,i,s,o){var l;const c=Ob(t);c.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>an.error(w)),e.push(c);const u=zb().then(w=>{if(w)return r.getId()}),[f,m]=await Promise.all([c,u]);kb(s)||Sb(s,f.measurementId),i("js",new Date);const g=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return g[_b]="firebase",g.update=!0,m!=null&&(g[yb]=m),i("config",f.measurementId,g),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.app=e}_delete(){return delete Ua[this.app.options.appId],Promise.resolve()}}let Ua={},G_=[];const K_={};let Ih="dataLayer",Hb="gtag",Q_,MI,Y_=!1;function qb(){const t=[];if(PE()&&t.push("This is a browser extension environment."),ZR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}function Wb(t,e,n){qb();const r=t.options.appId;if(!r)throw kn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(Ua[r]!=null)throw kn.create("already-exists",{id:r});if(!Y_){Cb(Ih);const{wrappedGtag:s,gtagCore:o}=xb(Ua,G_,K_,Ih,Hb);MI=s,Q_=o,Y_=!0}return Ua[r]=Bb(t,G_,K_,e,Q_,Ih,n),new $b(t)}function Gb(t,e,n,r){t=Je(t),Ub(MI,Ua[t.app.options.appId],e,n,r).catch(i=>an.error(i))}const X_="@firebase/analytics",J_="0.10.4";function Kb(){Jn(new Dn(W_,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Wb(r,i,n)},"PUBLIC")),Jn(new Dn("analytics-internal",t,"PRIVATE")),on(X_,J_),on(X_,J_,"esm2017");function t(e){try{const n=e.getProvider(W_).getImmediate();return{logEvent:(r,i,s)=>Gb(n,r,i,s)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}Kb();var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,VI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,_){function E(){}E.prototype=_.prototype,y.D=_.prototype,y.prototype=new E,y.prototype.constructor=y,y.C=function(T,x,N){for(var R=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)R[Ce-2]=arguments[Ce];return _.prototype[x].apply(T,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(y,_,E){E||(E=0);var T=Array(16);if(typeof _=="string")for(var x=0;16>x;++x)T[x]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(x=0;16>x;++x)T[x]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=y.g[0],E=y.g[1],x=y.g[2];var N=y.g[3],R=_+(N^E&(x^N))+T[0]+3614090360&4294967295;_=E+(R<<7&4294967295|R>>>25),R=N+(x^_&(E^x))+T[1]+3905402710&4294967295,N=_+(R<<12&4294967295|R>>>20),R=x+(E^N&(_^E))+T[2]+606105819&4294967295,x=N+(R<<17&4294967295|R>>>15),R=E+(_^x&(N^_))+T[3]+3250441966&4294967295,E=x+(R<<22&4294967295|R>>>10),R=_+(N^E&(x^N))+T[4]+4118548399&4294967295,_=E+(R<<7&4294967295|R>>>25),R=N+(x^_&(E^x))+T[5]+1200080426&4294967295,N=_+(R<<12&4294967295|R>>>20),R=x+(E^N&(_^E))+T[6]+2821735955&4294967295,x=N+(R<<17&4294967295|R>>>15),R=E+(_^x&(N^_))+T[7]+4249261313&4294967295,E=x+(R<<22&4294967295|R>>>10),R=_+(N^E&(x^N))+T[8]+1770035416&4294967295,_=E+(R<<7&4294967295|R>>>25),R=N+(x^_&(E^x))+T[9]+2336552879&4294967295,N=_+(R<<12&4294967295|R>>>20),R=x+(E^N&(_^E))+T[10]+4294925233&4294967295,x=N+(R<<17&4294967295|R>>>15),R=E+(_^x&(N^_))+T[11]+2304563134&4294967295,E=x+(R<<22&4294967295|R>>>10),R=_+(N^E&(x^N))+T[12]+1804603682&4294967295,_=E+(R<<7&4294967295|R>>>25),R=N+(x^_&(E^x))+T[13]+4254626195&4294967295,N=_+(R<<12&4294967295|R>>>20),R=x+(E^N&(_^E))+T[14]+2792965006&4294967295,x=N+(R<<17&4294967295|R>>>15),R=E+(_^x&(N^_))+T[15]+1236535329&4294967295,E=x+(R<<22&4294967295|R>>>10),R=_+(x^N&(E^x))+T[1]+4129170786&4294967295,_=E+(R<<5&4294967295|R>>>27),R=N+(E^x&(_^E))+T[6]+3225465664&4294967295,N=_+(R<<9&4294967295|R>>>23),R=x+(_^E&(N^_))+T[11]+643717713&4294967295,x=N+(R<<14&4294967295|R>>>18),R=E+(N^_&(x^N))+T[0]+3921069994&4294967295,E=x+(R<<20&4294967295|R>>>12),R=_+(x^N&(E^x))+T[5]+3593408605&4294967295,_=E+(R<<5&4294967295|R>>>27),R=N+(E^x&(_^E))+T[10]+38016083&4294967295,N=_+(R<<9&4294967295|R>>>23),R=x+(_^E&(N^_))+T[15]+3634488961&4294967295,x=N+(R<<14&4294967295|R>>>18),R=E+(N^_&(x^N))+T[4]+3889429448&4294967295,E=x+(R<<20&4294967295|R>>>12),R=_+(x^N&(E^x))+T[9]+568446438&4294967295,_=E+(R<<5&4294967295|R>>>27),R=N+(E^x&(_^E))+T[14]+3275163606&4294967295,N=_+(R<<9&4294967295|R>>>23),R=x+(_^E&(N^_))+T[3]+4107603335&4294967295,x=N+(R<<14&4294967295|R>>>18),R=E+(N^_&(x^N))+T[8]+1163531501&4294967295,E=x+(R<<20&4294967295|R>>>12),R=_+(x^N&(E^x))+T[13]+2850285829&4294967295,_=E+(R<<5&4294967295|R>>>27),R=N+(E^x&(_^E))+T[2]+4243563512&4294967295,N=_+(R<<9&4294967295|R>>>23),R=x+(_^E&(N^_))+T[7]+1735328473&4294967295,x=N+(R<<14&4294967295|R>>>18),R=E+(N^_&(x^N))+T[12]+2368359562&4294967295,E=x+(R<<20&4294967295|R>>>12),R=_+(E^x^N)+T[5]+4294588738&4294967295,_=E+(R<<4&4294967295|R>>>28),R=N+(_^E^x)+T[8]+2272392833&4294967295,N=_+(R<<11&4294967295|R>>>21),R=x+(N^_^E)+T[11]+1839030562&4294967295,x=N+(R<<16&4294967295|R>>>16),R=E+(x^N^_)+T[14]+4259657740&4294967295,E=x+(R<<23&4294967295|R>>>9),R=_+(E^x^N)+T[1]+2763975236&4294967295,_=E+(R<<4&4294967295|R>>>28),R=N+(_^E^x)+T[4]+1272893353&4294967295,N=_+(R<<11&4294967295|R>>>21),R=x+(N^_^E)+T[7]+4139469664&4294967295,x=N+(R<<16&4294967295|R>>>16),R=E+(x^N^_)+T[10]+3200236656&4294967295,E=x+(R<<23&4294967295|R>>>9),R=_+(E^x^N)+T[13]+681279174&4294967295,_=E+(R<<4&4294967295|R>>>28),R=N+(_^E^x)+T[0]+3936430074&4294967295,N=_+(R<<11&4294967295|R>>>21),R=x+(N^_^E)+T[3]+3572445317&4294967295,x=N+(R<<16&4294967295|R>>>16),R=E+(x^N^_)+T[6]+76029189&4294967295,E=x+(R<<23&4294967295|R>>>9),R=_+(E^x^N)+T[9]+3654602809&4294967295,_=E+(R<<4&4294967295|R>>>28),R=N+(_^E^x)+T[12]+3873151461&4294967295,N=_+(R<<11&4294967295|R>>>21),R=x+(N^_^E)+T[15]+530742520&4294967295,x=N+(R<<16&4294967295|R>>>16),R=E+(x^N^_)+T[2]+3299628645&4294967295,E=x+(R<<23&4294967295|R>>>9),R=_+(x^(E|~N))+T[0]+4096336452&4294967295,_=E+(R<<6&4294967295|R>>>26),R=N+(E^(_|~x))+T[7]+1126891415&4294967295,N=_+(R<<10&4294967295|R>>>22),R=x+(_^(N|~E))+T[14]+2878612391&4294967295,x=N+(R<<15&4294967295|R>>>17),R=E+(N^(x|~_))+T[5]+4237533241&4294967295,E=x+(R<<21&4294967295|R>>>11),R=_+(x^(E|~N))+T[12]+1700485571&4294967295,_=E+(R<<6&4294967295|R>>>26),R=N+(E^(_|~x))+T[3]+2399980690&4294967295,N=_+(R<<10&4294967295|R>>>22),R=x+(_^(N|~E))+T[10]+4293915773&4294967295,x=N+(R<<15&4294967295|R>>>17),R=E+(N^(x|~_))+T[1]+2240044497&4294967295,E=x+(R<<21&4294967295|R>>>11),R=_+(x^(E|~N))+T[8]+1873313359&4294967295,_=E+(R<<6&4294967295|R>>>26),R=N+(E^(_|~x))+T[15]+4264355552&4294967295,N=_+(R<<10&4294967295|R>>>22),R=x+(_^(N|~E))+T[6]+2734768916&4294967295,x=N+(R<<15&4294967295|R>>>17),R=E+(N^(x|~_))+T[13]+1309151649&4294967295,E=x+(R<<21&4294967295|R>>>11),R=_+(x^(E|~N))+T[4]+4149444226&4294967295,_=E+(R<<6&4294967295|R>>>26),R=N+(E^(_|~x))+T[11]+3174756917&4294967295,N=_+(R<<10&4294967295|R>>>22),R=x+(_^(N|~E))+T[2]+718787259&4294967295,x=N+(R<<15&4294967295|R>>>17),R=E+(N^(x|~_))+T[9]+3951481745&4294967295,y.g[0]=y.g[0]+_&4294967295,y.g[1]=y.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,y.g[2]=y.g[2]+x&4294967295,y.g[3]=y.g[3]+N&4294967295}r.prototype.u=function(y,_){_===void 0&&(_=y.length);for(var E=_-this.blockSize,T=this.B,x=this.h,N=0;N<_;){if(x==0)for(;N<=E;)i(this,y,N),N+=this.blockSize;if(typeof y=="string"){for(;N<_;)if(T[x++]=y.charCodeAt(N++),x==this.blockSize){i(this,T),x=0;break}}else for(;N<_;)if(T[x++]=y[N++],x==this.blockSize){i(this,T),x=0;break}}this.h=x,this.o+=_},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var _=1;_<y.length-8;++_)y[_]=0;var E=8*this.o;for(_=y.length-8;_<y.length;++_)y[_]=E&255,E/=256;for(this.u(y),y=Array(16),_=E=0;4>_;++_)for(var T=0;32>T;T+=8)y[E++]=this.g[_]>>>T&255;return y};function s(y,_){var E=l;return Object.prototype.hasOwnProperty.call(E,y)?E[y]:E[y]=_(y)}function o(y,_){this.h=_;for(var E=[],T=!0,x=y.length-1;0<=x;x--){var N=y[x]|0;T&&N==_||(E[x]=N,T=!1)}this.g=E}var l={};function c(y){return-128<=y&&128>y?s(y,function(_){return new o([_|0],0>_?-1:0)}):new o([y|0],0>y?-1:0)}function u(y){if(isNaN(y)||!isFinite(y))return m;if(0>y)return k(u(-y));for(var _=[],E=1,T=0;y>=E;T++)_[T]=y/E|0,E*=4294967296;return new o(_,0)}function f(y,_){if(y.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(y.charAt(0)=="-")return k(f(y.substring(1),_));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(_,8)),T=m,x=0;x<y.length;x+=8){var N=Math.min(8,y.length-x),R=parseInt(y.substring(x,x+N),_);8>N?(N=u(Math.pow(_,N)),T=T.j(N).add(u(R))):(T=T.j(E),T=T.add(u(R)))}return T}var m=c(0),g=c(1),w=c(16777216);t=o.prototype,t.m=function(){if(P(this))return-k(this).m();for(var y=0,_=1,E=0;E<this.g.length;E++){var T=this.i(E);y+=(0<=T?T:4294967296+T)*_,_*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C(this))return"0";if(P(this))return"-"+k(this).toString(y);for(var _=u(Math.pow(y,6)),E=this,T="";;){var x=L(E,_).g;E=S(E,x.j(_));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(y);if(E=x,C(E))return N+T;for(;6>N.length;)N="0"+N;T=N+T}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function C(y){if(y.h!=0)return!1;for(var _=0;_<y.g.length;_++)if(y.g[_]!=0)return!1;return!0}function P(y){return y.h==-1}t.l=function(y){return y=S(this,y),P(y)?-1:C(y)?0:1};function k(y){for(var _=y.g.length,E=[],T=0;T<_;T++)E[T]=~y.g[T];return new o(E,~y.h).add(g)}t.abs=function(){return P(this)?k(this):this},t.add=function(y){for(var _=Math.max(this.g.length,y.g.length),E=[],T=0,x=0;x<=_;x++){var N=T+(this.i(x)&65535)+(y.i(x)&65535),R=(N>>>16)+(this.i(x)>>>16)+(y.i(x)>>>16);T=R>>>16,N&=65535,R&=65535,E[x]=R<<16|N}return new o(E,E[E.length-1]&-2147483648?-1:0)};function S(y,_){return y.add(k(_))}t.j=function(y){if(C(this)||C(y))return m;if(P(this))return P(y)?k(this).j(k(y)):k(k(this).j(y));if(P(y))return k(this.j(k(y)));if(0>this.l(w)&&0>y.l(w))return u(this.m()*y.m());for(var _=this.g.length+y.g.length,E=[],T=0;T<2*_;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var x=0;x<y.g.length;x++){var N=this.i(T)>>>16,R=this.i(T)&65535,Ce=y.i(x)>>>16,nt=y.i(x)&65535;E[2*T+2*x]+=R*nt,I(E,2*T+2*x),E[2*T+2*x+1]+=N*nt,I(E,2*T+2*x+1),E[2*T+2*x+1]+=R*Ce,I(E,2*T+2*x+1),E[2*T+2*x+2]+=N*Ce,I(E,2*T+2*x+2)}for(T=0;T<_;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=_;T<2*_;T++)E[T]=0;return new o(E,0)};function I(y,_){for(;(y[_]&65535)!=y[_];)y[_+1]+=y[_]>>>16,y[_]&=65535,_++}function A(y,_){this.g=y,this.h=_}function L(y,_){if(C(_))throw Error("division by zero");if(C(y))return new A(m,m);if(P(y))return _=L(k(y),_),new A(k(_.g),k(_.h));if(P(_))return _=L(y,k(_)),new A(k(_.g),_.h);if(30<y.g.length){if(P(y)||P(_))throw Error("slowDivide_ only works with positive integers.");for(var E=g,T=_;0>=T.l(y);)E=z(E),T=z(T);var x=V(E,1),N=V(T,1);for(T=V(T,2),E=V(E,2);!C(T);){var R=N.add(T);0>=R.l(y)&&(x=x.add(E),N=R),T=V(T,1),E=V(E,1)}return _=S(y,x.j(_)),new A(x,_)}for(x=m;0<=y.l(_);){for(E=Math.max(1,Math.floor(y.m()/_.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),N=u(E),R=N.j(_);P(R)||0<R.l(y);)E-=T,N=u(E),R=N.j(_);C(N)&&(N=g),x=x.add(N),y=S(y,R)}return new A(x,y)}t.A=function(y){return L(this,y).h},t.and=function(y){for(var _=Math.max(this.g.length,y.g.length),E=[],T=0;T<_;T++)E[T]=this.i(T)&y.i(T);return new o(E,this.h&y.h)},t.or=function(y){for(var _=Math.max(this.g.length,y.g.length),E=[],T=0;T<_;T++)E[T]=this.i(T)|y.i(T);return new o(E,this.h|y.h)},t.xor=function(y){for(var _=Math.max(this.g.length,y.g.length),E=[],T=0;T<_;T++)E[T]=this.i(T)^y.i(T);return new o(E,this.h^y.h)};function z(y){for(var _=y.g.length+1,E=[],T=0;T<_;T++)E[T]=y.i(T)<<1|y.i(T-1)>>>31;return new o(E,y.h)}function V(y,_){var E=_>>5;_%=32;for(var T=y.g.length-E,x=[],N=0;N<T;N++)x[N]=0<_?y.i(N+E)>>>_|y.i(N+E+1)<<32-_:y.i(N+E);return new o(x,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,as=o}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FI,UI,Ca,zI,Fc,Ff,BI,$I,HI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var D=a[v];if(!(D in p))break e;p=p[D]}a=a[a.length-1],v=p[a],h=h(v),h!=v&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,v=!1,D={next:function(){if(!v&&p<a.length){var M=p++;return{value:h(M,a[M]),done:!1}}return v=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,p){return a.call.apply(a.bind,arguments)}function m(a,h,p){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,v),a.apply(h,D)}}return function(){return a.apply(h,arguments)}}function g(a,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function w(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function C(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(v,D,M){for(var W=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)W[xe-2]=arguments[xe];return h.prototype[D].apply(v,W)}}function P(a){const h=a.length;if(0<h){const p=Array(h);for(let v=0;v<h;v++)p[v]=a[v];return p}return[]}function k(a,h){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(c(v)){const D=a.length||0,M=v.length||0;a.length=D+M;for(let W=0;W<M;W++)a[D+W]=v[W]}else a.push(v)}}class S{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function I(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var z=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function V(a,h,p){for(const v in a)h.call(p,a[v],v,a)}function y(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function _(a){const h={};for(const p in a)h[p]=a[p];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,h){let p,v;for(let D=1;D<arguments.length;D++){v=arguments[D];for(p in v)a[p]=v[p];for(let M=0;M<E.length;M++)p=E[M],Object.prototype.hasOwnProperty.call(v,p)&&(a[p]=v[p])}}function x(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function N(a){l.setTimeout(()=>{throw a},0)}function R(){var a=G;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Ce{constructor(){this.h=this.g=null}add(h,p){const v=nt.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var nt=new S(()=>new wn,a=>a.reset());class wn{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let X,U=!1,G=new Ce,ne=()=>{const a=l.Promise.resolve(void 0);X=()=>{a.then(we)}};var we=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(p){N(p)}var h=nt;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}U=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function ct(a,h){if(Pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(z){e:{try{L(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:_t[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ct.aa.h.call(this)}}C(ct,Pe);var _t={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Ho=0;function Rd(a,h,p,v,D){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=D,this.key=++Ho,this.da=this.fa=!1}function xs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ks(a){this.src=a,this.g={},this.h=0}ks.prototype.add=function(a,h,p,v,D){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var W=pr(a,h,v,D);return-1<W?(h=a[W],p||(h.fa=!1)):(h=new Rd(h,this.src,M,!!v,D),h.fa=p,a.push(h)),h};function wt(a,h){var p=h.type;if(p in a.g){var v=a.g[p],D=Array.prototype.indexOf.call(v,h,void 0),M;(M=0<=D)&&Array.prototype.splice.call(v,D,1),M&&(xs(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function pr(a,h,p,v){for(var D=0;D<a.length;++D){var M=a[D];if(!M.da&&M.listener==h&&M.capture==!!p&&M.ha==v)return D}return-1}var Ns="closure_lm_"+(1e6*Math.random()|0),qo={};function er(a,h,p,v,D){if(Array.isArray(h)){for(var M=0;M<h.length;M++)er(a,h[M],p,v,D);return null}return p=Ds(p),a&&a[vt]?a.K(h,p,u(v)?!!v.capture:!!v,D):Pd(a,h,p,!1,v,D)}function Pd(a,h,p,v,D,M){if(!h)throw Error("Invalid event type");var W=u(D)?!!D.capture:!!D,xe=mr(a);if(xe||(a[Ns]=xe=new ks(a)),p=xe.add(h,p,v,W,M),p.proxy)return p;if(v=xd(),p.proxy=v,v.src=a,v.listener=p,a.addEventListener)qt||(D=W),D===void 0&&(D=!1),a.addEventListener(h.toString(),v,D);else if(a.attachEvent)a.attachEvent(Fl(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function xd(){function a(p){return h.call(a.src,a.listener,p)}const h=zi;return a}function Vl(a,h,p,v,D){if(Array.isArray(h))for(var M=0;M<h.length;M++)Vl(a,h[M],p,v,D);else v=u(v)?!!v.capture:!!v,p=Ds(p),a&&a[vt]?(a=a.i,h=String(h).toString(),h in a.g&&(M=a.g[h],p=pr(M,p,v,D),-1<p&&(xs(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete a.g[h],a.h--)))):a&&(a=mr(a))&&(h=a.g[h.toString()],a=-1,h&&(a=pr(h,p,v,D)),(p=-1<a?h[a]:null)&&Wo(p))}function Wo(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[vt])wt(h.i,a);else{var p=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(p,v,a.capture):h.detachEvent?h.detachEvent(Fl(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=mr(h))?(wt(p,a),p.h==0&&(p.src=null,h[Ns]=null)):xs(a)}}}function Fl(a){return a in qo?qo[a]:qo[a]="on"+a}function zi(a,h){if(a.da)a=!0;else{h=new ct(h,this);var p=a.listener,v=a.ha||a.src;a.fa&&Wo(a),a=p.call(v,h)}return a}function mr(a){return a=a[Ns],a instanceof ks?a:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ds(a){return typeof a=="function"?a:(a[bs]||(a[bs]=function(h){return a.handleEvent(h)}),a[bs])}function De(){fe.call(this),this.i=new ks(this),this.M=this,this.F=null}C(De,fe),De.prototype[vt]=!0,De.prototype.removeEventListener=function(a,h,p,v){Vl(this,a,h,p,v)};function Ze(a,h){var p,v=a.F;if(v)for(p=[];v;v=v.F)p.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new Pe(h,a);else if(h instanceof Pe)h.target=h.target||a;else{var D=h;h=new Pe(v,a),T(h,D)}if(D=!0,p)for(var M=p.length-1;0<=M;M--){var W=h.g=p[M];D=Bi(W,v,!0,h)&&D}if(W=h.g=a,D=Bi(W,v,!0,h)&&D,D=Bi(W,v,!1,h)&&D,p)for(M=0;M<p.length;M++)W=h.g=p[M],D=Bi(W,v,!1,h)&&D}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],v=0;v<p.length;v++)xs(p[v]);delete a.g[h],a.h--}}this.F=null},De.prototype.K=function(a,h,p,v){return this.i.add(String(a),h,!1,p,v)},De.prototype.L=function(a,h,p,v){return this.i.add(String(a),h,!0,p,v)};function Bi(a,h,p,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,M=0;M<h.length;++M){var W=h[M];if(W&&!W.da&&W.capture==p){var xe=W.listener,Tt=W.ha||W.src;W.fa&&wt(a.i,W),D=xe.call(Tt,v)!==!1&&D}}return D&&!v.defaultPrevented}function $i(a,h,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Ul(a){a.g=$i(()=>{a.g=null,a.i&&(a.i=!1,Ul(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class tr extends fe{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ul(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(a){fe.call(this),this.h=a,this.g={}}C(Wr,fe);var Go=[];function Ko(a){V(a.g,function(h,p){this.g.hasOwnProperty(p)&&Wo(h)},a),a.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Ko(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qo=l.JSON.stringify,zl=l.JSON.parse,Ls=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function js(){}js.prototype.h=null;function Os(a){return a.h||(a.h=a.i())}function Bl(){}var Gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yo(){Pe.call(this,"d")}C(Yo,Pe);function Ms(){Pe.call(this,"c")}C(Ms,Pe);var gr={},b=null;function O(){return b=b||new De}gr.La="serverreachability";function F(a){Pe.call(this,gr.La,a)}C(F,Pe);function q(a){const h=O();Ze(h,new F(h))}gr.STAT_EVENT="statevent";function Y(a,h){Pe.call(this,gr.STAT_EVENT,a),this.stat=h}C(Y,Pe);function te(a){const h=O();Ze(h,new Y(h,a))}gr.Ma="timingevent";function re(a,h){Pe.call(this,gr.Ma,a),this.size=h}C(re,Pe);function Q(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function ae(){this.g=!0}ae.prototype.xa=function(){this.g=!1};function le(a,h,p,v,D,M){a.info(function(){if(a.g)if(M)for(var W="",xe=M.split("&"),Tt=0;Tt<xe.length;Tt++){var Ie=xe[Tt].split("=");if(1<Ie.length){var Dt=Ie[0];Ie=Ie[1];var Lt=Dt.split("_");W=2<=Lt.length&&Lt[1]=="type"?W+(Dt+"="+Ie+"&"):W+(Dt+"=redacted&")}}else W=null;else W=M;return"XMLHTTP REQ ("+v+") [attempt "+D+"]: "+h+`
`+p+`
`+W})}function ut(a,h,p,v,D,M,W){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+D+"]: "+h+`
`+p+`
`+M+" "+W})}function Fe(a,h,p,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+ke(a,p)+(v?" "+v:"")})}function se(a,h){a.info(function(){return"TIMEOUT: "+h})}ae.prototype.info=function(){};function ke(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var v=p[a];if(!(2>v.length)){var D=v[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var W=1;W<D.length;W++)D[W]=""}}}}return Qo(p)}catch{return h}}var $e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},En;function On(){}C(On,js),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},En=new On;function Wt(a,h,p,v){this.j=a,this.i=h,this.l=p,this.R=v||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var ln={},Qr={};function Yr(a,h,p){a.L=1,a.v=ql(wr(h)),a.m=p,a.P=!0,Hi(a,null)}function Hi(a,h){a.F=Date.now(),It(a),a.A=wr(a.v);var p=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),gg(p.i,"t",v),a.C=0,p=a.j.J,a.h=new yr,a.g=Lg(a.j,p?h:null,!a.m),0<a.O&&(a.M=new tr(g(a.Y,a,a.g),a.O)),h=a.U,p=a.g,v=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Go[0]=D.toString()),D=Go);for(var M=0;M<D.length;M++){var W=er(p,D[M],v||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),q(),le(a.i,a.u,a.A,a.l,a.R,a.m)}Wt.prototype.ca=function(a){a=a.target;const h=this.M;h&&Er(a)==3?h.j():this.Y(a)},Wt.prototype.Y=function(a){try{if(a==this.g)e:{const Lt=Er(this.g);var h=this.g.Ba();const Us=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Tg(this.g)))){this.J||Lt!=4||h==7||(h==8||0>=Us?q(3):q(2)),_r(this);var p=this.g.Z();this.X=p;t:if(pe(this)){var v=Tg(this.g);a="";var D=v.length,M=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),Xr(this);var W="";break t}this.h.i=new l.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,a+=this.h.i.decode(v[h],{stream:!(M&&h==D-1)});v.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,ut(this.i,this.u,this.A,this.l,this.R,Lt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,Tt=this.g;if((xe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(xe)){var Ie=xe;break t}}Ie=null}if(p=Ie)Fe(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kd(this,p);else{this.o=!1,this.s=3,te(12),vr(this),Xr(this);break e}}if(this.P){p=!0;let Mn;for(;!this.J&&this.C<W.length;)if(Mn=Et(this,W),Mn==Qr){Lt==4&&(this.s=4,te(14),p=!1),Fe(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==ln){this.s=4,te(15),Fe(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Fe(this.i,this.l,Mn,null),kd(this,Mn);if(pe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||W.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)Fe(this.i,this.l,W,"[Invalid Chunked Response]"),vr(this),Xr(this);else if(0<W.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Od(Dt),Dt.M=!0,te(11))}}else Fe(this.i,this.l,W,null),kd(this,W);Lt==4&&vr(this),this.o&&!this.J&&(Lt==4?kg(this.j,this):(this.o=!1,It(this)))}else x1(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),vr(this),Xr(this)}}}catch{}finally{}};function pe(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Et(a,h){var p=a.C,v=h.indexOf(`
`,p);return v==-1?Qr:(p=Number(h.substring(p,v)),isNaN(p)?ln:(v+=1,v+p>h.length?Qr:(h=h.slice(v,v+p),a.C=v+p,h)))}Wt.prototype.cancel=function(){this.J=!0,vr(this)};function It(a){a.S=Date.now()+a.I,rt(a,a.I)}function rt(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Q(g(a.ba,a),h)}function _r(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Wt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(se(this.i,this.A),this.L!=2&&(q(),te(17)),vr(this),this.s=2,Xr(this)):rt(this,this.S-a)};function Xr(a){a.j.G==0||a.J||kg(a.j,a)}function vr(a){_r(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Ko(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function kd(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||Nd(p.h,a))){if(!a.K&&Nd(p.h,a)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var D=v;if(D[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Yl(p),Kl(p);else break e;jd(p),te(18)}}else p.za=D[1],0<p.za-p.T&&37500>D[2]&&p.F&&p.v==0&&!p.C&&(p.C=Q(g(p.Za,p),6e3));if(1>=ag(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Wi(p,11)}else if((a.K||p.g==a)&&Yl(p),!I(h))for(D=p.Da.g.parse(h),h=0;h<D.length;h++){let Ie=D[h];if(p.T=Ie[0],Ie=Ie[1],p.G==2)if(Ie[0]=="c"){p.K=Ie[1],p.ia=Ie[2];const Dt=Ie[3];Dt!=null&&(p.la=Dt,p.j.info("VER="+p.la));const Lt=Ie[4];Lt!=null&&(p.Aa=Lt,p.j.info("SVER="+p.Aa));const Us=Ie[5];Us!=null&&typeof Us=="number"&&0<Us&&(v=1.5*Us,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const Mn=a.g;if(Mn){const Jl=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jl){var M=v.h;M.g||Jl.indexOf("spdy")==-1&&Jl.indexOf("quic")==-1&&Jl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(bd(M,M.h),M.h=null))}if(v.D){const Md=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Md&&(v.ya=Md,Le(v.I,v.D,Md))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var W=a;if(v.qa=Dg(v,v.J?v.ia:null,v.W),W.K){lg(v.h,W);var xe=W,Tt=v.L;Tt&&(xe.I=Tt),xe.B&&(_r(xe),It(xe)),v.g=W}else Pg(v);0<p.i.length&&Ql(p)}else Ie[0]!="stop"&&Ie[0]!="close"||Wi(p,7);else p.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Wi(p,7):Ld(p):Ie[0]!="noop"&&p.l&&p.l.ta(Ie),p.v=0)}}q(4)}catch{}}var f1=class{constructor(a,h){this.g=a,this.map=h}};function sg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function og(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ag(a){return a.h?1:a.g?a.g.size:0}function Nd(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function bd(a,h){a.g?a.g.add(h):a.h=h}function lg(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}sg.prototype.cancel=function(){if(this.i=cg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function cg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return P(a.i)}function p1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],p=a.length,v=0;v<p;v++)h.push(a[v]);return h}h=[],p=0;for(v in a)h[p++]=a[v];return h}function m1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const v in a)h[p++]=v;return h}}}function ug(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=m1(a),v=p1(a),D=v.length,M=0;M<D;M++)h.call(void 0,v[M],p&&p[M],a)}var dg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g1(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var v=a[p].indexOf("="),D=null;if(0<=v){var M=a[p].substring(0,v);D=a[p].substring(v+1)}else M=a[p];h(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function qi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof qi){this.h=a.h,$l(this,a.j),this.o=a.o,this.g=a.g,Hl(this,a.s),this.l=a.l;var h=a.i,p=new Zo;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),hg(this,p),this.m=a.m}else a&&(h=String(a).match(dg))?(this.h=!1,$l(this,h[1]||"",!0),this.o=Xo(h[2]||""),this.g=Xo(h[3]||"",!0),Hl(this,h[4]),this.l=Xo(h[5]||"",!0),hg(this,h[6]||"",!0),this.m=Xo(h[7]||"")):(this.h=!1,this.i=new Zo(null,this.h))}qi.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Jo(h,fg,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Jo(h,fg,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Jo(p,p.charAt(0)=="/"?v1:_1,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Jo(p,E1)),a.join("")};function wr(a){return new qi(a)}function $l(a,h,p){a.j=p?Xo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Hl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function hg(a,h,p){h instanceof Zo?(a.i=h,I1(a.i,a.h)):(p||(h=Jo(h,w1)),a.i=new Zo(h,a.h))}function Le(a,h,p){a.i.set(h,p)}function ql(a){return Le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Xo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Jo(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,y1),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function y1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var fg=/[#\/\?@]/g,_1=/[#\?:]/g,v1=/[#\?]/g,w1=/[#\?@]/g,E1=/#/g;function Zo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Jr(a){a.g||(a.g=new Map,a.h=0,a.i&&g1(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Zo.prototype,t.add=function(a,h){Jr(this),this.i=null,a=Vs(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function pg(a,h){Jr(a),h=Vs(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function mg(a,h){return Jr(a),h=Vs(a,h),a.g.has(h)}t.forEach=function(a,h){Jr(this),this.g.forEach(function(p,v){p.forEach(function(D){a.call(h,D,v,this)},this)},this)},t.na=function(){Jr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){const D=a[v];for(let M=0;M<D.length;M++)p.push(h[v])}return p},t.V=function(a){Jr(this);let h=[];if(typeof a=="string")mg(this,a)&&(h=h.concat(this.g.get(Vs(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Jr(this),this.i=null,a=Vs(this,a),mg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function gg(a,h,p){pg(a,h),0<p.length&&(a.i=null,a.g.set(Vs(a,h),P(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];const M=encodeURIComponent(String(v)),W=this.V(v);for(v=0;v<W.length;v++){var D=M;W[v]!==""&&(D+="="+encodeURIComponent(String(W[v]))),a.push(D)}}return this.i=a.join("&")};function Vs(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function I1(a,h){h&&!a.j&&(Jr(a),a.i=null,a.g.forEach(function(p,v){var D=v.toLowerCase();v!=D&&(pg(this,v),gg(this,D,p))},a)),a.j=h}function T1(a,h){const p=new ae;if(l.Image){const v=new Image;v.onload=w(Zr,p,"TestLoadImage: loaded",!0,h,v),v.onerror=w(Zr,p,"TestLoadImage: error",!1,h,v),v.onabort=w(Zr,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=w(Zr,p,"TestLoadImage: timeout",!1,h,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function S1(a,h){const p=new ae,v=new AbortController,D=setTimeout(()=>{v.abort(),Zr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(M=>{clearTimeout(D),M.ok?Zr(p,"TestPingServer: ok",!0,h):Zr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),Zr(p,"TestPingServer: error",!1,h)})}function Zr(a,h,p,v,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),v(p)}catch{}}function C1(){this.g=new Ls}function A1(a,h,p){const v=p||"";try{ug(a,function(D,M){let W=D;u(D)&&(W=Qo(D)),h.push(v+M+"="+encodeURIComponent(W))})}catch(D){throw h.push(v+"type="+encodeURIComponent("_badmap")),D}}function ea(a){this.l=a.Ub||null,this.j=a.eb||!1}C(ea,js),ea.prototype.g=function(){return new Wl(this.l,this.j)},ea.prototype.i=function(a){return function(){return a}}({});function Wl(a,h){De.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Wl,De),t=Wl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,na(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function yg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?ta(this):na(this),this.readyState==3&&yg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ta(this))},t.Qa=function(a){this.g&&(this.response=a,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(a){a.readyState=4,a.l=null,a.j=null,a.v=null,na(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function na(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function _g(a){let h="";return V(a,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function Dd(a,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=_g(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Le(a,h,p))}function Ye(a){De.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ye,De);var R1=/^https?$/i,P1=["POST","PUT"];t=Ye.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():En.g(),this.v=this.o?Os(this.o):Os(En),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(M){vg(this,M);return}if(a=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var D in v)p.set(D,v[D]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const M of v.keys())p.set(M,v.get(M));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(P1,h,void 0))||v||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,W]of p)this.g.setRequestHeader(M,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ig(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){vg(this,M)}};function vg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,wg(a),Gl(a)}function wg(a){a.A||(a.A=!0,Ze(a,"complete"),Ze(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ze(this,"complete"),Ze(this,"abort"),Gl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gl(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Eg(this):this.bb())},t.bb=function(){Eg(this)};function Eg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Er(a)!=4||a.Z()!=2)){if(a.u&&Er(a)==4)$i(a.Ea,0,a);else if(Ze(a,"readystatechange"),Er(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=W===0){var D=String(a.D).match(dg)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),v=!R1.test(D?D.toLowerCase():"")}p=v}if(p)Ze(a,"complete"),Ze(a,"success");else{a.m=6;try{var M=2<Er(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",wg(a)}}finally{Gl(a)}}}}function Gl(a,h){if(a.g){Ig(a);const p=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Ze(a,"ready");try{p.onreadystatechange=v}catch{}}}function Ig(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Er(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),zl(h)}};function Tg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function x1(a){const h={};a=(a.g&&2<=Er(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(I(a[v]))continue;var p=x(a[v]);const D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const M=h[D]||[];h[D]=M,M.push(p)}y(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Sg(a){this.Aa=0,this.i=[],this.j=new ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,a),this.cb=ra("retryDelaySeedMs",1e4,a),this.Wa=ra("forwardChannelMaxRetries",2,a),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new sg(a&&a.concurrentRequestLimit),this.Da=new C1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sg.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,v){te(0),this.W=a,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=Dg(this,null,this.W),Ql(this)};function Ld(a){if(Cg(a),a.G==3){var h=a.U++,p=wr(a.I);if(Le(p,"SID",a.K),Le(p,"RID",h),Le(p,"TYPE","terminate"),ia(a,p),h=new Wt(a,a.j,h),h.L=2,h.v=ql(wr(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=Lg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),It(h)}bg(a)}function Kl(a){a.g&&(Od(a),a.g.cancel(),a.g=null)}function Cg(a){Kl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Yl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ql(a){if(!og(a.h)&&!a.s){a.s=!0;var h=a.Ga;X||ne(),U||(X(),U=!0),G.add(h,a),a.B=0}}function k1(a,h){return ag(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Q(g(a.Ga,a,h),Ng(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new Wt(this,this.j,a);let M=this.o;if(this.S&&(M?(M=_(M),T(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Rg(this,D,h),p=wr(this.I),Le(p,"RID",a),Le(p,"CVER",22),this.D&&Le(p,"X-HTTP-Session-Id",this.D),ia(this,p),M&&(this.O?h="headers="+encodeURIComponent(String(_g(M)))+"&"+h:this.m&&Dd(p,this.m,M)),bd(this.h,D),this.Ua&&Le(p,"TYPE","init"),this.P?(Le(p,"$req",h),Le(p,"SID","null"),D.T=!0,Yr(D,p,null)):Yr(D,p,h),this.G=2}}else this.G==3&&(a?Ag(this,a):this.i.length==0||og(this.h)||Ag(this))};function Ag(a,h){var p;h?p=h.l:p=a.U++;const v=wr(a.I);Le(v,"SID",a.K),Le(v,"RID",p),Le(v,"AID",a.T),ia(a,v),a.m&&a.o&&Dd(v,a.m,a.o),p=new Wt(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Rg(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),bd(a.h,p),Yr(p,v,h)}function ia(a,h){a.H&&V(a.H,function(p,v){Le(h,v,p)}),a.l&&ug({},function(p,v){Le(h,v,p)})}function Rg(a,h,p){p=Math.min(a.i.length,p);var v=a.l?g(a.l.Na,a.l,a):null;e:{var D=a.i;let M=-1;for(;;){const W=["count="+p];M==-1?0<p?(M=D[0].g,W.push("ofs="+M)):M=0:W.push("ofs="+M);let xe=!0;for(let Tt=0;Tt<p;Tt++){let Ie=D[Tt].g;const Dt=D[Tt].map;if(Ie-=M,0>Ie)M=Math.max(0,D[Tt].g-100),xe=!1;else try{A1(Dt,W,"req"+Ie+"_")}catch{v&&v(Dt)}}if(xe){v=W.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,v}function Pg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;X||ne(),U||(X(),U=!0),G.add(h,a),a.v=0}}function jd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Q(g(a.Fa,a),Ng(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,xg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Q(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Kl(this),xg(this))};function Od(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function xg(a){a.g=new Wt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=wr(a.qa);Le(h,"RID","rpc"),Le(h,"SID",a.K),Le(h,"AID",a.T),Le(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Le(h,"TO",a.ja),Le(h,"TYPE","xmlhttp"),ia(a,h),a.m&&a.o&&Dd(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=ql(wr(h)),p.m=null,p.P=!0,Hi(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Kl(this),jd(this),te(19))};function Yl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function kg(a,h){var p=null;if(a.g==h){Yl(a),Od(a),a.g=null;var v=2}else if(Nd(a.h,h))p=h.D,lg(a.h,h),v=1;else return;if(a.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var D=a.B;v=O(),Ze(v,new re(v,p)),Ql(a)}else Pg(a);else if(D=h.s,D==3||D==0&&0<h.X||!(v==1&&k1(a,h)||v==2&&jd(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),D){case 1:Wi(a,5);break;case 4:Wi(a,10);break;case 3:Wi(a,6);break;default:Wi(a,2)}}}function Ng(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Wi(a,h){if(a.j.info("Error code "+h),h==2){var p=g(a.fb,a),v=a.Xa;const D=!v;v=new qi(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$l(v,"https"),ql(v),D?T1(v.toString(),p):S1(v.toString(),p)}else te(2);a.G=0,a.l&&a.l.sa(h),bg(a),Cg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function bg(a){if(a.G=0,a.ka=[],a.l){const h=cg(a.h);(h.length!=0||a.i.length!=0)&&(k(a.ka,h),k(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function Dg(a,h,p){var v=p instanceof qi?wr(p):new qi(p);if(v.g!="")h&&(v.g=h+"."+v.g),Hl(v,v.s);else{var D=l.location;v=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var M=new qi(null);v&&$l(M,v),h&&(M.g=h),D&&Hl(M,D),p&&(M.l=p),v=M}return p=a.D,h=a.ya,p&&h&&Le(v,p,h),Le(v,"VER",a.la),ia(a,v),v}function Lg(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Ye(new ea({eb:p})):new Ye(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jg(){}t=jg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xl(){}Xl.prototype.g=function(a,h){return new cn(a,h)};function cn(a,h){De.call(this),this.g=new Sg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!I(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!I(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Fs(this)}C(cn,De),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ld(this.g)},cn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Qo(a),a=p);h.i.push(new f1(h.Ya++,a)),h.G==3&&Ql(h)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ld(this.g),delete this.g,cn.aa.N.call(this)};function Og(a){Yo.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(Og,Yo);function Mg(){Ms.call(this),this.status=1}C(Mg,Ms);function Fs(a){this.g=a}C(Fs,jg),Fs.prototype.ua=function(){Ze(this.g,"a")},Fs.prototype.ta=function(a){Ze(this.g,new Og(a))},Fs.prototype.sa=function(a){Ze(this.g,new Mg)},Fs.prototype.ra=function(){Ze(this.g,"b")},Xl.prototype.createWebChannel=Xl.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,HI=function(){return new Xl},$I=function(){return O()},BI=gr,Ff={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,Fc=$e,Kr.COMPLETE="complete",zI=Kr,Bl.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",De.prototype.listen=De.prototype.K,Ca=Bl,UI=ea,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,FI=Ye}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new id("@firebase/firestore");function ga(){return vs.logLevel}function ee(t,...e){if(vs.logLevel<=_e.DEBUG){const n=e.map(Em);vs.debug(`Firestore (${Uo}): ${t}`,...n)}}function Br(t,...e){if(vs.logLevel<=_e.ERROR){const n=e.map(Em);vs.error(`Firestore (${Uo}): ${t}`,...n)}}function Ao(t,...e){if(vs.logLevel<=_e.WARN){const n=e.map(Em);vs.warn(`Firestore (${Uo}): ${t}`,...n)}}function Em(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+t;throw Br(e),new Error(e)}function be(t,e){t||ce()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class Yb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Xb{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new qI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ft(e)}}class Jb{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zb{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Jb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new eD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Ro(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new pt(0,0))}static max(){return new ue(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends hl{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const rD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends hl{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return rD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Me.fromString(e))}static fromName(e){return new ie(Me.fromString(e).popFirst(5))}static empty(){return new ie(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Me(e.slice()))}}function iD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Ai(i,ie.empty(),e)}function sD(t){return new Ai(t.readTime,t.key,-1)}class Ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ai(ue.min(),ie.empty(),-1)}static max(){return new Ai(ue.max(),ie.empty(),-1)}}function oD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==aD)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function cD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Im.oe=-1;function dd(t){return t==null}function Au(t){return t===0&&1/t==-1/0}function uD(t){return typeof t=="number"&&Number.isInteger(t)&&!Au(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new kt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KI("Invalid base64 string: "+s):s}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(be(!!t),typeof t=="string"){let e=0;const n=dD.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sm(t){const e=t.mapValue.fields.__previous_value__;return Tm(e)?Sm(e):e}function fl(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tm(t)?4:fD(t)?9007199254740991:10:ce()}function ur(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ri(i.timestampValue),l=Ri(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ws(i.bytesValue).isEqual(ws(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),l=ot(s.doubleValue);return o===l?Au(o)===Au(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(tv(o)!==tv(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ur(o[c],l[c])))return!1;return!0}(t,e);default:return ce()}}function ml(t,e){return(t.values||[]).find(n=>ur(n,e))!==void 0}function Po(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=ot(s.integerValue||s.doubleValue),c=ot(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return rv(t.timestampValue,e.timestampValue);case 4:return rv(fl(t),fl(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ws(s),c=ws(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const f=Se(l[u],c[u]);if(f!==0)return f}return Se(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Se(ot(s.latitude),ot(o.latitude));return l!==0?l:Se(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let u=0;u<l.length&&u<c.length;++u){const f=Po(l[u],c[u]);if(f)return f}return Se(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===vc.mapValue&&o===vc.mapValue)return 0;if(s===vc.mapValue)return 1;if(o===vc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const g=Se(c[m],f[m]);if(g!==0)return g;const w=Po(l[c[m]],u[f[m]]);if(w!==0)return w}return Se(c.length,f.length)}(t.mapValue,e.mapValue);default:throw ce()}}function rv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=Ri(t),r=Ri(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function xo(t){return Uf(t)}function Uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Uf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Uf(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function iv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zf(t){return!!t&&"integerValue"in t}function Cm(t){return!!t&&"arrayValue"in t}function sv(t){return!!t&&"nullValue"in t}function ov(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uc(t){return!!t&&"mapValue"in t}function za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=za(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){As(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new en(za(this.value))}}function QI(t){const e=[];return As(t.fields,(n,r)=>{const i=new Pt([n]);if(Uc(r)){const s=QI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new zt(e,0,ue.min(),ue.min(),ue.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,ue.min(),ue.min(),en.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ue.min(),ue.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.position=e,this.inclusive=n}}function av(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function pD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{}class lt extends YI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gD(e,n,r):n==="array-contains"?new vD(e,r):n==="in"?new wD(e,r):n==="not-in"?new ED(e,r):n==="array-contains-any"?new ID(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yD(e,r):new _D(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Po(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends YI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zn(e,n)}matches(e){return XI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XI(t){return t.op==="and"}function JI(t){return mD(t)&&XI(t)}function mD(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Bf(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+xo(t.value);if(JI(t))return t.filters.map(e=>Bf(e)).join(",");{const e=t.filters.map(n=>Bf(n)).join(",");return`${t.op}(${e})`}}function ZI(t,e){return t instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&ur(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&ZI(o,i.filters[l]),!0):!1}(t,e):void ce()}function eT(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"}(t):"Filter"}class gD extends lt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class yD extends lt{constructor(e,n){super(e,"in",n),this.keys=tT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _D extends lt{constructor(e,n){super(e,"not-in",n),this.keys=tT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class vD extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cm(n)&&ml(n.arrayValue,this.value)}}class wD extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ml(this.value.arrayValue,n)}}class ED extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ml(this.value.arrayValue,n)}}class ID extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function cv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new TD(t,e,n,r,i,s,o)}function Am(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xo(r)).join(",")),e.ue=n}return e.ue}function Rm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lv(t.startAt,e.startAt)&&lv(t.endAt,e.endAt)}function $f(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SD(t,e,n,r,i,s,o,l){return new bl(t,e,n,r,i,s,o,l)}function hd(t){return new bl(t)}function uv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nT(t){return t.collectionGroup!==null}function Ba(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new kt(Pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Pu(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new Pu(Pt.keyField(),r))}return e.ce}function lr(t){const e=de(t);return e.le||(e.le=CD(e,Ba(t))),e.le}function CD(t,e){if(t.limitType==="F")return cv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Pu(i.field,s)});const n=t.endAt?new Ru(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ru(t.startAt.position,t.startAt.inclusive):null;return cv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hf(t,e){const n=t.filters.concat([e]);return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qf(t,e,n){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fd(t,e){return Rm(lr(t),lr(e))&&t.limitType===e.limitType}function rT(t){return`${Am(lr(t))}|lt:${t.limitType}`}function Hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eT(i)).join(", ")}]`),dd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xo(i)).join(",")),`Target(${r})`}(lr(t))}; limitType=${t.limitType})`}function pd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ba(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=av(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Ba(r),i)||r.endAt&&!function(o,l,c){const u=av(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Ba(r),i))}(t,e)}function AD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iT(t){return(e,n)=>{let r=!1;for(const i of Ba(t)){const s=RD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function RD(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Po(c,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Qe(ie.comparator);function $r(){return PD}const sT=new Qe(ie.comparator);function Aa(...t){let e=sT;for(const n of t)e=e.insert(n.key,n);return e}function oT(t){let e=sT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rs(){return $a()}function aT(){return $a()}function $a(){return new zo(t=>t.toString(),(t,e)=>t.isEqual(e))}const xD=new Qe(ie.comparator),kD=new kt(ie.comparator);function ye(...t){let e=kD;for(const n of t)e=e.add(n);return e}const ND=new kt(Se);function bD(){return ND}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function cT(t){return{integerValue:""+t}}function DD(t,e){return uD(e)?cT(e):lT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this._=void 0}}function LD(t,e,n){return t instanceof xu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Tm(s)&&(s=Sm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof gl?dT(t,e):t instanceof yl?hT(t,e):function(i,s){const o=uT(i,s),l=dv(o)+dv(i.Pe);return zf(o)&&zf(i.Pe)?cT(l):lT(i.serializer,l)}(t,e)}function jD(t,e,n){return t instanceof gl?dT(t,e):t instanceof yl?hT(t,e):n}function uT(t,e){return t instanceof ku?function(r){return zf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class xu extends md{}class gl extends md{constructor(e){super(),this.elements=e}}function dT(t,e){const n=fT(e);for(const r of t.elements)n.some(i=>ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class yl extends md{constructor(e){super(),this.elements=e}}function hT(t,e){let n=fT(e);for(const r of t.elements)n=n.filter(i=>!ur(i,r));return{arrayValue:{values:n}}}class ku extends md{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dv(t){return ot(t.integerValue||t.doubleValue)}function fT(t){return Cm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gl&&i instanceof gl||r instanceof yl&&i instanceof yl?Ro(r.elements,i.elements,ur):r instanceof ku&&i instanceof ku?ur(r.Pe,i.Pe):r instanceof xu&&i instanceof xu}(t.transform,e.transform)}class MD{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gd{}function pT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pm(t.key,Yn.none()):new Dl(t.key,t.data,Yn.none());{const n=t.data,r=en.empty();let i=new kt(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ui(t.key,r,new fn(i.toArray()),Yn.none())}}function VD(t,e,n){t instanceof Dl?function(i,s,o){const l=i.value.clone(),c=fv(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(i,s,o){if(!zc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=fv(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(mT(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ha(t,e,n,r){return t instanceof Dl?function(s,o,l,c){if(!zc(s.precondition,o))return l;const u=s.value.clone(),f=pv(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ui?function(s,o,l,c){if(!zc(s.precondition,o))return l;const u=pv(s.fieldTransforms,c,o),f=o.data;return f.setAll(mT(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return zc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function FD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uT(r.transform,i||null);s!=null&&(n===null&&(n=en.empty()),n.set(r.field,s))}return n||null}function hv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ro(r,i,(s,o)=>OD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dl extends gd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends gd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fv(t,e,n){const r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,jD(o,l,n[i]))}return r}function pv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,LD(s,o,e))}return r}class Pm extends gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UD extends gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ha(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ha(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=pT(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,r)=>hv(n,r))&&Ro(this.baseMutations,e.baseMutations,(n,r)=>hv(n,r))}}class xm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return xD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new xm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,ve;function HD(t){switch(t){default:return ce();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function gT(t){if(t===void 0)return Br("GRPC error has no .code"),B.UNKNOWN;switch(t){case it.OK:return B.OK;case it.CANCELLED:return B.CANCELLED;case it.UNKNOWN:return B.UNKNOWN;case it.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case it.INTERNAL:return B.INTERNAL;case it.UNAVAILABLE:return B.UNAVAILABLE;case it.UNAUTHENTICATED:return B.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case it.NOT_FOUND:return B.NOT_FOUND;case it.ALREADY_EXISTS:return B.ALREADY_EXISTS;case it.PERMISSION_DENIED:return B.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case it.ABORTED:return B.ABORTED;case it.OUT_OF_RANGE:return B.OUT_OF_RANGE;case it.UNIMPLEMENTED:return B.UNIMPLEMENTED;case it.DATA_LOSS:return B.DATA_LOSS;default:return ce()}}(ve=it||(it={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new as([4294967295,4294967295],0);function mv(t){const e=qD().encode(t),n=new VI;return n.update(e),new Uint8Array(n.digest())}function gv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new as([n,r],0),new as([i,s],0)]}class km{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ra(`Invalid padding: ${n}`);if(r<0)throw new Ra(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=as.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(as.fromNumber(r)));return i.compare(WD)===1&&(i=new as([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=mv(e),[r,i]=gv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new km(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=mv(e),[r,i]=gv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yd(ue.min(),i,new Qe(Se),$r(),ye())}}class Ll{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ll(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class yT{constructor(e,n){this.targetId=e,this.me=n}}class _T{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yv{constructor(){this.fe=0,this.ge=vv(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Ll(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=vv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GD{constructor(e){this.Le=e,this.Be=new Map,this.ke=$r(),this.qe=_v(),this.Qe=new Qe(Se)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if($f(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,zt.newNoDocument(o,ue.min()))}else be(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ws(r).toUint8Array()}catch(c){if(c instanceof KI)return Ao("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new km(o,i,s)}catch(c){return Ao(c instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&$f(l.target)){const c=new ie(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,zt.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ye();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new yd(e,n,this.Qe,this.ke,r);return this.ke=$r(),this.qe=_v(),this.Qe=new Qe(Se),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(Se),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _v(){return new Qe(ie.comparator)}function vv(){return new Qe(ie.comparator)}const KD={asc:"ASCENDING",desc:"DESCENDING"},QD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YD={and:"AND",or:"OR"};class XD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wf(t,e){return t.useProto3Json||dd(e)?e:{value:e}}function Nu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JD(t,e){return Nu(t,e.toTimestamp())}function cr(t){return be(!!t),ue.fromTimestamp(function(n){const r=Ri(n);return new pt(r.seconds,r.nanos)}(t))}function Nm(t,e){return Gf(t,e).canonicalString()}function Gf(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wT(t){const e=Me.fromString(t);return be(CT(e)),e}function Kf(t,e){return Nm(t.databaseId,e.path)}function Th(t,e){const n=wT(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(IT(n))}function ET(t,e){return Nm(t.databaseId,e)}function ZD(t){const e=wT(t);return e.length===4?Me.emptyPath():IT(e)}function Qf(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IT(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wv(t,e,n){return{name:Kf(t,e),fields:n.value.mapValue.fields}}function e2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(be(f===void 0||typeof f=="string"),Ht.fromBase64String(f||"")):(be(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ht.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const f=u.code===void 0?B.UNKNOWN:gT(u.code);return new Z(f,u.message||"")}(o);n=new _T(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Th(t,r.document.name),s=cr(r.document.updateTime),o=r.document.createTime?cr(r.document.createTime):ue.min(),l=new en({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(i,s,o,l),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Bc(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Th(t,r.document),s=r.readTime?cr(r.readTime):ue.min(),o=zt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Bc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Th(t,r.document),s=r.removedTargetIds||[];n=new Bc([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new $D(i,s),l=r.targetId;n=new yT(l,o)}}return n}function t2(t,e){let n;if(e instanceof Dl)n={update:wv(t,e.key,e.value)};else if(e instanceof Pm)n={delete:Kf(t,e.key)};else if(e instanceof Ui)n={update:wv(t,e.key,e.data),updateMask:u2(e.fieldMask)};else{if(!(e instanceof UD))return ce();n={verify:Kf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof xu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof gl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof yl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ku)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:JD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function n2(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?cr(i.updateTime):cr(s);return o.isEqual(ue.min())&&(o=cr(s)),new MD(o,i.transformResults||[])}(n,e))):[]}function r2(t,e){return{documents:[ET(t,e.path)]}}function i2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ET(t,i);const s=function(u){if(u.length!==0)return ST(Zn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(g){return{field:qs(g.field),direction:a2(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Wf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function s2(t){let e=ZD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=TT(m);return g instanceof Zn&&JI(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(C){return new Pu(Ws(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,dd(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,w=m.values||[];return new Ru(w,g)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const g=!m.before,w=m.values||[];return new Ru(w,g)}(n.endAt)),SD(e,i,o,s,l,"F",c,u)}function o2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ws(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ws(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ws(n.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ws(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(Ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>TT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function a2(t){return KD[t]}function l2(t){return QD[t]}function c2(t){return YD[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return Pt.fromServerFormat(t.fieldPath)}function ST(t){return t instanceof lt?function(n){if(n.op==="=="){if(ov(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NAN"}};if(sv(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ov(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NAN"}};if(sv(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(n.field),op:l2(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(i=>ST(i));return r.length===1?r[0]:{compositeFilter:{op:c2(n.op),filters:r}}}(t):ce()}function u2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,i,s=ue.min(),o=ue.min(),l=Ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.ct=e}}function h2(t){const e=s2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this._n=new p2}addToCollectionParentIndex(e,n){return this._n.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ai.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class p2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ko(0)}static Ln(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.changes=new zo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ha(r.mutation,i,fn.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Aa();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=$r();const o=$a(),l=function(){return $a()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ui)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Ha(f.mutation,u,f.mutation.getFieldMask(),pt.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var m;return l.set(u,new g2(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=$a();let i=new Qe((o,l)=>o-l),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||fn.empty();f=l.applyToLocalView(u,f),r.set(c,f);const m=(i.get(l.batchId)||ye()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,f=c.value,m=aT();f.forEach(g=>{if(!s.has(g)){const w=pT(n.get(g),r.get(g));w!==null&&m.set(g,w),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(rs());let l=-1,c=s;return o.next(u=>$.forEach(u,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?$.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ye())).next(f=>({batchId:l,changes:oT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Aa();return this.indexManager.getCollectionParents(e,s).next(l=>$.forEach(l,c=>{const u=function(m,g){return new bl(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,zt.newInvalidDocument(f)))});let l=Aa();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&Ha(f.mutation,u,fn.empty(),pt.now()),pd(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return $.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:h2(i.bundledQuery),readTime:cr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.overlays=new Qe(ie.comparator),this.hr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=rs(),s=n.length+1,o=new ie(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=rs(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const l=rs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=i)););return $.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BD(n,r));let s=this.hr.get(n);s===void 0&&(s=ye(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Pr=new kt(mt.Ir),this.Tr=new kt(mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new mt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ie(new Me([])),r=new mt(n,e),i=new mt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ie(new Me([])),r=new mt(n,e),i=new mt(n,e+1);let s=ye();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||Se(e.pr,n.pr)}static Er(e,n){return Se(e.pr,n.pr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new kt(mt.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zD(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new mt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Se);return n.forEach(i=>{const s=new mt(i,0),o=new mt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),$.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new mt(new ie(s),0);let l=new kt(Se);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.pr)),!0)},o),$.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return $.forEach(n.mutations,i=>{const s=new mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new mt(n,0),i=this.wr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.vr=e,this.docs=function(){return new Qe(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r();const o=n.path,l=new ie(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||oD(sD(f),r)<=0||(i.has(f.key)||pd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Fr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new I2(this)}getSize(e){return $.resolve(this.size)}}class I2 extends m2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.persistence=e,this.Mr=new zo(n=>Am(n),Rm),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new bm,this.targetCount=0,this.Lr=ko.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),$.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.qn(n),$.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.Br={},this.overlays={},this.kr=new Im(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new T2(this),this.indexManager=new f2,this.remoteDocumentCache=function(i){return new E2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new d2(n),this.$r=new _2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new w2(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new C2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return $.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class C2 extends lD{constructor(e){super(),this.currentSequenceNumber=e}}class Dm{constructor(e){this.persistence=e,this.zr=new bm,this.jr=null}static Hr(e){return new Dm(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),$.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,r=>{const i=ie.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return $.or([()=>$.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Lm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return JR()?8:cD(bt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new A2;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ga()<=_e.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(ga()<=_e.DEBUG&&ee("QueryEngine","Query:",Hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ga()<=_e.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(n))):$.resolve())}ji(e,n){if(uv(n))return $.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qf(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,o,c.readTime)?this.ji(e,qf(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return uv(n)||i.isEqual(ue.min())?$.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?$.resolve(null):(ga()<=_e.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(n)),this.es(e,o,n,iD(i,-1)).next(l=>l))})}Zi(e,n){let r=new kt(iT(e));return n.forEach((i,s)=>{pd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ga()<=_e.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Hs(n)),this.zi.getDocumentsMatchingQuery(e,n,Ai.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Qe(Se),this.rs=new zo(s=>Am(s),Rm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function x2(t,e,n,r){return new P2(t,e,n,r)}async function AT(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=ye();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){l.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:l}))})})}function k2(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,f){const m=u.batch,g=m.keys();let w=$.resolve();return g.forEach(C=>{w=w.next(()=>f.getEntry(c,C)).next(P=>{const k=u.docVersions.get(C);be(k!==null),P.version.compareTo(k)<0&&(m.applyToRemoteDocument(P,u),P.isValidDocument()&&(P.setReadTime(u.commitVersion),f.addEntry(P)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ye();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RT(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function N2(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,m)));let w=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(Ht.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(m,w),function(P,k,S){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,w,f)&&l.push(n.Qr.updateTargetData(s,w))});let c=$r(),u=ye();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(b2(s,o,e.documentUpdates).next(f=>{c=f.cs,u=f.ls})),!r.isEqual(ue.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return $.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function b2(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$r();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ee("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function D2(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L2(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Yf(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Nl(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Ev(t,e,n){const r=de(t);let i=ue.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const m=de(c),g=m.rs.get(f);return g!==void 0?$.resolve(m.ns.get(g)):m.Qr.getTargetData(u,f)}(r,o,lr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:ye())).next(l=>(j2(r,AD(e),l),{documents:l,hs:s})))}function j2(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Iv{constructor(){this.activeTargetIds=bD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O2{constructor(){this.no=new Iv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Iv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function Sh(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class U2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=Sh(),c=this.vo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,i).then(f=>(ee("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Ao("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=V2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Sh();return new Promise((o,l)=>{const c=new FI;c.setWithCredentials(!0),c.listenOnce(zI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Fc.NO_ERROR:const f=c.getResponseJson();ee(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Fc.TIMEOUT:ee(Mt,`RPC '${e}' ${s} timed out`),l(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const m=c.getStatus();if(ee(Mt,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const C=function(k){const S=k.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(S)>=0?S:B.UNKNOWN}(w.status);l(new Z(C,w.message))}else l(new Z(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Z(B.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{ee(Mt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(Mt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=Sh(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HI(),l=$I(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new UI({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");ee(Mt,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);let g=!1,w=!1;const C=new F2({lo:k=>{w?ee(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(g||(ee(Mt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),ee(Mt,`RPC '${e}' stream ${i} sending:`,k),m.send(k))},ho:()=>m.close()}),P=(k,S,I)=>{k.listen(S,A=>{try{I(A)}catch(L){setTimeout(()=>{throw L},0)}})};return P(m,Ca.EventType.OPEN,()=>{w||(ee(Mt,`RPC '${e}' stream ${i} transport opened.`),C.mo())}),P(m,Ca.EventType.CLOSE,()=>{w||(w=!0,ee(Mt,`RPC '${e}' stream ${i} transport closed`),C.po())}),P(m,Ca.EventType.ERROR,k=>{w||(w=!0,Ao(Mt,`RPC '${e}' stream ${i} transport errored:`,k),C.po(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),P(m,Ca.EventType.MESSAGE,k=>{var S;if(!w){const I=k.data[0];be(!!I);const A=I,L=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(L){ee(Mt,`RPC '${e}' stream ${i} received error:`,L);const z=L.status;let V=function(E){const T=it[E];if(T!==void 0)return gT(T)}(z),y=L.message;V===void 0&&(V=B.INTERNAL,y="Unknown error status: "+z+" with message "+L.message),w=!0,C.po(new Z(V,y)),m.close()}else ee(Mt,`RPC '${e}' stream ${i} received:`,I),C.yo(I)}}),P(l,BI.STAT_EVENT,k=>{k.stat===Ff.PROXY?ee(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Ff.NOPROXY&&ee(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}}function Ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new XD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new PT(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z2 extends xT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=e2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?cr(o.readTime):ue.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Qf(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=$f(c)?{documents:r2(s,c)}:{query:i2(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=vT(s,o.resumeToken);const u=Wf(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){l.readTime=Nu(s,o.snapshotVersion.toTimestamp());const u=Wf(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=o2(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Qf(this.serializer),n.removeTarget=e,this.i_(n)}}class B2 extends xT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=n2(e.writeResults,e.commitTime),r=cr(e.commitTime);return this.listener.A_(r,n)}return be(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Qf(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>t2(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Gf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(B.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,Gf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class H2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Br(n),this.y_=!1):ee("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Rs(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=de(c);u.M_.add(4),await jl(u),u.N_.set("Unknown"),u.M_.delete(4),await vd(u)}(this))})}),this.N_=new H2(r,i)}}async function vd(t){if(Rs(t))for(const e of t.x_)await e(!0)}async function jl(t){for(const e of t.x_)await e(!1)}function kT(t,e){const n=de(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Vm(n)?Mm(n):Bo(n).Xo()&&Om(n,e))}function jm(t,e){const n=de(t),r=Bo(n);n.F_.delete(e),r.Xo()&&NT(n,e),n.F_.size===0&&(r.Xo()?r.n_():Rs(n)&&n.N_.set("Unknown"))}function Om(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(t).P_(e)}function NT(t,e){t.L_.xe(e),Bo(t).I_(e)}function Mm(t){t.L_=new GD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Bo(t).start(),t.N_.w_()}function Vm(t){return Rs(t)&&!Bo(t).Zo()&&t.F_.size>0}function Rs(t){return de(t).M_.size===0}function bT(t){t.L_=void 0}async function W2(t){t.N_.set("Online")}async function G2(t){t.F_.forEach((e,n)=>{Om(t,e)})}async function K2(t,e){bT(t),Vm(t)?(t.N_.D_(e),Mm(t)):t.N_.set("Unknown")}async function Q2(t,e,n){if(t.N_.set("Online"),e instanceof _T&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bu(t,r)}else if(e instanceof Bc?t.L_.Ke(e):e instanceof yT?t.L_.He(e):t.L_.We(e),!n.isEqual(ue.min()))try{const r=await RT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.F_.get(u);f&&s.F_.set(u,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const f=s.F_.get(c);if(!f)return;s.F_.set(c,f.withResumeToken(Ht.EMPTY_BYTE_STRING,f.snapshotVersion)),NT(s,c);const m=new di(f.target,c,u,f.sequenceNumber);Om(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await bu(t,r)}}async function bu(t,e,n){if(!Nl(e))throw e;t.M_.add(1),await jl(t),t.N_.set("Offline"),n||(n=()=>RT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await vd(t)})}function DT(t,e){return e().catch(n=>bu(t,n,e))}async function wd(t){const e=de(t),n=Pi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Y2(e);)try{const i=await D2(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,X2(e,i)}catch(i){await bu(e,i)}LT(e)&&jT(e)}function Y2(t){return Rs(t)&&t.v_.length<10}function X2(t,e){t.v_.push(e);const n=Pi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function LT(t){return Rs(t)&&!Pi(t).Zo()&&t.v_.length>0}function jT(t){Pi(t).start()}async function J2(t){Pi(t).V_()}async function Z2(t){const e=Pi(t);for(const n of t.v_)e.d_(n.mutations)}async function eL(t,e,n){const r=t.v_.shift(),i=xm.from(r,e,n);await DT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wd(t)}async function tL(t,e){e&&Pi(t).E_&&await async function(r,i){if(function(o){return HD(o)&&o!==B.ABORTED}(i.code)){const s=r.v_.shift();Pi(r).t_(),await DT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wd(r)}}(t,e),LT(t)&&jT(t)}async function Sv(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Rs(n);n.M_.add(3),await jl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await vd(n)}async function nL(t,e){const n=de(t);e?(n.M_.delete(2),await vd(n)):e||(n.M_.add(2),await jl(n),n.N_.set("Unknown"))}function Bo(t){return t.B_||(t.B_=function(n,r,i){const s=de(n);return s.f_(),new z2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:W2.bind(null,t),To:G2.bind(null,t),Ao:K2.bind(null,t),h_:Q2.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Vm(t)?Mm(t):t.N_.set("Unknown")):(await t.B_.stop(),bT(t))})),t.B_}function Pi(t){return t.k_||(t.k_=function(n,r,i){const s=de(n);return s.f_(),new B2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:J2.bind(null,t),Ao:tL.bind(null,t),R_:Z2.bind(null,t),A_:eL.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await wd(t)):(await t.k_.stop(),t.v_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Fm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Um(t,e){if(Br("AsyncQueue",`${e}: ${t}`),Nl(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Aa(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new go(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.q_=new Qe(ie.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ce():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class No{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new No(e,n,go.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class iL{constructor(){this.queries=new zo(e=>rT(e),fd),this.onlineState="Unknown",this.z_=new Set}}async function zm(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new rL,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Um(o,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&$m(n)}async function Bm(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sL(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&$m(n)}function oL(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function $m(t){t.z_.forEach(e=>{e.next()})}var Xf,Av;(Av=Xf||(Xf={})).J_="default",Av.Cache="cache";class Hm{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Xf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.key=e}}class MT{constructor(e){this.key=e}}class aL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ye(),this.mutatedKeys=ye(),this.Ia=iT(e),this.Ta=new go(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Cv,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),w=pd(this.query,m)?m:null,C=!!g&&this.mutatedKeys.has(g.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;g&&w?g.data.isEqual(w.data)?C!==P&&(r.track({type:3,doc:w}),k=!0):this.Ra(g,w)||(r.track({type:2,doc:w}),k=!0,(c&&this.Ia(w,c)>0||u&&this.Ia(w,u)<0)&&(l=!0)):!g&&w?(r.track({type:0,doc:w}),k=!0):g&&!w&&(r.track({type:1,doc:g}),k=!0,(c||u)&&(l=!0)),k&&(w?(o=o.add(w),s=P?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,m)=>function(w,C){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return P(w)-P(C)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new No(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Cv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ye(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new MT(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new OT(r))}),n}pa(e){this.la=e.hs,this.Pa=ye();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return No.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class lL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cL{constructor(e){this.key=e,this.wa=!1}}class uL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new zo(l=>rT(l),fd),this.Da=new Map,this.Ca=new Set,this.va=new Qe(ie.comparator),this.Fa=new Map,this.Ma=new bm,this.xa={},this.Oa=new Map,this.Na=ko.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function dL(t,e,n=!0){const r=$T(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await VT(r,e,n,!0),i}async function hL(t,e){const n=$T(t);await VT(n,e,!0,!1)}async function VT(t,e,n,r){const i=await L2(t.localStore,lr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await fL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&kT(t.remoteStore,i),l}async function fL(t,e,n,r,i){t.Ba=(m,g,w)=>async function(P,k,S,I){let A=k.view.da(S);A.Xi&&(A=await Ev(P.localStore,k.query,!1).then(({documents:y})=>k.view.da(y,A)));const L=I&&I.targetChanges.get(k.targetId),z=I&&I.targetMismatches.get(k.targetId)!=null,V=k.view.applyChanges(A,P.isPrimaryClient,L,z);return Pv(P,k.targetId,V.fa),V.snapshot}(t,m,g,w);const s=await Ev(t.localStore,e,!0),o=new aL(e,s.hs),l=o.da(s.documents),c=Ll.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);Pv(t,n,u.fa);const f=new lL(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function pL(t,e,n){const r=de(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!fd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jm(r.remoteStore,i.targetId),Jf(r,i.targetId)}).catch(kl)):(Jf(r,i.targetId),await Yf(r.localStore,i.targetId,!0))}async function mL(t,e){const n=de(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jm(n.remoteStore,r.targetId))}async function gL(t,e,n){const r=TL(t);try{const i=await function(o,l){const c=de(o),u=pt.now(),f=l.reduce((w,C)=>w.add(C.key),ye());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=$r(),P=ye();return c.os.getEntries(w,f).next(k=>{C=k,C.forEach((S,I)=>{I.isValidDocument()||(P=P.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,C)).next(k=>{m=k;const S=[];for(const I of l){const A=FD(I,m.get(I.key).overlayedDocument);A!=null&&S.push(new Ui(I.key,A,QI(A.value.mapValue),Yn.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,S,l)}).next(k=>{g=k;const S=k.applyToLocalDocumentSet(m,P);return c.documentOverlayCache.saveOverlays(w,k.batchId,S)})}).then(()=>({batchId:g.batchId,changes:oT(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.xa[o.currentUser.toKey()];u||(u=new Qe(Se)),u=u.insert(l,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ol(r,i.changes),await wd(r.remoteStore)}catch(i){const s=Um(i,"Failed to persist write");n.reject(s)}}async function FT(t,e){const n=de(t);try{const r=await N2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?be(o.wa):i.removedDocuments.size>0&&(be(o.wa),o.wa=!1))}),await Ol(n,r,e)}catch(r){await kl(r)}}function Rv(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=de(o);c.onlineState=l;let u=!1;c.queries.forEach((f,m)=>{for(const g of m.U_)g.j_(l)&&(u=!0)}),u&&$m(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yL(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Qe(ie.comparator);o=o.insert(s,zt.newNoDocument(s,ue.min()));const l=ye().add(s),c=new yd(ue.min(),new Map,new Qe(Se),o,l);await FT(r,c),r.va=r.va.remove(s),r.Fa.delete(e),qm(r)}else await Yf(r.localStore,e,!1).then(()=>Jf(r,e,n)).catch(kl)}async function _L(t,e){const n=de(t),r=e.batch.batchId;try{const i=await k2(n.localStore,e);zT(n,r,null),UT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ol(n,i)}catch(i){await kl(i)}}async function vL(t,e,n){const r=de(t);try{const i=await function(o,l){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(be(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);zT(r,e,n),UT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ol(r,i)}catch(i){await kl(i)}}function UT(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function zT(t,e,n){const r=de(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Jf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||BT(t,r)})}function BT(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(jm(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),qm(t))}function Pv(t,e,n){for(const r of n)r instanceof OT?(t.Ma.addReference(r.key,e),wL(t,r)):r instanceof MT?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||BT(t,r.key)):ce()}function wL(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.Ca.add(r),qm(t))}function qm(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ie(Me.fromString(e)),r=t.Na.next();t.Fa.set(r,new cL(n)),t.va=t.va.insert(n,r),kT(t.remoteStore,new di(lr(hd(n.path)),r,"TargetPurposeLimboResolution",Im.oe))}}async function Ol(t,e,n){const r=de(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const f=u&&!u.fromCache;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Lm.Ki(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(c,u){const f=de(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>$.forEach(u,g=>$.forEach(g.qi,w=>f.persistence.referenceDelegate.addReference(m,g.targetId,w)).next(()=>$.forEach(g.Qi,w=>f.persistence.referenceDelegate.removeReference(m,g.targetId,w)))))}catch(m){if(!Nl(m))throw m;ee("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const g=m.targetId;if(!m.fromCache){const w=f.ns.get(g),C=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(C);f.ns=f.ns.insert(g,P)}}}(r.localStore,s))}async function EL(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await AT(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(c=>{c.reject(new Z(B.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ol(n,r.us)}}function IL(t,e){const n=de(t),r=n.Fa.get(e);if(r&&r.wa)return ye().add(r.key);{let i=ye();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function $T(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yL.bind(null,e),e.Sa.h_=sL.bind(null,e.eventManager),e.Sa.ka=oL.bind(null,e.eventManager),e}function TL(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_L.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vL.bind(null,e),e}class xv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return x2(this.persistence,new R2,e.initialUser,this.serializer)}createPersistence(e){return new S2(Dm.Hr,this.serializer)}createSharedClientState(e){return new O2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class SL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EL.bind(null,this.syncEngine),await nL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iL}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),r=function(s){return new U2(s)}(e.databaseInfo);return function(s,o,l,c){return new $2(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new q2(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Rv(this.syncEngine,n,0),function(){return Tv.D()?new Tv:new M2}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,f){const m=new uL(i,s,o,l,c,u);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);ee("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await jl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=WI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Um(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ah(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RL(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Sv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Sv(e.remoteStore,i)),t._onlineComponents=e}function AL(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function RL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ah(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!AL(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await Ah(t,new xv)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Ah(t,new xv);return t._offlineComponents}async function HT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await kv(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await kv(t,new SL))),t._onlineComponents}function PL(t){return HT(t).then(e=>e.syncEngine)}async function Du(t){const e=await HT(t),n=e.eventManager;return n.onListen=dL.bind(null,e.syncEngine),n.onUnlisten=pL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mL.bind(null,e.syncEngine),n}function xL(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new Wm({next:g=>{o.enqueueAndForget(()=>Bm(s,m));const w=g.docs.has(l);!w&&g.fromCache?u.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&c&&c.source==="server"?u.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new Hm(hd(l.path),f,{includeMetadataChanges:!0,ra:!0});return zm(s,m)}(await Du(t),t.asyncQueue,e,n,r)),r.promise}function kL(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new Wm({next:g=>{o.enqueueAndForget(()=>Bm(s,m)),g.fromCache&&c.source==="server"?u.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new Hm(l,f,{includeMetadataChanges:!0,ra:!0});return zm(s,m)}(await Du(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NL(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bv(t){if(!ie.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dv(t){if(ie.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ed(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qb;switch(r.type){case"firstParty":return new Zb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nv.get(n);r&&(ee("ComponentProvider","Removing Datastore"),Nv.delete(n),r.terminate())}(this),Promise.resolve()}}function bL(t,e,n,r={}){var i;const s=(t=mn(t,Id))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Ft.MOCK_USER;else{l=RE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ft(u)}t._authCredentials=new Yb(new qI(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Ii extends Ps{constructor(e,n,r){super(e,n,hd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ie(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function Hn(t,e,...n){if(t=Je(t),WT("collection","path",e),t instanceof Id){const r=Me.fromString(e,...n);return Dv(r),new Ii(t,null,r)}{if(!(t instanceof Bt||t instanceof Ii))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Dv(r),new Ii(t.firestore,null,r)}}function He(t,e,...n){if(t=Je(t),arguments.length===1&&(e=WI.newId()),WT("doc","path",e),t instanceof Id){const r=Me.fromString(e,...n);return bv(r),new Bt(t,null,new ie(r))}{if(!(t instanceof Bt||t instanceof Ii))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return bv(r),new Bt(t.firestore,t instanceof Ii?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new PT(this,"async_queue_retry"),this.hu=()=>{const n=Ch();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Ch();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Ch();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new jr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Nl(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Fm.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ce()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function jv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class xi extends Id{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new DL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GT(this),this._firestoreClient.terminate()}}function LL(t,e){const n=im(),r="(default)",i=Mo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=SE("firestore");s&&bL(i,...s)}return i}function Td(t){return t._firestoreClient||GT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GT(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,f){return new hD(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new CL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(Ht.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=/^__.*__$/;class OL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}}class KT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Qm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Qm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Lu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(QT(this.fu)&&jL.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ML{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_d(e)}Fu(e,n,r,i=!1){return new Qm({fu:e,methodName:n,vu:r,path:Pt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new ML(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VL(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Xm("Data must be an object, but it was:",o,r);const l=YT(r,o);let c,u;if(s.merge)c=new fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=Zf(e,m,n);if(!o.contains(g))throw new Z(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);JT(f,g)||f.push(g)}c=new fn(f),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new OL(new en(l),c,u)}class Cd extends Gm{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cd}}function FL(t,e,n,r){const i=t.Fu(1,e,n);Xm("Data must be an object, but it was:",i,r);const s=[],o=en.empty();As(r,(c,u)=>{const f=Jm(e,c,n);u=Je(u);const m=i.Su(f);if(u instanceof Cd)s.push(f);else{const g=Ml(u,m);g!=null&&(s.push(f),o.set(f,g))}});const l=new fn(s);return new KT(o,l,i.fieldTransforms)}function UL(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[Zf(e,r,n)],c=[i];if(s.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(Zf(e,s[g])),c.push(s[g+1]);const u=[],f=en.empty();for(let g=l.length-1;g>=0;--g)if(!JT(u,l[g])){const w=l[g];let C=c[g];C=Je(C);const P=o.Su(w);if(C instanceof Cd)u.push(w);else{const k=Ml(C,P);k!=null&&(u.push(w),f.set(w,k))}}const m=new fn(u);return new KT(f,m,o.fieldTransforms)}function zL(t,e,n,r=!1){return Ml(n,t.Fu(r?4:3,e))}function Ml(t,e){if(XT(t=Je(t)))return Xm("Unsupported field value:",e,t),YT(t,e);if(t instanceof Gm)return function(r,i){if(!QT(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Ml(l,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=pt.fromDate(r);return{timestampValue:Nu(i.serializer,s)}}if(r instanceof pt){const s=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nu(i.serializer,s)}}if(r instanceof Km)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bo)return{bytesValue:vT(i.serializer,r._byteString)};if(r instanceof Bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Nm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Ed(r)}`)}(t,e)}function YT(t,e){const n={};return GI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(t,(r,i)=>{const s=Ml(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof Km||t instanceof bo||t instanceof Bt||t instanceof Gm)}function Xm(t,e,n){if(!XT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ed(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Zf(t,e,n){if((e=Je(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return Jm(t,e);throw Lu("Field path arguments must be of type string or ",t,!1,void 0,n)}const BL=new RegExp("[~\\*/\\[\\]]");function Jm(t,e,n){if(e.search(BL)>=0)throw Lu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sd(...e.split("."))._internalPath}catch{throw Lu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Z(B.INVALID_ARGUMENT,l+t+c)}function JT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $L(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $L extends ZT{data(){return super.data()}}function e1(t,e){return typeof e=="string"?Jm(t,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class HL extends Zm{}function qL(t,e,...n){let r=[];e instanceof Zm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof tg).length,l=s.filter(c=>c instanceof eg).length;if(o>1||o>0&&l>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class eg extends HL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new eg(e,n,r)}_apply(e){const n=this._parse(e);return n1(e._query,n),new Ps(e.firestore,e.converter,Hf(e._query,n))}_parse(e){const n=Ym(e.firestore);return function(s,o,l,c,u,f,m){let g;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Mv(m,f);const w=[];for(const C of m)w.push(Ov(c,s,C));g={arrayValue:{values:w}}}else g=Ov(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Mv(m,f),g=zL(l,o,m,f==="in"||f==="not-in");return lt.create(u,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class tg extends Zm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)n1(o,c),o=Hf(o,c)}(e._query,n),new Ps(e.firestore,e.converter,Hf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ov(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nT(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!ie.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iv(t,new ie(r))}if(n instanceof Bt)return iv(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function Mv(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n1(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class WL{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return As(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Km(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);be(CT(r));const i=new pl(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class r1 extends ZT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(e1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $c extends r1{data(e={}){return super.data(e)}}class i1{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $c(this._firestore,this._userDataWriter,r.key,r,new Pa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new $c(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Pa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new $c(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Pa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:KL(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t){t=mn(t,Bt);const e=mn(t.firestore,xi);return xL(Td(e),t._key).then(n=>s1(e,t,n))}class ng extends WL{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function rg(t){t=mn(t,Ps);const e=mn(t.firestore,xi),n=Td(e),r=new ng(e);return t1(t._query),kL(n,t._query).then(i=>new i1(e,r,t,i))}function ki(t,e,n){t=mn(t,Bt);const r=mn(t.firestore,xi),i=GL(t.converter,e);return ig(r,[VL(Ym(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yn.none())])}function is(t,e,n,...r){t=mn(t,Bt);const i=mn(t.firestore,xi),s=Ym(i);let o;return o=typeof(e=Je(e))=="string"||e instanceof Sd?UL(s,"updateDoc",t._key,e,n,r):FL(s,"updateDoc",t._key,e),ig(i,[o.toMutation(t._key,Yn.exists(!0))])}function Vv(t){return ig(mn(t.firestore,xi),[new Pm(t._key,Yn.none())])}function Ad(t,...e){var n,r,i;t=Je(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jv(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jv(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,f;if(t instanceof Bt)u=mn(t.firestore,xi),f=hd(t._key.path),c={next:m=>{e[o]&&e[o](s1(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=mn(t,Ps);u=mn(m.firestore,xi),f=m._query;const g=new ng(u);c={next:w=>{e[o]&&e[o](new i1(u,g,m,w))},error:e[o+1],complete:e[o+2]},t1(t._query)}return function(g,w,C,P){const k=new Wm(P),S=new Hm(w,k,C);return g.asyncQueue.enqueueAndForget(async()=>zm(await Du(g),S)),()=>{k.$a(),g.asyncQueue.enqueueAndForget(async()=>Bm(await Du(g),S))}}(Td(u),f,l,c)}function ig(t,e){return function(r,i){const s=new jr;return r.asyncQueue.enqueueAndForget(async()=>gL(await PL(r),i,s)),s.promise}(Td(t),e)}function s1(t,e,n){const r=n.docs.get(e._key),i=new ng(t);return new r1(t,i,e._key,r,new Pa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Uo=i})(Cs),Jn(new Dn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new xi(new Xb(r.getProvider("auth-internal")),new tD(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),on(ev,"4.6.3",e),on(ev,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebasestorage.googleapis.com",QL="storageBucket",YL=2*60*1e3,XL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends jn{constructor(e,n,r=0){super(Rh(e),`Firebase Storage: ${n} (${Rh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dr||(dr={}));function Rh(t){return"storage/"+t}function JL(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(dr.UNKNOWN,t)}function ZL(){return new fr(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ej(){return new fr(dr.CANCELED,"User canceled the upload/download.")}function tj(t){return new fr(dr.INVALID_URL,"Invalid URL '"+t+"'.")}function nj(t){return new fr(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Fv(t){return new fr(dr.INVALID_ARGUMENT,t)}function a1(){return new fr(dr.APP_DELETED,"The Firebase app was deleted.")}function rj(t){return new fr(dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(r.path==="")return r;throw nj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",w=new RegExp(`^https?://${m}/${f}/b/${i}/o${g}`,"i"),C={bucket:1,path:3},P=n===o1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",S=new RegExp(`^https?://${P}/${i}/${k}`,"i"),A=[{regex:l,indices:c,postModify:s},{regex:w,indices:C,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<A.length;L++){const z=A[L],V=z.regex.exec(e);if(V){const y=V[z.indices.bucket];let _=V[z.indices.path];_||(_=""),r=new Wn(y,_),z.postModify(r);break}}if(r==null)throw tj(e);return r}}class ij{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let u=!1;function f(...k){u||(u=!0,e.apply(null,k))}function m(k){i=setTimeout(()=>{i=null,t(w,c())},k)}function g(){s&&clearTimeout(s)}function w(k,...S){if(u){g();return}if(k){g(),f.call(null,k,...S);return}if(c()||o){g(),f.call(null,k,...S);return}r<64&&(r*=2);let A;l===1?(l=2,A=0):A=(r+Math.random())*1e3,m(A)}let C=!1;function P(k){C||(C=!0,g(),!u&&(i!==null?(k||(l=2),clearTimeout(i),m(0)):k||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,P(!0)},n),P}function oj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){return t!==void 0}function Uv(t,e,n,r){if(r<e)throw Fv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fv(`Invalid value for '${t}'. Expected ${n} or less.`)}function lj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ju;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ju||(ju={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r,i,s,o,l,c,u,f,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,C)=>{this.resolve_=w,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ec(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===ju.NO_ERROR,c=s.getStatus();if(!l||cj(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===ju.ABORT;r(!1,new Ec(!1,null,f));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Ec(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());aj(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=JL();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?a1():ej();o(c)}else{const c=ZL();o(c)}};this.canceled_?n(!1,new Ec(!1,null,!0)):this.backoffId_=sj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ec{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mj(t,e,n,r,i,s,o=!0){const l=lj(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return fj(u,e),dj(u,n),hj(u,s),pj(u,r),new uj(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ou(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yj(this._location.path)}get storage(){return this._service}get parent(){const e=gj(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new Ou(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rj(e)}}function zv(t,e){const n=e==null?void 0:e[QL];return n==null?null:Wn.makeFromBucketSpec(n,t)}function _j(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:RE(i,t.app.options.projectId))}class vj{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=o1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YL,this._maxUploadRetryTime=XL,this._requests=new Set,i!=null?this._bucket=Wn.makeFromBucketSpec(i,this._host):this._bucket=zv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=zv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Uv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Uv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ou(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ij(a1());{const o=mj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Bv="@firebase/storage",$v="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="storage";function wj(t=im(),e){t=Je(t);const r=Mo(t,l1).getImmediate({identifier:e}),i=SE("storage");return i&&Ej(r,...i),r}function Ej(t,e,n,r={}){_j(t,e,n,r)}function Ij(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vj(n,r,i,e,Cs)}function Tj(){Jn(new Dn(l1,Ij,"PUBLIC").setMultipleInstances(!0)),on(Bv,$v,""),on(Bv,$v,"esm2017")}Tj();const Sj={apiKey:"AIzaSyCEGX6DExJ4wrB1XUIww4M49WnFdGx6gkY",authDomain:"deli-pernil.firebaseapp.com",projectId:"deli-pernil",storageBucket:"deli-pernil.appspot.com",messagingSenderId:"231637892410",appId:"1:231637892410:web:59c4a88c7c076bea2b2403",measurementId:"G-BJNVGD1FE3"},Cj=LE(Sj),Ue=mI(Cj),Mu=new Ar,c1=new Cr,Oe=LL();wj();const Aj="_mlogo_5i3js_5",Rj="_tlogo_5i3js_59",Pj="_header_5i3js_73",xj="_logoContainer_5i3js_95",kj="_logo_5i3js_95",Nj="_container_5i3js_127",bj="_social_5i3js_145",Dj="_nav_5i3js_165",Lj="_active_5i3js_235",jj="_line_5i3js_243",Oj="_line2_5i3js_255",Mj="_purpleLink_5i3js_265",Vj="_navbar_5i3js_277",Fj="_perfil_5i3js_289",Uj="_adminNav_5i3js_305",zj="_adminLink_5i3js_329",Bj="_adminLogoContainer_5i3js_337",ge={mlogo:Aj,tlogo:Rj,header:Pj,logoContainer:xj,logo:kj,container:Nj,social:bj,nav:Dj,"nav-link":"_nav-link_5i3js_183","nav-link-access":"_nav-link-access_5i3js_205",active:Lj,line:jj,line2:Oj,purpleLink:Mj,navbar:Vj,perfil:Fj,adminNav:Uj,adminLink:zj,adminLogoContainer:Bj},$j="/assets/Logo-Bvb2W1SP.png",Hj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABrCAYAAAAb+/AcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa8SURBVHgB7VptaBtlHP/ftenaZlmzF7WryK7QrhsMlyCCH8SmvjA/CFMYjH1x6T4pyNr5VWEbTGGfNnHgNxsEYYKwTZApiGthX5S5RNjoy+aSzr1E92K2dk3b5HL+/k/vatokd7kmaQ65X3h4nrv7P3e/+/2f139OohVgdHQ0JElSAKkXh5z7NU3z8zWUUygnUEwgH8lms8M7duyIkU1I5RpGo1F/a2vrAIphJIXsIZHL5Y4iH96+fXuinAplERsfHz8MJQYNVSqAIAhyEStDU2JwmSLL8hkUA1RdMME+M/XkUheg0v6GhoZoDUgx+IWjeMbbZIcYuw5ZpAquMwPf+wwLUOyiVIQUG0ZoFaG7dTj/3BJi3KbYfTVWqhhSIBfMb3NLXAm/X6gDKYYfggzln1gkprcrheoECBIaGxsbNI6FK/Vh4QLVkZiO1MzMTGcwGEwZioWo/qQY/paWljAXBDGodZgcAnDZzbk0MTERgH+j5CB4PB5FRjcNkcMwPz//joxu2ksOAxYMO2W4USHnIcCNXyHnwS/XaaS3gl8mh0LmNTo5Dyl2peOIgdMkj2Mj5DDAi3F2pe2tVa3BYmFqkofJeRiWt27dGnOYajFeyYrhQlXVc+QQwI2fcS4WivF43J/JZOIOGGwTPT09nVwQinV2dqb0LXxdkc9hyS4JazPejISoDuAAzLZt20LG8ZIpCW2tv04zAUeGwvknim14edt+hlYRECPIo0P+uYJJHI3vLHzdT6tDKIXUv5yUuFaqEiuHSkO16ql6k+krRopRctnDyqHNBVFMUJXBDZ3vXYoUo6zAHTbEYX2Lp1AFYJVA6FDFgbvl0AnyNn6nnXqsELKz6XQ6wrvscurYImaAQwoc+kQaMLPTB8xIuXHXfDTSCgFSYsc8GZuhkcg9Sl5Pi/M9L6+j3vBT5G/3EG8N0Y6OFKvPwWYz9aRSlTiGUKxH4mFt+uwQGL84Rd98/GdBfSb17klF5HiBYV4l6yF3RTcx8pKx2KKK6WHzI7hZwTXcfLH846lkseqUSmbol28f0q4PnhHhpft3HxNr8ODuNKWnMpSezpLX10zPv9Kh6HGxvuX3KHiyHpKK37n2mIY+ukQ5LbOQKEsakr+9mT489RYlYk/oq8FJKgVW6+DpbpqZmqP3XvuCGqQmaqAm7H4aMUZ5tEa5SdozEKTQ3q6ioc6CcQxvICI/5z4fpQd3pvCWC+n+3Ud0704K5HLCrnltA5lhdjr339sL5aUlWrDwP3w5IdSDEEPcfEoSY7V4Mv0j+pCuXf4bJFSRhFqaKkjdnPhrUZE1a0tvS7cEvCKfvHaPFryvFdiwW8+evMoXFK/Xe7gkMUOt05/GmISW01T8soKQJuUEwSdTMzR2+ZZQrDf8dDFOgjC3L/Gyl27qpAzFNFZQiKjh9+v52xILAUEGr1y5EiggZqh16fwt0Ug1LQMqKqqDFMjlNEM1lTZt9ok6L+3ZIIaGNqhnoL2rmfbrPZLx5r4XaFNHW16nYYIaH2oG0dOfXBUubWpqOkF5VgJYJPKEHT6252ftQfIRSHGjnydVNPyFpOL49b07ad/gqwUqJa/PChX9eSQNjF2+Tcff/w6N34PG7xEdoHGxM2C8Q9p1oJveOKAw5UNYMJ7MDw7HoZb29bHf4DaoBUKqQQ5581qJ1re30sHju2nj5jayi4vfj1NsZFJ0irlpTaRUcp7QO6GOh3y+FhoYehHPWCMCxNJStX6iJ9NpvHWT1tG1Tnq2ex1t2Oyl57o3goyPaoH0VJYeJtMgqlKzz0MdXV6hmsQ7JIQW/1kwylCLz0OrgAjGrkl4ScmfDdAjtuh/xPYbrozgRAhFXh8lOOGYpwveDPOC8QRVEbxCtlr6iCkJRuFSBiDtLzY1VQjFyqCcwJ1CVQZP6FY2lsQw6G6hKgPELLt1XUKdaNydVjaWxGoRbq+WYgpVH5W1MR7jqDZQrAxMic3OztYsLHXjxg3TTmXlSoXqBFNimDJqptjc3JxpzzQlhqmjlhFGxexi3VxpNfrLlVSuBFZRJFNitZiOFh8syyvvlbWMYuPe682uW7mylvHYlbsym83+TjUCFIuYXTddAerLbv70QaHqIoaIZdDMwFQx/mMCe70g3o7/RqmGenyPo9gF9VkZ2lozI2CsUQWASmU/z7n/iZND4RKzC5eYXbjE7MIlZhcuMbtwidmFS8wuXGJ24RKzC5eYXbjE7MIlZhcuMbtwidmFS8wu/h/E+CM1WiH07xTLhi1iqqqu+ENx/aPL8u3tGPPHZ/z5sZ23Z1v+cM3sm9di+BcdqAqpT33QtAAAAABJRU5ErkJggg==",gn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAflBMVEX///8AAAD4+Pje3t6YmJhOTk7j4+NISEjx8fH7+/uRkZGOjo6/v7/a2tpycnJtbW3u7u7Jycm4uLjS0tIlJSVaWlqgoKCtra2FhYUzMzM8PDx/f3+np6fPz894eHhVVVViYmISEhIZGRkrKytAQEAMDAweHh4oKCg3NzdJSUnnAWCYAAALOElEQVR4nO1d2VZjKxA1gzGaxJgYM5nhJNrd9v//4F22t1upAQqoguNa2a8CsgMHaqLq6uqCCy644IILjNAbr+4OzfG6HI7NYbQbT4qQW90vOvVwnu5MaY7vK5L7xHR+a0JvP63N7AuasTa92+WpNimIfleRX3dUmw6Jw4MWwbvaVFg8q6zjvDYNL5bZ/B5ea3MIYJF5eyxrExBglMGve1179iJskk+cSe2pizFLI9juI8ZFP4Vge+8ICvfxBA+15xyJp1iCbRJCZbiOIxihRJxfb+zw+lM+kWMMwbVkxNN0ORvY6DEOBvvdQUS0kY+5E4w2VxN7RRhKdNO1dLR9aKQnde1MhFnwcFjJBhoGhhmVXb2v6IakyJ5omDfvGEl3qyJWfoqSIbza7rrAyRJC3zfBJtzfJ4y+DqxnL8LwyTPHebD7me+8KzB7GXwic2iX8VvgZzsW8ANDXjEPSKgPbMemxMQj8MzO1K/0N1y3HEXaBuyhuvX16nG9hFdpUcy4yfr0Ye6QCh9QNfDIzHbDdxl8K4K8eMkvIiPctueWgBjTE77h2nfp9s8l5xwJRk7lLja6eaTuXBi0usEtCu36bIEk6sMLOWm6LX1VPJadMIXJsnk7nzdNf0/8kZZRaAWWNB+K1WYzON/OCDubSIPElByK2qQ/rOcfApJcsH66pShSY5HLnWguVwMhgmyGoA15i1MbmtJIKp+jXfrsg3cBZby+I4ajzl2Z2cMMnA0RGIqoe/yVGI5QfZsCLDxgfXs/QUPK8IKHo36IukvosdqCG52yDmItkZBiWfGuCBgZ8gPgUyQEaqzvEQplHbvvX3htfo3bljCf4YuccFUUIcLCR7DTAVcGlt2wtw3bL+rqFKwG/wGg0WGl4RcaEUsGdSXSQBgWWCJCXEEj/gg3KYrffoZwdhvUAOlEqAUtvBZDgCAkgJccCnd4xMrmtRBDINfgzxbKdrfBFoURyRDfnlBcwS2KcaERYgg3IRLSgwy1BZruZLbqrw+H6eGw7q/Gk1DcJD46/AuAFIcgw4MiuVn/CR/VnePdGJ0Gnwi47ZHugFxKQYb5gZsfmPR98ZubEXfrBny9yI+C1NsgQxU79+Du5J/oO9aksygQTYB+GGTiDzJUsF+Mb8L0/mBD3Uw+R29ngZojW0aQYfbDDUFQzhf0kQjijf3EOwyteZBhpvYb+IwojnAI1pdJepeCBFCDrAt/5okG4AEWxqMCE5NDIoslQ2+shA9b959y/kHyFCy5hvEb9BPuVmWcZ+RFVo7h7TGDYKfz5sibpAuUVgmKMcyPfnesQw/owlkwR2Aphjk79C9cc/X4l/NHVqcrxNAfebs4HkZ3/f7o8OQXqxt30Mf1/3rD6eARQ8ow5G+wxXruDvgwHvE0kV5zO5hMen5tpAhD7ozZ7uiI1OGKs9u/xf/zEgwZgmvfSA/Mqw5PSAyDAgzpLYrlTQhafvWGblGwZ0i+QJH5yMkYkKi3BRQBbYbULG+kAeFdav0jjQzWDCkbfEwoFSWfxZkzjRkSRvXIgNshEW8QpcAZM8Th/bGfEWV6igoEsWWIj/wUSx0OwI5xLJgyxMFUaRHFWKiNMBaZMkTuydSQaUxR3teSIbqy043JaKPKg84MGaKe8YfMJ5DckD4NPYbwWQAMdokD1HjFP5cdQ3QV5nnlku22dgzhEuY6VqF0JA2tM2MITc35sX7w5hcuohlDeNkrvL4EIwqvfTOGoBcV9BgLeCt6nIxfYMUQ6gSRZGgACULmybRiCAwtOm9PwGEju36MGMJzJpYLA7CIorPGiCH4ZDS+wncAj7VIzDViCMxrsjNBAHdY0TY1Yuh2iU4vwmIdPxcbhuBI0Iu4Bf4diZxkwxCEyyVQ4XByBpZc+jYMXUVAb5PCbSox2NgwdHtoPsQE+19whJkwHPiHzAGYjsBeY8IQiGxJVDi4oYaC7WHC0LXkU+9w0uHqUAJzjQlDV/nVDe13fz3BIWbC0A2b0Qpm/ID7BbyEO5gwdF0Nui9swJ0f7mDC0H08p/s8Axi4wh1MGPpHzAOYT/hBeQGGyrH97uDhK78AQ+UMYLGDXxhedqlgEqYnTXQHHYau7Kj7dB9I9eEOJgzdhxS6aXrc+GCBgmjC0I2C0ZXaXHObIM7NhKGriCdk8vXA9QY34Q4mDF33dnywnQ/u/hBYTE0YAlNDEhMO7tACY5sJQyAda4re8UOXsERpZjYFdn1BJicbhq4KrGnGcI0YAgXYiCEIuVRzW8DdITGQ2DAEz3b0Xn8nuAuKeGYS4s8ZgEe9ks1hxHDqHzQVYDKiD9yIIbAJa72OBt+3SB608uODTkpnDRhVpFtbMQTbVCd/HQh2lN1CVgzh8zmVRQRjytQys4ghkHBMIyEKTFMi62XGEAYw5QunMNhRuPPtYhNBt3MMGRIwwlS48e0YwsDlXBcUfHwjVawNY4RhxzyLFIr7F78ssmOIXjzlmIbRq3rxlrCM1T+BnjmB3uhhs7j8nyVD9KorXVFEb9jk8R2mL0rQvFJDodHTpwjrlilD1DeRIn7blTMJ1ZddOH3tNiFHNs6mEWP5sWVI5K/9EeuKGuLH61HJuIwZUvlw4/wY1CPUqDKq1gypRNJNxE6lKo7EZTmyZkgn45Qu4+xEdI60a5kzpHN+vErWYUAm7Il9w2jPkKkydAxxHNDVDaJNPgUYcjlV33x7dcxkxojXpEsw5CuXNnNKybsds5VAE3yRRRj6UrRt1qvJJ83uZD4iE/5/IMWgVYYhl7rqH05vv4/X23OgVZK/vBBDvmBUBNJU6FIMr7qhDMchvCQq0MUYBsoTBpFs5inI8KpHF7cRgSq80T6G6TXnc5wCZRleDVNKQl9n/cv4zJCZvsBebHLBbfoGlRFADbIztE48+UcRrjP5EfpbiSy7D4Hs///wrBCbim7iMpmSr2bhWtONzjMGlCYzyFAt/mfvSR+4eFaLSo3Pdq1ZGqG7X04hzZdpf6YYgIN1tyBD3VDDdwwH+/F8tVrNx/ueJrcPoHOt9ZUDYoHmj6471CL7uigKbOxD5zNq0d7qoxSwZhpmmJPuqTywwRV96ljxrjHRZKDZ4+njGg11S3bFgbAtoDZYG6hcLCgKWD7EgZKEKbDlVWS/Ak++QW2IEpbf5zQlvCY4kwyRpj8vt1xJEMoooTngRtXrrEpB1VolFDJCA9ALa7YFpWsTzSgn5fdYRGoJKXmFssh/jy+R8l9RngGsXXS+x3FKup9JvYGsXaSvyKmDmjYtcpK+sfbL3xHJ4Ok67JXLIAZB1ytlQpXpEluV6yAGQJ4erF5E1R5vQQF5L3Cu9HewhkL69/hdcsaRYPwj7PnI2Kjbq0ZFT5iryFe39jEPzovn8SpRklt7KXIEfVml2LKKbdyorN/H6xhke+XneNYG64QNrAbXrXNWzj+TiS4fcBQQNOk78Q90U3vkwVN5Peg044pMdeJCYm3BnYgdicLnreHajmX0LKAo/sCzTzudbX1/zcAbAyFK1uyPFAmGxNqCCbj9C+FzHVTEG4xSz9w/C8WwCMP7aUXxK+gyzMbosRG6/yCeFlvE9QsO45IX5HD2fArPKeIgDEXC/o9mNN8Phl3DS6Q7HDzO7xoBu05k5K1GPdHSiHy/8P0oRheZ8l6LLURChJNXcmgdkkyClDugrUgMbbylzYvtw6/0iyt8x7YBWWlxJqfa0w8j1wUojYKtBYV0jQOPTlwdGx0Bee8vFF4PZz0tZ+Z5aFYNC12LwyTlBYUlnvRjDLorHPpWCy9LI9/0cBXzhsIKx52tS7O3OtT7KDf3O90CBSyGk9l8t1z2S2G53K3Gj+2yul9wwQVS/AdIxZPnwhuUSAAAAABJRU5ErkJggg==",qr="/assets/xlogo-BzPNCyv_.png",qj="/assets/tlogo-CdvIei82.png";function Wj(){const[t,e]=j.useState({});return j.useEffect(()=>{Fo(Ue,n=>{e(n)})},[]),d.jsxs("div",{className:`${ge.header} ${t&&localStorage.getItem("admin")==="true"?ge.adminLogoContainer:""}`,children:[d.jsxs("div",{className:`${ge.logoContainer} ${t&&localStorage.getItem("admin")==="true"?ge.adminLogoContainer:""}`,children:[d.jsx("img",{className:ge.logo,src:$j,alt:"DeliPernil"}),d.jsx("img",{className:ge.tlogo,src:qj,alt:"DeliPernil"}),d.jsx("img",{className:ge.mlogo,src:Hj,alt:"Logo"}),d.jsxs("div",{className:ge.container,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:ge.social,src:gn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:ge.social,src:qr,alt:"Logo"})})]})]}),d.jsx("div",{className:`${ge.line} ${t&&localStorage.getItem("admin")==="true"?ge.adminNav:""}`,children:d.jsx("div",{className:ge.nav,children:t&&localStorage.getItem("admin")==="true"?d.jsxs(d.Fragment,{children:[console.log(t),console.log(typeof localStorage.getItem("admin")),d.jsx(Ae,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/menuadmin",children:"Menú"}),d.jsx(Ae,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/historial",children:"Historial"}),d.jsx(Ae,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/pedidosactuales",children:"Pedidos Actuales"}),d.jsx(Ae,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/cliente",children:"Cliente"}),d.jsx(Ae,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/perfil",children:d.jsx("img",{className:ge.perfil,src:gn,alt:"Logo"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ae,{className:ge["nav-link"],to:"/",children:"Inicio"}),d.jsx(Ae,{className:ge["nav-link"],to:"/menu",children:"Menú"}),d.jsx(Ae,{className:ge["nav-link"],to:"/nosotros",children:"Nosotros"}),d.jsx(Ae,{className:ge["nav-link"],to:"/ayuda",children:"Ayuda"}),t?d.jsxs("div",{children:[d.jsx(Ae,{className:ge["nav-link"],to:"/compra",children:"Compra     "}),d.jsx(Ae,{className:ge["nav-link"],to:"/comentarios",children:"Comentarios"}),d.jsx(Ae,{className:ge["nav-link"],to:"/perfil",children:d.jsx("img",{className:ge.perfil,src:gn,alt:"Logo"})})]}):d.jsx(Ae,{className:`${ge["nav-link-access"]} ${ge.purpleLink}`,to:"/acceder",children:"Acceder"})]})})}),d.jsx("div",{className:`${ge.line2} ${t&&localStorage.getItem("admin")==="true"?ge.lineadmin:""}`})]})}function Gj(){return d.jsxs("div",{children:[d.jsx(Wj,{}),d.jsx(gR,{})]})}const Kj="_slogan_16gyu_69",Qj="_colored_16gyu_69",Yj="_errorMessage_16gyu_101",Xj="_bienvenido_16gyu_113",Jj="_titulo_16gyu_151",Zj="_bold_16gyu_159",eO="_container_16gyu_177",tO="_fondo_16gyu_221",nO="_parrafo_16gyu_237",rO="_combocontenido_16gyu_245",iO="_button_16gyu_261",sO="_combos_16gyu_285",oO="_zonacombos_16gyu_303",aO="_descripcioncombos_16gyu_323",lO="_buttonc_16gyu_339",cO="_carrusel_16gyu_371",uO="_slide_16gyu_379",dO="_comboImage_16gyu_409",hO="_comboDescription_16gyu_451",fO="_active_16gyu_463",pO="_origenes_16gyu_485",mO="_containerOrigenes_16gyu_495",gO="_descripcionorigenes_16gyu_519",yO="_imagenorigenes_16gyu_535",_O="_menu_16gyu_555",vO="_titulomenu_16gyu_581",wO="_cartasmenu_16gyu_611",EO="_titulocarta_16gyu_643",IO="_cartamenu_16gyu_651",TO="_containerContactos_16gyu_667",SO="_contactos_16gyu_675",CO="_redesSociales_16gyu_709",AO="_social_16gyu_721",K={slogan:Kj,colored:Qj,errorMessage:Yj,bienvenido:Xj,titulo:Jj,bold:Zj,container:eO,fondo:tO,parrafo:nO,combocontenido:rO,button:iO,combos:sO,zonacombos:oO,descripcioncombos:aO,buttonc:lO,carrusel:cO,slide:uO,comboImage:dO,comboDescription:hO,active:fO,"slide-content":"_slide-content_16gyu_477",origenes:pO,containerOrigenes:mO,descripcionorigenes:gO,imagenorigenes:yO,menu:_O,titulomenu:vO,cartasmenu:wO,titulocarta:EO,cartamenu:IO,containerContactos:TO,contactos:SO,redesSociales:CO,social:AO},Vu="/assets/fondo1-mP0KSv87.png",Rn="/assets/View-Dc0AvLut.png",$o="/assets/Map-BrfpiiUM.png",RO="/assets/Local-oZwzVmRb.png",PO="/assets/Burger_0-rI8WCCNm.png",xO="/assets/Cachapa_0-fwixH3-B.png",kO="/assets/ClubHouse_0-DjseIGzv.png",NO="/assets/Parrilla_0-C8TdXxPy.png",bO="/assets/Cookie-BXgI8nhB.png";function DO(){const[t,e]=j.useState(0),n=[{title:"Combo 1",description:"Descripción del combo 1",image:Rn},{title:"Combo 2",description:"Descripción del combo 2",image:Rn},{title:"Combo 3",description:"Descripción del combo 3",image:Rn},{title:"Combo 4",description:"Descripción del combo 4",image:Rn},{title:"Combo 5",description:"Descripción del combo 5",image:Rn},{title:"Combo 6",description:"Descripción del combo 6",image:Rn}],r=()=>{e(i=>i===n.length-1?0:i+1)};return d.jsxs("div",{children:[d.jsxs("div",{className:K.slogan,children:[d.jsxs("h1",{children:["Si te gusta ",d.jsx("span",{className:K.colored,children:"recomiéndanos."})," "]}),d.jsx("h1",{children:" ¡Si no, también para que otro pase rabia! "})]}),d.jsxs("div",{className:K.bienvenido,style:{backgroundImage:`url(${Vu})`},children:[d.jsx("img",{className:K.fondo,src:Vu,alt:"fondo"}),d.jsxs("div",{className:K.container,children:[d.jsx("h1",{className:K.titulo,children:"Bienvenido"}),d.jsxs("h2",{children:["Conoce todo el menú y ofertas que ofrece Deli Pernil. Rica comida hecha en base al buen comer ",d.jsx("div",{className:K.bold,children:"unimetano"}),"."]}),d.jsx("h2",{className:K.parrafo,children:" Hamburguesas con carne crispy"}),d.jsx("h2",{className:K.parrafo,children:" Cachapas"}),d.jsx("h2",{className:K.parrafo,children:" Sándwich"}),d.jsx("h2",{className:K.parrafo,children:" Club House"}),d.jsx("h2",{className:K.parrafo,children:" Y muho más"}),d.jsx(Ae,{className:K["nav-link"],to:"/menu",children:d.jsx("button",{className:K.button,children:"Ver Productos"})})]})]}),d.jsxs("div",{className:K.combos,children:[d.jsx("div",{className:K.zonacombos,children:d.jsx("div",{className:K.carrusel,children:n.map((i,s)=>d.jsx("div",{className:`${K.slide} ${s===t?K.active:""}`,children:d.jsxs("div",{className:K.combocontenido,children:[d.jsx("div",{className:K.imagencombobody,children:d.jsx("img",{className:K.comboImage,src:i.image,alt:i.title})}),d.jsxs("div",{className:K.comboDescription,children:[d.jsx("h2",{className:K.comboTitle,children:i.title}),d.jsx("p",{children:i.description}),d.jsx("button",{className:K.button,children:"Comprar"})]})]})},s))})}),d.jsx("button",{id:"nextBtn",className:K.buttonc,onClick:r,children:">"}),d.jsxs("div",{className:K.descripcioncombos,children:[d.jsx("h1",{className:K.colored,children:"COMBOS"}),d.jsxs("h2",{children:["Deléitate con nuestros irresistibles combos a los ",d.jsx("div",{className:K.colored,children:"mejores precios,"})," donde cada bocado es un viaje de sabores."]}),d.jsx("button",{className:K.button,children:"Explorar Combos"})]})]}),d.jsx("div",{className:K.origenes,children:d.jsxs("div",{className:K.containerOrigenes,children:[d.jsxs("div",{className:K.descripcionorigenes,children:[d.jsx("h1",{className:K.titulo,children:"Nuestros Orígenes"}),d.jsx("h2",{children:"Cómo llegamos aquí"}),d.jsx("h3",{children:"Deli Pernil"}),d.jsx(Ae,{className:K["nav-link"],to:"/nosotros",children:d.jsx("button",{className:K.button,children:"Conócenos"})})]}),d.jsx("div",{className:K.imagenorigenes,children:d.jsx("img",{src:RO,alt:"local_0"})})]})}),d.jsxs("div",{className:K.menu,children:[d.jsx("div",{className:K.titulomenu,children:d.jsxs("h1",{children:["Nuestro ",d.jsx(Ae,{className:K["nav-link"],to:"/menu",children:d.jsx("span",{className:K.colored,children:"Menú"})})]})}),d.jsxs("div",{className:K.cartasmenu,children:[d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:PO,alt:"burger"}),d.jsx("h1",{className:K.titulocarta,children:"Hamburguesa"})]}),d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:xO,alt:"cachapa"}),d.jsx("h1",{className:K.titulocarta,children:"Cachapas"})]}),d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:kO,alt:"ch"}),d.jsx("h1",{className:K.titulocarta,children:"Club House"})]}),d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:NO,alt:"parrilla"}),d.jsx("h1",{className:K.titulocarta,children:"Parrillas"})]}),d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:bO,alt:"cookie"}),d.jsx("h1",{className:K.titulocarta,children:"Más"})]})]})]}),d.jsx("div",{className:K.contactos,style:{backgroundImage:`url(${$o})`},children:d.jsxs("div",{className:K.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:K.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:K.social,src:gn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:K.social,src:qr,alt:"Logo"})})]})]})})]})}const LO="_colored_hz9iu_69",jO="_pageContainer_hz9iu_77",OO="_botonesMenu_hz9iu_77",MO="_botonMenu_hz9iu_85",VO="_tituloboton_hz9iu_141",FO="_promos_hz9iu_175",UO="_zonapromos_hz9iu_197",zO="_descripcioncombos_hz9iu_217",BO="_buttonc1_hz9iu_225",$O="_buttonc2_hz9iu_259",HO="_carrusel_hz9iu_299",qO="_menut_hz9iu_311",WO="_slide_hz9iu_323",GO="_combocontenido_hz9iu_341",KO="_comboImage_hz9iu_357",QO="_comboDescription_hz9iu_387",YO="_button_hz9iu_225",XO="_active_hz9iu_431",JO="_menu_hz9iu_311",ZO="_promo_hz9iu_175",eM="_titulomenu_hz9iu_515",tM="_catalogo_hz9iu_523",nM="_cartamenu_hz9iu_541",rM="_contactos_hz9iu_583",iM="_containerContactos_hz9iu_595",sM="_redesSociales_hz9iu_621",oM="_social_hz9iu_633",Te={colored:LO,pageContainer:jO,botonesMenu:OO,botonMenu:MO,tituloboton:VO,promos:FO,zonapromos:UO,descripcioncombos:zO,buttonc1:BO,buttonc2:$O,carrusel:HO,menut:qO,slide:WO,combocontenido:GO,comboImage:KO,comboDescription:QO,button:YO,active:XO,"slide-content":"_slide-content_hz9iu_445",menu:JO,promo:ZO,titulomenu:eM,catalogo:tM,cartamenu:nM,contactos:rM,containerContactos:iM,redesSociales:sM,social:oM},u1="/assets/Brookies-B-QE3UrB.webp";function aM(){const[t,e]=j.useState(0),[n,r]=j.useState([]);j.useEffect(()=>{const u=Ad(Hn(Oe,"Categoria"),f=>{const m=[];f.forEach(g=>{m.push({id:g.id,data:g.data()})}),r(m)});return()=>u()},[]);const i=()=>n.map(u=>d.jsxs(Ae,{to:{pathname:"/menu/platillos",state:{categoriaId:u.id}},className:Te.cartamenu,children:[d.jsx("h2",{className:Te.titulocarta,children:u.data.Categoria}),d.jsxs("p",{children:["Disponible: ",u.data.disponible?"Sí":"No"]})]},u.id)),s=()=>n.map(u=>d.jsx(Ae,{to:{pathname:"/menu/platillos",state:{categoriaId:u.id}},className:Te.botonMenu,children:d.jsx("h2",{className:Te.tituloboton,children:u.data.Categoria})},u.id)),o=[{title:"Combo 1",description:"Descripción del combo 1",image:Rn},{title:"Combo 2",description:"Descripción del combo 2",image:Rn},{title:"Combo 3",description:"Descripción del combo 3",image:Rn},{title:"Combo 4",description:"Descripción del combo 4",image:Rn},{title:"Combo 5",description:"Descripción del combo 5",image:Rn},{title:"Combo 6",description:"Descripción del combo 6",image:Rn}],l=()=>{e(u=>u===o.length-1?0:u+1)},c=()=>{e(u=>u===0?o.length-1:u-1)};return d.jsxs("div",{className:Te.pageContainer,children:[d.jsx("div",{className:Te.botonesMenu,children:s()}),d.jsxs("div",{className:Te.menu,children:[d.jsx("h1",{className:Te.menut,children:"PROMOS"}),d.jsx("div",{className:Te.promo,children:d.jsxs("div",{className:Te.promos,children:[d.jsx("button",{id:"nextBtn",className:Te.buttonc1,onClick:c,children:"<"}),d.jsx("div",{className:Te.zonapromos,children:d.jsx("div",{className:Te.carrusel,children:o.map((u,f)=>d.jsx("div",{className:`${Te.slide} ${f===t?Te.active:""}`,children:d.jsxs("div",{className:Te.combocontenido,children:[d.jsx("div",{className:Te.imagencombobody,children:d.jsx("img",{className:Te.comboImage,src:u.image,alt:u.title})}),d.jsxs("div",{className:Te.comboDescription,children:[d.jsx("h2",{className:Te.comboTitle,children:u.title}),d.jsx("p",{children:u.description}),d.jsx(Ae,{to:"/menu",children:d.jsx("button",{className:Te.button,children:"Comprar"})})]})]})},f))})}),d.jsx("button",{id:"nextBtn",className:Te.buttonc2,onClick:l,children:">"})]})}),d.jsx("h1",{className:Te.menut,children:"MENU"}),d.jsx("div",{className:Te.catalogo,children:i()}),d.jsx("div",{className:Te.catalogo,children:d.jsxs(Ae,{className:Te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:Te.titulocarta,children:"Otros"}),d.jsx("img",{src:u1,alt:"brookie"})]})})]}),d.jsx("div",{className:Te.contactos,style:{backgroundImage:`url(${$o})`},children:d.jsxs("div",{className:Te.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:Te.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:Te.social,src:gn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:Te.social,src:qr,alt:"Logo"})})]})]})})]})}const lM="_slogan_n2kxx_75",cM="_colored_n2kxx_91",uM="_Inicio_n2kxx_105",dM="_Inicio2_n2kxx_141",hM="_Inicio3_n2kxx_179",fM="_g_n2kxx_187",pM="_Inicio4_n2kxx_231",mM="_Inicio5_n2kxx_273",gM="_MV_n2kxx_329",Gt={slogan:lM,colored:cM,Inicio:uM,Inicio2:dM,Inicio3:hM,g:fM,Inicio4:pM,Inicio5:mM,MV:gM},yM="/assets/Misi%C3%B3n-QXSqyuPB.png",_M="/assets/Visi%C3%B3n-CbMO8cPF.png",vM="/assets/Nosotros-DJCJ6AlO.png",wM="/assets/Gerente-D2qtAV2H.png",EM="/assets/Represent-CW7KGewH.png",IM="/assets/Equipo1-EzvGAfov.png",TM="/assets/ST-STOIgwv5.png",SM="/assets/ST1-Dlk6zio7.png",CM="/assets/ST3-1COu90Y8.png",AM="/assets/ST4-B21zYSse.png",RM="/assets/ST5-DTN53eEc.png",PM="/assets/ST6-h43mSZ-5.png",xM="/assets/ST7-CSmthD-B.png",kM="/assets/ST8-D9abU7aw.png";function NM(){return d.jsxs("div",{children:[d.jsx("div",{className:K.slogan,children:d.jsxs("h1",{children:["Historia ",d.jsx("span",{className:Gt.colored,children:"conmovedora"})," de nuestro local"]})}),d.jsxs("section",{className:Gt.Inicio,children:[d.jsx("div",{children:d.jsx("img",{src:vM,alt:"nosotros"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"¿Quiénes Somos?"}),d.jsx("h3",{children:"Local de comida rápida en la UNIMET especializado en hamburguesas, sándwiches y carnes"}),d.jsx("h3",{children:"Desde nuestro primer día de operaciones, Deli Pernil ha ofrecido al público una gran variedad de platillos a precios incomparables. Nuestra tienda virtual es sinónimo de calidad, por lo que te garantizamos contar con un menú que sea perfectamente adaptable al cliente y a cualquier presupuesto. Echa un vistazo y empieza a comprar hoy mismo."})]})]}),d.jsxs("section",{className:Gt.Inicio2,children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Conoce al Equipo"}),d.jsx("h3",{children:"Lo que hace que Deli Pernil brindemos un excelente servicio, es nuestro equipo de profesionales. En esta sección podrás conocer un poco más sobre las personas que se encargan de que tu experiencia sea la mejor."})]}),d.jsx("div",{children:d.jsx("img",{src:IM,alt:"equipo"})})]}),d.jsxs("section",{className:Gt.Inicio3,children:[d.jsxs("div",{children:[d.jsx("img",{src:wM,alt:"ger"}),d.jsx("h2",{children:"C. Contreras"}),d.jsx("h3",{className:Gt.g,children:"Gerente"}),d.jsx("h3",{children:"Este miembro del equipo aporta su experiencia profesional y alegría al trabajo. Es difícil imaginar dónde estaríamos sin nuestro(a) Gerente"})]}),d.jsxs("div",{children:[d.jsx("img",{src:EM,alt:"rep"}),d.jsx("h2",{children:"A. Cifuentes"}),d.jsx("h3",{className:Gt.g,children:"Representante de servicio al cliente"}),d.jsx("h3",{children:"Tenemos mucha suerte al contar con un excelente Representante de servicio al cliente. No cabe duda que tomamos la mejor decisión cuando incorporamos a A. Cifuentes a nuestro equipo de trabajo."})]})]}),d.jsxs("section",{className:Gt.Inicio4,children:[d.jsx("div",{children:d.jsx("img",{src:SM,alt:"st1"})}),d.jsx("div",{children:d.jsx("h2",{children:"Soporte Técnico"})}),d.jsx("div",{children:d.jsx("img",{src:TM,alt:"st"})})]}),d.jsxs("section",{className:Gt.Inicio5,children:[d.jsxs("div",{children:[d.jsx("img",{src:RM,alt:"st5"}),d.jsx("h2",{children:"Diego Cáceres"}),d.jsx("h3",{className:Gt.g,children:"Gerente"})]}),d.jsxs("div",{children:[d.jsx("img",{src:AM,alt:"st4"}),d.jsx("h2",{children:"Giselle Esclasans"}),d.jsx("h3",{className:Gt.g,children:"Líder de Proyecto"})]}),d.jsxs("div",{children:[d.jsx("img",{src:xM,alt:"st7"}),d.jsx("h2",{children:"Diego Goncalves"}),d.jsx("h3",{className:Gt.g,children:"Levantamiento de Información"})]}),d.jsxs("div",{children:[d.jsx("img",{src:CM,alt:"st3"}),d.jsx("h2",{children:"Sebastian Hernandez"}),d.jsx("h3",{className:Gt.g,children:"Seguridad"})]}),d.jsxs("div",{children:[d.jsx("img",{src:kM,alt:"st8"}),d.jsx("h2",{children:"Victor Martinez "}),d.jsx("h3",{className:Gt.g,children:"Mantenimiento"})]}),d.jsxs("div",{children:[d.jsx("img",{src:PM,alt:"st6"}),d.jsx("h2",{children:"Virginia Torrealba"}),d.jsx("h3",{className:Gt.g,children:"Diseño"})]})]}),d.jsxs("section",{className:Gt.MV,children:[d.jsx("div",{children:d.jsx("img",{src:yM,alt:"mision"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"Misión"}),d.jsx("h3",{children:"Crecer como empresa y día a día, ser capaces de innovar en los platos que servimos sin disminuir la calidad que nos caracteriza desde hace años."})]}),d.jsx("div",{children:d.jsx("img",{src:_M,alt:"vision"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"Visión"}),d.jsx("h3",{children:"Ofrecer a los miembros de la universidad metropolitana una alternativa de comida rápida, de calidad y de un precio accesible para que todos puedan disfrutar de nuestras delicias."})]})]}),d.jsx("div",{className:K.contactos,style:{backgroundImage:`url(${$o})`},children:d.jsxs("div",{className:K.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:K.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:K.social,src:gn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:K.social,src:qr,alt:"Logo"})})]})]})})]})}const bM="_colored_19fzp_69",DM="_slogan_19fzp_77",LM="_formularioayuda_19fzp_107",jM="_formularioInfo_19fzp_119",OM="_formulario1_19fzp_133",MM="_formulario2_19fzp_141",VM="_inputting_19fzp_151",FM="_button_19fzp_161",UM="_contactos_19fzp_191",zM="_containerContactos_19fzp_201",BM="_redesSociales_19fzp_223",$M="_social_19fzp_235",In={colored:bM,slogan:DM,formularioayuda:LM,formularioInfo:jM,formulario1:OM,formulario2:MM,inputting:VM,button:FM,contactos:UM,containerContactos:zM,redesSociales:BM,social:$M};function HM(){return d.jsxs("div",{children:[d.jsx("div",{className:In.slogan,children:d.jsx("h1",{children:"Contacta a nuestro equipo de ayuda"})}),d.jsxs("div",{className:In.formularioayuda,children:[d.jsx("h2",{children:"¿Cómo podemos ayudarte?"}),d.jsxs("form",{action:"https://formsubmit.co/4d0cdf48d1eea5fccba12bf350e720ce",method:"POST",children:[d.jsxs("div",{className:In.formularioInfo,children:[d.jsxs("div",{className:In.formulario1,children:[d.jsx("h3",{children:"Nombre"}),d.jsx("input",{type:"text",name:"name"}),d.jsx("h3",{children:"Apellido"}),d.jsx("input",{type:"text",name:"lastname"})]}),d.jsxs("div",{className:In.formulario2,children:[d.jsx("h3",{children:"Correo"}),d.jsx("input",{type:"text",name:"email"}),d.jsx("h3",{children:"Teléfono"}),d.jsx("input",{type:"text",name:"subject"})]})]}),d.jsx("h3",{children:"Cuéntanos tus dudas o inquietudes"}),d.jsx("input",{className:In.inputting,type:"text",name:"subject"}),d.jsx("input",{type:"submit",value:"Contáctanos",className:In.button}),d.jsx("input",{type:"hidden",name:"_captcha",value:"false"})]})]}),d.jsx("div",{className:In.contactos,style:{backgroundImage:`url(${$o})`},children:d.jsxs("div",{className:In.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsx("h2",{children:d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:"Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})}),d.jsxs("h2",{children:[d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsx("h2",{children:d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})}),d.jsxs("div",{className:In.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:In.social,src:gn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:In.social,src:qr,alt:"Logo"})})]})]})})]})}var Ct=[];for(var Ph=0;Ph<256;++Ph)Ct.push((Ph+256).toString(16).slice(1));function qM(t,e=0){return(Ct[t[e+0]]+Ct[t[e+1]]+Ct[t[e+2]]+Ct[t[e+3]]+"-"+Ct[t[e+4]]+Ct[t[e+5]]+"-"+Ct[t[e+6]]+Ct[t[e+7]]+"-"+Ct[t[e+8]]+Ct[t[e+9]]+"-"+Ct[t[e+10]]+Ct[t[e+11]]+Ct[t[e+12]]+Ct[t[e+13]]+Ct[t[e+14]]+Ct[t[e+15]]).toLowerCase()}var Ic,WM=new Uint8Array(16);function GM(){if(!Ic&&(Ic=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ic))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ic(WM)}var KM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Hv={randomUUID:KM};function Fu(t,e,n){if(Hv.randomUUID&&!e&&!t)return Hv.randomUUID();t=t||{};var r=t.random||(t.rng||GM)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qM(r)}const QM="_pageContainer_jaayv_1",YM="_boxContainer_jaayv_19",XM="_titleContainer_jaayv_37",JM="_container_jaayv_47",ZM="_column_jaayv_55",eV="_center_jaayv_89",tV="_loginButton_jaayv_105",nV="_buttonDisable_jaayv_165",rV="_imageButtonsContainer_jaayv_189",iV="_imageButton_jaayv_189",sV="_errorLabel_jaayv_229",un={pageContainer:QM,boxContainer:YM,titleContainer:XM,container:JM,column:ZM,center:eV,loginButton:tV,buttonDisable:nV,imageButtonsContainer:rV,imageButton:iV,errorLabel:sV},d1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABa1BMVEX////qQzU0qFNChfT7vAXg6P0ufPM4gPSdu/j7ugCxyPrqPi/qQTMopUsupk9AhPXpOSnpNCLpLxvpOir739385OIdo0XpNSTrSDr7vgD7twD98O/rTD5Dg/n5/foqpUxSs2vympX2trLtXlPpOja33cCNypxeuHUzqUo/rVzh8eX609D4w7/1qqX/+vrwg3vucGfveXHxjIXtZVv619TylY78xTz8zFj+89f81Hf95Kr92IT93Zj++ef96b/80Gj7xCz+9N7946JBhuzF5M3N59OTzaGr2Lbu+PE2pGtzwIb3vbn0pJ7sV0r3pQ3uZz/yhkD2oS/5syXwd0X1ljX4qy7sWDz7xkfzjDv7zozw9P5Vlubd7PCxzee1zPaJtOpmoeFHjePA2Off1YyPs0der1KKsPXSuyyvuEGBs0zIujaftkGSuuVarlO/uTbKuBo/jdQ8lrE5nYw8kr86mps1pGc+j8w6mKQ3oICcZUs3AAALc0lEQVR4nO2c+3fixhWAZZm1q9UDSWAJFiqBCWAw2F5Y7yvZxK0NOJhtHk2bNutt7G27222SNk2ff34lgXkIzTAaaUYSh++HnJw9Zy19njv33nloGWbDhg0bNmzYsCEUjgqFvcPWfns0KpdPy+XRqL3fOtwrFI6ifrEQKOxdjTonFUFVFUWXbTLOf3VFUdVc5WFn1NorRP2SuBQetY+7OcsrwwvClheCwGdkRSl2O/vZpGkWWqfdomK7eaq5RPmMrhdP2o8SY5ltd3M6mty8pqznTq4SIPmoXNR1n3YzS12utGMtmS1vqTJg0iFLqpX9mObYo6uKpRfA7g5L8vgwaptlsqeCwoeg5yBkrIGMV7QePtQzYQzfDF7Jlfei1ppy1VUwcwsMQRY68XBsVcILT5djJnMcvWOrohPymzh2op2P2S6p8Zs56qPo/AodlbCf46hvtSIS3Ncz5P0cR/UkiumYPVHCz58geHlEu885GmUoBOgMQa88oiqYrej0BnAML5cpCrZlqgM4xhpGWrOxQHMGzsPrV1QED3lKKXQZQT2mkHDaEQ3gGJl4pB511CgFrUgVyJb/QleP1G/LTjhtgoJ7xcim4Jyi0iE2GQ+FCIrEMrxCai62QtmFCQzPkxLcjzSJTuEFYoIRJ9EJfI6UYDsmgsUsIcG4jODaC+ZICbbWPckcUl8MeiIQKxN7gc5aQoNcHSwU49HJbJESPOrGoBclmUWZ48hXEzYEBdtq1HI2BAUPY1En+C1igoUQT80Egeczzm2aDA+6fwL4m8SyKMOchJJlBF5WVFV+2T22L0SVy53jk5e6quoy2u+PXJmwd50Cywm8rvMno1bWvS4/enRV7soI9zbIdTIMkw245BUEWc4dX8FeMLt/sgU/ICe3XLJ+y5VApV7I6C/LCIcNR4fHRfApOcEsyjCjIJWQV3Id5LOUQuuh7B0vRAWzAW5X8Irf2yJ7pzmP/p7ccsmmix2jvNpt+d/wK7SLbkeSScbeeML0E5QK5o2mo7YuL/wkgmXC+o1irgkFOcgB0cLNAJJ10OIYr9bzymmw587OXsktl8YPwmq4BTmEs+g27wwj0SzKYKYZIZyD6GzXGkbSgi2cNJMphnRn8uhUIS3I4HQzSje8+1ktcsulyQP8dzOCGjDFLEL6MNv/EAoqyXPL0Hn+q+IHPgX1qK6e4fE4n/rMl6KQSZbgx1wqn//8A/SeRsjE8OI5jCdcKpXKf1FEVRSUZI0g89QWtBS/RIxUQU2YIPNsbJjKp9AiNVlZ1MJI3ZHPf4GgGLTVps/zB6mZ45cry0amG/UL++Yxl5pTzP8arigU4/VpCwJP54bQcfwqB4lUQU9YnbD4kEu5FH/zW/Aw6jTv7YZE3m2Yyj8ARipfifp1/eMO0vFk/Mo7pwoK3dvlobAUpJNI9Wxw5MQVCsYrSCeR6tHgCHLUb4vBU29BO1J/txSpKp175eHyEcjQbsVdZSOJacZV7t2KrlZcTV4pZJgXYL+UuxXnk9euMc7aF+441+AkbVE45tkKQytS7xocvhLTj+bhfL3K0IrUSYOj7Ef9sji8AFTDBcVxgyPkEremsAFWQ1ekWovGTCfql8UCUg3dkaonsCO1+ATN0G5wElntGWN1opk6/h77Kd/cI8s3kGejJJoJ3FNsw/s7ZHkFefYvPNaGAMEUtiBzf3ebKOeQZz9HH8In8TXcuQY/23v162n4PL6Gu6/Bz17Zs80M8achecNvwc9+gm6IL0jcMA1ONcYZqiH3dZwNwanmRR55CD+KseH2jgE0RC8WARINBUNgMkUvhw8CJBoKhm9Aj/4Y3RAYB3Ew3P0D6NE+Cn4AQQqGwHLxS+RUehZvwxvQoxFXhwGLBXlDcEFEN/wk3oa3oEcjt6Xcs3gbAks+uuGHa28YpKWhYLi9MUy84WYeIhgmNZeufz1cm54GaLgufSnYcF3WFuC+dG3WhzegR6/LGh+8PlyXfZrd74GGa7LXBt7FWJP9Uti2/nrseUP22tbk3AJ2+LQeZ0+QPe81OT/cBi4P1+UMGNy0UTvHJ31+eAN+to+7GA/+GF/D+5CHo96n4VJ/KuEb7uzikEY2hJxyo64QubM/s2IP1/Dez7B4i6oIu6ng+SmCh+A7lmXNGq4hJq9Rg3sXtvBBSTUc9x1r07ikJufwFtEQlkoZlPul3Nl7R5DVqpTUxhi3iFGafgv9OSv7Nu5dYyzISqUgy2DfXO+gBilwZeGw6p439xd2inZBSc4BeRpC+m4b+F19LvV+JshKdUpyDq9QUynsWpsN7HsL7t0P7Dw0BxE5SNOvVkweSEXk/sYuIpWoyDl8j1wrIHe+HIA3va02hnVDMZ2eI9d7+DRkgN+ucWc/LAmyrEhDzuYNcpCew64IO3ivgrm/evhZhrQam1eoQbpyGno3blzqO09BK06xu1NfXCMvR8A7iTOWw9RutAFQSjY36Ib3Vv+0pTCdtTFecdon78e8QV45pc8RGi13mHKgCJ0oUohT5Fm4ulY4LBR9Lg+M0Emckl9jIDdsluHKWmEz/+9iOEtBOCbp5s1AroVoQTr/b5tw8402EI1wyUBPM9BNqHnullBc/v1qP1txQFLwNWqxRw7SaefmbrQhigRb8Os0coyuWt7P4ZzQLDXakSgiL+2dIUQo92OsdTCXX260wUgmIUUDvVBsr9hlW+Sxd6NNX9FHloF+SrLE879D2hhvRSKB+q2PLIOycJqjJPk0JJJR/Qmi5xmbqujbMPS6aNz4Etzege3mL4MxiKxWD7OB85dkkPuZKReaf0PWbITXhl/f+jyiQi8VE+oYg8hKoS2mXvso9FhDyDBNnEG0FlOlMIbRuEE/TMMdQoYZYiQbexhDSDjVc385BmsIGeYSz9AaRjHYJmOzrrE//pz8EDLMAC9OLbQSfvm/rGkSKx38w59i+hbrmAgr2ThIWv0C65HNmmg6P+HgJ/R17/aKk23I40xcQ9uxVPVbHY3eUJxOjYNPb9GH0U9HukAfdyqOHRs1P3m12S9p879Sk/0nsqKvjnQeA6ezmX9JsdRHkjR6/ZIouh4mHfwLsSii7bB50gwyiM5bimJjWG1CH9KrDhtLeg4H/ztHGUacSjEFP5/OMEVNqverzaXXMJoXg1pJ0zztxooSStnAjlGHeoBsM4ckapZJoz6s9fuDfr9WG9Ybzh+Z8Hlgl41VkYq6wQbAkIJNxcX3lUxTtDFNCfXnWmUDPozpc/S9C096IcRpIA7+DY9U1B1EMGFMxUDAy0aAPDoFswUPD1jZ2MVr1xYxQso2ATj4FDAZ09sBJ+GYy0aI2QYPU/qPp6LPvRkgzTATKh7SwX89InUHZ83kyUXUU5H1bHACVsIFqlEnVNajbOyuvneRMEXXuhhz1Qsk8rJoc/DT9nQyBu5lYqo4XRentwP3MvFUNNlx2UinwxeMx1yclA0ygvZ5TeR1kR2XDUKC1kKDjYUi+yMpQau7aUTeo9oHQPBtkWBcliJvb8QS2VtYxjDifKMNiX8FMdCinIwajcuQPSmyyShRulpu1COKVJFojllgEEllpDAFZzTp51RTInpDcAmjv2IzN2y0OrUIvaNJczaaIt0BnDAQaYVqBAM4xjmSJo8o0f2acwErVEk7mlqN6recS1yUiFYOSRxS/uDY05HYOJpiVBPQRZVMrJrikM53VSj0hlrIeVUSzWE8xu+OZo0NcSAlrdGPfv65MaolyJm8Hz1Rq0dYH6A0+42gkpZeYxC/4ZvDkvS+O4KmJzb68Zp9njQHdda/pWXH1gcJ0Btz2avVGysvk0zlTCs06/1erIPTg8veYGhp2p4gUcl209j6cNBMmt0dxmWz2q8NS5Jm3w+ax/4DtjSs9S+al9H2naFgWKa9i8Fg0B9j/d9FzzJbA7UNGzZs2LBhQzz4P7gp2NndMM1XAAAAAElFTkSuQmCC",h1="/assets/facebook-BJ4qWEPU.png";function oV(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(0),[f,m]=j.useState(""),[g,w]=j.useState(!1),[C,P]=j.useState(null),[k,S]=j.useState({}),I=hr();j.useEffect(()=>{Fo(Ue,V=>{S(V)})},[]);const A=async()=>{w(!0);try{if(!t||!n||!i||!o||!f||c===0||!c)throw new Error("Rellene las casillas");if(!t.includes("@correo.unimet.edu.ve",-21)&&!t.includes("@unimet.edu.ve",-14))throw new Error("Dominio de correo incorrecto");if(n.length<8)throw new Error("Contraseña menor a 8 caractéres");if(c.length<11||c.length>13)throw new Error("Teléfono inválido");const V=await fk(Ue,t,n),y=He(Oe,"Usuario",t),_={nombreCompleto:i+" "+o,email:t,facultad:f,telefono:c,admin:!1,pedidos:[],imageRef:Fu()};await ki(y,_);const E=await Ti(y);localStorage.setItem("admin",E.data().admin),localStorage.setItem("email",E.data().email),localStorage.setItem("nombreCompleto",E.data().nombreCompleto),localStorage.setItem("telefono",E.data().telefono),localStorage.setItem("facultad",E.data().facultad),localStorage.setItem("imageRef",E.data().imageRef),P(null),w(!1),I("/"),scroll(0,0),location.reload()}catch(V){console.log(V.message),P(V.message),w(!1)}},L=async()=>{w(!0),Mu.setCustomParameters({prompt:"select_account"});try{const V=await Su(Ue,Mu),y=He(Oe,"Usuario",Ue.currentUser.email);let _=await Ti(y);if(!_.data()){const E={nombreCompleto:Ue.currentUser.displayName,email:Ue.currentUser.email,facultad:"por definir",telefono:Ue.currentUser.phoneNumber,admin:!1,pedidos:[],imageRef:Fu()};await ki(y,E)}_=await Ti(y),localStorage.setItem("admin",_.data().admin),localStorage.setItem("email",_.data().email),localStorage.setItem("nombreCompleto",_.data().nombreCompleto),localStorage.setItem("telefono",_.data().telefono),localStorage.setItem("facultad",_.data().facultad),localStorage.setItem("imageRef",_.data().imageRef),P(null),w(!1),I("/"),scroll(0,0),location.reload()}catch(V){console.log(V.message),P(V.message),w(!1)}},z=async()=>{w(!0);try{await Su(Ue,c1),P(null),w(!1),I("/")}catch(V){console.log(V.message),P(V.message),w(!1)}};return d.jsx("div",{className:un.pageContainer,children:d.jsxs("div",{className:un.boxContainer,children:[d.jsx("div",{className:un.titleContainer,children:d.jsx("h2",{children:"Registrarse"})}),d.jsxs("div",{className:un.container,children:[d.jsxs("div",{className:un.column,children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",onChange:V=>{s(V.target.value)}}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",onChange:V=>{l(V.target.value)}}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{type:"text",placeholder:"Facultad",onChange:V=>{m(V.target.value)}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{type:"text",placeholder:"Teléfono (XXXX-XXX-XXXX)",onChange:V=>{u(V.target.value)}}),d.jsx("button",{className:g?un.buttonDisable:un.button,onClick:A,children:"Registrarse"}),d.jsx("p",{className:"errorSignup",children:C})]}),d.jsxs("div",{className:un.column,children:[d.jsx("h2",{children:"Correo"}),d.jsx("input",{type:"email",placeholder:"Correo electrónico",onChange:V=>{e(V.target.value)}}),d.jsx("h2",{children:"Contraseña"}),d.jsx("input",{type:"password",placeholder:"Contraseña",onChange:V=>{r(V.target.value)}}),d.jsxs("div",{className:un.center,children:[d.jsx("h3",{children:"¿Ya estás registrado?"}),d.jsx(Ae,{to:"/login",className:un.loginButton,children:"Iniciar Sesion"}),d.jsxs("div",{className:un.imageButtonsContainer,children:[d.jsx("button",{className:un.imageButton,onClick:()=>L(),children:d.jsx("img",{src:d1,alt:"google"})}),d.jsx("button",{className:un.imageButton,onClick:()=>z(),children:d.jsx("img",{src:h1,alt:"facebook"})})]})]})]})]})]})})}const aV="_pageContainer_1v1gn_1",lV="_boxContainer_1v1gn_17",cV="_titleContainer_1v1gn_39",uV="_container_1v1gn_51",dV="_center_1v1gn_63",hV="_loginButton_1v1gn_79",fV="_buttonDisable_1v1gn_139",pV="_imageButtonsContainer_1v1gn_163",mV="_imageButton_1v1gn_163",gV="_errorLabel_1v1gn_201",Ir={pageContainer:aV,boxContainer:lV,titleContainer:cV,container:uV,center:dV,loginButton:hV,buttonDisable:fV,imageButtonsContainer:pV,imageButton:mV,errorLabel:gV};function yV(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState({}),f=hr();j.useEffect(()=>{Fo(Ue,C=>{u(C)})},[]);const m=async()=>{s(!0);try{if(!t||!n)throw new Error("Rellene las casillas");if(!t.includes("@correo.unimet.edu.ve",-21)&&!t.includes("@unimet.edu.ve",-14))throw new Error("Dominio de correo incorrecto");if(n.length<8)throw new Error("Contraseña menor a 8 caractéres");const C=await pk(Ue,t,n),P=He(Oe,"Usuario",Ue.currentUser.email),k=await Ti(P);localStorage.setItem("admin",k.data().admin),localStorage.setItem("email",k.data().email),localStorage.setItem("nombreCompleto",k.data().nombreCompleto),localStorage.setItem("telefono",k.data().telefono),localStorage.setItem("facultad",k.data().facultad),localStorage.setItem("imageRef",k.data().imageRef),l(null),s(!1),f("/"),scroll(0,0),location.reload()}catch(C){console.log(C.message),l(C.message),s(!1)}},g=async()=>{s(!0),Mu.setCustomParameters({prompt:"select_account"});try{const C=await Su(Ue,Mu),P=He(Oe,"Usuario",Ue.currentUser.email);let k=await Ti(P);if(!k.data()){const S={nombreCompleto:Ue.currentUser.displayName,email:Ue.currentUser.email,facultad:"por definir",telefono:Ue.currentUser.phoneNumber,admin:!1,pedidos:[],imageRef:Fu()};await ki(P,S)}k=await Ti(P),localStorage.setItem("admin",k.data().admin),localStorage.setItem("email",k.data().email),localStorage.setItem("nombreCompleto",k.data().nombreCompleto),localStorage.setItem("telefono",k.data().telefono),localStorage.setItem("facultad",k.data().facultad),localStorage.setItem("imageRef",k.data().imageRef),l(null),s(!1),f("/"),scroll(0,0),location.reload()}catch(C){console.log(C.message),l(C.message),s(!1)}},w=async()=>{s(!0);try{await Su(Ue,c1),l(null),s(!1),f("/")}catch(C){console.log(C.message),l(C.message),s(!1)}};return d.jsx("div",{className:Ir.pageContainer,children:d.jsxs("div",{className:Ir.boxContainer,children:[d.jsx("div",{className:Ir.titleContainer,children:d.jsx("h2",{children:"Iniciar Sesión"})}),d.jsx("h2",{children:"Correo"}),d.jsx("input",{type:"email",placeholder:"Correo electrónico",onChange:C=>{e(C.target.value)}}),d.jsx("h2",{children:"Contraseña"}),d.jsx("input",{type:"password",placeholder:"Contraseña",onChange:C=>{r(C.target.value)}}),d.jsxs("div",{className:Ir.center,children:[d.jsxs("div",{className:Ir.imageButtonsContainer,children:[d.jsx("button",{className:Ir.imageButton,onClick:()=>g(),children:d.jsx("img",{src:d1,alt:"google"})}),d.jsx("button",{className:Ir.imageButton,onClick:()=>w(),children:d.jsx("img",{src:h1,alt:"facebook"})})]}),d.jsx("button",{className:i?Ir.buttonDisable:Ir.button,onClick:m,children:"Iniciar sesión"}),d.jsx("p",{className:"errorSignin",children:o})]})]})})}function _V(){return d.jsxs("div",{children:[d.jsx("div",{className:K.slogan,children:d.jsxs("h1",{children:["La página no se ha ",d.jsx("span",{className:K.colored,children:"encontrado"})," o no está disponible"]})}),d.jsxs("div",{className:K.errorMessage,children:[d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("h1",{children:"Intente ingresar dentro de unos momentos o acceda a otra sección del sistema"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx("div",{className:K.contactos,style:{backgroundImage:`url(${Vu})`},children:d.jsxs("div",{className:K.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsx("h2",{children:"Caracas"}),d.jsx("h2",{children:"delipernil"}),d.jsx("h2",{children:"0424"}),d.jsxs("div",{className:K.redesSociales,children:[d.jsx("img",{className:K.social,src:gn,alt:"Logo"}),d.jsx("img",{className:K.social,src:qr,alt:"Logo"})]})]})})]})}const vV="_pageContainer_1f26r_1",wV="_boxContainer_1f26r_17",EV="_titleContainer_1f26r_37",IV="_container_1f26r_47",TV="_loginButton_1f26r_59",SV="_errorLabel_1f26r_101",CV="_perfil_1f26r_113",AV="_perfil2_1f26r_129",dt={pageContainer:vV,boxContainer:wV,titleContainer:EV,container:IV,loginButton:TV,errorLabel:SV,perfil:CV,perfil2:AV};function RV(){const t=localStorage.getItem("admin")==="true",[e,n]=j.useState({});j.useEffect(()=>{Fo(Ue,l=>{n(l)})},[]);const r=async()=>{await L_(Ue),localStorage.removeItem("admin"),localStorage.removeItem("email"),localStorage.removeItem("nombreCompleto"),localStorage.removeItem("telefono"),localStorage.removeItem("facultad"),localStorage.removeItem("imageRef"),i("/"),scroll(0,0),location.reload()},i=hr();async function s(){try{await o();const l=mI();await yk(l.currentUser).then(()=>{console.log("User deleted")}).catch(c=>{console.error("Error deleting user: ",c)}),await L_(l)}catch(l){console.error("Error in handleDeleteAndSignOut: ",l)}}async function o(){try{const l=Ue.currentUser.uid,c=doc(db,"Usuario",l);await deleteDoc(c)}catch(l){console.error("Error updating document: ",l)}}return d.jsx("div",{children:e?d.jsx("div",{className:dt.pageContainer,children:d.jsxs("div",{className:dt.boxContainer,children:[d.jsx("div",{className:dt.titleContainer,children:d.jsx("h2",{children:"Perfil"})}),d.jsx("div",{className:dt.container,children:d.jsxs("div",{className:dt.column,children:[t&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",onChange:l=>{}}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",onChange:l=>{}}),d.jsx(Ae,{className:dt["nav-link"],to:"/menuadmin",children:"Regresar"})]}),!t&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",onChange:l=>{}}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",onChange:l=>{}}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{type:"text",placeholder:"Facultad",onChange:l=>{}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{type:"number",placeholder:"Teléfono",onChange:l=>{}}),d.jsx("img",{className:dt.perfil,src:gn,alt:"Logo"}),d.jsx("h2",{children:"Foto de Perfil"}),d.jsx(Ae,{className:dt["nav-link"],to:"/",children:"Regresar"}),d.jsx(Ae,{className:dt["nav-link"],to:"/perfil/editarperfil",children:"Editar"}),d.jsx(Ae,{className:dt["nav-link"],to:"/",onClick:s,children:"Eliminar"})]}),d.jsx("button",{className:dt.button,onClick:r,children:"Cerrar Sesión"})]})})]})}):i("/acceder")})}function PV(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(""),[f,m]=j.useState(""),[g,w]=j.useState(""),[C,P]=j.useState(""),[k,S]=j.useState(""),[I,A]=j.useState(""),L=["Ingeniería","FACES","Idiomas Modernos","Derecho"];async function z(){try{const T=Ue.currentUser.uid,x=He(db,"Usuario",T);await is(x,{nombre:t,apellido:n,email:i,facultad:o,telefono:c})}catch(T){console.error("Error updating document: ",T)}}const V=T=>{e(T.target.value)},y=T=>{r(T.target.value)},_=T=>{s(T.target.value)},E=T=>{u(T.target.value)};return d.jsx("div",{className:dt.pageContainer,children:d.jsxs("div",{className:dt.boxContainer,children:[d.jsx("div",{className:dt.titleContainer,children:d.jsx("h2",{children:"Perfil del Usuario"})}),d.jsxs("div",{className:dt.perfil,children:[d.jsxs("div",{className:dt.perfil1,children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{value:t,onChange:V,placeholder:f}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{value:n,onChange:y,placeholder:g}),d.jsx("h2",{children:"Número de teléfono"}),d.jsx("input",{value:c,onChange:E,placeholder:I}),d.jsx("h2",{children:"Email"}),d.jsx("input",{value:i,onChange:_,placeholder:C}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{type:"text",placeholder:k,list:"facultadOptions",onChange:T=>{setFacultad(T.target.value)}}),d.jsx("datalist",{id:"facultadOptions",children:L.map(T=>d.jsx("option",{value:T},T))})]}),d.jsxs("div",{className:dt.perfil2,children:[d.jsx("h2",{children:"Foto de Perfil"}),d.jsx("img",{className:dt.perfil,src:gn,alt:"Logo"}),d.jsx("h2",{children:"Preferencias Alimentarias"}),d.jsx("input",{}),d.jsx("button",{onClick:z,children:"Actualizar"}),d.jsx(Ae,{className:dt["nav-link"],to:"/perfil",children:"Regresar"})]})]})]})})}const xV="_menu_156kv_1",kV="_categoriaContainer_156kv_19",NV="_platilloContainer_156kv_37",bV="_slider_156kv_81",$s={menu:xV,categoriaContainer:kV,platilloContainer:NV,"toggle-switch":"_toggle-switch_156kv_59",slider:bV,"on-label":"_on-label_156kv_161","off-label":"_off-label_156kv_163"};function DV(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState(0),[c,u]=j.useState(!1),[f,m]=j.useState(!1),[g,w]=j.useState([]),[C,P]=j.useState([]),[k,S]=j.useState([]),I=hr(),A=X=>{const U=Ce(X);S(U)};async function L(){if(!t.trim()){console.error("The category name cannot be empty");return}try{const X=He(Oe,"Categoria",t);await ki(X,{Categoria:t,disponible:!0}),console.log("Document written with ID: ",t),e("")}catch(X){console.error("Error adding document: ",X)}}async function z(X){try{const U=He(Oe,"Categoria",X),G=Hn(U,"Platillos");await ki(He(G,n),{nombre:n,tipo:t,descripcion:"Descripcion del platillo",precio:0,disponible:!0}),console.log("Platillo added to 'Platillos' subcollection with ID: ",n),r("")}catch(U){console.error("Error adding platillo: ",U)}}async function V(){try{await z(t),console.log("Platillo added successfully")}catch(X){console.error("Error adding platillo: ",X)}}const y=async X=>{try{const U=He(Oe,"Categoria",X);await is(U,{disponible:!c}),console.log("Document successfully updated!"),u(!c)}catch(U){console.error("Error updating document: ",U)}};async function _(){try{const X=He(Oe,"Categoria",t);await is(X,{Categoria:t}),console.log("Document successfully updated!")}catch(X){console.error("Error updating document: ",X)}}const E=async(X,U)=>{try{const G=He(Oe,"Categoria",X),ne=Hn(G,"Platillos");await is(He(ne,U),{disponible:!f}),console.log("Document successfully updated!"),m(!f)}catch(G){console.error("Error updating document: ",G)}};async function T(){try{const X=He(Oe,"Categoria",t),U=Hn(X,"Platillos");await is(He(U,n),{disponible:i,nombre:n,precio:o}),console.log("Document successfully updated!")}catch(X){console.error("Error updating document: ",X)}}async function x(X){try{const U=He(Oe,"Categoria",X);await Vv(U),console.log("Categoria successfully deleted!")}catch(U){console.error("Error deleting categoria: ",U)}}async function N(X,U){try{const G=He(Oe,"Categoria",X),ne=He(Hn(G,"Platillos"),U);await Vv(ne),console.log("Platillo successfully deleted!"),nt(X)}catch(G){console.error("Error deleting platillo: ",G)}}j.useEffect(()=>{const X=Ad(Hn(Oe,"Categoria"),U=>{const G=[];U.forEach(ne=>{G.push({id:ne.id,data:ne.data()})}),w(G)});return()=>X()},[]);const R=()=>g.map(X=>d.jsxs("div",{className:$s.categoriaContainer,onClick:()=>A(X.id),children:[d.jsx("h2",{children:X.data.Categoria}),d.jsx("button",{onClick:()=>x(X.id),children:"Borrar Categoria"}),d.jsxs("p",{children:["Disponible: ",X.data.disponible?"Sí":"No"]}),d.jsx("button",{onClick:()=>y(X.id),children:c?"Encendido":"Apagado"})]},X.id));async function Ce(X){const U=qL(Hn(Oe,"Categoria",X,"Platillos"));try{const G=await rg(U),ne=[];return G.forEach(we=>{ne.push({id:we.id,data:we.data()})}),ne}catch(G){return console.error("Error getting platillos: ",G),[]}}async function nt(X){const U=await Ce(X);S(U)}j.useEffect(()=>{g.length>0&&nt(g[0].id)},[g]);const wn=X=>C.filter(G=>G.data.tipo===X).map(G=>d.jsxs("div",{className:$s.platilloContainer,children:[d.jsx("h3",{children:G.data.nombre}),d.jsx("button",{onClick:()=>N(X,G.id),children:"Borrar Platillo"}),d.jsx("p",{children:G.data.descripcion}),d.jsxs("p",{children:["Precio: ",G.data.precio]}),d.jsx("button",{onClick:()=>E(X,G.id),children:f?"Apagar":"Encender"})]},G.id));return d.jsx("div",{children:localStorage.getItem("admin")!="true"?I("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:$s.slogan,children:d.jsxs("h1",{children:["ADMIN ",d.jsx("span",{className:$s.colored,children:"conmovedora"})," de nuestro local"]})}),d.jsx("input",{type:"text",value:t,onChange:X=>e(X.target.value),placeholder:"Enter Category Name"}),d.jsx("button",{onClick:L,children:"Add Categoria"}),d.jsx("input",{type:"text",value:n,onChange:X=>r(X.target.value),placeholder:"Enter Platillo Name"}),d.jsx("button",{onClick:V,children:"Add Platillo"}),d.jsx("input",{type:"text",value:i,onChange:X=>s(X.target.value),placeholder:"Enter Platillo Description"}),d.jsx("input",{type:"number",value:o,onChange:X=>l(X.target.value),placeholder:"Enter Platillo Price"}),d.jsx("button",{onClick:_,children:"Editar Categoria"}),d.jsx("button",{onClick:T,children:"Editar Platillo"}),d.jsx("div",{className:$s.menu,children:R()}),d.jsx("div",{className:$s.menu,children:wn("Hamburguesas")})]})})}const LV="_tm_1mhk5_69",jV="_botonesMenu_1mhk5_91",OV="_botonMenu_1mhk5_115",MV="_botonMenuC_1mhk5_137",VV="_tituloboton_1mhk5_161",FV="_titulo_categoria_1mhk5_169",UV="_categoria_1mhk5_179",zV="_platillos_1mhk5_205",BV="_titulo_platillo_1mhk5_223",$V="_button_1mhk5_235",HV="_Description_platillo_1mhk5_259",qV="_platillos_impar_1mhk5_283",WV="_platillos_descripcion_1mhk5_305",GV="_combos_1mhk5_349",KV="_zonacombos_1mhk5_371",QV="_descripcioncombos_1mhk5_395",YV="_buttonc_1mhk5_413",XV="_carrusel_1mhk5_445",JV="_slide_1mhk5_457",ZV="_combocontenido_1mhk5_479",eF="_comboImage_1mhk5_497",tF="_comboDescription_1mhk5_515",nF="_active_1mhk5_525",rF="_menu_1mhk5_553",iF="_titulomenu_1mhk5_567",sF="_catalogo_1mhk5_575",oF="_cartamenu_1mhk5_593",aF="_contactos_1mhk5_631",lF="_containerContactos_1mhk5_643",cF="_redesSociales_1mhk5_663",uF="_social_1mhk5_675",dF="_platilloContainer_1mhk5_687",et={tm:LV,botonesMenu:jV,botonMenu:OV,botonMenuC:MV,tituloboton:VV,titulo_categoria:FV,categoria:UV,platillos:zV,titulo_platillo:BV,button:$V,Description_platillo:HV,platillos_impar:qV,platillos_descripcion:WV,combos:GV,zonacombos:KV,descripcioncombos:QV,buttonc:YV,carrusel:XV,slide:JV,combocontenido:ZV,comboImage:eF,comboDescription:tF,active:nF,"slide-content":"_slide-content_1mhk5_539",menu:rF,titulomenu:iF,catalogo:sF,cartamenu:oF,contactos:aF,containerContactos:lF,redesSociales:cF,social:uF,platilloContainer:dF};function hF(){var m;j.useState(0);const[t,e]=j.useState([]),[n,r]=j.useState([]);(m=Oo().state)==null||m.categoriaId;const s=hr(),[o,l]=j.useState({});j.useEffect(()=>{Fo(Ue,g=>{l(g)})},[]),j.useEffect(()=>{(async()=>{try{const C=Hn(Oe,"Categoria","Hamburguesas","Platillos"),k=(await rg(C)).docs.map(S=>({id:S.id,data:S.data()}));r(k)}catch(w){console.error("Error fetching platillos:",w)}})()},[]);const c=()=>n.map(g=>d.jsxs("div",{className:et.platillos_impar,children:[d.jsxs("div",{className:et.platillos_descripcion,children:[d.jsx("h1",{className:et.titulo_platillo,children:g.data.nombre}),d.jsxs("p",{children:[et.description,g.data.descripcion]}),d.jsx("p",{children:g.data.precio}),o?d.jsx("button",{onClick:()=>{f(g.data)},className:et.button,children:"Comprar"}):d.jsx("button",{onClick:()=>{s("/acceder")},className:et.button,children:"Iniciar Sesión"})]}),d.jsx("div",{})]},g.id));j.useEffect(()=>{const g=Ad(Hn(Oe,"Categoria"),w=>{const C=[];w.forEach(P=>{C.push({id:P.id,data:P.data()})}),e(C)});return()=>g()},[]);const u=()=>t.map(g=>d.jsx(Ae,{to:{pathname:"/menu/platillos",state:{categoriaId:g.id}},className:et.botonMenu,children:d.jsx("h2",{className:et.tituloboton,children:g.data.Categoria})},g.id)),f=async g=>{try{const w=He(Oe,"Usuario",localStorage.getItem("email")),P=(await Ti(w)).data().pedidos;console.log(n),await is(w,{pedidos:[...P,g]})}catch(w){console.log(w)}};return d.jsxs("div",{className:et.pageContainer,children:[d.jsx("div",{className:et.botonesMenu,children:u()}),d.jsxs("div",{className:et.categoria,children:[d.jsx("h1",{className:et.titulo_categoria,children:"Platillos"}),d.jsx("div",{className:et.platillos,children:d.jsx("div",{className:et.catalogo,children:c()})}),d.jsx("div",{className:et.cartamenu,children:d.jsxs(OR,{to:St[1].children[0].path,children:[d.jsx("h1",{className:et.titulocarta,children:"Otros"}),d.jsx("img",{src:u1,alt:"brookie"})]})})]}),d.jsx("div",{className:et.contactos,style:{backgroundImage:`url(${$o})`},children:d.jsxs("div",{className:et.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:et.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:et.social,src:gn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:et.social,src:qr,alt:"Logo"})})]})]})})]})}const fF="_slogan_a52f4_71",pF="_slogant_a52f4_93",mF="_formularioayuda_a52f4_107",gF="_formularioInfo_a52f4_123",yF="_formulario1_a52f4_137",_F="_formulario2_a52f4_139",vF="_inputting_a52f4_147",wF="_button_a52f4_157",EF="_contactos_a52f4_183",IF="_containerContactos_a52f4_195",TF="_redesSociales_a52f4_215",SF="_social_a52f4_227",CF="_anonimo_a52f4_239",Kt={slogan:fF,slogant:pF,formularioayuda:mF,formularioInfo:gF,formulario1:yF,formulario2:_F,inputting:vF,button:wF,contactos:EF,containerContactos:IF,redesSociales:TF,social:SF,anonimo:CF};function AF(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(""),[f,m]=j.useState(!1);async function g(){try{let w=i;f&&(w="anonimo");const C=He(Oe,"FeedBack",w);await ki(C,{nombreCompleto:t+" "+n,email:w,comentario:c,telefono:o,anonimo:f}),console.log("Document written with ID: ",i),e("")}catch(w){console.error("Error adding document: ",w)}}return d.jsxs("div",{children:[d.jsx("div",{className:Kt.slogan,children:d.jsx("h1",{className:Kt.slogant,children:"Dejanos tu reseña"})}),d.jsxs("div",{className:Kt.formularioayuda,children:[d.jsx("h2",{children:"RELLENA LAS CASILLAS CON TUS DATOS"}),d.jsxs("div",{className:Kt.formulario,children:[d.jsxs("div",{className:Kt.formularioInfo,children:[d.jsxs("div",{className:Kt.formulario1,children:[d.jsx("h3",{children:"Nombre"}),d.jsx("input",{type:"text",value:t,onChange:w=>e(w.target.value)}),d.jsx("h3",{children:"Apellido"}),d.jsx("input",{type:"text",value:n,onChange:w=>r(w.target.value)})]}),d.jsxs("div",{className:Kt.formulario2,children:[d.jsx("h3",{children:"Correo"}),d.jsx("input",{type:"text",value:i,onChange:w=>s(w.target.value)}),d.jsx("h3",{children:"Teléfono"}),d.jsx("input",{type:"text",value:o,onChange:w=>l(w.target.value)})]})]}),d.jsxs("div",{className:Kt.anonimo,children:[d.jsx("h3",{children:"Anónimo?"}),d.jsx("input",{type:"checkbox",checked:f,onChange:w=>m(w.target.checked)})]}),d.jsx("h3",{children:"DINOS LO QUE PIENSAS"}),d.jsx("input",{className:Kt.inputting,type:"text",alue:c,onChange:w=>u(w.target.value)})]}),d.jsx("button",{className:Kt.button,onClick:g,children:"Enviar"})]}),d.jsx("div",{className:Kt.contactos,style:{backgroundImage:`url(${$o})`},children:d.jsxs("div",{className:Kt.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:Kt.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:Kt.social,src:gn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:Kt.social,src:qr,alt:"Logo"})})]})]})})]})}const RF="_container_kalpi_1",PF="_title_kalpi_23",xF="_table_kalpi_37",kF="_tableHeader_kalpi_51",NF="_tableRow_kalpi_79",ya={container:RF,title:PF,table:xF,tableHeader:kF,tableRow:NF};function bF(){const t=hr();return d.jsx("div",{className:ya.container,children:localStorage.getItem("admin")!="true"?t("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:ya.title,children:"Historial"}),d.jsxs("div",{className:ya.table,children:[d.jsxs("div",{className:ya.tableHeader,children:[d.jsx("div",{children:"Número"}),d.jsx("div",{children:"CI"}),d.jsx("div",{children:"Nombre"}),d.jsx("div",{children:"Apellido"}),d.jsx("div",{children:"Email"}),d.jsx("div",{children:"Facultad"}),d.jsx("div",{children:"Método Pago"}),d.jsx("div",{children:"Fecha"}),d.jsx("div",{children:"Factura"})]}),d.jsxs("div",{className:ya.tableRow,children:[d.jsx("div",{children:"1"}),d.jsx("div",{children:"12345678"}),d.jsx("div",{children:"John"}),d.jsx("div",{children:"Doe"}),d.jsx("div",{children:"john@example.com"}),d.jsx("div",{children:"Ingeniería"}),d.jsx("div",{children:"Tarjeta de Crédito"}),d.jsx("div",{children:"2023-06-01"}),d.jsx("div",{children:"123456"})]})]})]})})}const DF="_pedidosActualesContainer_18sor_1",LF="_pedidosActualesTitle_18sor_21",jF="_pedidoCard_18sor_39",OF="_pedidoNumber_18sor_57",MF="_pedidoInfo_18sor_81",_a={pedidosActualesContainer:DF,pedidosActualesTitle:LF,pedidoCard:jF,pedidoNumber:OF,pedidoInfo:MF};function VF(){const t=[{id:1,nombre:"Juan",apellido:"Pérez",fecha:"2023-07-01"},{id:2,nombre:"María",apellido:"González",fecha:"2023-07-02"},{id:3,nombre:"Carlos",apellido:"Rodríguez",fecha:"2023-07-03"}],e=hr();return d.jsx("div",{className:_a.pedidosActualesContainer,children:localStorage.getItem("admin")!="true"?e("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:_a.pedidosActualesTitle,children:"Pedidos Actuales"}),t.map(n=>d.jsxs("div",{className:_a.pedidoCard,children:[d.jsx("div",{className:_a.pedidoNumber,children:n.id}),d.jsxs("div",{className:_a.pedidoInfo,children:[d.jsxs("span",{children:["Nombre: ",n.nombre]}),d.jsxs("span",{children:["Apellido: ",n.apellido]}),d.jsxs("span",{children:["Fecha: ",n.fecha]})]})]},n.id))]})})}const FF="_container_etvbr_1",UF="_title_etvbr_23",zF="_card_etvbr_43",BF="_cardImage_etvbr_65",$F="_cardTitle_etvbr_81",HF="_cardOrders_etvbr_93",qF="_pagcontainer_etvbr_103",WF="_comentarioContainer_etvbr_115",GF="_containerC_etvbr_133",KF="_comentarioinfo_etvbr_151",Fn={container:FF,title:UF,card:zF,cardImage:BF,cardTitle:$F,cardOrders:HF,pagcontainer:qF,comentarioContainer:WF,containerC:GF,comentarioinfo:KF};function QF(){const[t,e]=j.useState([]),n=hr();j.useEffect(()=>{(async()=>{const l=(await rg(Hn(Oe,"Feedback"))).docs.map(c=>c.data());e(l)})()},[]),j.useEffect(()=>{const s=Ad(Hn(Oe,"FeedBack"),o=>{const l=[];o.forEach(c=>{l.push({id:c.id,data:c.data()})}),e(l)});return()=>s()},[]);const r=()=>t.map(s=>d.jsxs("div",{className:Fn.comentarioContainer,children:[d.jsxs("h1",{children:["Email: ",s.id]}),d.jsxs("div",{className:Fn.comentarioinfo,children:[d.jsxs("h2",{children:["Nombre: ",s.data.nombreCompleto]}),d.jsxs("p",{children:[" ",s.data.comentario]}),d.jsxs("h3",{children:["Telefono: ",s.data.telefono]})]})]},s.id)),i=[{id:1,name:"Hamburguesa Carne Clasica",orders:150},{id:2,name:"Hamburguesa Carne Salmon",orders:120},{id:3,name:"Hamburguesa Carne Clasica con Bacon",orders:100}];return d.jsx("div",{className:Fn.pagcontainer,children:localStorage.getItem("admin")!="true"?n("/acceder"):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:Fn.container,children:[d.jsx("h2",{className:Fn.title,children:"Producto Más Vendido"}),d.jsx("div",{children:i.map(s=>d.jsxs("div",{className:Fn.card,children:[d.jsx("img",{src:s.image,alt:s.name,className:Fn.cardImage}),d.jsx("h3",{className:Fn.cardTitle,children:s.name}),d.jsxs("p",{className:Fn.cardOrders,children:["Número de pedidos: ",s.orders]})]},s.id))})]}),d.jsx("h2",{className:Fn.title,children:"Comentarios"}),d.jsx("div",{className:Fn.containerC,children:r()})]})})}const YF="_margin_1gzpg_1",XF={margin:YF};function JF(t){const e=j.useRef(),n=hr();let r=[],i=0;const s=async()=>{const o=He(Oe,"Usuario",localStorage.getItem("email")),c=(await Ti(o)).data().pedidos;r=c;const u=f=>{i+=f.precio};c.forEach(u),t.totalPago(i),t.platillosCliente(r)};return j.useEffect(()=>{s(),window.paypal.Buttons({createOrder:(o,l,c)=>l.order.create({intent:"CAPTURE",purchase_units:[{description:"Compra",amount:{currency_code:"USD",value:i}}]}),onApprove:async(o,l)=>{const c=await l.order.capture();console.log(c);const u=He(Oe,"Usuario",localStorage.getItem("email")),f={nombreCompleto:localStorage.getItem("nombreCompleto"),email:localStorage.getItem("email"),facultad:localStorage.getItem("facultad"),telefono:localStorage.getItem("telefono"),admin:localStorage.getItem("admin"),pedidos:[],imageRef:localStorage.getItem("imageRef")};await ki(u,f);const m=He(Oe,"Pedidos",Fu()),g={emailCliente:localStorage.getItem("email"),pedidos:r,activo:!0};await ki(m,g),console.log("Successful order"),n("/")},onError:o=>{console.log(o),console.log("Error: Transaction failed")}}).render(e.current)},[]),d.jsx("div",{className:XF.margin,children:d.jsx("div",{className:"payButtons",ref:e})})}const ZF="_slogan_lipfu_71",eU="_colored_lipfu_71",tU="_uno_lipfu_113",nU="_purpleLink_lipfu_167",rU="_paypalButton_lipfu_191",iU="_dos_lipfu_219",sU="_rp_lipfu_241",oU="_contactos_lipfu_285",aU="_containerContactos_lipfu_295",lU="_redesSociales_lipfu_315",cU="_social_lipfu_327",uU="_rpButton_lipfu_395",Vt={slogan:ZF,colored:eU,uno:tU,purpleLink:nU,paypalButton:rU,dos:iU,rp:sU,contactos:oU,containerContactos:aU,redesSociales:lU,social:cU,rpButton:uU};function dU(){const[t,e]=j.useState({}),[n,r]=j.useState(0),[i,s]=j.useState([]);j.useEffect(()=>{Fo(Ue,u=>{e(u)})},[]);const o=u=>{r(u)},l=u=>{s(u)},c=async()=>{try{const u=He(Oe,"Usuario",localStorage.getItem("email"));await is(u,{pedidos:[]}),location.reload()}catch(u){console.log(u)}};return d.jsxs("div",{children:[d.jsx("div",{className:Vt.slogan,children:d.jsxs("h1",{children:[d.jsx("span",{className:Vt.colored,children:"Finalización de Compra"})," "]})}),d.jsx("hr",{}),d.jsxs("div",{className:Vt.pasos,children:[d.jsxs("div",{className:t?Vt.dos:Vt.uno,children:[d.jsx("h1",{children:"1.  Registrarse"}),t?d.jsx(d.Fragment,{}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Para poder comprar y disfrutar de los productos que ofrecemos"}),d.jsx("h2",{children:"Regístrate o Inicia Sesión"}),d.jsx(Ae,{to:"/acceder",className:Vt.paypalButton,children:"Registrarse"})]})]}),d.jsxs("div",{className:t?Vt.uno:Vt.dos,children:[d.jsx("h1",{children:"2. Pago"}),t?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Vt.rpButton,children:d.jsx(JF,{totalPago:o,platillosCliente:l})}),d.jsxs("div",{className:Vt.rp,children:[d.jsx("h1",{children:"Resumen del Pedido"}),i!=[]||i!=[{}]?i.map(u=>d.jsxs("h2",{children:[u.nombre," - $ ",u.precio]},u.nombre)):d.jsx("h2",{children:"No tiene platillos a pedir"}),d.jsxs("h1",{children:["Total Bs. = $ ",isNaN(n)?0:n]}),d.jsx("div",{children:d.jsx("button",{className:Vt.paypalButton,onClick:()=>{c()},children:"Vaciar pedido"})})]})]}):d.jsx(d.Fragment,{})]})]}),d.jsx("div",{className:Vt.contactos,style:{backgroundImage:`url(${Vu})`},children:d.jsxs("div",{className:Vt.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsx("h2",{children:" delipernil@gmail.com"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:Vt.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:Vt.social,src:gn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:Vt.social,src:qr,alt:"Logo"})})]})]})})]})}const hU=SR([{path:"/",element:d.jsx(Gj,{}),children:[{path:St[0].path,element:d.jsx(DO,{})},{path:St[1].path,element:d.jsx(aM,{})},{path:St[1].children[0].path,element:d.jsx(hF,{})},{path:St[2].path,element:d.jsx(NM,{})},{path:St[3].path,element:d.jsx(HM,{})},{path:St[4].path,element:d.jsx(oV,{})},{path:St[5].path,element:d.jsx(yV,{})},{path:St[6].path,element:d.jsx(_V,{})},{path:St[7].path,element:d.jsx(RV,{})},{path:St[7].children[0].path,element:d.jsx(PV,{})},{path:St[8].path,element:d.jsx(AF,{})},{path:St[9].path,element:d.jsx(DV,{})},{path:St[10].path,element:d.jsx(bF,{})},{path:St[11].path,element:d.jsx(VF,{})},{path:St[12].path,element:d.jsx(QF,{})},{path:St[13].path,element:d.jsx(dU,{})}]}]);xh.createRoot(document.getElementById("root")).render(d.jsx(bR,{router:hU}));
