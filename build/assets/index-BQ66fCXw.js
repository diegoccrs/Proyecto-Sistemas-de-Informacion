function ow(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function aw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lw={exports:{}},Yu={},cw={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),cS=Symbol.for("react.portal"),uS=Symbol.for("react.fragment"),dS=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),fS=Symbol.for("react.provider"),pS=Symbol.for("react.context"),mS=Symbol.for("react.forward_ref"),gS=Symbol.for("react.suspense"),_S=Symbol.for("react.memo"),yS=Symbol.for("react.lazy"),Jg=Symbol.iterator;function vS(t){return t===null||typeof t!="object"?null:(t=Jg&&t[Jg]||t["@@iterator"],typeof t=="function"?t:null)}var uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dw=Object.assign,hw={};function Wo(t,e,n){this.props=t,this.context=e,this.refs=hw,this.updater=n||uw}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fw(){}fw.prototype=Wo.prototype;function up(t,e,n){this.props=t,this.context=e,this.refs=hw,this.updater=n||uw}var dp=up.prototype=new fw;dp.constructor=up;dw(dp,Wo.prototype);dp.isPureReactComponent=!0;var Zg=Array.isArray,pw=Object.prototype.hasOwnProperty,hp={current:null},mw={key:!0,ref:!0,__self:!0,__source:!0};function gw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pw.call(e,r)&&!mw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:bl,type:t,key:s,ref:o,props:i,_owner:hp.current}}function wS(t,e){return{$$typeof:bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fp(t){return typeof t=="object"&&t!==null&&t.$$typeof===bl}function ES(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var e_=/\/+/g;function Kd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ES(""+t.key):e.toString(36)}function Mc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bl:case cS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Kd(o,0):r,Zg(i)?(n="",t!=null&&(n=t.replace(e_,"$&/")+"/"),Mc(i,e,n,"",function(u){return u})):i!=null&&(fp(i)&&(i=wS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(e_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Zg(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Kd(s,l);o+=Mc(s,e,n,c,i)}else if(c=vS(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Kd(s,l++),o+=Mc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hc(t,e,n){if(t==null)return t;var r=[],i=0;return Mc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function IS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Vc={transition:null},TS={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:hp};function _w(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:hc,forEach:function(t,e,n){hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hc(t,function(){e++}),e},toArray:function(t){return hc(t,function(e){return e})||[]},only:function(t){if(!fp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Wo;ge.Fragment=uS;ge.Profiler=hS;ge.PureComponent=up;ge.StrictMode=dS;ge.Suspense=gS;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TS;ge.act=_w;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)pw.call(e,c)&&!mw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:bl,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:pS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fS,_context:t},t.Consumer=t};ge.createElement=gw;ge.createFactory=function(t){var e=gw.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:mS,render:t}};ge.isValidElement=fp;ge.lazy=function(t){return{$$typeof:yS,_payload:{_status:-1,_result:t},_init:IS}};ge.memo=function(t,e){return{$$typeof:_S,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Vc.transition;Vc.transition={};try{t()}finally{Vc.transition=e}};ge.unstable_act=_w;ge.useCallback=function(t,e){return sn.current.useCallback(t,e)};ge.useContext=function(t){return sn.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};ge.useEffect=function(t,e){return sn.current.useEffect(t,e)};ge.useId=function(){return sn.current.useId()};ge.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return sn.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};ge.useRef=function(t){return sn.current.useRef(t)};ge.useState=function(t){return sn.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return sn.current.useTransition()};ge.version="18.3.1";cw.exports=ge;var N=cw.exports;const SS=aw(N),CS=ow({__proto__:null,default:SS},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS=N,RS=Symbol.for("react.element"),PS=Symbol.for("react.fragment"),xS=Object.prototype.hasOwnProperty,kS=AS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NS={key:!0,ref:!0,__self:!0,__source:!0};function yw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xS.call(e,r)&&!NS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RS,type:t,key:s,ref:o,props:i,_owner:kS.current}}Yu.Fragment=PS;Yu.jsx=yw;Yu.jsxs=yw;lw.exports=Yu;var d=lw.exports,Fh={},vw={exports:{}},An={},ww={exports:{}},Ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ne){var se=q.length;q.push(ne);e:for(;0<se;){var Ce=se-1>>>1,fe=q[Ce];if(0<i(fe,ne))q[Ce]=ne,q[se]=fe,se=Ce;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ne=q[0],se=q.pop();if(se!==ne){q[0]=se;e:for(var Ce=0,fe=q.length,Pe=fe>>>1;Ce<Pe;){var Jt=2*(Ce+1)-1,ft=q[Jt],At=Jt+1,Rt=q[At];if(0>i(ft,se))At<fe&&0>i(Rt,ft)?(q[Ce]=Rt,q[At]=se,Ce=At):(q[Ce]=ft,q[Jt]=se,Ce=Jt);else if(At<fe&&0>i(Rt,se))q[Ce]=Rt,q[At]=se,Ce=At;else break e}}return ne}function i(q,ne){var se=q.sortIndex-ne.sortIndex;return se!==0?se:q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,g=3,v=!1,S=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(q){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=q)r(u),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(u)}}function L(q){if(A=!1,C(q),!S)if(n(c)!==null)S=!0,ir(V);else{var ne=n(u);ne!==null&&an(L,ne.startTime-q)}}function V(q,ne){S=!1,A&&(A=!1,E(y),y=-1),v=!0;var se=g;try{for(C(ne),m=n(c);m!==null&&(!(m.expirationTime>ne)||q&&!x());){var Ce=m.callback;if(typeof Ce=="function"){m.callback=null,g=m.priorityLevel;var fe=Ce(m.expirationTime<=ne);ne=t.unstable_now(),typeof fe=="function"?m.callback=fe:m===n(c)&&r(c),C(ne)}else r(c);m=n(c)}if(m!==null)var Pe=!0;else{var Jt=n(u);Jt!==null&&an(L,Jt.startTime-ne),Pe=!1}return Pe}finally{m=null,g=se,v=!1}}var M=!1,_=null,y=-1,T=5,R=-1;function x(){return!(t.unstable_now()-R<T)}function b(){if(_!==null){var q=t.unstable_now();R=q;var ne=!0;try{ne=_(!0,q)}finally{ne?P():(M=!1,_=null)}}else M=!1}var P;if(typeof I=="function")P=function(){I(b)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ct=xe.port2;xe.port1.onmessage=b,P=function(){Ct.postMessage(null)}}else P=function(){k(b,0)};function ir(q){_=q,M||(M=!0,P())}function an(q,ne){y=k(function(){q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||v||(S=!0,ir(V))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var se=g;g=ne;try{return q()}finally{g=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=g;g=q;try{return ne()}finally{g=se}},t.unstable_scheduleCallback=function(q,ne,se){var Ce=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ce+se:Ce):se=Ce,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=se+fe,q={id:f++,callback:ne,priorityLevel:q,startTime:se,expirationTime:fe,sortIndex:-1},se>Ce?(q.sortIndex=se,e(u,q),n(c)===null&&q===n(u)&&(A?(E(y),y=-1):A=!0,an(L,se-Ce))):(q.sortIndex=fe,e(c,q),S||v||(S=!0,ir(V))),q},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(q){var ne=g;return function(){var se=g;g=ne;try{return q.apply(this,arguments)}finally{g=se}}}})(Ew);ww.exports=Ew;var bS=ww.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS=N,Cn=bS;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iw=new Set,il={};function js(t,e){xo(t,e),xo(t+"Capture",e)}function xo(t,e){for(il[t]=e,t=0;t<e.length;t++)Iw.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bh=Object.prototype.hasOwnProperty,jS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,t_={},n_={};function LS(t){return Bh.call(n_,t)?!0:Bh.call(t_,t)?!1:jS.test(t)?n_[t]=!0:(t_[t]=!0,!1)}function OS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MS(t,e,n,r){if(e===null||typeof e>"u"||OS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function mp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pp,mp);Ut[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pp,mp);Ut[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pp,mp);Ut[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function gp(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MS(e,n,i,r)&&(n=null),r||i===null?LS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=DS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),so=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),_p=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Tw=Symbol.for("react.provider"),Sw=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Hh=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),Cw=Symbol.for("react.offscreen"),r_=Symbol.iterator;function _a(t){return t===null||typeof t!="object"?null:(t=r_&&t[r_]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Qd;function Na(t){if(Qd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qd=e&&e[1]||""}return`
`+Qd+t}var Yd=!1;function Xd(t,e){if(!t||Yd)return"";Yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function VS(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=Xd(t.type,!1),t;case 11:return t=Xd(t.type.render,!1),t;case 1:return t=Xd(t.type,!0),t;default:return""}}function qh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oo:return"Fragment";case so:return"Portal";case zh:return"Profiler";case _p:return"StrictMode";case $h:return"Suspense";case Hh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sw:return(t.displayName||"Context")+".Consumer";case Tw:return(t._context.displayName||"Context")+".Provider";case yp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vp:return e=t.displayName||null,e!==null?e:qh(t.type)||"Memo";case hi:e=t._payload,t=t._init;try{return qh(t(e))}catch{}}return null}function US(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qh(e);case 8:return e===_p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Aw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FS(t){var e=Aw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pc(t){t._valueTracker||(t._valueTracker=FS(t))}function Rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Aw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wh(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function i_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pw(t,e){e=e.checked,e!=null&&gp(t,"checked",e,!1)}function Gh(t,e){Pw(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kh(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kh(t,e,n){(e!=="number"||iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ba=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(ba(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function xw(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function a_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mc,Nw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BS=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){BS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function bw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function Dw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zS=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xh(t,e){if(e){if(zS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Jh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=null;function wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ef=null,wo=null,Eo=null;function l_(t){if(t=Ll(t)){if(typeof ef!="function")throw Error($(280));var e=t.stateNode;e&&(e=td(e),ef(t.stateNode,t.type,e))}}function jw(t){wo?Eo?Eo.push(t):Eo=[t]:wo=t}function Lw(){if(wo){var t=wo,e=Eo;if(Eo=wo=null,l_(t),e)for(t=0;t<e.length;t++)l_(e[t])}}function Ow(t,e){return t(e)}function Mw(){}var Jd=!1;function Vw(t,e,n){if(Jd)return t(e,n);Jd=!0;try{return Ow(t,e,n)}finally{Jd=!1,(wo!==null||Eo!==null)&&(Mw(),Lw())}}function ol(t,e){var n=t.stateNode;if(n===null)return null;var r=td(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var tf=!1;if(zr)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){tf=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{tf=!1}function $S(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var za=!1,su=null,ou=!1,nf=null,HS={onError:function(t){za=!0,su=t}};function qS(t,e,n,r,i,s,o,l,c){za=!1,su=null,$S.apply(HS,arguments)}function WS(t,e,n,r,i,s,o,l,c){if(qS.apply(this,arguments),za){if(za){var u=su;za=!1,su=null}else throw Error($(198));ou||(ou=!0,nf=u)}}function Ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function c_(t){if(Ls(t)!==t)throw Error($(188))}function GS(t){var e=t.alternate;if(!e){if(e=Ls(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return c_(i),t;if(s===r)return c_(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Fw(t){return t=GS(t),t!==null?Bw(t):null}function Bw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bw(t);if(e!==null)return e;t=t.sibling}return null}var zw=Cn.unstable_scheduleCallback,u_=Cn.unstable_cancelCallback,KS=Cn.unstable_shouldYield,QS=Cn.unstable_requestPaint,ot=Cn.unstable_now,YS=Cn.unstable_getCurrentPriorityLevel,Ep=Cn.unstable_ImmediatePriority,$w=Cn.unstable_UserBlockingPriority,au=Cn.unstable_NormalPriority,XS=Cn.unstable_LowPriority,Hw=Cn.unstable_IdlePriority,Xu=null,hr=null;function JS(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Xu,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:tC,ZS=Math.log,eC=Math.LN2;function tC(t){return t>>>=0,t===0?32:31-(ZS(t)/eC|0)|0}var gc=64,_c=4194304;function Da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Da(l):(s&=o,s!==0&&(r=Da(s)))}else o=n&~i,o!==0?r=Da(o):s!==0&&(r=Da(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),i=1<<n,r|=t[n],e&=~i;return r}function nC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=nC(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function rf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qw(){var t=gc;return gc<<=1,!(gc&4194240)&&(gc=64),t}function Zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function iC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ip(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function Ww(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gw,Tp,Kw,Qw,Yw,sf=!1,yc=[],Ii=null,Ti=null,Si=null,al=new Map,ll=new Map,pi=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d_(t,e){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(e.pointerId)}}function va(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ll(e),e!==null&&Tp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oC(t,e,n,r,i){switch(e){case"focusin":return Ii=va(Ii,t,e,n,r,i),!0;case"dragenter":return Ti=va(Ti,t,e,n,r,i),!0;case"mouseover":return Si=va(Si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return al.set(s,va(al.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ll.set(s,va(ll.get(s)||null,t,e,n,r,i)),!0}return!1}function Xw(t){var e=is(t.target);if(e!==null){var n=Ls(e);if(n!==null){if(e=n.tag,e===13){if(e=Uw(n),e!==null){t.blockedOn=e,Yw(t.priority,function(){Kw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=of(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zh=r,n.target.dispatchEvent(r),Zh=null}else return e=Ll(n),e!==null&&Tp(e),t.blockedOn=n,!1;e.shift()}return!0}function h_(t,e,n){Uc(t)&&n.delete(e)}function aC(){sf=!1,Ii!==null&&Uc(Ii)&&(Ii=null),Ti!==null&&Uc(Ti)&&(Ti=null),Si!==null&&Uc(Si)&&(Si=null),al.forEach(h_),ll.forEach(h_)}function wa(t,e){t.blockedOn===e&&(t.blockedOn=null,sf||(sf=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,aC)))}function cl(t){function e(i){return wa(i,t)}if(0<yc.length){wa(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ii!==null&&wa(Ii,t),Ti!==null&&wa(Ti,t),Si!==null&&wa(Si,t),al.forEach(e),ll.forEach(e),n=0;n<pi.length;n++)r=pi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)Xw(n),n.blockedOn===null&&pi.shift()}var Io=Xr.ReactCurrentBatchConfig,cu=!0;function lC(t,e,n,r){var i=Re,s=Io.transition;Io.transition=null;try{Re=1,Sp(t,e,n,r)}finally{Re=i,Io.transition=s}}function cC(t,e,n,r){var i=Re,s=Io.transition;Io.transition=null;try{Re=4,Sp(t,e,n,r)}finally{Re=i,Io.transition=s}}function Sp(t,e,n,r){if(cu){var i=of(t,e,n,r);if(i===null)ch(t,e,r,uu,n),d_(t,r);else if(oC(i,t,e,n,r))r.stopPropagation();else if(d_(t,r),e&4&&-1<sC.indexOf(t)){for(;i!==null;){var s=Ll(i);if(s!==null&&Gw(s),s=of(t,e,n,r),s===null&&ch(t,e,r,uu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ch(t,e,r,null,n)}}var uu=null;function of(t,e,n,r){if(uu=null,t=wp(r),t=is(t),t!==null)if(e=Ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uu=t,null}function Jw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YS()){case Ep:return 1;case $w:return 4;case au:case XS:return 16;case Hw:return 536870912;default:return 16}default:return 16}}var vi=null,Cp=null,Fc=null;function Zw(){if(Fc)return Fc;var t,e=Cp,n=e.length,r,i="value"in vi?vi.value:vi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fc=i.slice(t,1<r?1-r:void 0)}function Bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vc(){return!0}function f_(){return!1}function Rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vc:f_,this.isPropagationStopped=f_,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ap=Rn(Go),jl=Je({},Go,{view:0,detail:0}),uC=Rn(jl),eh,th,Ea,Ju=Je({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ea&&(Ea&&t.type==="mousemove"?(eh=t.screenX-Ea.screenX,th=t.screenY-Ea.screenY):th=eh=0,Ea=t),eh)},movementY:function(t){return"movementY"in t?t.movementY:th}}),p_=Rn(Ju),dC=Je({},Ju,{dataTransfer:0}),hC=Rn(dC),fC=Je({},jl,{relatedTarget:0}),nh=Rn(fC),pC=Je({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),mC=Rn(pC),gC=Je({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_C=Rn(gC),yC=Je({},Go,{data:0}),m_=Rn(yC),vC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EC[t])?!!e[t]:!1}function Rp(){return IC}var TC=Je({},jl,{key:function(t){if(t.key){var e=vC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rp,charCode:function(t){return t.type==="keypress"?Bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SC=Rn(TC),CC=Je({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g_=Rn(CC),AC=Je({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rp}),RC=Rn(AC),PC=Je({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),xC=Rn(PC),kC=Je({},Ju,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NC=Rn(kC),bC=[9,13,27,32],Pp=zr&&"CompositionEvent"in window,$a=null;zr&&"documentMode"in document&&($a=document.documentMode);var DC=zr&&"TextEvent"in window&&!$a,e0=zr&&(!Pp||$a&&8<$a&&11>=$a),__=" ",y_=!1;function t0(t,e){switch(t){case"keyup":return bC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function jC(t,e){switch(t){case"compositionend":return n0(e);case"keypress":return e.which!==32?null:(y_=!0,__);case"textInput":return t=e.data,t===__&&y_?null:t;default:return null}}function LC(t,e){if(ao)return t==="compositionend"||!Pp&&t0(t,e)?(t=Zw(),Fc=Cp=vi=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e0&&e.locale!=="ko"?null:e.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OC[t.type]:e==="textarea"}function r0(t,e,n,r){jw(r),e=du(e,"onChange"),0<e.length&&(n=new Ap("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ha=null,ul=null;function MC(t){p0(t,0)}function Zu(t){var e=uo(t);if(Rw(e))return t}function VC(t,e){if(t==="change")return e}var i0=!1;if(zr){var rh;if(zr){var ih="oninput"in document;if(!ih){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),ih=typeof w_.oninput=="function"}rh=ih}else rh=!1;i0=rh&&(!document.documentMode||9<document.documentMode)}function E_(){Ha&&(Ha.detachEvent("onpropertychange",s0),ul=Ha=null)}function s0(t){if(t.propertyName==="value"&&Zu(ul)){var e=[];r0(e,ul,t,wp(t)),Vw(MC,e)}}function UC(t,e,n){t==="focusin"?(E_(),Ha=e,ul=n,Ha.attachEvent("onpropertychange",s0)):t==="focusout"&&E_()}function FC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(ul)}function BC(t,e){if(t==="click")return Zu(e)}function zC(t,e){if(t==="input"||t==="change")return Zu(e)}function $C(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:$C;function dl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bh.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function I_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T_(t,e){var n=I_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=I_(n)}}function o0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?o0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a0(){for(var t=window,e=iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=iu(t.document)}return e}function xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HC(t){var e=a0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&o0(n.ownerDocument.documentElement,n)){if(r!==null&&xp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=T_(n,s);var o=T_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qC=zr&&"documentMode"in document&&11>=document.documentMode,lo=null,af=null,qa=null,lf=!1;function S_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lf||lo==null||lo!==iu(r)||(r=lo,"selectionStart"in r&&xp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&dl(qa,r)||(qa=r,r=du(af,"onSelect"),0<r.length&&(e=new Ap("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lo)))}function wc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var co={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},sh={},l0={};zr&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ed(t){if(sh[t])return sh[t];if(!co[t])return t;var e=co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in l0)return sh[t]=e[n];return t}var c0=ed("animationend"),u0=ed("animationiteration"),d0=ed("animationstart"),h0=ed("transitionend"),f0=new Map,C_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){f0.set(t,e),js(e,[t])}for(var oh=0;oh<C_.length;oh++){var ah=C_[oh],WC=ah.toLowerCase(),GC=ah[0].toUpperCase()+ah.slice(1);Ui(WC,"on"+GC)}Ui(c0,"onAnimationEnd");Ui(u0,"onAnimationIteration");Ui(d0,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(h0,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function A_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WS(r,e,void 0,t),t.currentTarget=null}function p0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;A_(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;A_(i,l,u),s=c}}}if(ou)throw t=nf,ou=!1,nf=null,t}function Ue(t,e){var n=e[ff];n===void 0&&(n=e[ff]=new Set);var r=t+"__bubble";n.has(r)||(m0(e,t,2,!1),n.add(r))}function lh(t,e,n){var r=0;e&&(r|=4),m0(n,t,r,e)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function hl(t){if(!t[Ec]){t[Ec]=!0,Iw.forEach(function(n){n!=="selectionchange"&&(KC.has(n)||lh(n,!1,t),lh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ec]||(e[Ec]=!0,lh("selectionchange",!1,e))}}function m0(t,e,n,r){switch(Jw(e)){case 1:var i=lC;break;case 4:i=cC;break;default:i=Sp}n=i.bind(null,e,n,t),i=void 0,!tf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ch(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=is(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Vw(function(){var u=s,f=wp(n),m=[];e:{var g=f0.get(t);if(g!==void 0){var v=Ap,S=t;switch(t){case"keypress":if(Bc(n)===0)break e;case"keydown":case"keyup":v=SC;break;case"focusin":S="focus",v=nh;break;case"focusout":S="blur",v=nh;break;case"beforeblur":case"afterblur":v=nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=p_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=hC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=RC;break;case c0:case u0:case d0:v=mC;break;case h0:v=xC;break;case"scroll":v=uC;break;case"wheel":v=NC;break;case"copy":case"cut":case"paste":v=_C;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=g_}var A=(e&4)!==0,k=!A&&t==="scroll",E=A?g!==null?g+"Capture":null:g;A=[];for(var I=u,C;I!==null;){C=I;var L=C.stateNode;if(C.tag===5&&L!==null&&(C=L,E!==null&&(L=ol(I,E),L!=null&&A.push(fl(I,L,C)))),k)break;I=I.return}0<A.length&&(g=new v(g,S,null,n,f),m.push({event:g,listeners:A}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==Zh&&(S=n.relatedTarget||n.fromElement)&&(is(S)||S[$r]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=u,S=S?is(S):null,S!==null&&(k=Ls(S),S!==k||S.tag!==5&&S.tag!==6)&&(S=null)):(v=null,S=u),v!==S)){if(A=p_,L="onMouseLeave",E="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(A=g_,L="onPointerLeave",E="onPointerEnter",I="pointer"),k=v==null?g:uo(v),C=S==null?g:uo(S),g=new A(L,I+"leave",v,n,f),g.target=k,g.relatedTarget=C,L=null,is(f)===u&&(A=new A(E,I+"enter",S,n,f),A.target=C,A.relatedTarget=k,L=A),k=L,v&&S)t:{for(A=v,E=S,I=0,C=A;C;C=eo(C))I++;for(C=0,L=E;L;L=eo(L))C++;for(;0<I-C;)A=eo(A),I--;for(;0<C-I;)E=eo(E),C--;for(;I--;){if(A===E||E!==null&&A===E.alternate)break t;A=eo(A),E=eo(E)}A=null}else A=null;v!==null&&R_(m,g,v,A,!1),S!==null&&k!==null&&R_(m,k,S,A,!0)}}e:{if(g=u?uo(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var V=VC;else if(v_(g))if(i0)V=zC;else{V=FC;var M=UC}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=BC);if(V&&(V=V(t,u))){r0(m,V,n,f);break e}M&&M(t,g,u),t==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&Kh(g,"number",g.value)}switch(M=u?uo(u):window,t){case"focusin":(v_(M)||M.contentEditable==="true")&&(lo=M,af=u,qa=null);break;case"focusout":qa=af=lo=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,S_(m,n,f);break;case"selectionchange":if(qC)break;case"keydown":case"keyup":S_(m,n,f)}var _;if(Pp)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ao?t0(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(e0&&n.locale!=="ko"&&(ao||y!=="onCompositionStart"?y==="onCompositionEnd"&&ao&&(_=Zw()):(vi=f,Cp="value"in vi?vi.value:vi.textContent,ao=!0)),M=du(u,y),0<M.length&&(y=new m_(y,t,null,n,f),m.push({event:y,listeners:M}),_?y.data=_:(_=n0(n),_!==null&&(y.data=_)))),(_=DC?jC(t,n):LC(t,n))&&(u=du(u,"onBeforeInput"),0<u.length&&(f=new m_("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=_))}p0(m,e)})}function fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function du(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ol(t,n),s!=null&&r.unshift(fl(t,s,i)),s=ol(t,e),s!=null&&r.push(fl(t,s,i))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=ol(n,s),c!=null&&o.unshift(fl(n,c,l))):i||(c=ol(n,s),c!=null&&o.push(fl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(QC,`
`).replace(YC,"")}function Ic(t,e,n){if(e=P_(e),P_(t)!==e&&n)throw Error($(425))}function hu(){}var cf=null,uf=null;function df(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(t){return x_.resolve(null).then(t).catch(ZC)}:hf;function ZC(t){setTimeout(function(){throw t})}function uh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cl(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),ur="__reactFiber$"+Ko,pl="__reactProps$"+Ko,$r="__reactContainer$"+Ko,ff="__reactEvents$"+Ko,eA="__reactListeners$"+Ko,tA="__reactHandles$"+Ko;function is(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k_(t);t!==null;){if(n=t[ur])return n;t=k_(t)}return e}t=n,n=t.parentNode}return null}function Ll(t){return t=t[ur]||t[$r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function td(t){return t[pl]||null}var pf=[],ho=-1;function Fi(t){return{current:t}}function Be(t){0>ho||(t.current=pf[ho],pf[ho]=null,ho--)}function De(t,e){ho++,pf[ho]=t.current,t.current=e}var ji={},Yt=Fi(ji),dn=Fi(!1),_s=ji;function ko(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hn(t){return t=t.childContextTypes,t!=null}function fu(){Be(dn),Be(Yt)}function N_(t,e,n){if(Yt.current!==ji)throw Error($(168));De(Yt,e),De(dn,n)}function g0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,US(t)||"Unknown",i));return Je({},n,r)}function pu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,_s=Yt.current,De(Yt,t),De(dn,dn.current),!0}function b_(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=g0(t,e,_s),r.__reactInternalMemoizedMergedChildContext=t,Be(dn),Be(Yt),De(Yt,t)):Be(dn),De(dn,n)}var xr=null,nd=!1,dh=!1;function _0(t){xr===null?xr=[t]:xr.push(t)}function nA(t){nd=!0,_0(t)}function Bi(){if(!dh&&xr!==null){dh=!0;var t=0,e=Re;try{var n=xr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,nd=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),zw(Ep,Bi),i}finally{Re=e,dh=!1}}return null}var fo=[],po=0,mu=null,gu=0,Nn=[],bn=0,ys=null,br=1,Dr="";function ts(t,e){fo[po++]=gu,fo[po++]=mu,mu=t,gu=e}function y0(t,e,n){Nn[bn++]=br,Nn[bn++]=Dr,Nn[bn++]=ys,ys=t;var r=br;t=Dr;var i=32-Xn(r)-1;r&=~(1<<i),n+=1;var s=32-Xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,br=1<<32-Xn(e)+i|n<<i|r,Dr=s+t}else br=1<<s|n<<i|r,Dr=t}function kp(t){t.return!==null&&(ts(t,1),y0(t,1,0))}function Np(t){for(;t===mu;)mu=fo[--po],fo[po]=null,gu=fo[--po],fo[po]=null;for(;t===ys;)ys=Nn[--bn],Nn[bn]=null,Dr=Nn[--bn],Nn[bn]=null,br=Nn[--bn],Nn[bn]=null}var Tn=null,wn=null,qe=!1,Qn=null;function v0(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,wn=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:br,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,wn=null,!0):!1;default:return!1}}function mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gf(t){if(qe){var e=wn;if(e){var n=e;if(!D_(t,e)){if(mf(t))throw Error($(418));e=Ci(n.nextSibling);var r=Tn;e&&D_(t,e)?v0(r,n):(t.flags=t.flags&-4097|2,qe=!1,Tn=t)}}else{if(mf(t))throw Error($(418));t.flags=t.flags&-4097|2,qe=!1,Tn=t}}}function j_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function Tc(t){if(t!==Tn)return!1;if(!qe)return j_(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!df(t.type,t.memoizedProps)),e&&(e=wn)){if(mf(t))throw w0(),Error($(418));for(;e;)v0(t,e),e=Ci(e.nextSibling)}if(j_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Tn?Ci(t.stateNode.nextSibling):null;return!0}function w0(){for(var t=wn;t;)t=Ci(t.nextSibling)}function No(){wn=Tn=null,qe=!1}function bp(t){Qn===null?Qn=[t]:Qn.push(t)}var rA=Xr.ReactCurrentBatchConfig;function Ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Sc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L_(t){var e=t._init;return e(t._payload)}function E0(t){function e(E,I){if(t){var C=E.deletions;C===null?(E.deletions=[I],E.flags|=16):C.push(I)}}function n(E,I){if(!t)return null;for(;I!==null;)e(E,I),I=I.sibling;return null}function r(E,I){for(E=new Map;I!==null;)I.key!==null?E.set(I.key,I):E.set(I.index,I),I=I.sibling;return E}function i(E,I){return E=xi(E,I),E.index=0,E.sibling=null,E}function s(E,I,C){return E.index=C,t?(C=E.alternate,C!==null?(C=C.index,C<I?(E.flags|=2,I):C):(E.flags|=2,I)):(E.flags|=1048576,I)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,I,C,L){return I===null||I.tag!==6?(I=yh(C,E.mode,L),I.return=E,I):(I=i(I,C),I.return=E,I)}function c(E,I,C,L){var V=C.type;return V===oo?f(E,I,C.props.children,L,C.key):I!==null&&(I.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===hi&&L_(V)===I.type)?(L=i(I,C.props),L.ref=Ia(E,I,C),L.return=E,L):(L=Kc(C.type,C.key,C.props,null,E.mode,L),L.ref=Ia(E,I,C),L.return=E,L)}function u(E,I,C,L){return I===null||I.tag!==4||I.stateNode.containerInfo!==C.containerInfo||I.stateNode.implementation!==C.implementation?(I=vh(C,E.mode,L),I.return=E,I):(I=i(I,C.children||[]),I.return=E,I)}function f(E,I,C,L,V){return I===null||I.tag!==7?(I=fs(C,E.mode,L,V),I.return=E,I):(I=i(I,C),I.return=E,I)}function m(E,I,C){if(typeof I=="string"&&I!==""||typeof I=="number")return I=yh(""+I,E.mode,C),I.return=E,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case fc:return C=Kc(I.type,I.key,I.props,null,E.mode,C),C.ref=Ia(E,null,I),C.return=E,C;case so:return I=vh(I,E.mode,C),I.return=E,I;case hi:var L=I._init;return m(E,L(I._payload),C)}if(ba(I)||_a(I))return I=fs(I,E.mode,C,null),I.return=E,I;Sc(E,I)}return null}function g(E,I,C,L){var V=I!==null?I.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return V!==null?null:l(E,I,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fc:return C.key===V?c(E,I,C,L):null;case so:return C.key===V?u(E,I,C,L):null;case hi:return V=C._init,g(E,I,V(C._payload),L)}if(ba(C)||_a(C))return V!==null?null:f(E,I,C,L,null);Sc(E,C)}return null}function v(E,I,C,L,V){if(typeof L=="string"&&L!==""||typeof L=="number")return E=E.get(C)||null,l(I,E,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case fc:return E=E.get(L.key===null?C:L.key)||null,c(I,E,L,V);case so:return E=E.get(L.key===null?C:L.key)||null,u(I,E,L,V);case hi:var M=L._init;return v(E,I,C,M(L._payload),V)}if(ba(L)||_a(L))return E=E.get(C)||null,f(I,E,L,V,null);Sc(I,L)}return null}function S(E,I,C,L){for(var V=null,M=null,_=I,y=I=0,T=null;_!==null&&y<C.length;y++){_.index>y?(T=_,_=null):T=_.sibling;var R=g(E,_,C[y],L);if(R===null){_===null&&(_=T);break}t&&_&&R.alternate===null&&e(E,_),I=s(R,I,y),M===null?V=R:M.sibling=R,M=R,_=T}if(y===C.length)return n(E,_),qe&&ts(E,y),V;if(_===null){for(;y<C.length;y++)_=m(E,C[y],L),_!==null&&(I=s(_,I,y),M===null?V=_:M.sibling=_,M=_);return qe&&ts(E,y),V}for(_=r(E,_);y<C.length;y++)T=v(_,E,y,C[y],L),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?y:T.key),I=s(T,I,y),M===null?V=T:M.sibling=T,M=T);return t&&_.forEach(function(x){return e(E,x)}),qe&&ts(E,y),V}function A(E,I,C,L){var V=_a(C);if(typeof V!="function")throw Error($(150));if(C=V.call(C),C==null)throw Error($(151));for(var M=V=null,_=I,y=I=0,T=null,R=C.next();_!==null&&!R.done;y++,R=C.next()){_.index>y?(T=_,_=null):T=_.sibling;var x=g(E,_,R.value,L);if(x===null){_===null&&(_=T);break}t&&_&&x.alternate===null&&e(E,_),I=s(x,I,y),M===null?V=x:M.sibling=x,M=x,_=T}if(R.done)return n(E,_),qe&&ts(E,y),V;if(_===null){for(;!R.done;y++,R=C.next())R=m(E,R.value,L),R!==null&&(I=s(R,I,y),M===null?V=R:M.sibling=R,M=R);return qe&&ts(E,y),V}for(_=r(E,_);!R.done;y++,R=C.next())R=v(_,E,y,R.value,L),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?y:R.key),I=s(R,I,y),M===null?V=R:M.sibling=R,M=R);return t&&_.forEach(function(b){return e(E,b)}),qe&&ts(E,y),V}function k(E,I,C,L){if(typeof C=="object"&&C!==null&&C.type===oo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case fc:e:{for(var V=C.key,M=I;M!==null;){if(M.key===V){if(V=C.type,V===oo){if(M.tag===7){n(E,M.sibling),I=i(M,C.props.children),I.return=E,E=I;break e}}else if(M.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===hi&&L_(V)===M.type){n(E,M.sibling),I=i(M,C.props),I.ref=Ia(E,M,C),I.return=E,E=I;break e}n(E,M);break}else e(E,M);M=M.sibling}C.type===oo?(I=fs(C.props.children,E.mode,L,C.key),I.return=E,E=I):(L=Kc(C.type,C.key,C.props,null,E.mode,L),L.ref=Ia(E,I,C),L.return=E,E=L)}return o(E);case so:e:{for(M=C.key;I!==null;){if(I.key===M)if(I.tag===4&&I.stateNode.containerInfo===C.containerInfo&&I.stateNode.implementation===C.implementation){n(E,I.sibling),I=i(I,C.children||[]),I.return=E,E=I;break e}else{n(E,I);break}else e(E,I);I=I.sibling}I=vh(C,E.mode,L),I.return=E,E=I}return o(E);case hi:return M=C._init,k(E,I,M(C._payload),L)}if(ba(C))return S(E,I,C,L);if(_a(C))return A(E,I,C,L);Sc(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,I!==null&&I.tag===6?(n(E,I.sibling),I=i(I,C),I.return=E,E=I):(n(E,I),I=yh(C,E.mode,L),I.return=E,E=I),o(E)):n(E,I)}return k}var bo=E0(!0),I0=E0(!1),_u=Fi(null),yu=null,mo=null,Dp=null;function jp(){Dp=mo=yu=null}function Lp(t){var e=_u.current;Be(_u),t._currentValue=e}function _f(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){yu=t,Dp=mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(Dp!==t)if(t={context:t,memoizedValue:e,next:null},mo===null){if(yu===null)throw Error($(308));mo=t,yu.dependencies={lanes:0,firstContext:t}}else mo=mo.next=t;return e}var ss=null;function Op(t){ss===null?ss=[t]:ss.push(t)}function T0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Op(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fi=!1;function Mp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hr(t,n)}return i=r.interleaved,i===null?(e.next=e,Op(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hr(t,n)}function zc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ip(t,n)}}function O_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vu(t,e,n,r){var i=t.updateQueue;fi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,f=u=c=null,l=s;do{var g=l.lane,v=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,A=l;switch(g=e,v=n,A.tag){case 1:if(S=A.payload,typeof S=="function"){m=S.call(v,m,g);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=A.payload,g=typeof S=="function"?S.call(v,m,g):S,g==null)break e;m=Je({},m,g);break e;case 2:fi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=v,c=m):f=f.next=v,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ws|=o,t.lanes=o,t.memoizedState=m}}function M_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Ol={},fr=Fi(Ol),ml=Fi(Ol),gl=Fi(Ol);function os(t){if(t===Ol)throw Error($(174));return t}function Vp(t,e){switch(De(gl,e),De(ml,t),De(fr,Ol),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yh(e,t)}Be(fr),De(fr,e)}function Do(){Be(fr),Be(ml),Be(gl)}function C0(t){os(gl.current);var e=os(fr.current),n=Yh(e,t.type);e!==n&&(De(ml,t),De(fr,n))}function Up(t){ml.current===t&&(Be(fr),Be(ml))}var Qe=Fi(0);function wu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hh=[];function Fp(){for(var t=0;t<hh.length;t++)hh[t]._workInProgressVersionPrimary=null;hh.length=0}var $c=Xr.ReactCurrentDispatcher,fh=Xr.ReactCurrentBatchConfig,vs=0,Xe=null,mt=null,Tt=null,Eu=!1,Wa=!1,_l=0,iA=0;function $t(){throw Error($(321))}function Bp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function zp(t,e,n,r,i,s){if(vs=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$c.current=t===null||t.memoizedState===null?lA:cA,t=n(r,i),Wa){s=0;do{if(Wa=!1,_l=0,25<=s)throw Error($(301));s+=1,Tt=mt=null,e.updateQueue=null,$c.current=uA,t=n(r,i)}while(Wa)}if($c.current=Iu,e=mt!==null&&mt.next!==null,vs=0,Tt=mt=Xe=null,Eu=!1,e)throw Error($(300));return t}function $p(){var t=_l!==0;return _l=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Xe.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Un(){if(mt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Tt===null?Xe.memoizedState:Tt.next;if(e!==null)Tt=e,mt=t;else{if(t===null)throw Error($(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?Xe.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function yl(t,e){return typeof e=="function"?e(t):e}function ph(t){var e=Un(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((vs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Xe.lanes|=f,ws|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,tr(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,ws|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mh(t){var e=Un(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function A0(){}function R0(t,e){var n=Xe,r=Un(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,un=!0),r=r.queue,Hp(k0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,vl(9,x0.bind(null,n,r,i,e),void 0,null),St===null)throw Error($(349));vs&30||P0(n,e,i)}return i}function P0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function x0(t,e,n,r){e.value=n,e.getSnapshot=r,N0(e)&&b0(t)}function k0(t,e,n){return n(function(){N0(e)&&b0(t)})}function N0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function b0(t){var e=Hr(t,1);e!==null&&Jn(e,t,1,-1)}function V_(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:t},e.queue=t,t=t.dispatch=aA.bind(null,Xe,t),[e.memoizedState,t]}function vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function D0(){return Un().memoizedState}function Hc(t,e,n,r){var i=cr();Xe.flags|=t,i.memoizedState=vl(1|e,n,void 0,r===void 0?null:r)}function rd(t,e,n,r){var i=Un();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&Bp(r,o.deps)){i.memoizedState=vl(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=vl(1|e,n,s,r)}function U_(t,e){return Hc(8390656,8,t,e)}function Hp(t,e){return rd(2048,8,t,e)}function j0(t,e){return rd(4,2,t,e)}function L0(t,e){return rd(4,4,t,e)}function O0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function M0(t,e,n){return n=n!=null?n.concat([t]):null,rd(4,4,O0.bind(null,e,t),n)}function qp(){}function V0(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function U0(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function F0(t,e,n){return vs&21?(tr(n,e)||(n=qw(),Xe.lanes|=n,ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function sA(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=fh.transition;fh.transition={};try{t(!1),e()}finally{Re=n,fh.transition=r}}function B0(){return Un().memoizedState}function oA(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},z0(t))$0(e,n);else if(n=T0(t,e,n,r),n!==null){var i=rn();Jn(n,t,r,i),H0(n,e,r)}}function aA(t,e,n){var r=Pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(z0(t))$0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,tr(l,o)){var c=e.interleaved;c===null?(i.next=i,Op(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=T0(t,e,i,r),n!==null&&(i=rn(),Jn(n,t,r,i),H0(n,e,r))}}function z0(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function $0(t,e){Wa=Eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function H0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ip(t,n)}}var Iu={readContext:Vn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},lA={readContext:Vn,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:U_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4194308,4,O0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hc(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oA.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:V_,useDebugValue:qp,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=V_(!1),e=t[0];return t=sA.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=cr();if(qe){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),St===null)throw Error($(349));vs&30||P0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,U_(k0.bind(null,r,s,t),[t]),r.flags|=2048,vl(9,x0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cr(),e=St.identifierPrefix;if(qe){var n=Dr,r=br;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cA={readContext:Vn,useCallback:V0,useContext:Vn,useEffect:Hp,useImperativeHandle:M0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:U0,useReducer:ph,useRef:D0,useState:function(){return ph(yl)},useDebugValue:qp,useDeferredValue:function(t){var e=Un();return F0(e,mt.memoizedState,t)},useTransition:function(){var t=ph(yl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:A0,useSyncExternalStore:R0,useId:B0,unstable_isNewReconciler:!1},uA={readContext:Vn,useCallback:V0,useContext:Vn,useEffect:Hp,useImperativeHandle:M0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:U0,useReducer:mh,useRef:D0,useState:function(){return mh(yl)},useDebugValue:qp,useDeferredValue:function(t){var e=Un();return mt===null?e.memoizedState=t:F0(e,mt.memoizedState,t)},useTransition:function(){var t=mh(yl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:A0,useSyncExternalStore:R0,useId:B0,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var id={isMounted:function(t){return(t=t._reactInternals)?Ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Pi(t),s=Mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(Jn(e,t,i,r),zc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Pi(t),s=Mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(Jn(e,t,i,r),zc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Pi(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ai(t,i,r),e!==null&&(Jn(e,t,r,n),zc(e,t,r))}};function F_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!dl(n,r)||!dl(i,s):!0}function q0(t,e,n){var r=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=Vn(s):(i=hn(e)?_s:Yt.current,r=e.contextTypes,s=(r=r!=null)?ko(t,i):ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function B_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&id.enqueueReplaceState(e,e.state,null)}function vf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vn(s):(s=hn(e)?_s:Yt.current,i.context=ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&id.enqueueReplaceState(i,i.state,null),vu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,e){try{var n="",r=e;do n+=VS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dA=typeof WeakMap=="function"?WeakMap:Map;function W0(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Su||(Su=!0,kf=r),wf(t,e)},n}function G0(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wf(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function z_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CA.bind(null,t,e,n),e.then(t,t))}function $_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function H_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Ai(n,e,1))),n.lanes|=1),t)}var hA=Xr.ReactCurrentOwner,un=!1;function nn(t,e,n,r){e.child=t===null?I0(e,null,n,r):bo(e,t.child,n,r)}function q_(t,e,n,r,i){n=n.render;var s=e.ref;return To(e,i),r=zp(t,e,n,r,s,i),n=$p(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(qe&&n&&kp(e),e.flags|=1,nn(t,e,r,i),e.child)}function W_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,K0(t,e,s,r,i)):(t=Kc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:dl,n(o,r)&&t.ref===e.ref)return qr(t,e,i)}return e.flags|=1,t=xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function K0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(dl(s,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,qr(t,e,i)}return Ef(t,e,n,r,i)}function Q0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(_o,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(_o,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(_o,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(_o,vn),vn|=r;return nn(t,e,i,n),e.child}function Y0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ef(t,e,n,r,i){var s=hn(n)?_s:Yt.current;return s=ko(e,s),To(e,i),n=zp(t,e,n,r,s,i),r=$p(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(qe&&r&&kp(e),e.flags|=1,nn(t,e,n,i),e.child)}function G_(t,e,n,r,i){if(hn(n)){var s=!0;pu(e)}else s=!1;if(To(e,i),e.stateNode===null)qc(t,e),q0(e,n,r),vf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vn(u):(u=hn(n)?_s:Yt.current,u=ko(e,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&B_(e,o,r,u),fi=!1;var g=e.memoizedState;o.state=g,vu(e,r,o,i),c=e.memoizedState,l!==r||g!==c||dn.current||fi?(typeof f=="function"&&(yf(e,n,f,r),c=e.memoizedState),(l=fi||F_(e,n,l,r,g,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,S0(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Wn(e.type,l),o.props=u,m=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vn(c):(c=hn(n)?_s:Yt.current,c=ko(e,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==c)&&B_(e,o,r,c),fi=!1,g=e.memoizedState,o.state=g,vu(e,r,o,i);var S=e.memoizedState;l!==m||g!==S||dn.current||fi?(typeof v=="function"&&(yf(e,n,v,r),S=e.memoizedState),(u=fi||F_(e,n,u,r,g,S,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return If(t,e,n,r,s,i)}function If(t,e,n,r,i,s){Y0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&b_(e,n,!1),qr(t,e,s);r=e.stateNode,hA.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,s),e.child=bo(e,null,l,s)):nn(t,e,l,s),e.memoizedState=r.state,i&&b_(e,n,!0),e.child}function X0(t){var e=t.stateNode;e.pendingContext?N_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&N_(t,e.context,!1),Vp(t,e.containerInfo)}function K_(t,e,n,r,i){return No(),bp(i),e.flags|=256,nn(t,e,n,r),e.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function Sf(t){return{baseLanes:t,cachePool:null,transitions:null}}function J0(t,e,n){var r=e.pendingProps,i=Qe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Qe,i&1),t===null)return gf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ad(o,r,0,null),t=fs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sf(n),e.memoizedState=Tf,t):Wp(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return fA(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=xi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=xi(l,s):(s=fs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Sf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Tf,r}return s=t.child,t=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wp(t,e){return e=ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cc(t,e,n,r){return r!==null&&bp(r),bo(e,t.child,null,n),t=Wp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=gh(Error($(422))),Cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ad({mode:"visible",children:r.children},i,0,null),s=fs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bo(e,t.child,null,o),e.child.memoizedState=Sf(o),e.memoizedState=Tf,s);if(!(e.mode&1))return Cc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=gh(s,r,void 0),Cc(t,e,o,r)}if(l=(o&t.childLanes)!==0,un||l){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hr(t,i),Jn(r,t,i,-1))}return Jp(),r=gh(Error($(421))),Cc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wn=Ci(i.nextSibling),Tn=e,qe=!0,Qn=null,t!==null&&(Nn[bn++]=br,Nn[bn++]=Dr,Nn[bn++]=ys,br=t.id,Dr=t.overflow,ys=e),e=Wp(e,r.children),e.flags|=4096,e)}function Q_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_f(t.return,e,n)}function _h(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Z0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q_(t,n,e);else if(t.tag===19)Q_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_h(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_h(e,!0,n,null,s);break;case"together":_h(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pA(t,e,n){switch(e.tag){case 3:X0(e),No();break;case 5:C0(e);break;case 1:hn(e.type)&&pu(e);break;case 4:Vp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(_u,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?J0(t,e,n):(De(Qe,Qe.current&1),t=qr(t,e,n),t!==null?t.sibling:null);De(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Z0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,Q0(t,e,n)}return qr(t,e,n)}var eE,Cf,tE,nE;eE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cf=function(){};tE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,os(fr.current);var s=null;switch(n){case"input":i=Wh(t,i),r=Wh(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=Qh(t,i),r=Qh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hu)}Xh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(il.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(il.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ue("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};nE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ta(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mA(t,e,n){var r=e.pendingProps;switch(Np(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return hn(e.type)&&fu(),Ht(e),null;case 3:return r=e.stateNode,Do(),Be(dn),Be(Yt),Fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(Df(Qn),Qn=null))),Cf(t,e),Ht(e),null;case 5:Up(e);var i=os(gl.current);if(n=e.type,t!==null&&e.stateNode!=null)tE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Ht(e),null}if(t=os(fr.current),Tc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ur]=e,r[pl]=s,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<ja.length;i++)Ue(ja[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":i_(r,s),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ue("invalid",r);break;case"textarea":o_(r,s),Ue("invalid",r)}Xh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ic(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ic(r.textContent,l,t),i=["children",""+l]):il.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":pc(r),s_(r,s,!0);break;case"textarea":pc(r),a_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[pl]=r,eE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jh(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),i=r;break;case"iframe":case"object":case"embed":Ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<ja.length;i++)Ue(ja[i],t);i=r;break;case"source":Ue("error",t),i=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),i=r;break;case"details":Ue("toggle",t),i=r;break;case"input":i_(t,r),i=Wh(t,r),Ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":o_(t,r),i=Qh(t,r),Ue("invalid",t);break;default:i=r}Xh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Dw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&sl(t,c):typeof c=="number"&&sl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(il.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ue("scroll",t):c!=null&&gp(t,s,c,o))}switch(n){case"input":pc(t),s_(t,r,!1);break;case"textarea":pc(t),a_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?vo(t,!!r.multiple,s,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)nE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=os(gl.current),os(fr.current),Tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(s=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:Ic(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ic(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return Ht(e),null;case 13:if(Be(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&wn!==null&&e.mode&1&&!(e.flags&128))w0(),No(),e.flags|=98560,s=!1;else if(s=Tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[ur]=e}else No(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),s=!1}else Qn!==null&&(Df(Qn),Qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?gt===0&&(gt=3):Jp())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return Do(),Cf(t,e),t===null&&hl(e.stateNode.containerInfo),Ht(e),null;case 10:return Lp(e.type._context),Ht(e),null;case 17:return hn(e.type)&&fu(),Ht(e),null;case 19:if(Be(Qe),s=e.memoizedState,s===null)return Ht(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ta(s,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wu(t),o!==null){for(e.flags|=128,Ta(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Qe,Qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Lo&&(e.flags|=128,r=!0,Ta(s,!1),e.lanes=4194304)}else{if(!r)if(t=wu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Ht(e),null}else 2*ot()-s.renderingStartTime>Lo&&n!==1073741824&&(e.flags|=128,r=!0,Ta(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Qe.current,De(Qe,r?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return Xp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function gA(t,e){switch(Np(e),e.tag){case 1:return hn(e.type)&&fu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),Be(dn),Be(Yt),Fp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Up(e),null;case 13:if(Be(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));No()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Qe),null;case 4:return Do(),null;case 10:return Lp(e.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Ac=!1,Gt=!1,_A=typeof WeakSet=="function"?WeakSet:Set,Y=null;function go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function Af(t,e,n){try{n()}catch(r){tt(t,e,r)}}var Y_=!1;function yA(t,e){if(cf=cu,t=a0(),xp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,m=t,g=null;t:for(;;){for(var v;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)g=m,m=v;for(;;){if(m===t)break t;if(g===n&&++u===i&&(l=o),g===s&&++f===r&&(c=o),(v=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(uf={focusedElem:t,selectionRange:n},cu=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var A=S.memoizedProps,k=S.memoizedState,E=e.stateNode,I=E.getSnapshotBeforeUpdate(e.elementType===e.type?A:Wn(e.type,A),k);E.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(L){tt(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return S=Y_,Y_=!1,S}function Ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Af(e,n,s)}i=i.next}while(i!==r)}}function sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Rf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rE(t){var e=t.alternate;e!==null&&(t.alternate=null,rE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[pl],delete e[ff],delete e[eA],delete e[tA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iE(t){return t.tag===5||t.tag===3||t.tag===4}function X_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hu));else if(r!==4&&(t=t.child,t!==null))for(Pf(t,e,n),t=t.sibling;t!==null;)Pf(t,e,n),t=t.sibling}function xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xf(t,e,n),t=t.sibling;t!==null;)xf(t,e,n),t=t.sibling}var jt=null,Gn=!1;function ci(t,e,n){for(n=n.child;n!==null;)sE(t,e,n),n=n.sibling}function sE(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Xu,n)}catch{}switch(n.tag){case 5:Gt||go(n,e);case 6:var r=jt,i=Gn;jt=null,ci(t,e,n),jt=r,Gn=i,jt!==null&&(Gn?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Gn?(t=jt,n=n.stateNode,t.nodeType===8?uh(t.parentNode,n):t.nodeType===1&&uh(t,n),cl(t)):uh(jt,n.stateNode));break;case 4:r=jt,i=Gn,jt=n.stateNode.containerInfo,Gn=!0,ci(t,e,n),jt=r,Gn=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Af(n,e,o),i=i.next}while(i!==r)}ci(t,e,n);break;case 1:if(!Gt&&(go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tt(n,e,l)}ci(t,e,n);break;case 21:ci(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,ci(t,e,n),Gt=r):ci(t,e,n);break;default:ci(t,e,n)}}function J_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _A),e.forEach(function(r){var i=RA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,Gn=!1;break e;case 3:jt=l.stateNode.containerInfo,Gn=!0;break e;case 4:jt=l.stateNode.containerInfo,Gn=!0;break e}l=l.return}if(jt===null)throw Error($(160));sE(s,o,i),jt=null,Gn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oE(e,t),e=e.sibling}function oE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),ar(t),r&4){try{Ga(3,t,t.return),sd(3,t)}catch(A){tt(t,t.return,A)}try{Ga(5,t,t.return)}catch(A){tt(t,t.return,A)}}break;case 1:qn(e,t),ar(t),r&512&&n!==null&&go(n,n.return);break;case 5:if(qn(e,t),ar(t),r&512&&n!==null&&go(n,n.return),t.flags&32){var i=t.stateNode;try{sl(i,"")}catch(A){tt(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Pw(i,s),Jh(l,o);var u=Jh(l,s);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?Dw(i,m):f==="dangerouslySetInnerHTML"?Nw(i,m):f==="children"?sl(i,m):gp(i,f,m,u)}switch(l){case"input":Gh(i,s);break;case"textarea":xw(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?vo(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?vo(i,!!s.multiple,s.defaultValue,!0):vo(i,!!s.multiple,s.multiple?[]:"",!1))}i[pl]=s}catch(A){tt(t,t.return,A)}}break;case 6:if(qn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){tt(t,t.return,A)}}break;case 3:if(qn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cl(e.containerInfo)}catch(A){tt(t,t.return,A)}break;case 4:qn(e,t),ar(t);break;case 13:qn(e,t),ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qp=ot())),r&4&&J_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(u=Gt)||f,qn(e,t),Gt=u):qn(e,t),ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Y=t,f=t.child;f!==null;){for(m=Y=f;Y!==null;){switch(g=Y,v=g.child,g.tag){case 0:case 11:case 14:case 15:Ga(4,g,g.return);break;case 1:go(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(A){tt(r,n,A)}}break;case 5:go(g,g.return);break;case 22:if(g.memoizedState!==null){ey(m);continue}}v!==null?(v.return=g,Y=v):ey(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bw("display",o))}catch(A){tt(t,t.return,A)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(A){tt(t,t.return,A)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:qn(e,t),ar(t),r&4&&J_(t);break;case 21:break;default:qn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iE(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sl(i,""),r.flags&=-33);var s=X_(t);xf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=X_(t);Pf(t,l,o);break;default:throw Error($(161))}}catch(c){tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vA(t,e,n){Y=t,aE(t)}function aE(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ac;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Gt;l=Ac;var u=Gt;if(Ac=o,(Gt=c)&&!u)for(Y=i;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?ty(i):c!==null?(c.return=o,Y=c):ty(i);for(;s!==null;)Y=s,aE(s),s=s.sibling;Y=i,Ac=l,Gt=u}Z_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Z_(t)}}function Z_(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||sd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&M_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M_(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&cl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Gt||e.flags&512&&Rf(e)}catch(g){tt(e,e.return,g)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function ey(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function ty(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sd(4,e)}catch(c){tt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){tt(e,i,c)}}var s=e.return;try{Rf(e)}catch(c){tt(e,s,c)}break;case 5:var o=e.return;try{Rf(e)}catch(c){tt(e,o,c)}}}catch(c){tt(e,e.return,c)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var wA=Math.ceil,Tu=Xr.ReactCurrentDispatcher,Gp=Xr.ReactCurrentOwner,On=Xr.ReactCurrentBatchConfig,Ee=0,St=null,dt=null,Mt=0,vn=0,_o=Fi(0),gt=0,wl=null,ws=0,od=0,Kp=0,Ka=null,ln=null,Qp=0,Lo=1/0,Pr=null,Su=!1,kf=null,Ri=null,Rc=!1,wi=null,Cu=0,Qa=0,Nf=null,Wc=-1,Gc=0;function rn(){return Ee&6?ot():Wc!==-1?Wc:Wc=ot()}function Pi(t){return t.mode&1?Ee&2&&Mt!==0?Mt&-Mt:rA.transition!==null?(Gc===0&&(Gc=qw()),Gc):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Jw(t.type)),t):1}function Jn(t,e,n,r){if(50<Qa)throw Qa=0,Nf=null,Error($(185));Dl(t,n,r),(!(Ee&2)||t!==St)&&(t===St&&(!(Ee&2)&&(od|=n),gt===4&&mi(t,Mt)),fn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(Lo=ot()+500,nd&&Bi()))}function fn(t,e){var n=t.callbackNode;rC(t,e);var r=lu(t,t===St?Mt:0);if(r===0)n!==null&&u_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&u_(n),e===1)t.tag===0?nA(ny.bind(null,t)):_0(ny.bind(null,t)),JC(function(){!(Ee&6)&&Bi()}),n=null;else{switch(Ww(r)){case 1:n=Ep;break;case 4:n=$w;break;case 16:n=au;break;case 536870912:n=Hw;break;default:n=au}n=mE(n,lE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lE(t,e){if(Wc=-1,Gc=0,Ee&6)throw Error($(327));var n=t.callbackNode;if(So()&&t.callbackNode!==n)return null;var r=lu(t,t===St?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Au(t,r);else{e=r;var i=Ee;Ee|=2;var s=uE();(St!==t||Mt!==e)&&(Pr=null,Lo=ot()+500,hs(t,e));do try{TA();break}catch(l){cE(t,l)}while(!0);jp(),Tu.current=s,Ee=i,dt!==null?e=0:(St=null,Mt=0,e=gt)}if(e!==0){if(e===2&&(i=rf(t),i!==0&&(r=i,e=bf(t,i))),e===1)throw n=wl,hs(t,0),mi(t,r),fn(t,ot()),n;if(e===6)mi(t,r);else{if(i=t.current.alternate,!(r&30)&&!EA(i)&&(e=Au(t,r),e===2&&(s=rf(t),s!==0&&(r=s,e=bf(t,s))),e===1))throw n=wl,hs(t,0),mi(t,r),fn(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ns(t,ln,Pr);break;case 3:if(mi(t,r),(r&130023424)===r&&(e=Qp+500-ot(),10<e)){if(lu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hf(ns.bind(null,t,ln,Pr),e);break}ns(t,ln,Pr);break;case 4:if(mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wA(r/1960))-r,10<r){t.timeoutHandle=hf(ns.bind(null,t,ln,Pr),r);break}ns(t,ln,Pr);break;case 5:ns(t,ln,Pr);break;default:throw Error($(329))}}}return fn(t,ot()),t.callbackNode===n?lE.bind(null,t):null}function bf(t,e){var n=Ka;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=Au(t,e),t!==2&&(e=ln,ln=n,e!==null&&Df(e)),t}function Df(t){ln===null?ln=t:ln.push.apply(ln,t)}function EA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e){for(e&=~Kp,e&=~od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function ny(t){if(Ee&6)throw Error($(327));So();var e=lu(t,0);if(!(e&1))return fn(t,ot()),null;var n=Au(t,e);if(t.tag!==0&&n===2){var r=rf(t);r!==0&&(e=r,n=bf(t,r))}if(n===1)throw n=wl,hs(t,0),mi(t,e),fn(t,ot()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,ln,Pr),fn(t,ot()),null}function Yp(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(Lo=ot()+500,nd&&Bi())}}function Es(t){wi!==null&&wi.tag===0&&!(Ee&6)&&So();var e=Ee;Ee|=1;var n=On.transition,r=Re;try{if(On.transition=null,Re=1,t)return t()}finally{Re=r,On.transition=n,Ee=e,!(Ee&6)&&Bi()}}function Xp(){vn=_o.current,Be(_o)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XC(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Np(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fu();break;case 3:Do(),Be(dn),Be(Yt),Fp();break;case 5:Up(r);break;case 4:Do();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:Lp(r.type._context);break;case 22:case 23:Xp()}n=n.return}if(St=t,dt=t=xi(t.current,null),Mt=vn=e,gt=0,wl=null,Kp=od=ws=0,ln=Ka=null,ss!==null){for(e=0;e<ss.length;e++)if(n=ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ss=null}return t}function cE(t,e){do{var n=dt;try{if(jp(),$c.current=Iu,Eu){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Eu=!1}if(vs=0,Tt=mt=Xe=null,Wa=!1,_l=0,Gp.current=null,n===null||n.return===null){gt=1,wl=e,dt=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=$_(o);if(v!==null){v.flags&=-257,H_(v,o,l,s,e),v.mode&1&&z_(s,u,e),e=v,c=u;var S=e.updateQueue;if(S===null){var A=new Set;A.add(c),e.updateQueue=A}else S.add(c);break e}else{if(!(e&1)){z_(s,u,e),Jp();break e}c=Error($(426))}}else if(qe&&l.mode&1){var k=$_(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),H_(k,o,l,s,e),bp(jo(c,l));break e}}s=c=jo(c,l),gt!==4&&(gt=2),Ka===null?Ka=[s]:Ka.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=W0(s,c,e);O_(s,E);break e;case 1:l=c;var I=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ri===null||!Ri.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=G0(s,l,e);O_(s,L);break e}}s=s.return}while(s!==null)}hE(n)}catch(V){e=V,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function uE(){var t=Tu.current;return Tu.current=Iu,t===null?Iu:t}function Jp(){(gt===0||gt===3||gt===2)&&(gt=4),St===null||!(ws&268435455)&&!(od&268435455)||mi(St,Mt)}function Au(t,e){var n=Ee;Ee|=2;var r=uE();(St!==t||Mt!==e)&&(Pr=null,hs(t,e));do try{IA();break}catch(i){cE(t,i)}while(!0);if(jp(),Ee=n,Tu.current=r,dt!==null)throw Error($(261));return St=null,Mt=0,gt}function IA(){for(;dt!==null;)dE(dt)}function TA(){for(;dt!==null&&!KS();)dE(dt)}function dE(t){var e=pE(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?hE(t):dt=e,Gp.current=null}function hE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gA(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,dt=null;return}}else if(n=mA(n,e,vn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);gt===0&&(gt=5)}function ns(t,e,n){var r=Re,i=On.transition;try{On.transition=null,Re=1,SA(t,e,n,r)}finally{On.transition=i,Re=r}return null}function SA(t,e,n,r){do So();while(wi!==null);if(Ee&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(iC(t,s),t===St&&(dt=St=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rc||(Rc=!0,mE(au,function(){return So(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=Re;Re=1;var l=Ee;Ee|=4,Gp.current=null,yA(t,n),oE(n,t),HC(uf),cu=!!cf,uf=cf=null,t.current=n,vA(n),QS(),Ee=l,Re=o,On.transition=s}else t.current=n;if(Rc&&(Rc=!1,wi=t,Cu=i),s=t.pendingLanes,s===0&&(Ri=null),JS(n.stateNode),fn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Su)throw Su=!1,t=kf,kf=null,t;return Cu&1&&t.tag!==0&&So(),s=t.pendingLanes,s&1?t===Nf?Qa++:(Qa=0,Nf=t):Qa=0,Bi(),null}function So(){if(wi!==null){var t=Ww(Cu),e=On.transition,n=Re;try{if(On.transition=null,Re=16>t?16:t,wi===null)var r=!1;else{if(t=wi,wi=null,Cu=0,Ee&6)throw Error($(331));var i=Ee;for(Ee|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Y=u;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:Ga(8,f,s)}var m=f.child;if(m!==null)m.return=f,Y=m;else for(;Y!==null;){f=Y;var g=f.sibling,v=f.return;if(rE(f),f===u){Y=null;break}if(g!==null){g.return=v,Y=g;break}Y=v}}}var S=s.alternate;if(S!==null){var A=S.child;if(A!==null){S.child=null;do{var k=A.sibling;A.sibling=null,A=k}while(A!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ga(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break e}Y=s.return}}var I=t.current;for(Y=I;Y!==null;){o=Y;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Y=C;else e:for(o=I;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sd(9,l)}}catch(V){tt(l,l.return,V)}if(l===o){Y=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,Y=L;break e}Y=l.return}}if(Ee=i,Bi(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Xu,t)}catch{}r=!0}return r}finally{Re=n,On.transition=e}}return!1}function ry(t,e,n){e=jo(n,e),e=W0(t,e,1),t=Ai(t,e,1),e=rn(),t!==null&&(Dl(t,1,e),fn(t,e))}function tt(t,e,n){if(t.tag===3)ry(t,t,n);else for(;e!==null;){if(e.tag===3){ry(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=jo(n,t),t=G0(e,t,1),e=Ai(e,t,1),t=rn(),e!==null&&(Dl(e,1,t),fn(e,t));break}}e=e.return}}function CA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Mt&n)===n&&(gt===4||gt===3&&(Mt&130023424)===Mt&&500>ot()-Qp?hs(t,0):Kp|=n),fn(t,e)}function fE(t,e){e===0&&(t.mode&1?(e=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):e=1);var n=rn();t=Hr(t,e),t!==null&&(Dl(t,e,n),fn(t,n))}function AA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fE(t,n)}function RA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),fE(t,n)}var pE;pE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,pA(t,e,n);un=!!(t.flags&131072)}else un=!1,qe&&e.flags&1048576&&y0(e,gu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qc(t,e),t=e.pendingProps;var i=ko(e,Yt.current);To(e,n),i=zp(null,e,r,t,i,n);var s=$p();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(r)?(s=!0,pu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mp(e),i.updater=id,e.stateNode=i,i._reactInternals=e,vf(e,r,t,n),e=If(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&kp(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xA(r),t=Wn(r,t),i){case 0:e=Ef(null,e,r,t,n);break e;case 1:e=G_(null,e,r,t,n);break e;case 11:e=q_(null,e,r,t,n);break e;case 14:e=W_(null,e,r,Wn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Ef(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),G_(t,e,r,i,n);case 3:e:{if(X0(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,S0(t,e),vu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jo(Error($(423)),e),e=K_(t,e,r,n,i);break e}else if(r!==i){i=jo(Error($(424)),e),e=K_(t,e,r,n,i);break e}else for(wn=Ci(e.stateNode.containerInfo.firstChild),Tn=e,qe=!0,Qn=null,n=I0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===i){e=qr(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return C0(e),t===null&&gf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,df(r,i)?o=null:s!==null&&df(r,s)&&(e.flags|=32),Y0(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&gf(e),null;case 13:return J0(t,e,n);case 4:return Vp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),q_(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(_u,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!dn.current){e=qr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Mr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),_f(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_f(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),i=Vn(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),W_(t,e,r,i,n);case 15:return K0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),qc(t,e),e.tag=1,hn(r)?(t=!0,pu(e)):t=!1,To(e,n),q0(e,r,i),vf(e,r,i,n),If(null,e,r,!0,t,n);case 19:return Z0(t,e,n);case 22:return Q0(t,e,n)}throw Error($(156,e.tag))};function mE(t,e){return zw(t,e)}function PA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new PA(t,e,n,r)}function Zp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xA(t){if(typeof t=="function")return Zp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yp)return 11;if(t===vp)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Zp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oo:return fs(n.children,i,s,e);case _p:o=8,i|=8;break;case zh:return t=Ln(12,n,e,i|2),t.elementType=zh,t.lanes=s,t;case $h:return t=Ln(13,n,e,i),t.elementType=$h,t.lanes=s,t;case Hh:return t=Ln(19,n,e,i),t.elementType=Hh,t.lanes=s,t;case Cw:return ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tw:o=10;break e;case Sw:o=9;break e;case yp:o=11;break e;case vp:o=14;break e;case hi:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fs(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function ad(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=Cw,t.lanes=n,t.stateNode={isHidden:!1},t}function yh(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function vh(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function em(t,e,n,r,i,s,o,l,c){return t=new kA(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ln(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mp(s),t}function NA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gE(t){if(!t)return ji;t=t._reactInternals;e:{if(Ls(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(hn(n))return g0(t,n,e)}return e}function _E(t,e,n,r,i,s,o,l,c){return t=em(n,r,!0,t,i,s,o,l,c),t.context=gE(null),n=t.current,r=rn(),i=Pi(n),s=Mr(r,i),s.callback=e??null,Ai(n,s,i),t.current.lanes=i,Dl(t,i,r),fn(t,r),t}function ld(t,e,n,r){var i=e.current,s=rn(),o=Pi(i);return n=gE(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ai(i,e,o),t!==null&&(Jn(t,i,o,s),zc(t,i,o)),o}function Ru(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tm(t,e){iy(t,e),(t=t.alternate)&&iy(t,e)}function bA(){return null}var yE=typeof reportError=="function"?reportError:function(t){console.error(t)};function nm(t){this._internalRoot=t}cd.prototype.render=nm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));ld(t,e,null,null)};cd.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Es(function(){ld(null,t,null,null)}),e[$r]=null}};function cd(t){this._internalRoot=t}cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pi.length&&e!==0&&e<pi[n].priority;n++);pi.splice(n,0,t),n===0&&Xw(t)}};function rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sy(){}function DA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ru(o);s.call(u)}}var o=_E(e,r,t,0,null,!1,!1,"",sy);return t._reactRootContainer=o,t[$r]=o.current,hl(t.nodeType===8?t.parentNode:t),Es(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ru(c);l.call(u)}}var c=em(t,0,!1,null,null,!1,!1,"",sy);return t._reactRootContainer=c,t[$r]=c.current,hl(t.nodeType===8?t.parentNode:t),Es(function(){ld(e,c,n,r)}),c}function dd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Ru(o);l.call(c)}}ld(e,o,t,i)}else o=DA(n,e,t,i,r);return Ru(o)}Gw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Da(e.pendingLanes);n!==0&&(Ip(e,n|1),fn(e,ot()),!(Ee&6)&&(Lo=ot()+500,Bi()))}break;case 13:Es(function(){var r=Hr(t,1);if(r!==null){var i=rn();Jn(r,t,1,i)}}),tm(t,1)}};Tp=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=rn();Jn(e,t,134217728,n)}tm(t,134217728)}};Kw=function(t){if(t.tag===13){var e=Pi(t),n=Hr(t,e);if(n!==null){var r=rn();Jn(n,t,e,r)}tm(t,e)}};Qw=function(){return Re};Yw=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};ef=function(t,e,n){switch(e){case"input":if(Gh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=td(r);if(!i)throw Error($(90));Rw(r),Gh(r,i)}}}break;case"textarea":xw(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};Ow=Yp;Mw=Es;var jA={usingClientEntryPoint:!1,Events:[Ll,uo,td,jw,Lw,Yp]},Sa={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LA={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fw(t),t===null?null:t.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||bA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Xu=Pc.inject(LA),hr=Pc}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jA;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rm(e))throw Error($(200));return NA(t,e,null,n)};An.createRoot=function(t,e){if(!rm(t))throw Error($(299));var n=!1,r="",i=yE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=em(t,1,!1,null,null,n,!1,r,i),t[$r]=e.current,hl(t.nodeType===8?t.parentNode:t),new nm(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Fw(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Es(t)};An.hydrate=function(t,e,n){if(!ud(e))throw Error($(200));return dd(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!rm(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_E(e,null,t,1,n??null,i,!1,s,o),t[$r]=e.current,hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cd(e)};An.render=function(t,e,n){if(!ud(e))throw Error($(200));return dd(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!ud(t))throw Error($(40));return t._reactRootContainer?(Es(function(){dd(null,null,t,!1,function(){t._reactRootContainer=null,t[$r]=null})}),!0):!1};An.unstable_batchedUpdates=Yp;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ud(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return dd(t,e,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function vE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vE)}catch(t){console.error(t)}}vE(),vw.exports=An;var im=vw.exports;const OA=aw(im),MA=ow({__proto__:null,default:OA},[im]);var oy=im;Fh.createRoot=oy.createRoot,Fh.hydrateRoot=oy.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ke.apply(this,arguments)}var ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ct||(ct={}));const ay="popstate";function VA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return El("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Is(i)}return FA(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UA(){return Math.random().toString(36).substr(2,8)}function ly(t,e){return{usr:t.state,key:t.key,idx:e}}function El(t,e,n,r){return n===void 0&&(n=null),Ke({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zi(e):e,{state:n,key:e&&e.key||r||UA()})}function Is(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ct.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Ke({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=ct.Pop;let k=f(),E=k==null?null:k-u;u=k,c&&c({action:l,location:A.location,delta:E})}function g(k,E){l=ct.Push;let I=El(A.location,k,E);u=f()+1;let C=ly(I,u),L=A.createHref(I);try{o.pushState(C,"",L)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(L)}s&&c&&c({action:l,location:A.location,delta:1})}function v(k,E){l=ct.Replace;let I=El(A.location,k,E);u=f();let C=ly(I,u),L=A.createHref(I);o.replaceState(C,"",L),s&&c&&c({action:l,location:A.location,delta:0})}function S(k){let E=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof k=="string"?k:Is(k);return I=I.replace(/ $/,"%20"),me(E,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,E)}let A={get action(){return l},get location(){return t(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ay,m),c=k,()=>{i.removeEventListener(ay,m),c=null}},createHref(k){return e(i,k)},createURL:S,encodeLocation(k){let E=S(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:v,go(k){return o.go(k)}};return A}var He;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(He||(He={}));const BA=new Set(["lazy","caseSensitive","path","id","index","children"]);function zA(t){return t.index===!0}function jf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(me(i.index!==!0||!i.children,"Cannot specify children on an index route"),me(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),zA(i)){let c=Ke({},i,e(i),{id:l});return r[l]=c,c}else{let c=Ke({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=jf(i.children,e,o,r)),c}})}function yo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?zi(e):e,i=Qo(r.pathname||"/",n);if(i==null)return null;let s=wE(t);HA(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=nR(i);o=ZA(s[l],c)}return o}function $A(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function wE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(me(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Vr([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wE(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:XA(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of EE(s.path))i(s,o,c)}),e}function EE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=EE(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function HA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qA=/^:[\w-]+$/,WA=3,GA=2,KA=1,QA=10,YA=-2,cy=t=>t==="*";function XA(t,e){let n=t.split("/"),r=n.length;return n.some(cy)&&(r+=YA),e&&(r+=GA),n.filter(i=>!cy(i)).reduce((i,s)=>i+(qA.test(s)?WA:s===""?KA:QA),r)}function JA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZA(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=eR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!f)return null;Object.assign(r,f.params);let m=l.route;s.push({params:r,pathname:Vr([i,f.pathname]),pathnameBase:sR(Vr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Vr([i,f.pathnameBase]))}return s}function eR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,m)=>{let{paramName:g,isOptional:v}=f;if(g==="*"){let A=l[m]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const S=l[m];return v&&!S?u[g]=void 0:u[g]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function tR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Oo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zi(t):t;return{pathname:n?n.startsWith("/")?n:iR(n,e):e,search:oR(r),hash:aR(i)}}function iR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sm(t,e){let n=IE(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function om(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zi(t):(i=Ke({},t),me(!i.pathname||!i.pathname.includes("?"),wh("?","pathname","search",i)),me(!i.pathname||!i.pathname.includes("#"),wh("#","pathname","hash",i)),me(!i.search||!i.search.includes("#"),wh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=rR(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Vr=t=>t.join("/").replace(/\/\/+/g,"/"),sR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class am{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function lm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TE=["post","put","patch","delete"],lR=new Set(TE),cR=["get",...TE],uR=new Set(cR),dR=new Set([301,302,303,307,308]),hR=new Set([307,308]),Eh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ca={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),SE="remix-router-transitions";function mR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;i=O=>({hasErrorBoundary:D(O)})}else i=pR;let s={},o=jf(t.routes,i,void 0,s),l,c=t.basename||"/",u=t.unstable_dataStrategy||vR,f=Ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),m=null,g=new Set,v=null,S=null,A=null,k=t.hydrationData!=null,E=yo(o,t.history.location,c),I=null;if(E==null){let D=kn(404,{pathname:t.history.location.pathname}),{matches:O,route:F}=vy(o);E=O,I={[F.id]:D}}let C,L=E.some(D=>D.route.lazy),V=E.some(D=>D.route.loader);if(L)C=!1;else if(!V)C=!0;else if(f.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null,F=H=>H.route.loader?typeof H.route.loader=="function"&&H.route.loader.hydrate===!0?!1:D&&D[H.route.id]!==void 0||O&&O[H.route.id]!==void 0:!0;if(O){let H=E.findIndex(Q=>O[Q.route.id]!==void 0);C=E.slice(0,H+1).every(F)}else C=E.every(F)}else C=t.hydrationData!=null;let M,_={historyAction:t.history.action,location:t.history.location,matches:E,initialized:C,navigation:Eh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},y=ct.Pop,T=!1,R,x=!1,b=new Map,P=null,xe=!1,Ct=!1,ir=[],an=[],q=new Map,ne=0,se=-1,Ce=new Map,fe=new Set,Pe=new Map,Jt=new Map,ft=new Set,At=new Map,Rt=new Map,na=!1;function Md(){if(m=t.history.listen(D=>{let{action:O,location:F,delta:H}=D;if(na){na=!1;return}Oo(Rt.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Ks({currentLocation:_.location,nextLocation:F,historyAction:O});if(Q&&H!=null){na=!0,t.history.go(H*-1),Gs(Q,{state:"blocked",location:F,proceed(){Gs(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(H)},reset(){let Z=new Map(_.blockers);Z.set(Q,Ca),Pt({blockers:Z})}});return}return sr(O,F)}),n){NR(e,b);let D=()=>bR(e,b);e.addEventListener("pagehide",D),P=()=>e.removeEventListener("pagehide",D)}return _.initialized||sr(ct.Pop,_.location,{initialHydration:!0}),M}function zs(){m&&m(),P&&P(),g.clear(),R&&R.abort(),_.fetchers.forEach((D,O)=>Xi(O)),_.blockers.forEach((D,O)=>ec(O))}function $s(D){return g.add(D),()=>g.delete(D)}function Pt(D,O){O===void 0&&(O={}),_=Ke({},_,D);let F=[],H=[];f.v7_fetcherPersist&&_.fetchers.forEach((Q,Z)=>{Q.state==="idle"&&(ft.has(Z)?H.push(Z):F.push(Z))}),[...g].forEach(Q=>Q(_,{deletedFetchers:H,unstable_viewTransitionOpts:O.viewTransitionOpts,unstable_flushSync:O.flushSync===!0})),f.v7_fetcherPersist&&(F.forEach(Q=>_.fetchers.delete(Q)),H.forEach(Q=>Xi(Q)))}function vr(D,O,F){var H,Q;let{flushSync:Z}=F===void 0?{}:F,ee=_.actionData!=null&&_.navigation.formMethod!=null&&Kn(_.navigation.formMethod)&&_.navigation.state==="loading"&&((H=D.state)==null?void 0:H._isRedirect)!==!0,K;O.actionData?Object.keys(O.actionData).length>0?K=O.actionData:K=null:ee?K=_.actionData:K=null;let oe=O.loaderData?_y(_.loaderData,O.loaderData,O.matches||[],O.errors):_.loaderData,ae=_.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((re,be)=>ae.set(be,Ca)));let pt=T===!0||_.navigation.formMethod!=null&&Kn(_.navigation.formMethod)&&((Q=D.state)==null?void 0:Q._isRedirect)!==!0;l&&(o=l,l=void 0),xe||y===ct.Pop||(y===ct.Push?t.history.push(D,D.state):y===ct.Replace&&t.history.replace(D,D.state));let ze;if(y===ct.Pop){let re=b.get(_.location.pathname);re&&re.has(D.pathname)?ze={currentLocation:_.location,nextLocation:D}:b.has(D.pathname)&&(ze={currentLocation:D,nextLocation:_.location})}else if(x){let re=b.get(_.location.pathname);re?re.add(D.pathname):(re=new Set([D.pathname]),b.set(_.location.pathname,re)),ze={currentLocation:_.location,nextLocation:D}}Pt(Ke({},O,{actionData:K,loaderData:oe,historyAction:y,location:D,initialized:!0,navigation:Eh,revalidation:"idle",restoreScrollPosition:Ys(D,O.matches||_.matches),preventScrollReset:pt,blockers:ae}),{viewTransitionOpts:ze,flushSync:Z===!0}),y=ct.Pop,T=!1,x=!1,xe=!1,Ct=!1,ir=[],an=[]}async function Hs(D,O){if(typeof D=="number"){t.history.go(D);return}let F=Lf(_.location,_.matches,c,f.v7_prependBasename,D,f.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:H,submission:Q,error:Z}=uy(f.v7_normalizeFormMethod,!1,F,O),ee=_.location,K=El(_.location,H,O&&O.state);K=Ke({},K,t.history.encodeLocation(K));let oe=O&&O.replace!=null?O.replace:void 0,ae=ct.Push;oe===!0?ae=ct.Replace:oe===!1||Q!=null&&Kn(Q.formMethod)&&Q.formAction===_.location.pathname+_.location.search&&(ae=ct.Replace);let pt=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,ze=(O&&O.unstable_flushSync)===!0,re=Ks({currentLocation:ee,nextLocation:K,historyAction:ae});if(re){Gs(re,{state:"blocked",location:K,proceed(){Gs(re,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Hs(D,O)},reset(){let be=new Map(_.blockers);be.set(re,Ca),Pt({blockers:be})}});return}return await sr(ae,K,{submission:Q,pendingError:Z,preventScrollReset:pt,replace:O&&O.replace,enableViewTransition:O&&O.unstable_viewTransition,flushSync:ze})}function ra(){if(Ws(),Pt({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){sr(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}sr(y||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function sr(D,O,F){R&&R.abort(),R=null,y=D,xe=(F&&F.startUninterruptedRevalidation)===!0,la(_.location,_.matches),T=(F&&F.preventScrollReset)===!0,x=(F&&F.enableViewTransition)===!0;let H=l||o,Q=F&&F.overrideNavigation,Z=yo(H,O,c),ee=(F&&F.flushSync)===!0;if(!Z){let re=kn(404,{pathname:O.pathname}),{matches:be,route:We}=vy(H);Qs(),vr(O,{matches:be,loaderData:{},errors:{[We.id]:re}},{flushSync:ee});return}if(_.initialized&&!Ct&&CR(_.location,O)&&!(F&&F.submission&&Kn(F.submission.formMethod))){vr(O,{matches:Z},{flushSync:ee});return}R=new AbortController;let K=to(t.history,O,R.signal,F&&F.submission),oe;if(F&&F.pendingError)oe=[Ya(Z).route.id,{type:He.error,error:F.pendingError}];else if(F&&F.submission&&Kn(F.submission.formMethod)){let re=await Vd(K,O,F.submission,Z,{replace:F.replace,flushSync:ee});if(re.shortCircuited)return;oe=re.pendingActionResult,Q=Ih(O,F.submission),ee=!1,K=to(t.history,K.url,K.signal)}let{shortCircuited:ae,loaderData:pt,errors:ze}=await Ud(K,O,Z,Q,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,ee,oe);ae||(R=null,vr(O,Ke({matches:Z},yy(oe),{loaderData:pt,errors:ze})))}async function Vd(D,O,F,H,Q){Q===void 0&&(Q={}),Ws();let Z=xR(O,F);Pt({navigation:Z},{flushSync:Q.flushSync===!0});let ee,K=Mf(H,O);if(!K.route.action&&!K.route.lazy)ee={type:He.error,error:kn(405,{method:D.method,pathname:O.pathname,routeId:K.route.id})};else if(ee=(await wr("action",D,[K],H))[0],D.signal.aborted)return{shortCircuited:!0};if(ls(ee)){let oe;return Q&&Q.replace!=null?oe=Q.replace:oe=py(ee.response.headers.get("Location"),new URL(D.url),c)===_.location.pathname+_.location.search,await Qi(D,ee,{submission:F,replace:oe}),{shortCircuited:!0}}if(as(ee))throw kn(400,{type:"defer-action"});if(Dn(ee)){let oe=Ya(H,K.route.id);return(Q&&Q.replace)!==!0&&(y=ct.Push),{pendingActionResult:[oe.route.id,ee]}}return{pendingActionResult:[K.route.id,ee]}}async function Ud(D,O,F,H,Q,Z,ee,K,oe,ae){let pt=H||Ih(O,Q),ze=Q||Z||Iy(pt),re=l||o,[be,We]=dy(t.history,_,F,ze,O,f.v7_partialHydration&&K===!0,f.unstable_skipActionErrorRevalidation,Ct,ir,an,ft,Pe,fe,re,c,ae);if(Qs(pe=>!(F&&F.some(xt=>xt.route.id===pe))||be&&be.some(xt=>xt.route.id===pe)),se=++ne,be.length===0&&We.length===0){let pe=sa();return vr(O,Ke({matches:F,loaderData:{},errors:ae&&Dn(ae[1])?{[ae[0]]:ae[1].error}:null},yy(ae),pe?{fetchers:new Map(_.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(!xe&&(!f.v7_partialHydration||!K)){We.forEach(xt=>{let kt=_.fetchers.get(xt.key),at=Aa(void 0,kt?kt.data:void 0);_.fetchers.set(xt.key,at)});let pe;ae&&!Dn(ae[1])?pe={[ae[0]]:ae[1].data}:_.actionData&&(Object.keys(_.actionData).length===0?pe=null:pe=_.actionData),Pt(Ke({navigation:pt},pe!==void 0?{actionData:pe}:{},We.length>0?{fetchers:new Map(_.fetchers)}:{}),{flushSync:oe})}We.forEach(pe=>{q.has(pe.key)&&or(pe.key),pe.controller&&q.set(pe.key,pe.controller)});let ri=()=>We.forEach(pe=>or(pe.key));R&&R.signal.addEventListener("abort",ri);let{loaderResults:Pn,fetcherResults:$n}=await qs(_.matches,F,be,We,D);if(D.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ri),We.forEach(pe=>q.delete(pe.key));let Zt=wy([...Pn,...$n]);if(Zt){if(Zt.idx>=be.length){let pe=We[Zt.idx-be.length].key;fe.add(pe)}return await Qi(D,Zt.result,{replace:ee}),{shortCircuited:!0}}let{loaderData:Ir,errors:gn}=gy(_,F,be,Pn,ae,We,$n,At);At.forEach((pe,xt)=>{pe.subscribe(kt=>{(kt||pe.done)&&At.delete(xt)})}),f.v7_partialHydration&&K&&_.errors&&Object.entries(_.errors).filter(pe=>{let[xt]=pe;return!be.some(kt=>kt.route.id===xt)}).forEach(pe=>{let[xt,kt]=pe;gn=Object.assign(gn||{},{[xt]:kt})});let ii=sa(),si=oa(se),Ji=ii||si||We.length>0;return Ke({loaderData:Ir,errors:gn},Ji?{fetchers:new Map(_.fetchers)}:{})}function Xl(D,O,F,H){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(D)&&or(D);let Q=(H&&H.unstable_flushSync)===!0,Z=l||o,ee=Lf(_.location,_.matches,c,f.v7_prependBasename,F,f.v7_relativeSplatPath,O,H==null?void 0:H.relative),K=yo(Z,ee,c);if(!K){st(D,O,kn(404,{pathname:ee}),{flushSync:Q});return}let{path:oe,submission:ae,error:pt}=uy(f.v7_normalizeFormMethod,!0,ee,H);if(pt){st(D,O,pt,{flushSync:Q});return}let ze=Mf(K,oe);if(T=(H&&H.preventScrollReset)===!0,ae&&Kn(ae.formMethod)){ia(D,O,oe,ze,K,Q,ae);return}Pe.set(D,{routeId:O,path:oe}),Jl(D,O,oe,ze,K,Q,ae)}async function ia(D,O,F,H,Q,Z,ee){if(Ws(),Pe.delete(D),!H.route.action&&!H.route.lazy){let at=kn(405,{method:ee.formMethod,pathname:F,routeId:O});st(D,O,at,{flushSync:Z});return}let K=_.fetchers.get(D);Oe(D,kR(ee,K),{flushSync:Z});let oe=new AbortController,ae=to(t.history,F,oe.signal,ee);q.set(D,oe);let pt=ne,re=(await wr("action",ae,[H],Q))[0];if(ae.signal.aborted){q.get(D)===oe&&q.delete(D);return}if(f.v7_fetcherPersist&&ft.has(D)){if(ls(re)||Dn(re)){Oe(D,di(void 0));return}}else{if(ls(re))if(q.delete(D),se>pt){Oe(D,di(void 0));return}else return fe.add(D),Oe(D,Aa(ee)),Qi(ae,re,{fetcherSubmission:ee});if(Dn(re)){st(D,O,re.error);return}}if(as(re))throw kn(400,{type:"defer-action"});let be=_.navigation.location||_.location,We=to(t.history,be,oe.signal),ri=l||o,Pn=_.navigation.state!=="idle"?yo(ri,_.navigation.location,c):_.matches;me(Pn,"Didn't find any matches after fetcher action");let $n=++ne;Ce.set(D,$n);let Zt=Aa(ee,re.data);_.fetchers.set(D,Zt);let[Ir,gn]=dy(t.history,_,Pn,ee,be,!1,f.unstable_skipActionErrorRevalidation,Ct,ir,an,ft,Pe,fe,ri,c,[H.route.id,re]);gn.filter(at=>at.key!==D).forEach(at=>{let Tr=at.key,oi=_.fetchers.get(Tr),Sr=Aa(void 0,oi?oi.data:void 0);_.fetchers.set(Tr,Sr),q.has(Tr)&&or(Tr),at.controller&&q.set(Tr,at.controller)}),Pt({fetchers:new Map(_.fetchers)});let ii=()=>gn.forEach(at=>or(at.key));oe.signal.addEventListener("abort",ii);let{loaderResults:si,fetcherResults:Ji}=await qs(_.matches,Pn,Ir,gn,We);if(oe.signal.aborted)return;oe.signal.removeEventListener("abort",ii),Ce.delete(D),q.delete(D),gn.forEach(at=>q.delete(at.key));let pe=wy([...si,...Ji]);if(pe){if(pe.idx>=Ir.length){let at=gn[pe.idx-Ir.length].key;fe.add(at)}return Qi(We,pe.result)}let{loaderData:xt,errors:kt}=gy(_,_.matches,Ir,si,void 0,gn,Ji,At);if(_.fetchers.has(D)){let at=di(re.data);_.fetchers.set(D,at)}oa($n),_.navigation.state==="loading"&&$n>se?(me(y,"Expected pending action"),R&&R.abort(),vr(_.navigation.location,{matches:Pn,loaderData:xt,errors:kt,fetchers:new Map(_.fetchers)})):(Pt({errors:kt,loaderData:_y(_.loaderData,xt,Pn,kt),fetchers:new Map(_.fetchers)}),Ct=!1)}async function Jl(D,O,F,H,Q,Z,ee){let K=_.fetchers.get(D);Oe(D,Aa(ee,K?K.data:void 0),{flushSync:Z});let oe=new AbortController,ae=to(t.history,F,oe.signal);q.set(D,oe);let pt=ne,re=(await wr("loader",ae,[H],Q))[0];if(as(re)&&(re=await PE(re,ae.signal,!0)||re),q.get(D)===oe&&q.delete(D),!ae.signal.aborted){if(ft.has(D)){Oe(D,di(void 0));return}if(ls(re))if(se>pt){Oe(D,di(void 0));return}else{fe.add(D),await Qi(ae,re);return}if(Dn(re)){st(D,O,re.error);return}me(!as(re),"Unhandled fetcher deferred data"),Oe(D,di(re.data))}}async function Qi(D,O,F){let{submission:H,fetcherSubmission:Q,replace:Z}=F===void 0?{}:F;O.response.headers.has("X-Remix-Revalidate")&&(Ct=!0);let ee=O.response.headers.get("Location");me(ee,"Expected a Location header on the redirect Response"),ee=py(ee,new URL(D.url),c);let K=El(_.location,ee,{_isRedirect:!0});if(n){let be=!1;if(O.response.headers.has("X-Remix-Reload-Document"))be=!0;else if(cm.test(ee)){const We=t.history.createURL(ee);be=We.origin!==e.location.origin||Qo(We.pathname,c)==null}if(be){Z?e.location.replace(ee):e.location.assign(ee);return}}R=null;let oe=Z===!0?ct.Replace:ct.Push,{formMethod:ae,formAction:pt,formEncType:ze}=_.navigation;!H&&!Q&&ae&&pt&&ze&&(H=Iy(_.navigation));let re=H||Q;if(hR.has(O.response.status)&&re&&Kn(re.formMethod))await sr(oe,K,{submission:Ke({},re,{formAction:ee}),preventScrollReset:T});else{let be=Ih(K,H);await sr(oe,K,{overrideNavigation:be,fetcherSubmission:Q,preventScrollReset:T})}}async function wr(D,O,F,H){try{let Q=await wR(u,D,O,F,H,s,i);return await Promise.all(Q.map((Z,ee)=>{if(AR(Z)){let K=Z.result;return{type:He.redirect,response:TR(K,O,F[ee].route.id,H,c,f.v7_relativeSplatPath)}}return IR(Z)}))}catch(Q){return F.map(()=>({type:He.error,error:Q}))}}async function qs(D,O,F,H,Q){let[Z,...ee]=await Promise.all([F.length?wr("loader",Q,F,O):[],...H.map(K=>{if(K.matches&&K.match&&K.controller){let oe=to(t.history,K.path,K.controller.signal);return wr("loader",oe,[K.match],K.matches).then(ae=>ae[0])}else return Promise.resolve({type:He.error,error:kn(404,{pathname:K.path})})})]);return await Promise.all([Ey(D,F,Z,Z.map(()=>Q.signal),!1,_.loaderData),Ey(D,H.map(K=>K.match),ee,H.map(K=>K.controller?K.controller.signal:null),!0)]),{loaderResults:Z,fetcherResults:ee}}function Ws(){Ct=!0,ir.push(...Qs()),Pe.forEach((D,O)=>{q.has(O)&&(an.push(O),or(O))})}function Oe(D,O,F){F===void 0&&(F={}),_.fetchers.set(D,O),Pt({fetchers:new Map(_.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function st(D,O,F,H){H===void 0&&(H={});let Q=Ya(_.matches,O);Xi(D),Pt({errors:{[Q.route.id]:F},fetchers:new Map(_.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Yi(D){return f.v7_fetcherPersist&&(Jt.set(D,(Jt.get(D)||0)+1),ft.has(D)&&ft.delete(D)),_.fetchers.get(D)||fR}function Xi(D){let O=_.fetchers.get(D);q.has(D)&&!(O&&O.state==="loading"&&Ce.has(D))&&or(D),Pe.delete(D),Ce.delete(D),fe.delete(D),ft.delete(D),_.fetchers.delete(D)}function Zl(D){if(f.v7_fetcherPersist){let O=(Jt.get(D)||0)-1;O<=0?(Jt.delete(D),ft.add(D)):Jt.set(D,O)}else Xi(D);Pt({fetchers:new Map(_.fetchers)})}function or(D){let O=q.get(D);me(O,"Expected fetch controller: "+D),O.abort(),q.delete(D)}function ti(D){for(let O of D){let F=Yi(O),H=di(F.data);_.fetchers.set(O,H)}}function sa(){let D=[],O=!1;for(let F of fe){let H=_.fetchers.get(F);me(H,"Expected fetcher: "+F),H.state==="loading"&&(fe.delete(F),D.push(F),O=!0)}return ti(D),O}function oa(D){let O=[];for(let[F,H]of Ce)if(H<D){let Q=_.fetchers.get(F);me(Q,"Expected fetcher: "+F),Q.state==="loading"&&(or(F),Ce.delete(F),O.push(F))}return ti(O),O.length>0}function aa(D,O){let F=_.blockers.get(D)||Ca;return Rt.get(D)!==O&&Rt.set(D,O),F}function ec(D){_.blockers.delete(D),Rt.delete(D)}function Gs(D,O){let F=_.blockers.get(D)||Ca;me(F.state==="unblocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="proceeding"||F.state==="blocked"&&O.state==="unblocked"||F.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+O.state);let H=new Map(_.blockers);H.set(D,O),Pt({blockers:H})}function Ks(D){let{currentLocation:O,nextLocation:F,historyAction:H}=D;if(Rt.size===0)return;Rt.size>1&&Oo(!1,"A router only supports one blocker at a time");let Q=Array.from(Rt.entries()),[Z,ee]=Q[Q.length-1],K=_.blockers.get(Z);if(!(K&&K.state==="proceeding")&&ee({currentLocation:O,nextLocation:F,historyAction:H}))return Z}function Qs(D){let O=[];return At.forEach((F,H)=>{(!D||D(H))&&(F.cancel(),O.push(H),At.delete(H))}),O}function tc(D,O,F){if(v=D,A=O,S=F||null,!k&&_.navigation===Eh){k=!0;let H=Ys(_.location,_.matches);H!=null&&Pt({restoreScrollPosition:H})}return()=>{v=null,A=null,S=null}}function ni(D,O){return S&&S(D,O.map(H=>$A(H,_.loaderData)))||D.key}function la(D,O){if(v&&A){let F=ni(D,O);v[F]=A()}}function Ys(D,O){if(v){let F=ni(D,O),H=v[F];if(typeof H=="number")return H}return null}function Er(D){s={},l=jf(D,i,void 0,s)}return M={get basename(){return c},get future(){return f},get state(){return _},get routes(){return o},get window(){return e},initialize:Md,subscribe:$s,enableScrollRestoration:tc,navigate:Hs,fetch:Xl,revalidate:ra,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:Yi,deleteFetcher:Zl,dispose:zs,getBlocker:aa,deleteBlocker:ec,_internalFetchControllers:q,_internalActiveDeferreds:At,_internalSetRoutes:Er},M}function gR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Lf(t,e,n,r,i,s,o,l){let c,u;if(o){c=[];for(let m of e)if(c.push(m),m.route.id===o){u=m;break}}else c=e,u=e[e.length-1];let f=om(i||".",sm(c,s),Qo(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!um(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Vr([n,f.pathname])),Is(f)}function uy(t,e,n,r){if(!r||!gR(r))return{path:n};if(r.formMethod&&!PR(r.formMethod))return{path:n,error:kn(405,{method:r.formMethod})};let i=()=>({path:n,error:kn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=AE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Kn(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,S)=>{let[A,k]=S;return""+v+A+"="+k+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Kn(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}me(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=Of(r.formData),u=r.formData;else if(r.body instanceof FormData)c=Of(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=my(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=my(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Kn(f.formMethod))return{path:n,submission:f};let m=zi(n);return e&&m.search&&um(m.search)&&c.append("index",""),m.search="?"+c,{path:Is(m),submission:f}}function _R(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function dy(t,e,n,r,i,s,o,l,c,u,f,m,g,v,S,A){let k=A?Dn(A[1])?A[1].error:A[1].data:void 0,E=t.createURL(e.location),I=t.createURL(i),C=A&&Dn(A[1])?A[0]:void 0,L=C?_R(n,C):n,V=A?A[1].statusCode:void 0,M=o&&V&&V>=400,_=L.filter((T,R)=>{let{route:x}=T;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return typeof x.loader!="function"||x.loader.hydrate?!0:e.loaderData[x.id]===void 0&&(!e.errors||e.errors[x.id]===void 0);if(yR(e.loaderData,e.matches[R],T)||c.some(xe=>xe===T.route.id))return!0;let b=e.matches[R],P=T;return hy(T,Ke({currentUrl:E,currentParams:b.params,nextUrl:I,nextParams:P.params},r,{actionResult:k,unstable_actionStatus:V,defaultShouldRevalidate:M?!1:l||E.pathname+E.search===I.pathname+I.search||E.search!==I.search||CE(b,P)}))}),y=[];return m.forEach((T,R)=>{if(s||!n.some(Ct=>Ct.route.id===T.routeId)||f.has(R))return;let x=yo(v,T.path,S);if(!x){y.push({key:R,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(R),P=Mf(x,T.path),xe=!1;g.has(R)?xe=!1:u.includes(R)?xe=!0:b&&b.state!=="idle"&&b.data===void 0?xe=l:xe=hy(P,Ke({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:I,nextParams:n[n.length-1].params},r,{actionResult:k,unstable_actionStatus:V,defaultShouldRevalidate:M?!1:l})),xe&&y.push({key:R,routeId:T.routeId,path:T.path,matches:x,match:P,controller:new AbortController})}),[_,y]}function yR(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function CE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function hy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function fy(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];me(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";Oo(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!BA.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ke({},e(i),{lazy:void 0}))}function vR(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function wR(t,e,n,r,i,s,o,l){let c=r.reduce((m,g)=>m.add(g.route.id),new Set),u=new Set,f=await t({matches:i.map(m=>{let g=c.has(m.route.id);return Ke({},m,{shouldLoad:g,resolve:S=>(u.add(m.route.id),g?ER(e,n,m,s,o,S,l):Promise.resolve({type:He.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(m=>me(u.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((m,g)=>c.has(i[g].route.id))}async function ER(t,e,n,r,i,s,o){let l,c,u=f=>{let m,g=new Promise((A,k)=>m=k);c=()=>m(),e.signal.addEventListener("abort",c);let v=A=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:o},...A!==void 0?[A]:[]),S;return s?S=s(A=>v(A)):S=(async()=>{try{return{type:"data",result:await v()}}catch(A){return{type:"error",result:A}}})(),Promise.race([S,g])};try{let f=n.route[t];if(n.route.lazy)if(f){let m,[g]=await Promise.all([u(f).catch(v=>{m=v}),fy(n.route,i,r)]);if(m!==void 0)throw m;l=g}else if(await fy(n.route,i,r),f=n.route[t],f)l=await u(f);else if(t==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw kn(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:He.data,result:void 0};else if(f)l=await u(f);else{let m=new URL(e.url),g=m.pathname+m.search;throw kn(404,{pathname:g})}me(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:He.error,result:f}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function IR(t){let{result:e,type:n,status:r}=t;if(RE(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:He.error,error:l}}return n===He.error?{type:He.error,error:new am(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:He.data,data:o,statusCode:e.status,headers:e.headers}}if(n===He.error)return{type:He.error,error:e,statusCode:lm(e)?e.status:r};if(RR(e)){var i,s;return{type:He.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:He.data,data:e,statusCode:r}}function TR(t,e,n,r,i,s){let o=t.headers.get("Location");if(me(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!cm.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=Lf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function py(t,e,n){if(cm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Qo(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function to(t,e,n,r){let i=t.createURL(AE(e)).toString(),s={signal:n};if(r&&Kn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Of(r.formData):s.body=r.formData}return new Request(i,s)}function Of(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function my(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function SR(t,e,n,r,i,s){let o={},l=null,c,u=!1,f={},m=r&&Dn(r[1])?r[1].error:void 0;return n.forEach((g,v)=>{let S=e[v].route.id;if(me(!ls(g),"Cannot handle redirect results in processLoaderData"),Dn(g)){let A=g.error;m!==void 0&&(A=m,m=void 0),l=l||{};{let k=Ya(t,S);l[k.route.id]==null&&(l[k.route.id]=A)}o[S]=void 0,u||(u=!0,c=lm(g.error)?g.error.status:500),g.headers&&(f[S]=g.headers)}else as(g)?(i.set(S,g.deferredData),o[S]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!u&&(c=g.statusCode),g.headers&&(f[S]=g.headers)):(o[S]=g.data,g.statusCode&&g.statusCode!==200&&!u&&(c=g.statusCode),g.headers&&(f[S]=g.headers))}),m!==void 0&&r&&(l={[r[0]]:m},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:f}}function gy(t,e,n,r,i,s,o,l){let{loaderData:c,errors:u}=SR(e,n,r,i,l);for(let f=0;f<s.length;f++){let{key:m,match:g,controller:v}=s[f];me(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let S=o[f];if(!(v&&v.signal.aborted))if(Dn(S)){let A=Ya(t.matches,g==null?void 0:g.route.id);u&&u[A.route.id]||(u=Ke({},u,{[A.route.id]:S.error})),t.fetchers.delete(m)}else if(ls(S))me(!1,"Unhandled fetcher revalidation redirect");else if(as(S))me(!1,"Unhandled fetcher deferred data");else{let A=di(S.data);t.fetchers.set(m,A)}}return{loaderData:c,errors:u}}function _y(t,e,n,r){let i=Ke({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function yy(t){return t?Dn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ya(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function vy(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new am(t||500,o,new Error(l),!0)}function wy(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ls(n))return{result:n,idx:e}}}function AE(t){let e=typeof t=="string"?zi(t):t;return Is(Ke({},e,{hash:""}))}function CR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function AR(t){return RE(t.result)&&dR.has(t.result.status)}function as(t){return t.type===He.deferred}function Dn(t){return t.type===He.error}function ls(t){return(t&&t.type)===He.redirect}function RR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function RE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function PR(t){return uR.has(t.toLowerCase())}function Kn(t){return lR.has(t.toLowerCase())}async function Ey(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let u=t.find(m=>m.route.id===c.route.id),f=u!=null&&!CE(u,c)&&(s&&s[c.route.id])!==void 0;if(as(l)&&(i||f)){let m=r[o];me(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await PE(l,m,i).then(g=>{g&&(n[o]=g||n[o])})}}}async function PE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:He.data,data:t.deferredData.unwrappedData}}catch(i){return{type:He.error,error:i}}return{type:He.data,data:t.deferredData.data}}}function um(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Mf(t,e){let n=typeof e=="string"?zi(e).search:e.search;if(t[t.length-1].route.index&&um(n||""))return t[t.length-1];let r=IE(t);return r[r.length-1]}function Iy(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Ih(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function xR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Aa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function di(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function NR(t,e){try{let n=t.sessionStorage.getItem(SE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function bR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(SE,JSON.stringify(n))}catch(r){Oo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(this,arguments)}const hd=N.createContext(null),xE=N.createContext(null),Os=N.createContext(null),dm=N.createContext(null),Jr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),kE=N.createContext(null);function DR(t,e){let{relative:n}=e===void 0?{}:e;Ml()||me(!1);let{basename:r,navigator:i}=N.useContext(Os),{hash:s,pathname:o,search:l}=DE(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Vr([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Ml(){return N.useContext(dm)!=null}function Yo(){return Ml()||me(!1),N.useContext(dm).location}function NE(t){N.useContext(Os).static||N.useLayoutEffect(t)}function yt(){let{isDataRoute:t}=N.useContext(Jr);return t?GR():jR()}function jR(){Ml()||me(!1);let t=N.useContext(hd),{basename:e,future:n,navigator:r}=N.useContext(Os),{matches:i}=N.useContext(Jr),{pathname:s}=Yo(),o=JSON.stringify(sm(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return NE(()=>{l.current=!0}),N.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=om(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Vr([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,s,t])}const LR=N.createContext(null);function OR(t){let e=N.useContext(Jr).outlet;return e&&N.createElement(LR.Provider,{value:t},e)}function bE(){let{matches:t}=N.useContext(Jr),e=t[t.length-1];return e?e.params:{}}function DE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Os),{matches:i}=N.useContext(Jr),{pathname:s}=Yo(),o=JSON.stringify(sm(i,r.v7_relativeSplatPath));return N.useMemo(()=>om(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function MR(t,e,n,r){Ml()||me(!1);let{navigator:i}=N.useContext(Os),{matches:s}=N.useContext(Jr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Yo(),f;f=u;let m=f.pathname||"/",g=m;if(c!=="/"){let A=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let v=yo(t,{pathname:g});return zR(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Vr([c,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?c:Vr([c,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r)}function VR(){let t=WR(),e=lm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const UR=N.createElement(VR,null);class FR extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Jr.Provider,{value:this.props.routeContext},N.createElement(kE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BR(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(hd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Jr.Provider,{value:e},r)}function zR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||me(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:v}=n,S=m.route.loader&&g[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||S){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let v,S=!1,A=null,k=null;n&&(v=l&&m.route.id?l[m.route.id]:void 0,A=m.route.errorElement||UR,c&&(u<0&&g===0?(KR("route-fallback"),S=!0,k=null):u===g&&(S=!0,k=m.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),I=()=>{let C;return v?C=A:S?C=k:m.route.Component?C=N.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=f,N.createElement(BR,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?N.createElement(FR,{location:n.location,revalidation:n.revalidation,component:A,error:v,children:I(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):I()},null)}var jE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jE||{}),xu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xu||{});function $R(t){let e=N.useContext(hd);return e||me(!1),e}function HR(t){let e=N.useContext(xE);return e||me(!1),e}function qR(t){let e=N.useContext(Jr);return e||me(!1),e}function LE(t){let e=qR(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function WR(){var t;let e=N.useContext(kE),n=HR(xu.UseRouteError),r=LE(xu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function GR(){let{router:t}=$R(jE.UseNavigateStable),e=LE(xu.UseNavigateStable),n=N.useRef(!1);return NE(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pu({fromRouteId:e},s)))},[t,e])}const Ty={};function KR(t,e,n){Ty[t]||(Ty[t]=!0)}function QR(t){return OR(t.context)}function YR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ct.Pop,navigator:s,static:o=!1,future:l}=t;Ml()&&me(!1);let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:s,static:o,future:Pu({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=zi(r));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:S="default"}=r,A=N.useMemo(()=>{let k=Qo(f,c);return k==null?null:{location:{pathname:k,search:m,hash:g,state:v,key:S},navigationType:i}},[c,f,m,g,v,S,i]);return A==null?null:N.createElement(Os.Provider,{value:u},N.createElement(dm.Provider,{children:n,value:A}))}new Promise(()=>{});function XR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:N.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Il.apply(this,arguments)}function JR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eP(t,e){return t.button===0&&(!e||e==="_self")&&!ZR(t)}const tP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],nP="6";try{window.__reactRouterVersion=nP}catch{}function rP(t,e){return mR({basename:void 0,future:Il({},void 0,{v7_prependBasename:!0}),history:VA({window:void 0}),hydrationData:iP(),routes:t,mapRouteProperties:XR,unstable_dataStrategy:void 0,window:void 0}).initialize()}function iP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Il({},e,{errors:sP(e.errors)})),e}function sP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new am(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const oP=N.createContext({isTransitioning:!1}),aP=N.createContext(new Map),lP="startTransition",Sy=CS[lP],cP="flushSync",Cy=MA[cP];function uP(t){Sy?Sy(t):t()}function Ra(t){Cy?Cy(t):t()}let dP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function hP(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=N.useState(n.state),[o,l]=N.useState(),[c,u]=N.useState({isTransitioning:!1}),[f,m]=N.useState(),[g,v]=N.useState(),[S,A]=N.useState(),k=N.useRef(new Map),{v7_startTransition:E}=r||{},I=N.useCallback(_=>{E?uP(_):_()},[E]),C=N.useCallback((_,y)=>{let{deletedFetchers:T,unstable_flushSync:R,unstable_viewTransitionOpts:x}=y;T.forEach(P=>k.current.delete(P)),_.fetchers.forEach((P,xe)=>{P.data!==void 0&&k.current.set(xe,P.data)});let b=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!x||b){R?Ra(()=>s(_)):I(()=>s(_));return}if(R){Ra(()=>{g&&(f&&f.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let P=n.window.document.startViewTransition(()=>{Ra(()=>s(_))});P.finished.finally(()=>{Ra(()=>{m(void 0),v(void 0),l(void 0),u({isTransitioning:!1})})}),Ra(()=>v(P));return}g?(f&&f.resolve(),g.skipTransition(),A({state:_,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(l(_),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[n.window,g,f,k,I]);N.useLayoutEffect(()=>n.subscribe(C),[n,C]),N.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new dP)},[c]),N.useEffect(()=>{if(f&&o&&n.window){let _=o,y=f.promise,T=n.window.document.startViewTransition(async()=>{I(()=>s(_)),await y});T.finished.finally(()=>{m(void 0),v(void 0),l(void 0),u({isTransitioning:!1})}),v(T)}},[I,o,f,n.window]),N.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,g,i.location,o]),N.useEffect(()=>{!c.isTransitioning&&S&&(l(S.state),u({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),A(void 0))},[c.isTransitioning,S]),N.useEffect(()=>{},[]);let L=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,y,T)=>n.navigate(_,{state:y,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(_,y,T)=>n.navigate(_,{replace:!0,state:y,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),V=n.basename||"/",M=N.useMemo(()=>({router:n,navigator:L,static:!1,basename:V}),[n,L,V]);return N.createElement(N.Fragment,null,N.createElement(hd.Provider,{value:M},N.createElement(xE.Provider,{value:i},N.createElement(aP.Provider,{value:k.current},N.createElement(oP.Provider,{value:c},N.createElement(YR,{basename:V,location:i.location,navigationType:i.historyAction,navigator:L,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?N.createElement(fP,{routes:n.routes,future:n.future,state:i}):e))))),null)}function fP(t){let{routes:e,future:n,state:r}=t;return MR(e,void 0,r,n)}const pP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,unstable_viewTransition:m}=e,g=JR(e,tP),{basename:v}=N.useContext(Os),S,A=!1;if(typeof u=="string"&&mP.test(u)&&(S=u,pP))try{let C=new URL(window.location.href),L=u.startsWith("//")?new URL(C.protocol+u):new URL(u),V=Qo(L.pathname,v);L.origin===C.origin&&V!=null?u=V+L.search+L.hash:A=!0}catch{}let k=DR(u,{relative:i}),E=gP(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,unstable_viewTransition:m});function I(C){r&&r(C),C.defaultPrevented||E(C)}return N.createElement("a",Il({},g,{href:S||k,onClick:A||s?r:I,ref:n,target:c}))});var Ay;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ay||(Ay={}));var Ry;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ry||(Ry={}));function gP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=yt(),u=Yo(),f=DE(t,{relative:o});return N.useCallback(m=>{if(eP(m,n)){m.preventDefault();let g=r!==void 0?r:Is(u)===Is(f);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,c,f,r,i,n,t,s,o,l])}const Ge=[{path:"/",name:"Inicio"},{path:"/menu",name:"Menu",children:[{path:"/menu/platillos/:categoId",name:"Platillos"}]},{path:"/nosotros",name:"Nosotros"},{path:"/ayuda",name:"Ayuda"},{path:"/acceder",name:"Acceder"},{path:"/login",name:"IniciarSesion"},{path:"/*",name:"Error"},{path:"/perfil",name:"Perfil",children:[{path:"/perfil/editarperfil",name:"EditarPerfil"}]},{path:"/comentarios",name:"Comentarios"},{path:"/menuadmin",name:"MenuAdmin",children:[{path:"/menuadmin/editarmenu",name:"EditarMenu"},{path:"/menuadmin/editarplatillo",name:"EditarPlatillo"},{path:"/menuadmin/eamenu",name:"EaMenu"},{path:"/menuadmin/eaplatillo",name:"EaPlatillo"},{path:"/menuadmin/adminplatillos/:categoId",name:"AdminPlatillos"},{path:"/menuadmin/eacombo",name:"EaCombo"},{path:"/menuadmin/editarcombo",name:"EditarCombo"}]},{path:"/historial",name:"Historial"},{path:"/pedidosactuales",name:"PedidosActuales"},{path:"/cliente",name:"Cliente"},{path:"/compra",name:"Compra"}];var Py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_P=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|u>>6,v=u&63;c||(v=64,o||(g=64)),r.push(n[f],n[m],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_P(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||m==null)throw new yP;const g=s<<2|l>>4;if(r.push(g),u!==64){const v=l<<4&240|u>>2;if(r.push(v),m!==64){const S=u<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vP=function(t){const e=OE(t);return ME.encodeByteArray(e,!0)},ku=function(t){return vP(t).replace(/\./g,"")},VE=function(t){try{return ME.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=()=>wP().__FIREBASE_DEFAULTS__,IP=()=>{if(typeof process>"u"||typeof Py>"u")return;const t=Py.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VE(t[1]);return e&&JSON.parse(e)},fd=()=>{try{return EP()||IP()||TP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UE=t=>{var e,n;return(n=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FE=t=>{const e=UE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BE=()=>{var t;return(t=fd())===null||t===void 0?void 0:t.config},zE=t=>{var e;return(e=fd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ku(JSON.stringify(n)),ku(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function AP(){var t;const e=(t=fd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PP(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xP(){return!AP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qE(){try{return typeof indexedDB=="object"}catch{return!1}}function WE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function kP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="FirebaseError";class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NP,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ms.prototype.create)}}class Ms{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?bP(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new zn(i,l,r)}}function bP(t,e){return t.replace(DP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DP=/\{\$([^}]+)}/g;function jP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xy(s)&&xy(o)){if(!Nu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function La(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Oa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LP(t,e){const n=new OP(t,e);return n.subscribe.bind(n)}class OP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Th),i.error===void 0&&(i.error=Th),i.complete===void 0&&(i.complete=Th);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Th(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=1e3,UP=2,FP=4*60*60*1e3,BP=.5;function ky(t,e=VP,n=UP){const r=e*Math.pow(n,t),i=Math.round(BP*r*(Math.random()-.5)*2);return Math.min(FP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class Fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HP(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$P(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $P(t){return t===rs?void 0:t}function HP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const WP={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},GP=ve.INFO,KP={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},QP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=KP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pd{constructor(e){this.name=e,this._logLevel=GP,this._logHandler=QP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const YP=(t,e)=>e.some(n=>t instanceof n);let Ny,by;function XP(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JP(){return by||(by=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,Vf=new WeakMap,KE=new WeakMap,Sh=new WeakMap,hm=new WeakMap;function ZP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GE.set(n,t)}).catch(()=>{}),hm.set(e,t),e}function ex(t){if(Vf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vf.set(t,e)}let Uf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tx(t){Uf=t(Uf)}function nx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ch(this),e,...n);return KE.set(r,e.sort?e.sort():[e]),ki(r)}:JP().includes(t)?function(...e){return t.apply(Ch(this),e),ki(GE.get(this))}:function(...e){return ki(t.apply(Ch(this),e))}}function rx(t){return typeof t=="function"?nx(t):(t instanceof IDBTransaction&&ex(t),YP(t,XP())?new Proxy(t,Uf):t)}function ki(t){if(t instanceof IDBRequest)return ZP(t);if(Sh.has(t))return Sh.get(t);const e=rx(t);return e!==t&&(Sh.set(t,e),hm.set(e,t)),e}const Ch=t=>hm.get(t);function QE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=ki(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ki(o.result),c.oldVersion,c.newVersion,ki(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const ix=["get","getKey","getAll","getAllKeys","count"],sx=["put","add","delete","clear"],Ah=new Map;function Dy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ix.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Ah.set(e,s),s}tx(t=>({...t,get:(e,n,r)=>Dy(e,n)||t.get(e,n,r),has:(e,n)=>!!Dy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ax(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ax(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ff="@firebase/app",jy="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new pd("@firebase/app"),lx="@firebase/app-compat",cx="@firebase/analytics-compat",ux="@firebase/analytics",dx="@firebase/app-check-compat",hx="@firebase/app-check",fx="@firebase/auth",px="@firebase/auth-compat",mx="@firebase/database",gx="@firebase/database-compat",_x="@firebase/functions",yx="@firebase/functions-compat",vx="@firebase/installations",wx="@firebase/installations-compat",Ex="@firebase/messaging",Ix="@firebase/messaging-compat",Tx="@firebase/performance",Sx="@firebase/performance-compat",Cx="@firebase/remote-config",Ax="@firebase/remote-config-compat",Rx="@firebase/storage",Px="@firebase/storage-compat",xx="@firebase/firestore",kx="@firebase/vertexai-preview",Nx="@firebase/firestore-compat",bx="firebase",Dx="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",jx={[Ff]:"fire-core",[lx]:"fire-core-compat",[ux]:"fire-analytics",[cx]:"fire-analytics-compat",[hx]:"fire-app-check",[dx]:"fire-app-check-compat",[fx]:"fire-auth",[px]:"fire-auth-compat",[mx]:"fire-rtdb",[gx]:"fire-rtdb-compat",[_x]:"fire-fn",[yx]:"fire-fn-compat",[vx]:"fire-iid",[wx]:"fire-iid-compat",[Ex]:"fire-fcm",[Ix]:"fire-fcm-compat",[Tx]:"fire-perf",[Sx]:"fire-perf-compat",[Cx]:"fire-rc",[Ax]:"fire-rc-compat",[Rx]:"fire-gcs",[Px]:"fire-gcs-compat",[xx]:"fire-fst",[Nx]:"fire-fst-compat",[kx]:"fire-vertex","fire-js":"fire-js",[bx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Map,Lx=new Map,zf=new Map;function Ly(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nr(t){const e=t.name;if(zf.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,t);for(const n of bu.values())Ly(n,t);for(const n of Lx.values())Ly(n,t);return!0}function Xo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new Ms("app","Firebase",Ox);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=Dx;function YE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=BE()),!n)throw Ni.create("no-options");const s=bu.get(i);if(s){if(Nu(n,s.options)&&Nu(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new qP(i);for(const c of zf.values())o.addComponent(c);const l=new Mx(n,r,o);return bu.set(i,l),l}function fm(t=Bf){const e=bu.get(t);if(!e&&t===Bf&&BE())return YE();if(!e)throw Ni.create("no-app",{appName:t});return e}function pn(t,e,n){var r;let i=(r=jx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(l.join(" "));return}nr(new Fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firebase-heartbeat-database",Ux=1,Tl="firebase-heartbeat-store";let Rh=null;function XE(){return Rh||(Rh=QE(Vx,Ux,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),Rh}async function Fx(t){try{const n=(await XE()).transaction(Tl),r=await n.objectStore(Tl).get(JE(t));return await n.done,r}catch(e){if(e instanceof zn)Ts.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(n.message)}}}async function Oy(t,e){try{const r=(await XE()).transaction(Tl,"readwrite");await r.objectStore(Tl).put(e,JE(t)),await r.done}catch(n){if(n instanceof zn)Ts.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ts.warn(r.message)}}}function JE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1024,zx=30*24*60*60*1e3;class $x{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=My();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=zx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=My(),{heartbeatsToSend:r,unsentEntries:i}=Hx(this._heartbeatsCache.heartbeats),s=ku(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function My(){return new Date().toISOString().substring(0,10)}function Hx(t,e=Bx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qE()?WE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vy(t){return ku(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){nr(new Fn("platform-logger",e=>new ox(e),"PRIVATE")),nr(new Fn("heartbeat",e=>new $x(e),"PRIVATE")),pn(Ff,jy,t),pn(Ff,jy,"esm2017"),pn("fire-js","")}Wx("");function pm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gx=ZE,eI=new Ms("auth","Firebase",ZE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new pd("@firebase/auth");function Kx(t,...e){Du.logLevel<=ve.WARN&&Du.warn(`Auth (${Vs}): ${t}`,...e)}function Qc(t,...e){Du.logLevel<=ve.ERROR&&Du.error(`Auth (${Vs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,...e){throw gm(t,...e)}function Zn(t,...e){return gm(t,...e)}function mm(t,e,n){const r=Object.assign(Object.assign({},Gx()),{[e]:n});return new Ms("auth","Firebase",r).create(e,{appName:t.name})}function Ur(t){return mm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bn(t,"argument-error"),mm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eI.create(t,...e)}function ie(t,e,...n){if(!t)throw gm(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function Wr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Yx(){return Uy()==="http:"||Uy()==="https:"}function Uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yx()||HE()||"connection"in navigator)?navigator.onLine:!0}function Jx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=CP()||RP()}get(){return Xx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Ul(3e4,6e4);function $i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hi(t,e,n,r,i={}){return nI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Vl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),tI.fetch()(rI(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function nI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Zx),e);try{const i=new nk(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw xc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw xc(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mm(t,f,u);Bn(t,f)}}catch(i){if(i instanceof zn)throw i;Bn(t,"network-request-failed",{message:String(i)})}}async function Fl(t,e,n,r,i={}){const s=await Hi(t,e,n,r,i);return"mfaPendingCredential"in s&&Bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function rI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_m(t.config,i):`${t.config.apiScheme}://${i}`}function tk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),ek.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(t,e,r);return i.customData._tokenResponse=n,i}function Fy(t){return t!==void 0&&t.enterprise!==void 0}class rk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ik(t,e){return Hi(t,"GET","/v2/recaptchaConfig",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function iI(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ok(t,e=!1){const n=Le(t),r=await n.getIdToken(e),i=ym(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xa(Ph(i.auth_time)),issuedAtTime:Xa(Ph(i.iat)),expirationTime:Xa(Ph(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ph(t){return Number(t)*1e3}function ym(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=VE(n);return i?JSON.parse(i):(Qc("Failed to decode base64 JWT payload"),null)}catch(i){return Qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function By(t){const e=ym(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zn&&ak(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ak({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Sl(t,iI(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sI(s.providerUserInfo):[],l=uk(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Hf(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function ck(t){const e=Le(t);await ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sI(t){return t.map(e=>{var{providerId:n}=e,r=pm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e){const n=await nI(t,{},async()=>{const r=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rI(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",tI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hk(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):By(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=By(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dk(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Co;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Sl(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ok(this,e)}reload(){return ck(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ju(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await Sl(this,sk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,I=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:C,emailVerified:L,isAnonymous:V,providerData:M,stsTokenManager:_}=n;ie(C&&_,e,"internal-error");const y=Co.fromJSON(this.name,_);ie(typeof C=="string",e,"internal-error"),ui(m,e.name),ui(g,e.name),ie(typeof L=="boolean",e,"internal-error"),ie(typeof V=="boolean",e,"internal-error"),ui(v,e.name),ui(S,e.name),ui(A,e.name),ui(k,e.name),ui(E,e.name),ui(I,e.name);const T=new Lr({uid:C,auth:e,email:g,emailVerified:L,displayName:m,isAnonymous:V,photoURL:S,phoneNumber:v,tenantId:A,stsTokenManager:y,createdAt:E,lastLoginAt:I});return M&&Array.isArray(M)&&(T.providerData=M.map(R=>Object.assign({},R))),k&&(T._redirectEventId=k),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Co;i.updateFromServerResponse(n);const s=new Lr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ju(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Co;l.updateFromIdToken(r);const c=new Lr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;function Or(t){Wr(t instanceof Function,"Expected a class definition");let e=zy.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oI.type="NONE";const $y=oI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Yc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ao(Or($y),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Or($y);const o=Yc(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const f=await u._get(o);if(f){const m=Lr._fromJSON(e,f);u!==s&&(l=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ao(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ao(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dI(e))return"Blackberry";if(hI(e))return"Webos";if(vm(e))return"Safari";if((e.includes("chrome/")||lI(e))&&!e.includes("edge/"))return"Chrome";if(uI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aI(t=Ft()){return/firefox\//i.test(t)}function vm(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lI(t=Ft()){return/crios\//i.test(t)}function cI(t=Ft()){return/iemobile/i.test(t)}function uI(t=Ft()){return/android/i.test(t)}function dI(t=Ft()){return/blackberry/i.test(t)}function hI(t=Ft()){return/webos/i.test(t)}function md(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fk(t=Ft()){var e;return md(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pk(){return PP()&&document.documentMode===10}function fI(t=Ft()){return md(t)||uI(t)||hI(t)||dI(t)||/windows phone/i.test(t)||cI(t)}function mk(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e=[]){let n;switch(t){case"Browser":n=Hy(Ft());break;case"Worker":n=`${Hy(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",$i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=6;class vk{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qy(this),this.idTokenSubscription=new qy(this),this.beforeStateQueue=new gk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await iI(this,{idToken:e}),r=await Lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ju(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Ur(this));const n=e?Le(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _k(this),n=new vk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ms("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Kx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qi(t){return Le(t)}class qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=LP(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ek(t){gd=t}function mI(t){return gd.loadJS(t)}function Ik(){return gd.recaptchaEnterpriseScript}function Tk(){return gd.gapiScript}function Sk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Ck="recaptcha-enterprise",Ak="NO_RECAPTCHA";class Rk{constructor(e){this.type=Ck,this.auth=qi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{ik(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new rk(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;Fy(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Ak)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&Fy(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Ik();c.length!==0&&(c+=l),mI(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function Wy(t,e,n,r=!1){const i=new Rk(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Wy(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Wy(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e){const n=Xo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Nu(s,e??{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}function xk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kk(t,e,n){const r=qi(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=gI(e),{host:o,port:l}=Nk(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),bk()}function gI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nk(t){const e=gI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Gy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Gy(o)}}}function Gy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function Dk(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(t,e){return Fl(t,"POST","/v1/accounts:signInWithPassword",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e){return Fl(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}async function Ok(t,e){return Fl(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends wm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qf(e,n,"signInWithPassword",jk);case"emailLink":return Lk(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qf(e,r,"signUpPassword",Dk);case"emailLink":return Ok(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(t,e){return Fl(t,"POST","/v1/accounts:signInWithIdp",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="http://localhost";class Ss extends wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ss(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){const e={requestUri:Mk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Uk(t){const e=La(Oa(t)).link,n=e?La(Oa(e)).deep_link_id:null,r=La(Oa(t)).deep_link_id;return(r?La(Oa(r)).link:null)||r||n||e||t}class Em{constructor(e){var n,r,i,s,o,l;const c=La(Oa(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,m=Vk((i=c.mode)!==null&&i!==void 0?i:null);ie(u&&f&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Uk(e);try{return new Em(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Em.parseLink(n);return ie(r,"argument-error"),Cl._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Bl{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Bl{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Bl{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e){return Fl(t,"POST","/v1/accounts:signUp",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Lr._fromIdTokenResponse(e,r,i),o=Ky(r);return new Cs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ky(r);return new Cs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ky(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends zn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lu(e,n,r,i)}}function _I(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lu._fromErrorAndOperation(t,s,e,r):s})}async function Bk(t,e,n=!1){const r=await Sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,e,n=!1){const{auth:r}=t;if(Yn(r.app))return Promise.reject(Ur(r));const i="reauthenticate";try{const s=await Sl(t,_I(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=ym(s.idToken);ie(o,r,"internal-error");const{sub:l}=o;return ie(t.uid===l,r,"user-mismatch"),Cs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t,e,n=!1){if(Yn(t.app))return Promise.reject(Ur(t));const r="signIn",i=await _I(t,r,e),s=await Cs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $k(t,e){return yI(qi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(t){const e=qi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Hk(t,e,n){if(Yn(t.app))return Promise.reject(Ur(t));const r=qi(t),o=await qf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fk).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&vI(t),c}),l=await Cs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function qk(t,e,n){return Yn(t.app)?Promise.reject(Ur(t)):$k(Le(t),Jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vI(t),r})}function Wk(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function Gk(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function Wi(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function Qy(t){return Le(t).signOut()}async function Kk(t){return Le(t).delete()}const Ou="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ou,"1"),this.storage.removeItem(Ou),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){const t=Ft();return vm(t)||md(t)}const Yk=1e3,Xk=10;class EI extends wI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Qk()&&mk(),this.fallbackToPolling=fI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);pk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Xk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EI.type="LOCAL";const Jk=EI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II extends wI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}II.type="SESSION";const TI=II;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _d(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await Zk(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=Tm("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function tN(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function nN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iN(){return SI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebaseLocalStorageDb",sN=1,Mu="firebaseLocalStorage",AI="fbase_key";class zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yd(t,e){return t.transaction([Mu],e?"readwrite":"readonly").objectStore(Mu)}function oN(){const t=indexedDB.deleteDatabase(CI);return new zl(t).toPromise()}function Wf(){const t=indexedDB.open(CI,sN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mu,{keyPath:AI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mu)?e(r):(r.close(),await oN(),e(await Wf()))})})}async function Yy(t,e,n){const r=yd(t,!0).put({[AI]:e,value:n});return new zl(r).toPromise()}async function aN(t,e){const n=yd(t,!1).get(e),r=await new zl(n).toPromise();return r===void 0?null:r.value}function Xy(t,e){const n=yd(t,!0).delete(e);return new zl(n).toPromise()}const lN=800,cN=3;class RI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_d._getInstance(iN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nN(),!this.activeServiceWorker)return;this.sender=new eN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wf();return await Yy(e,Ou,"1"),await Xy(e,Ou),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yd(i,!1).getAll();return new zl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RI.type="LOCAL";const uN=RI;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e){return e?Or(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dN(t){return yI(t.auth,new Sm(t),t.bypassAuthState)}function hN(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),zk(n,new Sm(t),t.bypassAuthState)}async function fN(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),Bk(n,new Sm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return fN;case"reauthViaPopup":case"reauthViaRedirect":return hN;default:Bn(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Ul(2e3,1e4);async function Vu(t,e,n){if(Yn(t.app))return Promise.reject(Zn(t,"operation-not-supported-in-this-environment"));const r=qi(t);Qx(t,e,Im);const i=PI(r,n);return new cs(r,"signInViaPopup",e,i).executeNotNull()}class cs extends xI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pN.get())};e()}}cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="pendingRedirect",Xc=new Map;class gN extends xI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await _N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(t,e){const n=wN(e),r=vN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yN(t,e){Xc.set(t._key(),e)}function vN(t){return Or(t._redirectPersistence)}function wN(t){return Yc(mN,t.config.apiKey,t.name)}async function EN(t,e,n=!1){if(Yn(t.app))return Promise.reject(Ur(t));const r=qi(t),i=PI(r,e),o=await new gN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=10*60*1e3;class TN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jy(e))}saveEventToCache(e){this.cachedEventUids.add(Jy(e)),this.lastProcessedEventTime=Date.now()}}function Jy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RN=/^https?/;async function PN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CN(t);for(const n of e)try{if(xN(n))return}catch{}Bn(t,"unauthorized-domain")}function xN(t){const e=$f(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!RN.test(n))return!1;if(AN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Ul(3e4,6e4);function Zy(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NN(t){return new Promise((e,n)=>{var r,i,s;function o(){Zy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zy(),n(Zn(t,"network-request-failed"))},timeout:kN.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const l=Sk("iframefcb");return pr()[l]=()=>{gapi.load?o():n(Zn(t,"network-request-failed"))},mI(`${Tk()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function bN(t){return Jc=Jc||NN(t),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new Ul(5e3,15e3),jN="__/auth/iframe",LN="emulator/auth/iframe",ON={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VN(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_m(e,LN):`https://${t.config.authDomain}/${jN}`,r={apiKey:e.apiKey,appName:t.name,v:Vs},i=MN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vl(r).slice(1)}`}async function UN(t){const e=await bN(t),n=pr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:VN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ON,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zn(t,"network-request-failed"),l=pr().setTimeout(()=>{s(o)},DN.get());function c(){pr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BN=500,zN=600,$N="_blank",HN="http://localhost";class ev{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qN(t,e,n,r=BN,i=zN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},FN),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ft().toLowerCase();n&&(l=lI(u)?$N:n),aI(u)&&(e=e||HN,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[v,S])=>`${g}${v}=${S},`,"");if(fk(u)&&l!=="_self")return WN(e||"",l),new ev(null);const m=window.open(e||"",l,f);ie(m,t,"popup-blocked");try{m.focus()}catch{}return new ev(m)}function WN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="__/auth/handler",KN="emulator/auth/handler",QN=encodeURIComponent("fac");async function tv(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vs,eventId:i};if(e instanceof Im){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Bl){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),u=c?`#${QN}=${encodeURIComponent(c)}`:"";return`${YN(t)}?${Vl(l).slice(1)}${u}`}function YN({config:t}){return t.emulator?_m(t,KN):`https://${t.authDomain}/${GN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="webStorageSupport";class XN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TI,this._completeRedirectFn=EN,this._overrideRedirectResult=yN}async _openPopup(e,n,r,i){var s;Wr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await tv(e,n,r,$f(),i);return qN(e,o,Tm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await tv(e,n,r,$f(),i);return tN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UN(e),r=new TN(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xh,{type:xh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[xh];o!==void 0&&n(!!o),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fI()||vm()||md()}}const JN=XN;var nv="@firebase/auth",rv="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tb(t){nr(new Fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pI(t)},u=new wk(r,i,s,c);return xk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nr(new Fn("auth-internal",e=>{const n=qi(e.getProvider("auth").getImmediate());return(r=>new ZN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(nv,rv,eb(t)),pn(nv,rv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=5*60,rb=zE("authIdTokenMaxAge")||nb;let iv=null;const ib=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rb)return;const i=n==null?void 0:n.token;iv!==i&&(iv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NI(t=fm()){const e=Xo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Pk(t,{popupRedirectResolver:JN,persistence:[uN,Jk,TI]}),r=zE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=ib(s.toString());Gk(n,o,()=>o(n.currentUser)),Wk(n,l=>o(l))}}const i=UE("auth");return i&&kk(n,`http://${i}`),n}function sb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ek({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",sb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tb("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebasestorage.googleapis.com",DI="storageBucket",ob=2*60*1e3,ab=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends zn{constructor(e,n,r=0){super(kh(e),`Firebase Storage: ${n} (${kh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,it.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function kh(t){return"storage/"+t}function Cm(){const t="An unknown error occurred, please check the error payload for server response.";return new it(rt.UNKNOWN,t)}function lb(t){return new it(rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function cb(t){return new it(rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ub(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new it(rt.UNAUTHENTICATED,t)}function db(){return new it(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hb(t){return new it(rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fb(){return new it(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pb(){return new it(rt.CANCELED,"User canceled the upload/download.")}function mb(t){return new it(rt.INVALID_URL,"Invalid URL '"+t+"'.")}function gb(t){return new it(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _b(){return new it(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DI+"' property when initializing the app?")}function yb(){return new it(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vb(){return new it(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wb(t){return new it(rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gf(t){return new it(rt.INVALID_ARGUMENT,t)}function jI(){return new it(rt.APP_DELETED,"The Firebase app was deleted.")}function Eb(t){return new it(rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ja(t,e){return new it(rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Pa(t){throw new it(rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw gb(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${f}/b/${i}/o${g}`,"i"),S={bucket:1,path:3},A=n===bI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",E=new RegExp(`^https?://${A}/${i}/${k}`,"i"),C=[{regex:l,indices:c,postModify:s},{regex:v,indices:S,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<C.length;L++){const V=C[L],M=V.regex.exec(e);if(M){const _=M[V.indices.bucket];let y=M[V.indices.path];y||(y=""),r=new En(_,y),V.postModify(r);break}}if(r==null)throw mb(e);return r}}class Ib{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let u=!1;function f(...k){u||(u=!0,e.apply(null,k))}function m(k){i=setTimeout(()=>{i=null,t(v,c())},k)}function g(){s&&clearTimeout(s)}function v(k,...E){if(u){g();return}if(k){g(),f.call(null,k,...E);return}if(c()||o){g(),f.call(null,k,...E);return}r<64&&(r*=2);let C;l===1?(l=2,C=0):C=(r+Math.random())*1e3,m(C)}let S=!1;function A(k){S||(S=!0,g(),!u&&(i!==null?(k||(l=2),clearTimeout(i),m(0)):k||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,A(!0)},n),A}function Sb(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){return t!==void 0}function Ab(t){return typeof t=="object"&&!Array.isArray(t)}function Am(t){return typeof t=="string"||t instanceof String}function sv(t){return Rm()&&t instanceof Blob}function Rm(){return typeof Blob<"u"}function ov(t,e,n,r){if(r<e)throw Gf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Gf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function LI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ps;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ps||(ps={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,i,s,o,l,c,u,f,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,S)=>{this.resolve_=v,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===ps.NO_ERROR,c=s.getStatus();if(!l||Rb(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===ps.ABORT;r(!1,new kc(!1,null,f));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new kc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Cb(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=Cm();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?jI():pb();o(c)}else{const c=fb();o(c)}};this.canceled_?n(!1,new kc(!1,null,!0)):this.backoffId_=Tb(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Sb(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function xb(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kb(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Nb(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bb(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Db(t,e,n,r,i,s,o=!0){const l=LI(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return Nb(u,e),xb(u,n),kb(u,s),bb(u,r),new Pb(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lb(...t){const e=jb();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Rm())return new Blob(t);throw new it(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ob(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){if(typeof atob>"u")throw wb("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nh{constructor(e,n){this.data=e,this.contentType=n||null}}function Vb(t,e){switch(t){case dr.RAW:return new Nh(OI(e));case dr.BASE64:case dr.BASE64URL:return new Nh(MI(t,e));case dr.DATA_URL:return new Nh(Fb(e),Bb(e))}throw Cm()}function OI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Ub(t){let e;try{e=decodeURIComponent(t)}catch{throw Ja(dr.DATA_URL,"Malformed data URL.")}return OI(e)}function MI(t,e){switch(t){case dr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ja(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case dr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ja(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Mb(e)}catch(i){throw i.message.includes("polyfill")?i:Ja(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class VI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ja(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zb(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Fb(t){const e=new VI(t);return e.base64?MI(dr.BASE64,e.rest):Ub(e.rest)}function Bb(t){return new VI(t).contentType}function zb(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){let r=0,i="";sv(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(sv(this.data_)){const r=this.data_,i=Ob(r,e,n);return i===null?null:new yi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new yi(r,!0)}}static getBlob(...e){if(Rm()){const n=e.map(r=>r instanceof yi?r.data_:r);return new yi(Lb.apply(null,n))}else{const n=e.map(o=>Am(o)?Vb(dr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new yi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t){let e;try{e=JSON.parse(t)}catch{return null}return Ab(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Hb(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function FI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e){return e}class en{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||qb}}let Nc=null;function Wb(t){return!Am(t)||t.length<2?t:FI(t)}function BI(){if(Nc)return Nc;const t=[];t.push(new en("bucket")),t.push(new en("generation")),t.push(new en("metageneration")),t.push(new en("name","fullPath",!0));function e(s,o){return Wb(o)}const n=new en("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new en("size");return i.xform=r,t.push(i),t.push(new en("timeCreated")),t.push(new en("updated")),t.push(new en("md5Hash",null,!0)),t.push(new en("cacheControl",null,!0)),t.push(new en("contentDisposition",null,!0)),t.push(new en("contentEncoding",null,!0)),t.push(new en("contentLanguage",null,!0)),t.push(new en("contentType",null,!0)),t.push(new en("metadata","customMetadata",!0)),Nc=t,Nc}function Gb(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new En(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Kb(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Gb(r,t),r}function zI(t,e,n){const r=UI(e);return r===null?null:Kb(t,r,n)}function Qb(t,e,n,r){const i=UI(e);if(i===null||!Am(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const f=t.bucket,m=t.fullPath,g="/b/"+o(f)+"/o/"+o(m),v=vd(g,n,r),S=LI({alt:"media",token:u});return v+S})[0]}function Yb(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Pm{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t){if(!t)throw Cm()}function Xb(t,e){function n(r,i){const s=zI(t,i,e);return $I(s!==null),s}return n}function Jb(t,e){function n(r,i){const s=zI(t,i,e);return $I(s!==null),Qb(s,i,t.host,t._protocol)}return n}function HI(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=db():i=ub():n.getStatus()===402?i=cb(t.bucket):n.getStatus()===403?i=hb(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function qI(t){const e=HI(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=lb(t.path)),s.serverResponse=i.serverResponse,s}return n}function Zb(t,e,n){const r=e.fullServerUrl(),i=vd(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new Pm(i,s,Jb(t,n),o);return l.errorHandler=qI(e),l}function eD(t,e){const n=e.fullServerUrl(),r=vd(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,u){}const l=new Pm(r,i,o,s);return l.successCodes=[200,204],l.errorHandler=qI(e),l}function tD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tD(null,e)),r}function rD(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let C="";for(let L=0;L<2;L++)C=C+Math.random().toString().slice(2);return C}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=nD(e,r,i),f=Yb(u,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+c+"--",v=yi.getBlob(m,r,g);if(v===null)throw yb();const S={name:u.fullPath},A=vd(s,t.host,t._protocol),k="POST",E=t.maxUploadRetryTime,I=new Pm(A,k,Xb(t,n),E);return I.urlParams=S,I.headers=o,I.body=v.uploadData(),I.errorHandler=HI(e),I}class iD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ps.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ps.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ps.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Pa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sD extends iD{initXhr(){this.xhr_.responseType="text"}}function xm(){return new sD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new As(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FI(this._location.path)}get storage(){return this._service}get parent(){const e=$b(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new As(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Eb(e)}}function oD(t,e,n){t._throwIfRoot("uploadBytes");const r=rD(t.storage,t._location,BI(),new yi(e,!0),n);return t.storage.makeRequestWithTokens(r,xm).then(i=>({metadata:i,ref:t}))}function aD(t){t._throwIfRoot("getDownloadURL");const e=Zb(t.storage,t._location,BI());return t.storage.makeRequestWithTokens(e,xm).then(n=>{if(n===null)throw vb();return n})}function lD(t){t._throwIfRoot("deleteObject");const e=eD(t.storage,t._location);return t.storage.makeRequestWithTokens(e,xm)}function cD(t,e){const n=Hb(t._location.path,e),r=new En(t._location.bucket,n);return new As(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){return/^[A-Za-z]+:\/\//.test(t)}function dD(t,e){return new As(t,e)}function WI(t,e){if(t instanceof km){const n=t;if(n._bucket==null)throw _b();const r=new As(n,n._bucket);return e!=null?WI(r,e):r}else return e!==void 0?cD(t,e):t}function hD(t,e){if(e&&uD(e)){if(t instanceof km)return dD(t,e);throw Gf("To use ref(service, url), the first argument must be a Storage instance.")}else return WI(t,e)}function av(t,e){const n=e==null?void 0:e[DI];return n==null?null:En.makeFromBucketSpec(n,t)}function fD(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:$E(i,t.app.options.projectId))}class km{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=bI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ob,this._maxUploadRetryTime=ab,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=av(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=av(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ov("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ov("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new As(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Ib(jI());{const o=Db(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const lv="@firebase/storage",cv="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="storage";function KI(t,e,n){return t=Le(t),oD(t,e,n)}function QI(t){return t=Le(t),aD(t)}function YI(t){return t=Le(t),lD(t)}function Mo(t,e){return t=Le(t),hD(t,e)}function pD(t=fm(),e){t=Le(t);const r=Xo(t,GI).getImmediate({identifier:e}),i=FE("storage");return i&&mD(r,...i),r}function mD(t,e,n,r={}){fD(t,e,n,r)}function gD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new km(n,r,i,e,Vs)}function _D(){nr(new Fn(GI,gD,"PUBLIC").setMultipleInstances(!0)),pn(lv,cv,""),pn(lv,cv,"esm2017")}_D();var yD="firebase",vD="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(yD,vD,"app");const XI="@firebase/installations",Nm="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=1e4,ZI=`w:${Nm}`,eT="FIS_v2",wD="https://firebaseinstallations.googleapis.com/v1",ED=60*60*1e3,ID="installations",TD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rs=new Ms(ID,TD,SD);function tT(t){return t instanceof zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT({projectId:t}){return`${wD}/projects/${t}/installations`}function rT(t){return{token:t.token,requestStatus:2,expiresIn:AD(t.expiresIn),creationTime:Date.now()}}async function iT(t,e){const r=(await e.json()).error;return Rs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CD(t,{refreshToken:e}){const n=sT(t);return n.append("Authorization",RD(e)),n}async function oT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function AD(t){return Number(t.replace("s","000"))}function RD(t){return`${eT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nT(t),i=sT(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:eT,appId:t.appId,sdkVersion:ZI},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await oT(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:rT(u.authToken)}}else throw await iT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^[cdef][\w-]{21}$/,Kf="";function ND(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=bD(t);return kD.test(n)?n:Kf}catch{return Kf}}function bD(t){return xD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;function cT(t,e){const n=wd(t);uT(n,e),DD(n,e)}function uT(t,e){const n=lT.get(t);if(n)for(const r of n)r(e)}function DD(t,e){const n=jD();n&&n.postMessage({key:t,fid:e}),LD()}let us=null;function jD(){return!us&&"BroadcastChannel"in self&&(us=new BroadcastChannel("[Firebase] FID Change"),us.onmessage=t=>{uT(t.data.key,t.data.fid)}),us}function LD(){lT.size===0&&us&&(us.close(),us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="firebase-installations-database",MD=1,Ps="firebase-installations-store";let bh=null;function bm(){return bh||(bh=QE(OD,MD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ps)}}})),bh}async function Uu(t,e){const n=wd(t),i=(await bm()).transaction(Ps,"readwrite"),s=i.objectStore(Ps),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&cT(t,e.fid),e}async function dT(t){const e=wd(t),r=(await bm()).transaction(Ps,"readwrite");await r.objectStore(Ps).delete(e),await r.done}async function Ed(t,e){const n=wd(t),i=(await bm()).transaction(Ps,"readwrite"),s=i.objectStore(Ps),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&cT(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(t){let e;const n=await Ed(t.appConfig,r=>{const i=VD(r),s=UD(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Kf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function VD(t){const e=t||{fid:ND(),registrationStatus:0};return hT(e)}function UD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Rs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=FD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BD(t)}:{installationEntry:e}}async function FD(t,e){try{const n=await PD(t,e);return Uu(t.appConfig,n)}catch(n){throw tT(n)&&n.customData.serverCode===409?await dT(t.appConfig):await Uu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function BD(t){let e=await uv(t.appConfig);for(;e.registrationStatus===1;)await aT(100),e=await uv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Dm(t);return r||n}return e}function uv(t){return Ed(t,e=>{if(!e)throw Rs.create("installation-not-found");return hT(e)})}function hT(t){return zD(t)?{fid:t.fid,registrationStatus:0}:t}function zD(t){return t.registrationStatus===1&&t.registrationTime+JI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D({appConfig:t,heartbeatServiceProvider:e},n){const r=HD(t,n),i=CD(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:ZI,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await oT(()=>fetch(r,l));if(c.ok){const u=await c.json();return rT(u)}else throw await iT("Generate Auth Token",c)}function HD(t,{fid:e}){return`${nT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(t,e=!1){let n;const r=await Ed(t.appConfig,s=>{if(!fT(s))throw Rs.create("not-registered");const o=s.authToken;if(!e&&GD(o))return s;if(o.requestStatus===1)return n=qD(t,e),s;{if(!navigator.onLine)throw Rs.create("app-offline");const l=QD(s);return n=WD(t,l),l}});return n?await n:r.authToken}async function qD(t,e){let n=await dv(t.appConfig);for(;n.authToken.requestStatus===1;)await aT(100),n=await dv(t.appConfig);const r=n.authToken;return r.requestStatus===0?jm(t,e):r}function dv(t){return Ed(t,e=>{if(!fT(e))throw Rs.create("not-registered");const n=e.authToken;return YD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function WD(t,e){try{const n=await $D(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Uu(t.appConfig,r),n}catch(n){if(tT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Uu(t.appConfig,r)}throw n}}function fT(t){return t!==void 0&&t.registrationStatus===2}function GD(t){return t.requestStatus===2&&!KD(t)}function KD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ED}function QD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function YD(t){return t.requestStatus===1&&t.requestTime+JI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Dm(e);return r?r.catch(console.error):jm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e=!1){const n=t;return await ZD(n),(await jm(n,e)).token}async function ZD(t){const{registrationPromise:e}=await Dm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){if(!t||!t.options)throw Dh("App Configuration");if(!t.name)throw Dh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Dh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Dh(t){return Rs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="installations",t2="installations-internal",n2=t=>{const e=t.getProvider("app").getImmediate(),n=e2(e),r=Xo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},r2=t=>{const e=t.getProvider("app").getImmediate(),n=Xo(e,pT).getImmediate();return{getId:()=>XD(n),getToken:i=>JD(n,i)}};function i2(){nr(new Fn(pT,n2,"PUBLIC")),nr(new Fn(t2,r2,"PRIVATE"))}i2();pn(XI,Nm);pn(XI,Nm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="analytics",s2="firebase_id",o2="origin",a2=60*1e3,l2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new pd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Ms("analytics","Analytics",c2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){if(!t.startsWith(Lm)){const e=Mn.create("invalid-gtag-resource",{gtagURL:t});return mn.warn(e.message),""}return t}function mT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function d2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function h2(t,e){const n=d2("firebase-js-sdk-policy",{createScriptURL:u2}),r=document.createElement("script"),i=`${Lm}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function f2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function p2(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await mT(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){mn.error(l)}t("config",i,s)}async function m2(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await mT(n);for(const c of o){const u=l.find(m=>m.measurementId===c),f=u&&e[u.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){mn.error(s)}}function g2(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await m2(t,e,n,l,c)}else if(s==="config"){const[l,c]=o;await p2(t,e,n,r,l,c)}else if(s==="consent"){const[l,c]=o;t("consent",l,c)}else if(s==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){mn.error(l)}}return i}function _2(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=g2(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function y2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Lm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=30,w2=1e3;class E2{constructor(e={},n=w2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gT=new E2;function I2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function T2(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:I2(r)},s=l2.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function S2(t,e=gT,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new R2;return setTimeout(async()=>{l.abort()},a2),_T({appId:r,apiKey:i,measurementId:s},o,l,e)}async function _T(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=gT){var s;const{appId:o,measurementId:l}=t;try{await C2(r,e)}catch(c){if(l)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await T2(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!A2(u)){if(i.deleteThrottleMetadata(o),l)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const f=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?ky(n,i.intervalMillis,v2):ky(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(o,m),mn.debug(`Calling attemptFetch again in ${f} millis`),_T(t,m,r,i)}}function C2(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function A2(t){if(!(t instanceof zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class R2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function P2(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(){if(qE())try{await WE()}catch(t){return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function k2(t,e,n,r,i,s,o){var l;const c=S2(t);c.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>mn.error(v)),e.push(c);const u=x2().then(v=>{if(v)return r.getId()}),[f,m]=await Promise.all([c,u]);y2(s)||h2(s,f.measurementId),i("js",new Date);const g=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return g[o2]="firebase",g.update=!0,m!=null&&(g[s2]=m),i("config",f.measurementId,g),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.app=e}_delete(){return delete Za[this.app.options.appId],Promise.resolve()}}let Za={},fv=[];const pv={};let jh="dataLayer",b2="gtag",mv,yT,gv=!1;function D2(){const t=[];if(HE()&&t.push("This is a browser extension environment."),kP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});mn.warn(n.message)}}function j2(t,e,n){D2();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(Za[r]!=null)throw Mn.create("already-exists",{id:r});if(!gv){f2(jh);const{wrappedGtag:s,gtagCore:o}=_2(Za,fv,pv,jh,b2);yT=s,mv=o,gv=!0}return Za[r]=k2(t,fv,pv,e,mv,jh,n),new N2(t)}function L2(t,e,n,r){t=Le(t),P2(yT,Za[t.app.options.appId],e,n,r).catch(i=>mn.error(i))}const _v="@firebase/analytics",yv="0.10.4";function O2(){nr(new Fn(hv,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return j2(r,i,n)},"PUBLIC")),nr(new Fn("analytics-internal",t,"PRIVATE")),pn(_v,yv),pn(_v,yv,"esm2017");function t(e){try{const n=e.getProvider(hv).getImmediate();return{logEvent:(r,i,s)=>L2(n,r,i,s)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}O2();var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,vT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,y){function T(){}T.prototype=y.prototype,_.D=y.prototype,_.prototype=new T,_.prototype.constructor=_,_.C=function(R,x,b){for(var P=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)P[xe-2]=arguments[xe];return y.prototype[x].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,y,T){T||(T=0);var R=Array(16);if(typeof y=="string")for(var x=0;16>x;++x)R[x]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(x=0;16>x;++x)R[x]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=_.g[0],T=_.g[1],x=_.g[2];var b=_.g[3],P=y+(b^T&(x^b))+R[0]+3614090360&4294967295;y=T+(P<<7&4294967295|P>>>25),P=b+(x^y&(T^x))+R[1]+3905402710&4294967295,b=y+(P<<12&4294967295|P>>>20),P=x+(T^b&(y^T))+R[2]+606105819&4294967295,x=b+(P<<17&4294967295|P>>>15),P=T+(y^x&(b^y))+R[3]+3250441966&4294967295,T=x+(P<<22&4294967295|P>>>10),P=y+(b^T&(x^b))+R[4]+4118548399&4294967295,y=T+(P<<7&4294967295|P>>>25),P=b+(x^y&(T^x))+R[5]+1200080426&4294967295,b=y+(P<<12&4294967295|P>>>20),P=x+(T^b&(y^T))+R[6]+2821735955&4294967295,x=b+(P<<17&4294967295|P>>>15),P=T+(y^x&(b^y))+R[7]+4249261313&4294967295,T=x+(P<<22&4294967295|P>>>10),P=y+(b^T&(x^b))+R[8]+1770035416&4294967295,y=T+(P<<7&4294967295|P>>>25),P=b+(x^y&(T^x))+R[9]+2336552879&4294967295,b=y+(P<<12&4294967295|P>>>20),P=x+(T^b&(y^T))+R[10]+4294925233&4294967295,x=b+(P<<17&4294967295|P>>>15),P=T+(y^x&(b^y))+R[11]+2304563134&4294967295,T=x+(P<<22&4294967295|P>>>10),P=y+(b^T&(x^b))+R[12]+1804603682&4294967295,y=T+(P<<7&4294967295|P>>>25),P=b+(x^y&(T^x))+R[13]+4254626195&4294967295,b=y+(P<<12&4294967295|P>>>20),P=x+(T^b&(y^T))+R[14]+2792965006&4294967295,x=b+(P<<17&4294967295|P>>>15),P=T+(y^x&(b^y))+R[15]+1236535329&4294967295,T=x+(P<<22&4294967295|P>>>10),P=y+(x^b&(T^x))+R[1]+4129170786&4294967295,y=T+(P<<5&4294967295|P>>>27),P=b+(T^x&(y^T))+R[6]+3225465664&4294967295,b=y+(P<<9&4294967295|P>>>23),P=x+(y^T&(b^y))+R[11]+643717713&4294967295,x=b+(P<<14&4294967295|P>>>18),P=T+(b^y&(x^b))+R[0]+3921069994&4294967295,T=x+(P<<20&4294967295|P>>>12),P=y+(x^b&(T^x))+R[5]+3593408605&4294967295,y=T+(P<<5&4294967295|P>>>27),P=b+(T^x&(y^T))+R[10]+38016083&4294967295,b=y+(P<<9&4294967295|P>>>23),P=x+(y^T&(b^y))+R[15]+3634488961&4294967295,x=b+(P<<14&4294967295|P>>>18),P=T+(b^y&(x^b))+R[4]+3889429448&4294967295,T=x+(P<<20&4294967295|P>>>12),P=y+(x^b&(T^x))+R[9]+568446438&4294967295,y=T+(P<<5&4294967295|P>>>27),P=b+(T^x&(y^T))+R[14]+3275163606&4294967295,b=y+(P<<9&4294967295|P>>>23),P=x+(y^T&(b^y))+R[3]+4107603335&4294967295,x=b+(P<<14&4294967295|P>>>18),P=T+(b^y&(x^b))+R[8]+1163531501&4294967295,T=x+(P<<20&4294967295|P>>>12),P=y+(x^b&(T^x))+R[13]+2850285829&4294967295,y=T+(P<<5&4294967295|P>>>27),P=b+(T^x&(y^T))+R[2]+4243563512&4294967295,b=y+(P<<9&4294967295|P>>>23),P=x+(y^T&(b^y))+R[7]+1735328473&4294967295,x=b+(P<<14&4294967295|P>>>18),P=T+(b^y&(x^b))+R[12]+2368359562&4294967295,T=x+(P<<20&4294967295|P>>>12),P=y+(T^x^b)+R[5]+4294588738&4294967295,y=T+(P<<4&4294967295|P>>>28),P=b+(y^T^x)+R[8]+2272392833&4294967295,b=y+(P<<11&4294967295|P>>>21),P=x+(b^y^T)+R[11]+1839030562&4294967295,x=b+(P<<16&4294967295|P>>>16),P=T+(x^b^y)+R[14]+4259657740&4294967295,T=x+(P<<23&4294967295|P>>>9),P=y+(T^x^b)+R[1]+2763975236&4294967295,y=T+(P<<4&4294967295|P>>>28),P=b+(y^T^x)+R[4]+1272893353&4294967295,b=y+(P<<11&4294967295|P>>>21),P=x+(b^y^T)+R[7]+4139469664&4294967295,x=b+(P<<16&4294967295|P>>>16),P=T+(x^b^y)+R[10]+3200236656&4294967295,T=x+(P<<23&4294967295|P>>>9),P=y+(T^x^b)+R[13]+681279174&4294967295,y=T+(P<<4&4294967295|P>>>28),P=b+(y^T^x)+R[0]+3936430074&4294967295,b=y+(P<<11&4294967295|P>>>21),P=x+(b^y^T)+R[3]+3572445317&4294967295,x=b+(P<<16&4294967295|P>>>16),P=T+(x^b^y)+R[6]+76029189&4294967295,T=x+(P<<23&4294967295|P>>>9),P=y+(T^x^b)+R[9]+3654602809&4294967295,y=T+(P<<4&4294967295|P>>>28),P=b+(y^T^x)+R[12]+3873151461&4294967295,b=y+(P<<11&4294967295|P>>>21),P=x+(b^y^T)+R[15]+530742520&4294967295,x=b+(P<<16&4294967295|P>>>16),P=T+(x^b^y)+R[2]+3299628645&4294967295,T=x+(P<<23&4294967295|P>>>9),P=y+(x^(T|~b))+R[0]+4096336452&4294967295,y=T+(P<<6&4294967295|P>>>26),P=b+(T^(y|~x))+R[7]+1126891415&4294967295,b=y+(P<<10&4294967295|P>>>22),P=x+(y^(b|~T))+R[14]+2878612391&4294967295,x=b+(P<<15&4294967295|P>>>17),P=T+(b^(x|~y))+R[5]+4237533241&4294967295,T=x+(P<<21&4294967295|P>>>11),P=y+(x^(T|~b))+R[12]+1700485571&4294967295,y=T+(P<<6&4294967295|P>>>26),P=b+(T^(y|~x))+R[3]+2399980690&4294967295,b=y+(P<<10&4294967295|P>>>22),P=x+(y^(b|~T))+R[10]+4293915773&4294967295,x=b+(P<<15&4294967295|P>>>17),P=T+(b^(x|~y))+R[1]+2240044497&4294967295,T=x+(P<<21&4294967295|P>>>11),P=y+(x^(T|~b))+R[8]+1873313359&4294967295,y=T+(P<<6&4294967295|P>>>26),P=b+(T^(y|~x))+R[15]+4264355552&4294967295,b=y+(P<<10&4294967295|P>>>22),P=x+(y^(b|~T))+R[6]+2734768916&4294967295,x=b+(P<<15&4294967295|P>>>17),P=T+(b^(x|~y))+R[13]+1309151649&4294967295,T=x+(P<<21&4294967295|P>>>11),P=y+(x^(T|~b))+R[4]+4149444226&4294967295,y=T+(P<<6&4294967295|P>>>26),P=b+(T^(y|~x))+R[11]+3174756917&4294967295,b=y+(P<<10&4294967295|P>>>22),P=x+(y^(b|~T))+R[2]+718787259&4294967295,x=b+(P<<15&4294967295|P>>>17),P=T+(b^(x|~y))+R[9]+3951481745&4294967295,_.g[0]=_.g[0]+y&4294967295,_.g[1]=_.g[1]+(x+(P<<21&4294967295|P>>>11))&4294967295,_.g[2]=_.g[2]+x&4294967295,_.g[3]=_.g[3]+b&4294967295}r.prototype.u=function(_,y){y===void 0&&(y=_.length);for(var T=y-this.blockSize,R=this.B,x=this.h,b=0;b<y;){if(x==0)for(;b<=T;)i(this,_,b),b+=this.blockSize;if(typeof _=="string"){for(;b<y;)if(R[x++]=_.charCodeAt(b++),x==this.blockSize){i(this,R),x=0;break}}else for(;b<y;)if(R[x++]=_[b++],x==this.blockSize){i(this,R),x=0;break}}this.h=x,this.o+=y},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var y=1;y<_.length-8;++y)_[y]=0;var T=8*this.o;for(y=_.length-8;y<_.length;++y)_[y]=T&255,T/=256;for(this.u(_),_=Array(16),y=T=0;4>y;++y)for(var R=0;32>R;R+=8)_[T++]=this.g[y]>>>R&255;return _};function s(_,y){var T=l;return Object.prototype.hasOwnProperty.call(T,_)?T[_]:T[_]=y(_)}function o(_,y){this.h=y;for(var T=[],R=!0,x=_.length-1;0<=x;x--){var b=_[x]|0;R&&b==y||(T[x]=b,R=!1)}this.g=T}var l={};function c(_){return-128<=_&&128>_?s(_,function(y){return new o([y|0],0>y?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return m;if(0>_)return k(u(-_));for(var y=[],T=1,R=0;_>=T;R++)y[R]=_/T|0,T*=4294967296;return new o(y,0)}function f(_,y){if(_.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(_.charAt(0)=="-")return k(f(_.substring(1),y));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(y,8)),R=m,x=0;x<_.length;x+=8){var b=Math.min(8,_.length-x),P=parseInt(_.substring(x,x+b),y);8>b?(b=u(Math.pow(y,b)),R=R.j(b).add(u(P))):(R=R.j(T),R=R.add(u(P)))}return R}var m=c(0),g=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(A(this))return-k(this).m();for(var _=0,y=1,T=0;T<this.g.length;T++){var R=this.i(T);_+=(0<=R?R:4294967296+R)*y,y*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(S(this))return"0";if(A(this))return"-"+k(this).toString(_);for(var y=u(Math.pow(_,6)),T=this,R="";;){var x=L(T,y).g;T=E(T,x.j(y));var b=((0<T.g.length?T.g[0]:T.h)>>>0).toString(_);if(T=x,S(T))return b+R;for(;6>b.length;)b="0"+b;R=b+R}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function S(_){if(_.h!=0)return!1;for(var y=0;y<_.g.length;y++)if(_.g[y]!=0)return!1;return!0}function A(_){return _.h==-1}t.l=function(_){return _=E(this,_),A(_)?-1:S(_)?0:1};function k(_){for(var y=_.g.length,T=[],R=0;R<y;R++)T[R]=~_.g[R];return new o(T,~_.h).add(g)}t.abs=function(){return A(this)?k(this):this},t.add=function(_){for(var y=Math.max(this.g.length,_.g.length),T=[],R=0,x=0;x<=y;x++){var b=R+(this.i(x)&65535)+(_.i(x)&65535),P=(b>>>16)+(this.i(x)>>>16)+(_.i(x)>>>16);R=P>>>16,b&=65535,P&=65535,T[x]=P<<16|b}return new o(T,T[T.length-1]&-2147483648?-1:0)};function E(_,y){return _.add(k(y))}t.j=function(_){if(S(this)||S(_))return m;if(A(this))return A(_)?k(this).j(k(_)):k(k(this).j(_));if(A(_))return k(this.j(k(_)));if(0>this.l(v)&&0>_.l(v))return u(this.m()*_.m());for(var y=this.g.length+_.g.length,T=[],R=0;R<2*y;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var x=0;x<_.g.length;x++){var b=this.i(R)>>>16,P=this.i(R)&65535,xe=_.i(x)>>>16,Ct=_.i(x)&65535;T[2*R+2*x]+=P*Ct,I(T,2*R+2*x),T[2*R+2*x+1]+=b*Ct,I(T,2*R+2*x+1),T[2*R+2*x+1]+=P*xe,I(T,2*R+2*x+1),T[2*R+2*x+2]+=b*xe,I(T,2*R+2*x+2)}for(R=0;R<y;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=y;R<2*y;R++)T[R]=0;return new o(T,0)};function I(_,y){for(;(_[y]&65535)!=_[y];)_[y+1]+=_[y]>>>16,_[y]&=65535,y++}function C(_,y){this.g=_,this.h=y}function L(_,y){if(S(y))throw Error("division by zero");if(S(_))return new C(m,m);if(A(_))return y=L(k(_),y),new C(k(y.g),k(y.h));if(A(y))return y=L(_,k(y)),new C(k(y.g),y.h);if(30<_.g.length){if(A(_)||A(y))throw Error("slowDivide_ only works with positive integers.");for(var T=g,R=y;0>=R.l(_);)T=V(T),R=V(R);var x=M(T,1),b=M(R,1);for(R=M(R,2),T=M(T,2);!S(R);){var P=b.add(R);0>=P.l(_)&&(x=x.add(T),b=P),R=M(R,1),T=M(T,1)}return y=E(_,x.j(y)),new C(x,y)}for(x=m;0<=_.l(y);){for(T=Math.max(1,Math.floor(_.m()/y.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),b=u(T),P=b.j(y);A(P)||0<P.l(_);)T-=R,b=u(T),P=b.j(y);S(b)&&(b=g),x=x.add(b),_=E(_,P)}return new C(x,_)}t.A=function(_){return L(this,_).h},t.and=function(_){for(var y=Math.max(this.g.length,_.g.length),T=[],R=0;R<y;R++)T[R]=this.i(R)&_.i(R);return new o(T,this.h&_.h)},t.or=function(_){for(var y=Math.max(this.g.length,_.g.length),T=[],R=0;R<y;R++)T[R]=this.i(R)|_.i(R);return new o(T,this.h|_.h)},t.xor=function(_){for(var y=Math.max(this.g.length,_.g.length),T=[],R=0;R<y;R++)T[R]=this.i(R)^_.i(R);return new o(T,this.h^_.h)};function V(_){for(var y=_.g.length+1,T=[],R=0;R<y;R++)T[R]=_.i(R)<<1|_.i(R-1)>>>31;return new o(T,_.h)}function M(_,y){var T=y>>5;y%=32;for(var R=_.g.length-T,x=[],b=0;b<R;b++)x[b]=0<y?_.i(b+T)>>>y|_.i(b+T+1)<<32-y:_.i(b+T);return new o(x,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,ms=o}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,ET,Ma,IT,Zc,Qf,TT,ST,CT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var j=a[w];if(!(j in p))break e;p=p[j]}a=a[a.length-1],w=p[a],h=h(w),h!=w&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,w=!1,j={next:function(){if(!w&&p<a.length){var U=p++;return{value:h(U,a[U]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,p){return a.call.apply(a.bind,arguments)}function m(a,h,p){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),a.apply(h,j)}}return function(){return a.apply(h,arguments)}}function g(a,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function v(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function S(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(w,j,U){for(var W=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)W[ke-2]=arguments[ke];return h.prototype[j].apply(w,W)}}function A(a){const h=a.length;if(0<h){const p=Array(h);for(let w=0;w<h;w++)p[w]=a[w];return p}return[]}function k(a,h){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(c(w)){const j=a.length||0,U=w.length||0;a.length=j+U;for(let W=0;W<U;W++)a[j+W]=w[W]}else a.push(w)}}class E{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function I(a){return/^[\s\xa0]*$/.test(a)}function C(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var V=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function M(a,h,p){for(const w in a)h.call(p,a[w],w,a)}function _(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function y(a){const h={};for(const p in a)h[p]=a[p];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,h){let p,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(p in w)a[p]=w[p];for(let U=0;U<T.length;U++)p=T[U],Object.prototype.hasOwnProperty.call(w,p)&&(a[p]=w[p])}}function x(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function b(a){l.setTimeout(()=>{throw a},0)}function P(){var a=ne;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class xe{constructor(){this.h=this.g=null}add(h,p){const w=Ct.get();w.set(h,p),this.h?this.h.next=w:this.g=w,this.h=w}}var Ct=new E(()=>new ir,a=>a.reset());class ir{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let an,q=!1,ne=new xe,se=()=>{const a=l.Promise.resolve(void 0);an=()=>{a.then(Ce)}};var Ce=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(p){b(p)}var h=Ct;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}q=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var Jt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function ft(a,h){if(Pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(V){e:{try{L(h.nodeName);var j=!0;break e}catch{}j=!1}j||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:At[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ft.aa.h.call(this)}}S(ft,Pe);var At={2:"touch",3:"pen",4:"mouse"};ft.prototype.h=function(){ft.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),na=0;function Md(a,h,p,w,j){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!w,this.ha=j,this.key=++na,this.da=this.fa=!1}function zs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function $s(a){this.src=a,this.g={},this.h=0}$s.prototype.add=function(a,h,p,w,j){var U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);var W=vr(a,h,w,j);return-1<W?(h=a[W],p||(h.fa=!1)):(h=new Md(h,this.src,U,!!w,j),h.fa=p,a.push(h)),h};function Pt(a,h){var p=h.type;if(p in a.g){var w=a.g[p],j=Array.prototype.indexOf.call(w,h,void 0),U;(U=0<=j)&&Array.prototype.splice.call(w,j,1),U&&(zs(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function vr(a,h,p,w){for(var j=0;j<a.length;++j){var U=a[j];if(!U.da&&U.listener==h&&U.capture==!!p&&U.ha==w)return j}return-1}var Hs="closure_lm_"+(1e6*Math.random()|0),ra={};function sr(a,h,p,w,j){if(Array.isArray(h)){for(var U=0;U<h.length;U++)sr(a,h[U],p,w,j);return null}return p=Ws(p),a&&a[Rt]?a.K(h,p,u(w)?!!w.capture:!!w,j):Vd(a,h,p,!1,w,j)}function Vd(a,h,p,w,j,U){if(!h)throw Error("Invalid event type");var W=u(j)?!!j.capture:!!j,ke=wr(a);if(ke||(a[Hs]=ke=new $s(a)),p=ke.add(h,p,w,W,U),p.proxy)return p;if(w=Ud(),p.proxy=w,w.src=a,w.listener=p,a.addEventListener)Jt||(j=W),j===void 0&&(j=!1),a.addEventListener(h.toString(),w,j);else if(a.attachEvent)a.attachEvent(Jl(h.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ud(){function a(p){return h.call(a.src,a.listener,p)}const h=Qi;return a}function Xl(a,h,p,w,j){if(Array.isArray(h))for(var U=0;U<h.length;U++)Xl(a,h[U],p,w,j);else w=u(w)?!!w.capture:!!w,p=Ws(p),a&&a[Rt]?(a=a.i,h=String(h).toString(),h in a.g&&(U=a.g[h],p=vr(U,p,w,j),-1<p&&(zs(U[p]),Array.prototype.splice.call(U,p,1),U.length==0&&(delete a.g[h],a.h--)))):a&&(a=wr(a))&&(h=a.g[h.toString()],a=-1,h&&(a=vr(h,p,w,j)),(p=-1<a?h[a]:null)&&ia(p))}function ia(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Rt])Pt(h.i,a);else{var p=a.type,w=a.proxy;h.removeEventListener?h.removeEventListener(p,w,a.capture):h.detachEvent?h.detachEvent(Jl(p),w):h.addListener&&h.removeListener&&h.removeListener(w),(p=wr(h))?(Pt(p,a),p.h==0&&(p.src=null,h[Hs]=null)):zs(a)}}}function Jl(a){return a in ra?ra[a]:ra[a]="on"+a}function Qi(a,h){if(a.da)a=!0;else{h=new ft(h,this);var p=a.listener,w=a.ha||a.src;a.fa&&ia(a),a=p.call(w,h)}return a}function wr(a){return a=a[Hs],a instanceof $s?a:null}var qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(a){return typeof a=="function"?a:(a[qs]||(a[qs]=function(h){return a.handleEvent(h)}),a[qs])}function Oe(){fe.call(this),this.i=new $s(this),this.M=this,this.F=null}S(Oe,fe),Oe.prototype[Rt]=!0,Oe.prototype.removeEventListener=function(a,h,p,w){Xl(this,a,h,p,w)};function st(a,h){var p,w=a.F;if(w)for(p=[];w;w=w.F)p.push(w);if(a=a.M,w=h.type||h,typeof h=="string")h=new Pe(h,a);else if(h instanceof Pe)h.target=h.target||a;else{var j=h;h=new Pe(w,a),R(h,j)}if(j=!0,p)for(var U=p.length-1;0<=U;U--){var W=h.g=p[U];j=Yi(W,w,!0,h)&&j}if(W=h.g=a,j=Yi(W,w,!0,h)&&j,j=Yi(W,w,!1,h)&&j,p)for(U=0;U<p.length;U++)W=h.g=p[U],j=Yi(W,w,!1,h)&&j}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],w=0;w<p.length;w++)zs(p[w]);delete a.g[h],a.h--}}this.F=null},Oe.prototype.K=function(a,h,p,w){return this.i.add(String(a),h,!1,p,w)},Oe.prototype.L=function(a,h,p,w){return this.i.add(String(a),h,!0,p,w)};function Yi(a,h,p,w){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var j=!0,U=0;U<h.length;++U){var W=h[U];if(W&&!W.da&&W.capture==p){var ke=W.listener,Nt=W.ha||W.src;W.fa&&Pt(a.i,W),j=ke.call(Nt,w)!==!1&&j}}return j&&!w.defaultPrevented}function Xi(a,h,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Zl(a){a.g=Xi(()=>{a.g=null,a.i&&(a.i=!1,Zl(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class or extends fe{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(a){fe.call(this),this.h=a,this.g={}}S(ti,fe);var sa=[];function oa(a){M(a.g,function(h,p){this.g.hasOwnProperty(p)&&ia(h)},a),a.g={}}ti.prototype.N=function(){ti.aa.N.call(this),oa(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=l.JSON.stringify,ec=l.JSON.parse,Gs=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ks(){}Ks.prototype.h=null;function Qs(a){return a.h||(a.h=a.i())}function tc(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function la(){Pe.call(this,"d")}S(la,Pe);function Ys(){Pe.call(this,"c")}S(Ys,Pe);var Er={},D=null;function O(){return D=D||new Oe}Er.La="serverreachability";function F(a){Pe.call(this,Er.La,a)}S(F,Pe);function H(a){const h=O();st(h,new F(h))}Er.STAT_EVENT="statevent";function Q(a,h){Pe.call(this,Er.STAT_EVENT,a),this.stat=h}S(Q,Pe);function Z(a){const h=O();st(h,new Q(h,a))}Er.Ma="timingevent";function ee(a,h){Pe.call(this,Er.Ma,a),this.size=h}S(ee,Pe);function K(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function oe(){this.g=!0}oe.prototype.xa=function(){this.g=!1};function ae(a,h,p,w,j,U){a.info(function(){if(a.g)if(U)for(var W="",ke=U.split("&"),Nt=0;Nt<ke.length;Nt++){var Ie=ke[Nt].split("=");if(1<Ie.length){var Bt=Ie[0];Ie=Ie[1];var zt=Bt.split("_");W=2<=zt.length&&zt[1]=="type"?W+(Bt+"="+Ie+"&"):W+(Bt+"=redacted&")}}else W=null;else W=U;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+h+`
`+p+`
`+W})}function pt(a,h,p,w,j,U,W){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+h+`
`+p+`
`+U+" "+W})}function ze(a,h,p,w){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+be(a,p)+(w?" "+w:"")})}function re(a,h){a.info(function(){return"TIMEOUT: "+h})}oe.prototype.info=function(){};function be(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var w=p[a];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var W=1;W<j.length;W++)j[W]=""}}}}return aa(p)}catch{return h}}var We={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function $n(){}S($n,Ks),$n.prototype.g=function(){return new XMLHttpRequest},$n.prototype.i=function(){return{}},Pn=new $n;function Zt(a,h,p,w){this.j=a,this.i=h,this.l=p,this.R=w||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var gn={},ii={};function si(a,h,p){a.L=1,a.v=ic(Cr(h)),a.m=p,a.P=!0,Ji(a,null)}function Ji(a,h){a.F=Date.now(),kt(a),a.A=Cr(a.v);var p=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),kg(p.i,"t",w),a.C=0,p=a.j.J,a.h=new Ir,a.g=Kg(a.j,p?h:null,!a.m),0<a.O&&(a.M=new or(g(a.Y,a,a.g),a.O)),h=a.U,p=a.g,w=a.ca;var j="readystatechange";Array.isArray(j)||(j&&(sa[0]=j.toString()),j=sa);for(var U=0;U<j.length;U++){var W=sr(p,j[U],w||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),H(),ae(a.i,a.u,a.A,a.l,a.R,a.m)}Zt.prototype.ca=function(a){a=a.target;const h=this.M;h&&Ar(a)==3?h.j():this.Y(a)},Zt.prototype.Y=function(a){try{if(a==this.g)e:{const zt=Ar(this.g);var h=this.g.Ba();const Zs=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Mg(this.g)))){this.J||zt!=4||h==7||(h==8||0>=Zs?H(3):H(2)),Tr(this);var p=this.g.Z();this.X=p;t:if(pe(this)){var w=Mg(this.g);a="";var j=w.length,U=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),oi(this);var W="";break t}this.h.i=new l.TextDecoder}for(h=0;h<j;h++)this.h.h=!0,a+=this.h.i.decode(w[h],{stream:!(U&&h==j-1)});w.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,pt(this.i,this.u,this.A,this.l,this.R,zt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Nt=this.g;if((ke=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(ke)){var Ie=ke;break t}}Ie=null}if(p=Ie)ze(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fd(this,p);else{this.o=!1,this.s=3,Z(12),Sr(this),oi(this);break e}}if(this.P){p=!0;let Hn;for(;!this.J&&this.C<W.length;)if(Hn=xt(this,W),Hn==ii){zt==4&&(this.s=4,Z(14),p=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==gn){this.s=4,Z(15),ze(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else ze(this.i,this.l,Hn,null),Fd(this,Hn);if(pe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||W.length!=0||this.h.h||(this.s=1,Z(16),p=!1),this.o=this.o&&p,!p)ze(this.i,this.l,W,"[Invalid Chunked Response]"),Sr(this),oi(this);else if(0<W.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Wd(Bt),Bt.M=!0,Z(11))}}else ze(this.i,this.l,W,null),Fd(this,W);zt==4&&Sr(this),this.o&&!this.J&&(zt==4?Hg(this.j,this):(this.o=!1,kt(this)))}else aS(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),Sr(this),oi(this)}}}catch{}finally{}};function pe(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function xt(a,h){var p=a.C,w=h.indexOf(`
`,p);return w==-1?ii:(p=Number(h.substring(p,w)),isNaN(p)?gn:(w+=1,w+p>h.length?ii:(h=h.slice(w,w+p),a.C=w+p,h)))}Zt.prototype.cancel=function(){this.J=!0,Sr(this)};function kt(a){a.S=Date.now()+a.I,at(a,a.I)}function at(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=K(g(a.ba,a),h)}function Tr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Zt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(re(this.i,this.A),this.L!=2&&(H(),Z(17)),Sr(this),this.s=2,oi(this)):at(this,this.S-a)};function oi(a){a.j.G==0||a.J||Hg(a.j,a)}function Sr(a){Tr(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,oa(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Fd(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||Bd(p.h,a))){if(!a.K&&Bd(p.h,a)&&p.G==3){try{var w=p.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)cc(p),ac(p);else break e;qd(p),Z(18)}}else p.za=j[1],0<p.za-p.T&&37500>j[2]&&p.F&&p.v==0&&!p.C&&(p.C=K(g(p.Za,p),6e3));if(1>=Eg(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else es(p,11)}else if((a.K||p.g==a)&&cc(p),!I(h))for(j=p.Da.g.parse(h),h=0;h<j.length;h++){let Ie=j[h];if(p.T=Ie[0],Ie=Ie[1],p.G==2)if(Ie[0]=="c"){p.K=Ie[1],p.ia=Ie[2];const Bt=Ie[3];Bt!=null&&(p.la=Bt,p.j.info("VER="+p.la));const zt=Ie[4];zt!=null&&(p.Aa=zt,p.j.info("SVER="+p.Aa));const Zs=Ie[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(w=1.5*Zs,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const Hn=a.g;if(Hn){const dc=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dc){var U=w.h;U.g||dc.indexOf("spdy")==-1&&dc.indexOf("quic")==-1&&dc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(zd(U,U.h),U.h=null))}if(w.D){const Gd=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gd&&(w.ya=Gd,Me(w.I,w.D,Gd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var W=a;if(w.qa=Gg(w,w.J?w.ia:null,w.W),W.K){Ig(w.h,W);var ke=W,Nt=w.L;Nt&&(ke.I=Nt),ke.B&&(Tr(ke),kt(ke)),w.g=W}else zg(w);0<p.i.length&&lc(p)}else Ie[0]!="stop"&&Ie[0]!="close"||es(p,7);else p.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?es(p,7):Hd(p):Ie[0]!="noop"&&p.l&&p.l.ta(Ie),p.v=0)}}H(4)}catch{}}var q1=class{constructor(a,h){this.g=a,this.map=h}};function vg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Eg(a){return a.h?1:a.g?a.g.size:0}function Bd(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function zd(a,h){a.g?a.g.add(h):a.h=h}function Ig(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}vg.prototype.cancel=function(){if(this.i=Tg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Tg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return A(a.i)}function W1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],p=a.length,w=0;w<p;w++)h.push(a[w]);return h}h=[],p=0;for(w in a)h[p++]=a[w];return h}function G1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const w in a)h[p++]=w;return h}}}function Sg(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=G1(a),w=W1(a),j=w.length,U=0;U<j;U++)h.call(void 0,w[U],p&&p[U],a)}var Cg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K1(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var w=a[p].indexOf("="),j=null;if(0<=w){var U=a[p].substring(0,w);j=a[p].substring(w+1)}else U=a[p];h(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Zi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Zi){this.h=a.h,nc(this,a.j),this.o=a.o,this.g=a.g,rc(this,a.s),this.l=a.l;var h=a.i,p=new da;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Ag(this,p),this.m=a.m}else a&&(h=String(a).match(Cg))?(this.h=!1,nc(this,h[1]||"",!0),this.o=ca(h[2]||""),this.g=ca(h[3]||"",!0),rc(this,h[4]),this.l=ca(h[5]||"",!0),Ag(this,h[6]||"",!0),this.m=ca(h[7]||"")):(this.h=!1,this.i=new da(null,this.h))}Zi.prototype.toString=function(){var a=[],h=this.j;h&&a.push(ua(h,Rg,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(ua(h,Rg,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(ua(p,p.charAt(0)=="/"?X1:Y1,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",ua(p,Z1)),a.join("")};function Cr(a){return new Zi(a)}function nc(a,h,p){a.j=p?ca(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function rc(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Ag(a,h,p){h instanceof da?(a.i=h,eS(a.i,a.h)):(p||(h=ua(h,J1)),a.i=new da(h,a.h))}function Me(a,h,p){a.i.set(h,p)}function ic(a){return Me(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ca(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ua(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,Q1),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Q1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Rg=/[#\/\?@]/g,Y1=/[#\?:]/g,X1=/[#\?]/g,J1=/[#\?@]/g,Z1=/#/g;function da(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function ai(a){a.g||(a.g=new Map,a.h=0,a.i&&K1(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=da.prototype,t.add=function(a,h){ai(this),this.i=null,a=Xs(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function Pg(a,h){ai(a),h=Xs(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function xg(a,h){return ai(a),h=Xs(a,h),a.g.has(h)}t.forEach=function(a,h){ai(this),this.g.forEach(function(p,w){p.forEach(function(j){a.call(h,j,w,this)},this)},this)},t.na=function(){ai(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let w=0;w<h.length;w++){const j=a[w];for(let U=0;U<j.length;U++)p.push(h[w])}return p},t.V=function(a){ai(this);let h=[];if(typeof a=="string")xg(this,a)&&(h=h.concat(this.g.get(Xs(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return ai(this),this.i=null,a=Xs(this,a),xg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function kg(a,h,p){Pg(a,h),0<p.length&&(a.i=null,a.g.set(Xs(a,h),A(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var w=h[p];const U=encodeURIComponent(String(w)),W=this.V(w);for(w=0;w<W.length;w++){var j=U;W[w]!==""&&(j+="="+encodeURIComponent(String(W[w]))),a.push(j)}}return this.i=a.join("&")};function Xs(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function eS(a,h){h&&!a.j&&(ai(a),a.i=null,a.g.forEach(function(p,w){var j=w.toLowerCase();w!=j&&(Pg(this,w),kg(this,j,p))},a)),a.j=h}function tS(a,h){const p=new oe;if(l.Image){const w=new Image;w.onload=v(li,p,"TestLoadImage: loaded",!0,h,w),w.onerror=v(li,p,"TestLoadImage: error",!1,h,w),w.onabort=v(li,p,"TestLoadImage: abort",!1,h,w),w.ontimeout=v(li,p,"TestLoadImage: timeout",!1,h,w),l.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else h(!1)}function nS(a,h){const p=new oe,w=new AbortController,j=setTimeout(()=>{w.abort(),li(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:w.signal}).then(U=>{clearTimeout(j),U.ok?li(p,"TestPingServer: ok",!0,h):li(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(j),li(p,"TestPingServer: error",!1,h)})}function li(a,h,p,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(p)}catch{}}function rS(){this.g=new Gs}function iS(a,h,p){const w=p||"";try{Sg(a,function(j,U){let W=j;u(j)&&(W=aa(j)),h.push(w+U+"="+encodeURIComponent(W))})}catch(j){throw h.push(w+"type="+encodeURIComponent("_badmap")),j}}function ha(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ha,Ks),ha.prototype.g=function(){return new sc(this.l,this.j)},ha.prototype.i=function(a){return function(){return a}}({});function sc(a,h){Oe.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(sc,Oe),t=sc.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,pa(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ng(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ng(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?fa(this):pa(this),this.readyState==3&&Ng(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,fa(this))},t.Qa=function(a){this.g&&(this.response=a,fa(this))},t.ga=function(){this.g&&fa(this)};function fa(a){a.readyState=4,a.l=null,a.j=null,a.v=null,pa(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function pa(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function bg(a){let h="";return M(a,function(p,w){h+=w,h+=":",h+=p,h+=`\r
`}),h}function $d(a,h,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=bg(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Me(a,h,p))}function et(a){Oe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(et,Oe);var sS=/^https?$/i,oS=["POST","PUT"];t=et.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Qs(this.o):Qs(Pn),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(U){Dg(this,U);return}if(a=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)p.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const U of w.keys())p.set(U,w.get(U));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(U=>U.toLowerCase()=="content-type"),j=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(oS,h,void 0))||w||j||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,W]of p)this.g.setRequestHeader(U,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Og(this),this.u=!0,this.g.send(a),this.u=!1}catch(U){Dg(this,U)}};function Dg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,jg(a),oc(a)}function jg(a){a.A||(a.A=!0,st(a,"complete"),st(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,st(this,"complete"),st(this,"abort"),oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oc(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lg(this):this.bb())},t.bb=function(){Lg(this)};function Lg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Ar(a)!=4||a.Z()!=2)){if(a.u&&Ar(a)==4)Xi(a.Ea,0,a);else if(st(a,"readystatechange"),Ar(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var w;if(w=W===0){var j=String(a.D).match(Cg)[1]||null;!j&&l.self&&l.self.location&&(j=l.self.location.protocol.slice(0,-1)),w=!sS.test(j?j.toLowerCase():"")}p=w}if(p)st(a,"complete"),st(a,"success");else{a.m=6;try{var U=2<Ar(a)?a.g.statusText:""}catch{U=""}a.l=U+" ["+a.Z()+"]",jg(a)}}finally{oc(a)}}}}function oc(a,h){if(a.g){Og(a);const p=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||st(a,"ready");try{p.onreadystatechange=w}catch{}}}function Og(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Ar(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),ec(h)}};function Mg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function aS(a){const h={};a=(a.g&&2<=Ar(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(I(a[w]))continue;var p=x(a[w]);const j=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const U=h[j]||[];h[j]=U,U.push(p)}_(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Vg(a){this.Aa=0,this.i=[],this.j=new oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,a),this.cb=ma("retryDelaySeedMs",1e4,a),this.Wa=ma("forwardChannelMaxRetries",2,a),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new vg(a&&a.concurrentRequestLimit),this.Da=new rS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vg.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,w){Z(0),this.W=a,this.H=h||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=Gg(this,null,this.W),lc(this)};function Hd(a){if(Ug(a),a.G==3){var h=a.U++,p=Cr(a.I);if(Me(p,"SID",a.K),Me(p,"RID",h),Me(p,"TYPE","terminate"),ga(a,p),h=new Zt(a,a.j,h),h.L=2,h.v=ic(Cr(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=Kg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),kt(h)}Wg(a)}function ac(a){a.g&&(Wd(a),a.g.cancel(),a.g=null)}function Ug(a){ac(a),a.u&&(l.clearTimeout(a.u),a.u=null),cc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function lc(a){if(!wg(a.h)&&!a.s){a.s=!0;var h=a.Ga;an||se(),q||(an(),q=!0),ne.add(h,a),a.B=0}}function lS(a,h){return Eg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=K(g(a.Ga,a,h),qg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const j=new Zt(this,this.j,a);let U=this.o;if(this.S&&(U?(U=y(U),R(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Bg(this,j,h),p=Cr(this.I),Me(p,"RID",a),Me(p,"CVER",22),this.D&&Me(p,"X-HTTP-Session-Id",this.D),ga(this,p),U&&(this.O?h="headers="+encodeURIComponent(String(bg(U)))+"&"+h:this.m&&$d(p,this.m,U)),zd(this.h,j),this.Ua&&Me(p,"TYPE","init"),this.P?(Me(p,"$req",h),Me(p,"SID","null"),j.T=!0,si(j,p,null)):si(j,p,h),this.G=2}}else this.G==3&&(a?Fg(this,a):this.i.length==0||wg(this.h)||Fg(this))};function Fg(a,h){var p;h?p=h.l:p=a.U++;const w=Cr(a.I);Me(w,"SID",a.K),Me(w,"RID",p),Me(w,"AID",a.T),ga(a,w),a.m&&a.o&&$d(w,a.m,a.o),p=new Zt(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Bg(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),zd(a.h,p),si(p,w,h)}function ga(a,h){a.H&&M(a.H,function(p,w){Me(h,w,p)}),a.l&&Sg({},function(p,w){Me(h,w,p)})}function Bg(a,h,p){p=Math.min(a.i.length,p);var w=a.l?g(a.l.Na,a.l,a):null;e:{var j=a.i;let U=-1;for(;;){const W=["count="+p];U==-1?0<p?(U=j[0].g,W.push("ofs="+U)):U=0:W.push("ofs="+U);let ke=!0;for(let Nt=0;Nt<p;Nt++){let Ie=j[Nt].g;const Bt=j[Nt].map;if(Ie-=U,0>Ie)U=Math.max(0,j[Nt].g-100),ke=!1;else try{iS(Bt,W,"req"+Ie+"_")}catch{w&&w(Bt)}}if(ke){w=W.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,w}function zg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;an||se(),q||(an(),q=!0),ne.add(h,a),a.v=0}}function qd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=K(g(a.Fa,a),qg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,$g(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=K(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),ac(this),$g(this))};function Wd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function $g(a){a.g=new Zt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Cr(a.qa);Me(h,"RID","rpc"),Me(h,"SID",a.K),Me(h,"AID",a.T),Me(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Me(h,"TO",a.ja),Me(h,"TYPE","xmlhttp"),ga(a,h),a.m&&a.o&&$d(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=ic(Cr(h)),p.m=null,p.P=!0,Ji(p,a)}t.Za=function(){this.C!=null&&(this.C=null,ac(this),qd(this),Z(19))};function cc(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Hg(a,h){var p=null;if(a.g==h){cc(a),Wd(a),a.g=null;var w=2}else if(Bd(a.h,h))p=h.D,Ig(a.h,h),w=1;else return;if(a.G!=0){if(h.o)if(w==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var j=a.B;w=O(),st(w,new ee(w,p)),lc(a)}else zg(a);else if(j=h.s,j==3||j==0&&0<h.X||!(w==1&&lS(a,h)||w==2&&qd(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),j){case 1:es(a,5);break;case 4:es(a,10);break;case 3:es(a,6);break;default:es(a,2)}}}function qg(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function es(a,h){if(a.j.info("Error code "+h),h==2){var p=g(a.fb,a),w=a.Xa;const j=!w;w=new Zi(w||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||nc(w,"https"),ic(w),j?tS(w.toString(),p):nS(w.toString(),p)}else Z(2);a.G=0,a.l&&a.l.sa(h),Wg(a),Ug(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function Wg(a){if(a.G=0,a.ka=[],a.l){const h=Tg(a.h);(h.length!=0||a.i.length!=0)&&(k(a.ka,h),k(a.ka,a.i),a.h.i.length=0,A(a.i),a.i.length=0),a.l.ra()}}function Gg(a,h,p){var w=p instanceof Zi?Cr(p):new Zi(p);if(w.g!="")h&&(w.g=h+"."+w.g),rc(w,w.s);else{var j=l.location;w=j.protocol,h=h?h+"."+j.hostname:j.hostname,j=+j.port;var U=new Zi(null);w&&nc(U,w),h&&(U.g=h),j&&rc(U,j),p&&(U.l=p),w=U}return p=a.D,h=a.ya,p&&h&&Me(w,p,h),Me(w,"VER",a.la),ga(a,w),w}function Kg(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new et(new ha({eb:p})):new et(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qg(){}t=Qg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uc(){}uc.prototype.g=function(a,h){return new _n(a,h)};function _n(a,h){Oe.call(this),this.g=new Vg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!I(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!I(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Js(this)}S(_n,Oe),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Hd(this.g)},_n.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=aa(a),a=p);h.i.push(new q1(h.Ya++,a)),h.G==3&&lc(h)},_n.prototype.N=function(){this.g.l=null,delete this.j,Hd(this.g),delete this.g,_n.aa.N.call(this)};function Yg(a){la.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}S(Yg,la);function Xg(){Ys.call(this),this.status=1}S(Xg,Ys);function Js(a){this.g=a}S(Js,Qg),Js.prototype.ua=function(){st(this.g,"a")},Js.prototype.ta=function(a){st(this.g,new Yg(a))},Js.prototype.sa=function(a){st(this.g,new Xg)},Js.prototype.ra=function(){st(this.g,"b")},uc.prototype.createWebChannel=uc.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,CT=function(){return new uc},ST=function(){return O()},TT=Er,Qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,Zc=We,ri.COMPLETE="complete",IT=ri,tc.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,Ma=tc,ET=ha,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,wT=et}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const wv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new pd("@firebase/firestore");function xa(){return xs.logLevel}function J(t,...e){if(xs.logLevel<=ve.DEBUG){const n=e.map(Om);xs.debug(`Firestore (${Zo}): ${t}`,...n)}}function Gr(t,...e){if(xs.logLevel<=ve.ERROR){const n=e.map(Om);xs.error(`Firestore (${Zo}): ${t}`,...n)}}function Vo(t,...e){if(xs.logLevel<=ve.WARN){const n=e.map(Om);xs.warn(`Firestore (${Zo}): ${t}`,...n)}}function Om(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw Gr(e),new Error(e)}function je(t,e){t||le()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class V2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U2{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new AT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Wt(e)}}class F2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class B2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new F2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new z2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=H2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Uo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new _t(0,0))}static max(){return new ce(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends Al{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Al{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return q2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Fe.fromString(e))}static fromName(e){return new te(Fe.fromString(e).popFirst(5))}static empty(){return new te(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Fe(e.slice()))}}function W2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Li(i,te.empty(),e)}function G2(t){return new Li(t.readTime,t.key,-1)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(ce.min(),te.empty(),-1)}static max(){return new Li(ce.max(),te.empty(),-1)}}function K2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Q2)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function X2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mm.oe=-1;function Id(t){return t==null}function Fu(t){return t===0&&1/t==-1/0}function J2(t){return typeof t=="number"&&Number.isInteger(t)&&!Fu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=s??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new In([])}unionWith(e){let n=new Vt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xT("Invalid base64 string: "+s):s}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(je(!!t),typeof t=="string"){let e=0;const n=Z2.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Um(t){const e=t.mapValue.fields.__previous_value__;return Vm(e)?Um(e):e}function Rl(t){const e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vm(t)?4:tj(t)?9007199254740991:10:le()}function _r(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Oi(i.timestampValue),l=Oi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ks(i.bytesValue).isEqual(ks(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ut(i.geoPointValue.latitude)===ut(s.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ut(i.integerValue)===ut(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ut(i.doubleValue),l=ut(s.doubleValue);return o===l?Fu(o)===Fu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Uo(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Ev(o)!==Ev(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!_r(o[c],l[c])))return!1;return!0}(t,e);default:return le()}}function xl(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=Ns(t),r=Ns(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=ut(s.integerValue||s.doubleValue),c=ut(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Tv(t.timestampValue,e.timestampValue);case 4:return Tv(Rl(t),Rl(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ks(s),c=ks(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const f=Se(l[u],c[u]);if(f!==0)return f}return Se(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Se(ut(s.latitude),ut(o.latitude));return l!==0?l:Se(ut(s.longitude),ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let u=0;u<l.length&&u<c.length;++u){const f=Fo(l[u],c[u]);if(f)return f}return Se(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===jc.mapValue&&o===jc.mapValue)return 0;if(s===jc.mapValue)return 1;if(o===jc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const g=Se(c[m],f[m]);if(g!==0)return g;const v=Fo(l[c[m]],u[f[m]]);if(v!==0)return v}return Se(c.length,f.length)}(t.mapValue,e.mapValue);default:throw le()}}function Tv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=Oi(t),r=Oi(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function Bo(t){return Yf(t)}function Yf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yf(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function Sv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xf(t){return!!t&&"integerValue"in t}function Fm(t){return!!t&&"arrayValue"in t}function Cv(t){return!!t&&"nullValue"in t}function Av(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eu(t){return!!t&&"mapValue"in t}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Us(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=el(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=el(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Us(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cn(el(this.value))}}function kT(t){const e=[];return Us(t.fields,(n,r)=>{const i=new Ot([n]);if(eu(r)){const s=kT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Kt(e,0,ce.min(),ce.min(),ce.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new Kt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Kt(e,2,n,ce.min(),ce.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,ce.min(),ce.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.position=e,this.inclusive=n}}function Rv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function nj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{}class ht extends NT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ij(e,n,r):n==="array-contains"?new aj(e,r):n==="in"?new lj(e,r):n==="not-in"?new cj(e,r):n==="array-contains-any"?new uj(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sj(e,r):new oj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends NT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new rr(e,n)}matches(e){return bT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bT(t){return t.op==="and"}function DT(t){return rj(t)&&bT(t)}function rj(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function Jf(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(DT(t))return t.filters.map(e=>Jf(e)).join(",");{const e=t.filters.map(n=>Jf(n)).join(",");return`${t.op}(${e})`}}function jT(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&_r(r.value,i.value)}(t,e):t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&jT(o,i.filters[l]),!0):!1}(t,e):void le()}function LT(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(LT).join(" ,")+"}"}(t):"Filter"}class ij extends ht{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class sj extends ht{constructor(e,n){super(e,"in",n),this.keys=OT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oj extends ht{constructor(e,n){super(e,"not-in",n),this.keys=OT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class aj extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fm(n)&&xl(n.arrayValue,this.value)}}class lj extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class cj extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xl(this.value.arrayValue,n)}}class uj extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function xv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new dj(t,e,n,r,i,s,o)}function Bm(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.ue=n}return e.ue}function zm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pv(t.startAt,e.startAt)&&Pv(t.endAt,e.endAt)}function Zf(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hj(t,e,n,r,i,s,o,l){return new ql(t,e,n,r,i,s,o,l)}function Td(t){return new ql(t)}function kv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MT(t){return t.collectionGroup!==null}function tl(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Vt(Ot.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new zu(s,r))}),n.has(Ot.keyField().canonicalString())||e.ce.push(new zu(Ot.keyField(),r))}return e.ce}function mr(t){const e=de(t);return e.le||(e.le=fj(e,tl(t))),e.le}function fj(t,e){if(t.limitType==="F")return xv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new zu(i.field,s)});const n=t.endAt?new Bu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bu(t.startAt.position,t.startAt.inclusive):null;return xv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ep(t,e){const n=t.filters.concat([e]);return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tp(t,e,n){return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sd(t,e){return zm(mr(t),mr(e))&&t.limitType===e.limitType}function VT(t){return`${Bm(mr(t))}|lt:${t.limitType}`}function no(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LT(i)).join(", ")}]`),Id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bo(i)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of tl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=Rv(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,tl(r),i)||r.endAt&&!function(o,l,c){const u=Rv(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,tl(r),i))}(t,e)}function pj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UT(t){return(e,n)=>{let r=!1;for(const i of tl(t)){const s=mj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mj(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Fo(c,u):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new Ze(te.comparator);function Kr(){return gj}const FT=new Ze(te.comparator);function Va(...t){let e=FT;for(const n of t)e=e.insert(n.key,n);return e}function BT(t){let e=FT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ds(){return nl()}function zT(){return nl()}function nl(){return new ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const _j=new Ze(te.comparator),yj=new Vt(te.comparator);function ye(...t){let e=yj;for(const n of t)e=e.add(n);return e}const vj=new Vt(Se);function wj(){return vj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function HT(t){return{integerValue:""+t}}function Ej(t,e){return J2(e)?HT(e):$T(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function Ij(t,e,n){return t instanceof $u?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Vm(s)&&(s=Um(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof kl?WT(t,e):t instanceof Nl?GT(t,e):function(i,s){const o=qT(i,s),l=Nv(o)+Nv(i.Pe);return Xf(o)&&Xf(i.Pe)?HT(l):$T(i.serializer,l)}(t,e)}function Tj(t,e,n){return t instanceof kl?WT(t,e):t instanceof Nl?GT(t,e):n}function qT(t,e){return t instanceof Hu?function(r){return Xf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $u extends Ad{}class kl extends Ad{constructor(e){super(),this.elements=e}}function WT(t,e){const n=KT(e);for(const r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nl extends Ad{constructor(e){super(),this.elements=e}}function GT(t,e){let n=KT(e);for(const r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}class Hu extends Ad{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Nv(t){return ut(t.integerValue||t.doubleValue)}function KT(t){return Fm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Sj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof kl&&i instanceof kl||r instanceof Nl&&i instanceof Nl?Uo(r.elements,i.elements,_r):r instanceof Hu&&i instanceof Hu?_r(r.Pe,i.Pe):r instanceof $u&&i instanceof $u}(t.transform,e.transform)}class Cj{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rd{}function QT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $m(t.key,er.none()):new Wl(t.key,t.data,er.none());{const n=t.data,r=cn.empty();let i=new Vt(Ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gi(t.key,r,new In(i.toArray()),er.none())}}function Aj(t,e,n){t instanceof Wl?function(i,s,o){const l=i.value.clone(),c=Dv(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Gi?function(i,s,o){if(!tu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Dv(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(YT(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,r){return t instanceof Wl?function(s,o,l,c){if(!tu(s.precondition,o))return l;const u=s.value.clone(),f=jv(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gi?function(s,o,l,c){if(!tu(s.precondition,o))return l;const u=jv(s.fieldTransforms,c,o),f=o.data;return f.setAll(YT(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return tu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Rj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=qT(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function bv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uo(r,i,(s,o)=>Sj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wl extends Rd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gi extends Rd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Dv(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Tj(o,l,n[i]))}return r}function jv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ij(s,o,e))}return r}class $m extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pj extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Aj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=QT(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(n,r)=>bv(n,r))&&Uo(this.baseMutations,e.baseMutations,(n,r)=>bv(n,r))}}class Hm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return _j}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,we;function bj(t){switch(t){default:return le();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function XT(t){if(t===void 0)return Gr("GRPC error has no .code"),B.UNKNOWN;switch(t){case lt.OK:return B.OK;case lt.CANCELLED:return B.CANCELLED;case lt.UNKNOWN:return B.UNKNOWN;case lt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case lt.INTERNAL:return B.INTERNAL;case lt.UNAVAILABLE:return B.UNAVAILABLE;case lt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case lt.NOT_FOUND:return B.NOT_FOUND;case lt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case lt.ABORTED:return B.ABORTED;case lt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case lt.DATA_LOSS:return B.DATA_LOSS;default:return le()}}(we=lt||(lt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new ms([4294967295,4294967295],0);function Lv(t){const e=Dj().encode(t),n=new vT;return n.update(e),new Uint8Array(n.digest())}function Ov(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ms([n,r],0),new ms([i,s],0)]}class qm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ua(`Invalid padding: ${n}`);if(r<0)throw new Ua(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ms.fromNumber(r)));return i.compare(jj)===1&&(i=new ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Lv(e),[r,i]=Ov(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Lv(e),[r,i]=Ov(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pd(ce.min(),i,new Ze(Se),Kr(),ye())}}class Gl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gl(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class JT{constructor(e,n){this.targetId=e,this.me=n}}class ZT{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Mv{constructor(){this.fe=0,this.ge=Uv(),this.pe=Xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Gl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Uv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Lj{constructor(e){this.Le=e,this.Be=new Map,this.ke=Kr(),this.qe=Vv(),this.Qe=new Ze(Se)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Zf(s))if(r===0){const o=new te(s.path);this.Ue(n,o,Kt.newNoDocument(o,ce.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ks(r).toUint8Array()}catch(c){if(c instanceof xT)return Vo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new qm(o,i,s)}catch(c){return Vo(c instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Zf(l.target)){const c=new te(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Kt.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ye();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Pd(e,n,this.Qe,this.ke,r);return this.ke=Kr(),this.qe=Vv(),this.Qe=new Ze(Se),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Mv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt(Se),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Mv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Vv(){return new Ze(te.comparator)}function Uv(){return new Ze(te.comparator)}const Oj={asc:"ASCENDING",desc:"DESCENDING"},Mj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vj={and:"AND",or:"OR"};class Uj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(t,e){return t.useProto3Json||Id(e)?e:{value:e}}function qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fj(t,e){return qu(t,e.toTimestamp())}function gr(t){return je(!!t),ce.fromTimestamp(function(n){const r=Oi(n);return new _t(r.seconds,r.nanos)}(t))}function Wm(t,e){return rp(t,e).canonicalString()}function rp(t,e){const n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t1(t){const e=Fe.fromString(t);return je(o1(e)),e}function ip(t,e){return Wm(t.databaseId,e.path)}function Lh(t,e){const n=t1(e);if(n.get(1)!==t.databaseId.projectId)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(r1(n))}function n1(t,e){return Wm(t.databaseId,e)}function Bj(t){const e=t1(t);return e.length===4?Fe.emptyPath():r1(e)}function sp(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r1(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fv(t,e,n){return{name:ip(t,e),fields:n.value.mapValue.fields}}function zj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(je(f===void 0||typeof f=="string"),Xt.fromBase64String(f||"")):(je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Xt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const f=u.code===void 0?B.UNKNOWN:XT(u.code);return new X(f,u.message||"")}(o);n=new ZT(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lh(t,r.document.name),s=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):ce.min(),l=new cn({mapValue:{fields:r.document.fields}}),c=Kt.newFoundDocument(i,s,o,l),u=r.targetIds||[],f=r.removedTargetIds||[];n=new nu(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Lh(t,r.document),s=r.readTime?gr(r.readTime):ce.min(),o=Kt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new nu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Lh(t,r.document),s=r.removedTargetIds||[];n=new nu([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Nj(i,s),l=r.targetId;n=new JT(l,o)}}return n}function $j(t,e){let n;if(e instanceof Wl)n={update:Fv(t,e.key,e.value)};else if(e instanceof $m)n={delete:ip(t,e.key)};else if(e instanceof Gi)n={update:Fv(t,e.key,e.data),updateMask:Jj(e.fieldMask)};else{if(!(e instanceof Pj))return le();n={verify:ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof $u)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof kl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hu)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Fj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function Hj(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gr(i.updateTime):gr(s);return o.isEqual(ce.min())&&(o=gr(s)),new Cj(o,i.transformResults||[])}(n,e))):[]}function qj(t,e){return{documents:[n1(t,e.path)]}}function Wj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n1(t,i);const s=function(u){if(u.length!==0)return s1(rr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(g){return{field:ro(g.field),direction:Qj(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=np(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Gj(t){let e=Bj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=i1(m);return g instanceof rr&&DT(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(S){return new zu(io(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Id(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,v=m.values||[];return new Bu(v,g)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const g=!m.before,v=m.values||[];return new Bu(v,g)}(n.endAt)),hj(e,i,o,s,l,"F",c,u)}function Kj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=io(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=io(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=io(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(io(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rr.create(n.compositeFilter.filters.map(r=>i1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function Qj(t){return Oj[t]}function Yj(t){return Mj[t]}function Xj(t){return Vj[t]}function ro(t){return{fieldPath:t.canonicalString()}}function io(t){return Ot.fromServerFormat(t.fieldPath)}function s1(t){return t instanceof ht?function(n){if(n.op==="=="){if(Av(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(Cv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Av(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(Cv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:Yj(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(i=>s1(i));return r.length===1?r[0]:{compositeFilter:{op:Xj(n.op),filters:r}}}(t):le()}function Jj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function o1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r,i,s=ce.min(),o=ce.min(),l=Xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.ct=e}}function eL(t){const e=Gj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this._n=new nL}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Li.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class nL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new zo(0)}static Ln(){return new zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rl(r.mutation,i,In.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Va();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Kr();const o=nl(),l=function(){return nl()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Gi)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),rl(f.mutation,u,f.mutation.getFieldMask(),_t.now())):o.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var m;return l.set(u,new iL(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=nl();let i=new Ze((o,l)=>o-l),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||In.empty();f=l.applyToLocalView(u,f),r.set(c,f);const m=(i.get(l.batchId)||ye()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,f=c.value,m=zT();f.forEach(g=>{if(!s.has(g)){const v=QT(n.get(g),r.get(g));v!==null&&m.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(ds());let l=-1,c=s;return o.next(u=>z.forEach(u,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ye())).next(f=>({batchId:l,changes:BT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Va();return this.indexManager.getCollectionParents(e,s).next(l=>z.forEach(l,c=>{const u=function(m,g){return new ql(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Kt.newInvalidDocument(f)))});let l=Va();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&rl(f.mutation,u,In.empty(),_t.now()),Cd(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:eL(i.bundledQuery),readTime:gr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.overlays=new Ze(te.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=ds(),s=n.length+1,o=new te(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ze((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=ds(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const l=ds(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=i)););return z.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kj(n,r));let s=this.hr.get(n);s===void 0&&(s=ye(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.Pr=new Vt(It.Ir),this.Tr=new Vt(It.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new It(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new Fe([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new Fe([])),r=new It(n,e),i=new It(n,e+1);let s=ye();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||Se(e.pr,n.pr)}static Er(e,n){return Se(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Vt(It.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xj(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new It(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Se);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new It(new te(s),0);let l=new Vt(Se);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.pr)),!0)},o),z.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new It(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.vr=e,this.docs=function(){return new Ze(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=Kr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Kr();const o=n.path,l=new te(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||K2(G2(f),r)<=0||(i.has(f.key)||Cd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uL(this)}getSize(e){return z.resolve(this.size)}}class uL extends rL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.persistence=e,this.Mr=new ea(n=>Bm(n),zm),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Gm,this.targetCount=0,this.Lr=zo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.Br={},this.overlays={},this.kr=new Mm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new dL(this),this.indexManager=new tL,this.remoteDocumentCache=function(i){return new cL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Zj(n),this.$r=new oL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new lL(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new fL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class fL extends Y2{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.zr=new Gm,this.jr=null}static Hr(e){return new Km(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=te.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return xP()?8:X2(Ft())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new pL;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(xa()<=ve.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(xa()<=ve.DEBUG&&J("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(xa()<=ve.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):z.resolve())}ji(e,n){if(kv(n))return z.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tp(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,o,c.readTime)?this.ji(e,tp(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return kv(n)||i.isEqual(ce.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?z.resolve(null):(xa()<=ve.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),no(n)),this.es(e,o,n,W2(i,-1)).next(l=>l))})}Zi(e,n){let r=new Vt(UT(e));return n.forEach((i,s)=>{Cd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return xa()<=ve.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",no(n)),this.zi.getDocumentsMatchingQuery(e,n,Li.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ze(Se),this.rs=new ea(s=>Bm(s),zm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function _L(t,e,n,r){return new gL(t,e,n,r)}async function a1(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=ye();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){l.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:l}))})})}function yL(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,f){const m=u.batch,g=m.keys();let v=z.resolve();return g.forEach(S=>{v=v.next(()=>f.getEntry(c,S)).next(A=>{const k=u.docVersions.get(S);je(k!==null),A.version.compareTo(k)<0&&(m.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),f.addEntry(A)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ye();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function l1(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function vL(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,m)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(Xt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(m,v),function(A,k,E){return A.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,v,f)&&l.push(n.Qr.updateTargetData(s,v))});let c=Kr(),u=ye();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(wL(s,o,e.documentUpdates).next(f=>{c=f.cs,u=f.ls})),!r.isEqual(ce.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return z.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function wL(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Kr();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function EL(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IL(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ei(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function op(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hl(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Bv(t,e,n){const r=de(t);let i=ce.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const m=de(c),g=m.rs.get(f);return g!==void 0?z.resolve(m.ns.get(g)):m.Qr.getTargetData(u,f)}(r,o,mr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:ye())).next(l=>(TL(r,pj(e),l),{documents:l,hs:s})))}function TL(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class zv{constructor(){this.activeTargetIds=wj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SL{constructor(){this.no=new zv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new zv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function Oh(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class PL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=Oh(),c=this.vo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,i).then(f=>(J("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Vo("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=AL[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Oh();return new Promise((o,l)=>{const c=new wT;c.setWithCredentials(!0),c.listenOnce(IT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zc.NO_ERROR:const f=c.getResponseJson();J(qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Zc.TIMEOUT:J(qt,`RPC '${e}' ${s} timed out`),l(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const m=c.getStatus();if(J(qt,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const S=function(k){const E=k.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(v.status);l(new X(S,v.message))}else l(new X(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new X(B.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{J(qt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);J(qt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=Oh(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CT(),l=ST(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new ET({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");J(qt,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);let g=!1,v=!1;const S=new RL({lo:k=>{v?J(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(g||(J(qt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),J(qt,`RPC '${e}' stream ${i} sending:`,k),m.send(k))},ho:()=>m.close()}),A=(k,E,I)=>{k.listen(E,C=>{try{I(C)}catch(L){setTimeout(()=>{throw L},0)}})};return A(m,Ma.EventType.OPEN,()=>{v||(J(qt,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),A(m,Ma.EventType.CLOSE,()=>{v||(v=!0,J(qt,`RPC '${e}' stream ${i} transport closed`),S.po())}),A(m,Ma.EventType.ERROR,k=>{v||(v=!0,Vo(qt,`RPC '${e}' stream ${i} transport errored:`,k),S.po(new X(B.UNAVAILABLE,"The operation could not be completed")))}),A(m,Ma.EventType.MESSAGE,k=>{var E;if(!v){const I=k.data[0];je(!!I);const C=I,L=C.error||((E=C[0])===null||E===void 0?void 0:E.error);if(L){J(qt,`RPC '${e}' stream ${i} received error:`,L);const V=L.status;let M=function(T){const R=lt[T];if(R!==void 0)return XT(R)}(V),_=L.message;M===void 0&&(M=B.INTERNAL,_="Unknown error status: "+V+" with message "+L.message),v=!0,S.po(new X(M,_)),m.close()}else J(qt,`RPC '${e}' stream ${i} received:`,I),S.yo(I)}}),A(l,TT.STAT_EVENT,k=>{k.stat===Qf.PROXY?J(qt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Qf.NOPROXY&&J(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function Mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){return new Uj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new c1(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Gr(n.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new X(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xL extends u1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=zj(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?gr(o.readTime):ce.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=sp(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Zf(c)?{documents:qj(s,c)}:{query:Wj(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=e1(s,o.resumeToken);const u=np(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){l.readTime=qu(s,o.snapshotVersion.toTimestamp());const u=np(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=Kj(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.i_(n)}}class kL extends u1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=Hj(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.A_(r,n)}return je(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=sp(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$j(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,rp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(B.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,rp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(B.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class bL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Gr(n),this.y_=!1):J("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Fs(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=de(c);u.M_.add(4),await Kl(u),u.N_.set("Unknown"),u.M_.delete(4),await kd(u)}(this))})}),this.N_=new bL(r,i)}}async function kd(t){if(Fs(t))for(const e of t.x_)await e(!0)}async function Kl(t){for(const e of t.x_)await e(!1)}function d1(t,e){const n=de(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Zm(n)?Jm(n):ta(n).Xo()&&Xm(n,e))}function Ym(t,e){const n=de(t),r=ta(n);n.F_.delete(e),r.Xo()&&h1(n,e),n.F_.size===0&&(r.Xo()?r.n_():Fs(n)&&n.N_.set("Unknown"))}function Xm(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).P_(e)}function h1(t,e){t.L_.xe(e),ta(t).I_(e)}function Jm(t){t.L_=new Lj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.N_.w_()}function Zm(t){return Fs(t)&&!ta(t).Zo()&&t.F_.size>0}function Fs(t){return de(t).M_.size===0}function f1(t){t.L_=void 0}async function jL(t){t.N_.set("Online")}async function LL(t){t.F_.forEach((e,n)=>{Xm(t,e)})}async function OL(t,e){f1(t),Zm(t)?(t.N_.D_(e),Jm(t)):t.N_.set("Unknown")}async function ML(t,e,n){if(t.N_.set("Online"),e instanceof ZT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wu(t,r)}else if(e instanceof nu?t.L_.Ke(e):e instanceof JT?t.L_.He(e):t.L_.We(e),!n.isEqual(ce.min()))try{const r=await l1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.F_.get(u);f&&s.F_.set(u,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const f=s.F_.get(c);if(!f)return;s.F_.set(c,f.withResumeToken(Xt.EMPTY_BYTE_STRING,f.snapshotVersion)),h1(s,c);const m=new Ei(f.target,c,u,f.sequenceNumber);Xm(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Wu(t,r)}}async function Wu(t,e,n){if(!Hl(e))throw e;t.M_.add(1),await Kl(t),t.N_.set("Offline"),n||(n=()=>l1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await kd(t)})}function p1(t,e){return e().catch(n=>Wu(t,n,e))}async function Nd(t){const e=de(t),n=Mi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;VL(e);)try{const i=await EL(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,UL(e,i)}catch(i){await Wu(e,i)}m1(e)&&g1(e)}function VL(t){return Fs(t)&&t.v_.length<10}function UL(t,e){t.v_.push(e);const n=Mi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function m1(t){return Fs(t)&&!Mi(t).Zo()&&t.v_.length>0}function g1(t){Mi(t).start()}async function FL(t){Mi(t).V_()}async function BL(t){const e=Mi(t);for(const n of t.v_)e.d_(n.mutations)}async function zL(t,e,n){const r=t.v_.shift(),i=Hm.from(r,e,n);await p1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nd(t)}async function $L(t,e){e&&Mi(t).E_&&await async function(r,i){if(function(o){return bj(o)&&o!==B.ABORTED}(i.code)){const s=r.v_.shift();Mi(r).t_(),await p1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nd(r)}}(t,e),m1(t)&&g1(t)}async function Hv(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Fs(n);n.M_.add(3),await Kl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await kd(n)}async function HL(t,e){const n=de(t);e?(n.M_.delete(2),await kd(n)):e||(n.M_.add(2),await Kl(n),n.N_.set("Unknown"))}function ta(t){return t.B_||(t.B_=function(n,r,i){const s=de(n);return s.f_(),new xL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:jL.bind(null,t),To:LL.bind(null,t),Ao:OL.bind(null,t),h_:ML.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Zm(t)?Jm(t):t.N_.set("Unknown")):(await t.B_.stop(),f1(t))})),t.B_}function Mi(t){return t.k_||(t.k_=function(n,r,i){const s=de(n);return s.f_(),new kL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:FL.bind(null,t),Ao:$L.bind(null,t),R_:BL.bind(null,t),A_:zL.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Nd(t)):(await t.k_.stop(),t.v_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new eg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(t,e){if(Gr("AsyncQueue",`${e}: ${t}`),Hl(t))return new X(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Va(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new Po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.q_=new Ze(te.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $o{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new $o(e,n,Po.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class WL{constructor(){this.queries=new ea(e=>VT(e),Sd),this.onlineState="Unknown",this.z_=new Set}}async function ng(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new qL,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=tg(o,`Initialization of query '${no(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&ig(n)}async function rg(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GL(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&ig(n)}function KL(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function ig(t){t.z_.forEach(e=>{e.next()})}var ap,Wv;(Wv=ap||(ap={})).J_="default",Wv.Cache="cache";class sg{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.key=e}}class y1{constructor(e){this.key=e}}class QL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ye(),this.mutatedKeys=ye(),this.Ia=UT(e),this.Ta=new Po(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new qv,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),v=Cd(this.query,m)?m:null,S=!!g&&this.mutatedKeys.has(g.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let k=!1;g&&v?g.data.isEqual(v.data)?S!==A&&(r.track({type:3,doc:v}),k=!0):this.Ra(g,v)||(r.track({type:2,doc:v}),k=!0,(c&&this.Ia(v,c)>0||u&&this.Ia(v,u)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),k=!0):g&&!v&&(r.track({type:1,doc:g}),k=!0,(c||u)&&(l=!0)),k&&(v?(o=o.add(v),s=A?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,m)=>function(v,S){const A=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return A(v)-A(S)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new $o(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new qv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ye(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new y1(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new _1(r))}),n}pa(e){this.la=e.hs,this.Pa=ye();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return $o.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class YL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XL{constructor(e){this.key=e,this.wa=!1}}class JL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ea(l=>VT(l),Sd),this.Da=new Map,this.Ca=new Set,this.va=new Ze(te.comparator),this.Fa=new Map,this.Ma=new Gm,this.xa={},this.Oa=new Map,this.Na=zo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function ZL(t,e,n=!0){const r=S1(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await v1(r,e,n,!0),i}async function eO(t,e){const n=S1(t);await v1(n,e,!0,!1)}async function v1(t,e,n,r){const i=await IL(t.localStore,mr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await tO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&d1(t.remoteStore,i),l}async function tO(t,e,n,r,i){t.Ba=(m,g,v)=>async function(A,k,E,I){let C=k.view.da(E);C.Xi&&(C=await Bv(A.localStore,k.query,!1).then(({documents:_})=>k.view.da(_,C)));const L=I&&I.targetChanges.get(k.targetId),V=I&&I.targetMismatches.get(k.targetId)!=null,M=k.view.applyChanges(C,A.isPrimaryClient,L,V);return Kv(A,k.targetId,M.fa),M.snapshot}(t,m,g,v);const s=await Bv(t.localStore,e,!0),o=new QL(e,s.hs),l=o.da(s.documents),c=Gl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);Kv(t,n,u.fa);const f=new YL(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function nO(t,e,n){const r=de(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Sd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await op(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ym(r.remoteStore,i.targetId),lp(r,i.targetId)}).catch($l)):(lp(r,i.targetId),await op(r.localStore,i.targetId,!0))}async function rO(t,e){const n=de(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ym(n.remoteStore,r.targetId))}async function iO(t,e,n){const r=dO(t);try{const i=await function(o,l){const c=de(o),u=_t.now(),f=l.reduce((v,S)=>v.add(S.key),ye());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Kr(),A=ye();return c.os.getEntries(v,f).next(k=>{S=k,S.forEach((E,I)=>{I.isValidDocument()||(A=A.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,S)).next(k=>{m=k;const E=[];for(const I of l){const C=Rj(I,m.get(I.key).overlayedDocument);C!=null&&E.push(new Gi(I.key,C,kT(C.value.mapValue),er.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,E,l)}).next(k=>{g=k;const E=k.applyToLocalDocumentSet(m,A);return c.documentOverlayCache.saveOverlays(v,k.batchId,E)})}).then(()=>({batchId:g.batchId,changes:BT(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.xa[o.currentUser.toKey()];u||(u=new Ze(Se)),u=u.insert(l,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ql(r,i.changes),await Nd(r.remoteStore)}catch(i){const s=tg(i,"Failed to persist write");n.reject(s)}}async function w1(t,e){const n=de(t);try{const r=await vL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?je(o.wa):i.removedDocuments.size>0&&(je(o.wa),o.wa=!1))}),await Ql(n,r,e)}catch(r){await $l(r)}}function Gv(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=de(o);c.onlineState=l;let u=!1;c.queries.forEach((f,m)=>{for(const g of m.U_)g.j_(l)&&(u=!0)}),u&&ig(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sO(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Ze(te.comparator);o=o.insert(s,Kt.newNoDocument(s,ce.min()));const l=ye().add(s),c=new Pd(ce.min(),new Map,new Ze(Se),o,l);await w1(r,c),r.va=r.va.remove(s),r.Fa.delete(e),og(r)}else await op(r.localStore,e,!1).then(()=>lp(r,e,n)).catch($l)}async function oO(t,e){const n=de(t),r=e.batch.batchId;try{const i=await yL(n.localStore,e);I1(n,r,null),E1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(n,i)}catch(i){await $l(i)}}async function aO(t,e,n){const r=de(t);try{const i=await function(o,l){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(je(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);I1(r,e,n),E1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ql(r,i)}catch(i){await $l(i)}}function E1(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function I1(t,e,n){const r=de(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function lp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||T1(t,r)})}function T1(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Ym(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),og(t))}function Kv(t,e,n){for(const r of n)r instanceof _1?(t.Ma.addReference(r.key,e),lO(t,r)):r instanceof y1?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||T1(t,r.key)):le()}function lO(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Ca.add(r),og(t))}function og(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new te(Fe.fromString(e)),r=t.Na.next();t.Fa.set(r,new XL(n)),t.va=t.va.insert(n,r),d1(t.remoteStore,new Ei(mr(Td(n.path)),r,"TargetPurposeLimboResolution",Mm.oe))}}async function Ql(t,e,n){const r=de(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const f=u&&!u.fromCache;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Qm.Ki(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(c,u){const f=de(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(u,g=>z.forEach(g.qi,v=>f.persistence.referenceDelegate.addReference(m,g.targetId,v)).next(()=>z.forEach(g.Qi,v=>f.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))}catch(m){if(!Hl(m))throw m;J("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const g=m.targetId;if(!m.fromCache){const v=f.ns.get(g),S=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(S);f.ns=f.ns.insert(g,A)}}}(r.localStore,s))}async function cO(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await a1(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(c=>{c.reject(new X(B.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ql(n,r.us)}}function uO(t,e){const n=de(t),r=n.Fa.get(e);if(r&&r.wa)return ye().add(r.key);{let i=ye();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function S1(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sO.bind(null,e),e.Sa.h_=GL.bind(null,e.eventManager),e.Sa.ka=KL.bind(null,e.eventManager),e}function dO(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aO.bind(null,e),e}class Qv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _L(this.persistence,new mL,e.initialUser,this.serializer)}createPersistence(e){return new hL(Km.Hr,this.serializer)}createSharedClientState(e){return new SL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cO.bind(null,this.syncEngine),await HL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WL}()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),r=function(s){return new PL(s)}(e.databaseInfo);return function(s,o,l,c){return new NL(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new DL(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Gv(this.syncEngine,n,0),function(){return $v.D()?new $v:new CL}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,f){const m=new JL(i,s,o,l,c,u);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);J("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Kl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=RT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vh(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await a1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mO(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Hv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Hv(e.remoteStore,i)),t._onlineComponents=e}function pO(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function mO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!pO(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await Vh(t,new Qv)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Vh(t,new Qv);return t._offlineComponents}async function C1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Yv(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Yv(t,new hO))),t._onlineComponents}function gO(t){return C1(t).then(e=>e.syncEngine)}async function Gu(t){const e=await C1(t),n=e.eventManager;return n.onListen=ZL.bind(null,e.syncEngine),n.onUnlisten=nO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rO.bind(null,e.syncEngine),n}function _O(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new ag({next:g=>{o.enqueueAndForget(()=>rg(s,m));const v=g.docs.has(l);!v&&g.fromCache?u.reject(new X(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&c.source==="server"?u.reject(new X(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new sg(Td(l.path),f,{includeMetadataChanges:!0,ra:!0});return ng(s,m)}(await Gu(t),t.asyncQueue,e,n,r)),r.promise}function yO(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new ag({next:g=>{o.enqueueAndForget(()=>rg(s,m)),g.fromCache&&c.source==="server"?u.reject(new X(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new sg(l,f,{includeMetadataChanges:!0,ra:!0});return ng(s,m)}(await Gu(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e,n){if(!n)throw new X(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vO(t,e,n,r){if(e===!0&&r===!0)throw new X(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jv(t){if(!te.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zv(t){if(te.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bd(t);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ew({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ew(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M2;switch(r.type){case"firstParty":return new B2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Xv.get(n);r&&(J("ComponentProvider","Removing Datastore"),Xv.delete(n),r.terminate())}(this),Promise.resolve()}}function wO(t,e,n,r={}){var i;const s=(t=Sn(t,Dd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Wt.MOCK_USER;else{l=$E(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Wt(u)}t._authCredentials=new V2(new AT(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class bi extends Bs{constructor(e,n,r){super(e,n,Td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new te(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function nt(t,e,...n){if(t=Le(t),R1("collection","path",e),t instanceof Dd){const r=Fe.fromString(e,...n);return Zv(r),new bi(t,null,r)}{if(!(t instanceof Qt||t instanceof bi))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return Zv(r),new bi(t.firestore,null,r)}}function Te(t,e,...n){if(t=Le(t),arguments.length===1&&(e=RT.newId()),R1("doc","path",e),t instanceof Dd){const r=Fe.fromString(e,...n);return Jv(r),new Qt(t,null,new te(r))}{if(!(t instanceof Qt||t instanceof bi))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return Jv(r),new Qt(t.firestore,t instanceof bi?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new c1(this,"async_queue_retry"),this.hu=()=>{const n=Mh();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Mh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Fr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Hl(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=eg.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function tw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Vi extends Dd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new EO}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||P1(this),this._firestoreClient.terminate()}}function IO(t,e){const n=fm(),r="(default)",i=Xo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=FE("firestore");s&&wO(i,...s)}return i}function jd(t){return t._firestoreClient||P1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function P1(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,f){return new ej(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,A1(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new fO(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(Xt.fromBase64String(e))}catch(n){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=/^__.*__$/;class SO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}class x1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function k1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class ug{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ku(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(k1(this.fu)&&TO.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class CO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xd(e)}Fu(e,n,r,i=!1){return new ug({fu:e,methodName:n,vu:r,path:Ot.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dg(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new CO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AO(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);hg("Data must be an object, but it was:",o,r);const l=N1(r,o);let c,u;if(s.merge)c=new In(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=cp(e,m,n);if(!o.contains(g))throw new X(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);D1(f,g)||f.push(g)}c=new In(f),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new SO(new cn(l),c,u)}class Od extends lg{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}function RO(t,e,n,r){const i=t.Fu(1,e,n);hg("Data must be an object, but it was:",i,r);const s=[],o=cn.empty();Us(r,(c,u)=>{const f=fg(e,c,n);u=Le(u);const m=i.Su(f);if(u instanceof Od)s.push(f);else{const g=Yl(u,m);g!=null&&(s.push(f),o.set(f,g))}});const l=new In(s);return new x1(o,l,i.fieldTransforms)}function PO(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[cp(e,r,n)],c=[i];if(s.length%2!=0)throw new X(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(cp(e,s[g])),c.push(s[g+1]);const u=[],f=cn.empty();for(let g=l.length-1;g>=0;--g)if(!D1(u,l[g])){const v=l[g];let S=c[g];S=Le(S);const A=o.Su(v);if(S instanceof Od)u.push(v);else{const k=Yl(S,A);k!=null&&(u.push(v),f.set(v,k))}}const m=new In(u);return new x1(f,m,o.fieldTransforms)}function xO(t,e,n,r=!1){return Yl(n,t.Fu(r?4:3,e))}function Yl(t,e){if(b1(t=Le(t)))return hg("Unsupported field value:",e,t),N1(t,e);if(t instanceof lg)return function(r,i){if(!k1(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Yl(l,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ej(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_t.fromDate(r);return{timestampValue:qu(i.serializer,s)}}if(r instanceof _t){const s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qu(i.serializer,s)}}if(r instanceof cg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ho)return{bytesValue:e1(i.serializer,r._byteString)};if(r instanceof Qt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${bd(r)}`)}(t,e)}function N1(t,e){const n={};return PT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(t,(r,i)=>{const s=Yl(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function b1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof cg||t instanceof Ho||t instanceof Qt||t instanceof lg)}function hg(t,e,n){if(!b1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=bd(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function cp(t,e,n){if((e=Le(e))instanceof Ld)return e._internalPath;if(typeof e=="string")return fg(t,e);throw Ku("Field path arguments must be of type string or ",t,!1,void 0,n)}const kO=new RegExp("[~\\*/\\[\\]]");function fg(t,e,n){if(e.search(kO)>=0)throw Ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ld(...e.split("."))._internalPath}catch{throw Ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ku(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new X(B.INVALID_ARGUMENT,l+t+c)}function D1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NO extends j1{data(){return super.data()}}function L1(t,e){return typeof e=="string"?fg(t,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class bO extends pg{}function M1(t,e,...n){let r=[];e instanceof pg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof gg).length,l=s.filter(c=>c instanceof mg).length;if(o>1||o>0&&l>0)throw new X(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mg extends bO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mg(e,n,r)}_apply(e){const n=this._parse(e);return V1(e._query,n),new Bs(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=dg(e.firestore);return function(s,o,l,c,u,f,m){let g;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new X(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){rw(m,f);const v=[];for(const S of m)v.push(nw(c,s,S));g={arrayValue:{values:v}}}else g=nw(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||rw(m,f),g=xO(l,o,m,f==="in"||f==="not-in");return ht.create(u,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class gg extends pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)V1(o,c),o=ep(o,c)}(e._query,n),new Bs(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nw(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new X(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(e)&&n.indexOf("/")!==-1)throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!te.isDocumentKey(r))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sv(t,new te(r))}if(n instanceof Qt)return Sv(t,n._key);throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(n)}.`)}function rw(t,e){if(!Array.isArray(t)||t.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V1(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DO{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Us(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new cg(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);je(o1(r));const i=new Pl(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Gr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class U1 extends j1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ru(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ru extends U1{data(e={}){return super.data(e)}}class F1{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ru(this._firestore,this._userDataWriter,r.key,r,new Fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new ru(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Fa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new ru(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Fa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:LO(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){t=Sn(t,Qt);const e=Sn(t.firestore,Vi);return _O(jd(e),t._key).then(n=>B1(e,t,n))}class _g extends DO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function yr(t){t=Sn(t,Bs);const e=Sn(t.firestore,Vi),n=jd(e),r=new _g(e);return O1(t._query),yO(n,t._query).then(i=>new F1(e,r,t,i))}function Qr(t,e,n){t=Sn(t,Qt);const r=Sn(t.firestore,Vi),i=jO(t.converter,e);return yg(r,[AO(dg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function Yr(t,e,n,...r){t=Sn(t,Qt);const i=Sn(t.firestore,Vi),s=dg(i);let o;return o=typeof(e=Le(e))=="string"||e instanceof Ld?PO(s,"updateDoc",t._key,e,n,r):RO(s,"updateDoc",t._key,e),yg(i,[o.toMutation(t._key,er.exists(!0))])}function bs(t){return yg(Sn(t.firestore,Vi),[new $m(t._key,er.none())])}function gs(t,...e){var n,r,i;t=Le(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||tw(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(tw(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,f;if(t instanceof Qt)u=Sn(t.firestore,Vi),f=Td(t._key.path),c={next:m=>{e[o]&&e[o](B1(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Sn(t,Bs);u=Sn(m.firestore,Vi),f=m._query;const g=new _g(u);c={next:v=>{e[o]&&e[o](new F1(u,g,m,v))},error:e[o+1],complete:e[o+2]},O1(t._query)}return function(g,v,S,A){const k=new ag(A),E=new sg(v,k,S);return g.asyncQueue.enqueueAndForget(async()=>ng(await Gu(g),E)),()=>{k.$a(),g.asyncQueue.enqueueAndForget(async()=>rg(await Gu(g),E))}}(jd(u),f,l,c)}function yg(t,e){return function(r,i){const s=new Fr;return r.asyncQueue.enqueueAndForget(async()=>iO(await gO(r),i,s)),s.promise}(jd(t),e)}function B1(t,e,n){const r=n.docs.get(e._key),i=new _g(t);return new U1(t,i,e._key,r,new Fa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Zo=i})(Vs),nr(new Fn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Vi(new U2(r.getProvider("auth-internal")),new $2(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),pn(wv,"4.6.3",e),pn(wv,"4.6.3","esm2017")})();const OO={apiKey:"AIzaSyCEGX6DExJ4wrB1XUIww4M49WnFdGx6gkY",authDomain:"deli-pernil.firebaseapp.com",projectId:"deli-pernil",storageBucket:"deli-pernil.appspot.com",messagingSenderId:"231637892410",appId:"1:231637892410:web:59c4a88c7c076bea2b2403",measurementId:"G-BJNVGD1FE3"},MO=YE(OO),$e=NI(MO),Qu=new Nr,z1=new kr,ue=IO(),qo=pD(),VO="_mlogo_19o6h_5",UO="_tlogo_19o6h_59",FO="_header_19o6h_73",BO="_logoContainer_19o6h_99",zO="_logo_19o6h_99",$O="_container_19o6h_131",HO="_social_19o6h_149",qO="_nav_19o6h_169",WO="_active_19o6h_251",GO="_line_19o6h_259",KO="_line2_19o6h_271",QO="_purpleLink_19o6h_281",YO="_navbar_19o6h_293",XO="_perfil_19o6h_305",JO="_adminNav_19o6h_325",ZO="_adminLink_19o6h_349",eM="_adminLogoContainer_19o6h_357",_e={mlogo:VO,tlogo:UO,header:FO,logoContainer:BO,logo:zO,container:$O,social:HO,nav:qO,"nav-link":"_nav-link_19o6h_187","nav-link-access":"_nav-link-access_19o6h_211",active:WO,line:GO,line2:KO,purpleLink:QO,navbar:YO,perfil:XO,adminNav:JO,adminLink:ZO,adminLogoContainer:eM},tM="/assets/Logo-Bvb2W1SP.png",nM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABrCAYAAAAb+/AcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa8SURBVHgB7VptaBtlHP/ftenaZlmzF7WryK7QrhsMlyCCH8SmvjA/CFMYjH1x6T4pyNr5VWEbTGGfNnHgNxsEYYKwTZApiGthX5S5RNjoy+aSzr1E92K2dk3b5HL+/k/vatokd7kmaQ65X3h4nrv7P3e/+/2f139OohVgdHQ0JElSAKkXh5z7NU3z8zWUUygnUEwgH8lms8M7duyIkU1I5RpGo1F/a2vrAIphJIXsIZHL5Y4iH96+fXuinAplERsfHz8MJQYNVSqAIAhyEStDU2JwmSLL8hkUA1RdMME+M/XkUheg0v6GhoZoDUgx+IWjeMbbZIcYuw5ZpAquMwPf+wwLUOyiVIQUG0ZoFaG7dTj/3BJi3KbYfTVWqhhSIBfMb3NLXAm/X6gDKYYfggzln1gkprcrheoECBIaGxsbNI6FK/Vh4QLVkZiO1MzMTGcwGEwZioWo/qQY/paWljAXBDGodZgcAnDZzbk0MTERgH+j5CB4PB5FRjcNkcMwPz//joxu2ksOAxYMO2W4USHnIcCNXyHnwS/XaaS3gl8mh0LmNTo5Dyl2peOIgdMkj2Mj5DDAi3F2pe2tVa3BYmFqkofJeRiWt27dGnOYajFeyYrhQlXVc+QQwI2fcS4WivF43J/JZOIOGGwTPT09nVwQinV2dqb0LXxdkc9hyS4JazPejISoDuAAzLZt20LG8ZIpCW2tv04zAUeGwvknim14edt+hlYRECPIo0P+uYJJHI3vLHzdT6tDKIXUv5yUuFaqEiuHSkO16ql6k+krRopRctnDyqHNBVFMUJXBDZ3vXYoUo6zAHTbEYX2Lp1AFYJVA6FDFgbvl0AnyNn6nnXqsELKz6XQ6wrvscurYImaAQwoc+kQaMLPTB8xIuXHXfDTSCgFSYsc8GZuhkcg9Sl5Pi/M9L6+j3vBT5G/3EG8N0Y6OFKvPwWYz9aRSlTiGUKxH4mFt+uwQGL84Rd98/GdBfSb17klF5HiBYV4l6yF3RTcx8pKx2KKK6WHzI7hZwTXcfLH846lkseqUSmbol28f0q4PnhHhpft3HxNr8ODuNKWnMpSezpLX10zPv9Kh6HGxvuX3KHiyHpKK37n2mIY+ukQ5LbOQKEsakr+9mT489RYlYk/oq8FJKgVW6+DpbpqZmqP3XvuCGqQmaqAm7H4aMUZ5tEa5SdozEKTQ3q6ioc6CcQxvICI/5z4fpQd3pvCWC+n+3Ud0704K5HLCrnltA5lhdjr339sL5aUlWrDwP3w5IdSDEEPcfEoSY7V4Mv0j+pCuXf4bJFSRhFqaKkjdnPhrUZE1a0tvS7cEvCKfvHaPFryvFdiwW8+evMoXFK/Xe7gkMUOt05/GmISW01T8soKQJuUEwSdTMzR2+ZZQrDf8dDFOgjC3L/Gyl27qpAzFNFZQiKjh9+v52xILAUEGr1y5EiggZqh16fwt0Ug1LQMqKqqDFMjlNEM1lTZt9ok6L+3ZIIaGNqhnoL2rmfbrPZLx5r4XaFNHW16nYYIaH2oG0dOfXBUubWpqOkF5VgJYJPKEHT6252ftQfIRSHGjnydVNPyFpOL49b07ad/gqwUqJa/PChX9eSQNjF2+Tcff/w6N34PG7xEdoHGxM2C8Q9p1oJveOKAw5UNYMJ7MDw7HoZb29bHf4DaoBUKqQQ5581qJ1re30sHju2nj5jayi4vfj1NsZFJ0irlpTaRUcp7QO6GOh3y+FhoYehHPWCMCxNJStX6iJ9NpvHWT1tG1Tnq2ex1t2Oyl57o3goyPaoH0VJYeJtMgqlKzz0MdXV6hmsQ7JIQW/1kwylCLz0OrgAjGrkl4ScmfDdAjtuh/xPYbrozgRAhFXh8lOOGYpwveDPOC8QRVEbxCtlr6iCkJRuFSBiDtLzY1VQjFyqCcwJ1CVQZP6FY2lsQw6G6hKgPELLt1XUKdaNydVjaWxGoRbq+WYgpVH5W1MR7jqDZQrAxMic3OztYsLHXjxg3TTmXlSoXqBFNimDJqptjc3JxpzzQlhqmjlhFGxexi3VxpNfrLlVSuBFZRJFNitZiOFh8syyvvlbWMYuPe682uW7mylvHYlbsym83+TjUCFIuYXTddAerLbv70QaHqIoaIZdDMwFQx/mMCe70g3o7/RqmGenyPo9gF9VkZ2lozI2CsUQWASmU/z7n/iZND4RKzC5eYXbjE7MIlZhcuMbtwidmFS8wuXGJ24RKzC5eYXbjE7MIlZhcuMbtwidmFS8wu/h/E+CM1WiH07xTLhi1iqqqu+ENx/aPL8u3tGPPHZ/z5sZ23Z1v+cM3sm9di+BcdqAqpT33QtAAAAABJRU5ErkJggg==",Zr="/assets/iglogo-DXcrY2py.png",ei="/assets/xlogo-BzPNCyv_.png",rM="/assets/tlogo-CdvIei82.png",iM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbbSURBVHgBrVhrbFRVEJ45d9t9QKEgiBW0RQqCGqESeYjgCqXtFmz8IWg0QV5KTBSkpPQByjax9AFKKISoRJTEGAsiRGN3SwsWfogEKRgTHtIaGjHlIaX0de92d+9xzt67223Zu90aJil7z5yZOd+ZM2dmDgiDIHuiM9Eixy9jEksDDk9wgGQAPhoAaRZbAdQrxLuKHOo86K85Lm/+J1bbGItQlqXUjohbBBYYDHFwMcBtPyn5Pw8kGhXIYnPFRD+qu0gqM7Iy/ss5v4PA/RwwiRjDDZap4lwtcCuFV2GwQDItFasl5Ns48MQwNrmf7UOu/mg2SZcOd+bdArFvnewJ20dZferjwNVVZDmLWEnBOQLcTv984PYUVcYMJNtWvoUUnWGs68Bx902lqeIsfO6F2Agdlq2rAXETfSaHmIjO6u784v7C0sAg+MGO+LuO413Ooy1wVoVBUKPvWEOqKf0IHeEQ2vJ0nW2fFL8QrnjrTvRBHT7IspavpfPeGYJAgOhci+E+UJalfAti2AY5X+VSCvcFh1KvYGkKIa8iaBYdRPH9AiGo0Vd3ItW0kI5Gv3nIXhgvZXz/l7+2VQxNQUESKKPltahH2OuWC53RDD8/vGCETRk2hyF7itzKVAa/gyn+VE17bquRjlvJL86ylj5JG15CayWakO8idpa2JFGmuTSdMazV5Skh+ezVyubmSMYcIyuHQXc3gYaVpG3uN63SHfpMtpiL6tvWt0XSzxlSMsarSufp8yExJs+/SJ6vZ2LAEHNDkghbjUAstpQ9inL3byTzTgQQAVNizuLxNCwavmdEJBs/dG26QavvDi2nJUpgGdaPHiFlh8bmLa7ugr1gQH6EI5Q0Jmqi2EVWvhRBh5yvIE98Q3NebS8wXvW2HzOyc1MZWQGBnBQwNEuUDiZxaSH0wnMZKVMwL6efNF25Gfyeua7u/JUi8quVwq9cSsEbqLIpoQU4pDkspSsj2ToLawgwbUJb1GKRrcsYR0gP7ZjHfWEEhFz4ZugbYIPL++G5/jIuz8YmznFpL4ctM7LHkPfWH4mnMQSWEhwPMXkuR1JaAgfENZ+tD69Xy4WHwIAURRaJSvMKqs/awWmKJOdl0pnQgCo5o1oyKaADvO1wR9HtSEqtCY2i3ph1uSsQherB6SOPXdJGaBuaAImR5I525t2kmLqt20wmj0Awuq8bGY/vaOmknx4NPI6HAYiOZ6z+6WvpSLprJEd9ix6wOIoFhtoCkpGCC3Z5SOKCPhznsFbMMZLNtJU8Qyb1IsdPa4FpAITah+CnOJrgcYyA6PRtyACqe7Mt25P7C2QM3fYg41Iofsj2gWgGObAkXe4OZlnLTtPxzBAMvySNEWcXSckBlWawdpFX8DGddZWr6g6TH86o8ZKXMuR8Mvk+iAZJn58pKxOc4IxYsR3W8nEk/7cGBE/RLeIXQ7M+/2QwIBes9XCVZQdyiEYpyNhOfxz7hUCIG1AeBqJFpG4jEIHFuZoaNmpmnLOG4FBCzIEo5PbkX+acqieHY1HEjiM3zY7WFgqiwhfKMeSMWnw5cUeix+O5o7Nam2U56QI4e2AAItfOogo3j4JsKkf0U9T/QWnqZLWcdxoGJnRYy0SHLzzo94AvWbqk1Cipcel2ipMUYlqHm0w91DucNLIg6sIUWPQcBfxUitoJdP/NFGyUtLhEtdeaGrfANsE2t73JUy8bbsJW9hb9vB4YcHTXKkWfBtoA/bkQTLk3ZLMyub7N2aeMU6uQRa3CGjoW6m5gCESnHsoJLnL/1y45/7vwCXHbOHpPBPtYqjHzxXMj1Co6LGXu4LOBmIeq5YJXxHeGpWyehCCq5Uz4P4RwEb3qimpvUeDI6JZWkX29HmEVAX1NE9Mpx/xJqo95z4SeD4gl5P5hhPm9vnaxjaKrSvXzy3Tt/qTjuCaOBhmMQIZP03WYRt1eBkmO6adXSV6i4+L5Ousa3ay5waDu0zxn20pXU3o26Ed4swqmjcza6Xa1FrdDFMoZVZ7g6+QvUWUvAS32IjgK11XL+ZW94350T7cNgcy3J0FuWHsQDvphkEQvg48plef2sac15s5w3j31Reu2F1Dsor0XLY7uiX+4s9Fbdw5ipOnwdtw029JCArGKhkOjgdDWMKBMa9k6yg159Dk2jN1CGm5Q2X6KkyYKtGvhOqLWmFTvDM4lOy25nFgPhG2mjaO6wdXd+5aJCYigwFsHmXhmvBpZgreR5yidBzw7kv5GRRaDGpXHv1vjyW00Wium/5ZYRM8NVYL1wFlmIHHFRgr9/aofRf1AwjEBCZLo+E08Ll1FTteTi5eh6OiD7cMtMtasIlxgfjjfbVX290+K0eg/fHPEQGZp4IwAAAAASUVORK5CYII=",sM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZOSURBVHgBrVhrbFRFFP7m7pZWBGyRh02RFgVENGoNIIRACqIiiRqJFkqhPE1DxD4DCsaw/aE8Cn2BGFKhIn1IsUZjIiAi4A+xwQDGhKckbcQUUKClRWDbvddv9s7tbpd7t9vG0zR3HmfO+ebMmTnnrEAPqALFsTHQM3RoyeyO1YBEHcZgQMi/64Bxge0GAeMHL4wDC5H3V6SyRSRMu1Gc4gLWspmCHhDB7dMhCtORfbh73jBUhdJRAvoWNl9yYPmHIm4Auo/fePYfcFCyh5/30pDbgJ4CqUbxMn4K+R8bxEzzazt5HN/6EH02A8v/5rARWLNpkA7XYxrEUg7P5FB8kMibtNAHacgpixhIDYrXUronwGRcNiC2jkbfjeOQ2Y4IiOtFFUqWadDfZzMxSKGHlinoFkgoCAPGXuBuZjpW30AvqALrkmIQvYYbeSugVCOY7AJHINxBFndfGgABT7oN+t5QDUq5Qd1j9XVg6Xzk7rwHCC2RRMWnoByO7QKC8OB/pCpaWwSs3WygfUI6Vl2QHXcQwvVCgaBVyuchzxNe6Lo4A/dNpg88SdAaHfS3WzCOLUPedac10rrVKHqCGt5kN1YgSt7ImaZOv9CiGfTog2qgQUdUSjpWNNoJ+w5lA1rgW0/lS9iNDpnWuX77HWDNYuQ2263/BiVDCVha/iHZ572ftgC5RzRzWuRZjD7oHzmB2IWS4c3w/UoQy21ASNLkXB8YJ6qwLc5OxmvIucLPVquvHkpoNfj4Ye7iZTXeNB/55XCgPsDX/IxS3Vv0pArpdFy/mMdZTRD+q03rjhDwHnKS08pnAP43yX8rJ8rQQYt4Xwji2ee0mI62iIuSzZ7R2A59Cv1oifR8vgufpSEv3QXX45YC8iTXYPMSO1mZ/rfIqFCgY2T8kqacYTFEQdvhBIS7Xmi1XdDyFyL/ZCjPXGRd1KGnWn0DWoazPBEUf1zJtIhICihwnbNbVItaF4FMUt3Lc5BTBwdKQOtR0Wl2jD8Mj9uOLxoxxwOA9bHSIqNVv3k2VlyzW3QbV2MN5ZxUcgFhaBo8HTzCs4q3bxP6xdrxzcbyq5Sp9IlEjU6mvNu47CS8BXob570meoxAtyQSFJCOVvRvceTq9CcxiECs6ClcTguykHWX86dVd1gltkx24mXu8iw/VpCrzwwTJBl/fKolNIb0a+Yg4hCGuOgLq62ho7wKmxJDeT5H4RDuJsh/RG04mTyNeKX7hmDeUc/2BDnQgZihzDGu2i3iixrNx0xa5RE11EAnK2YkPU6B7QQ6nQJzRCAHaTiPlkc98Oh28ipRPkxD25+qe0y+rGesyWjcHQMHmsXj8UHMkm+IGkoiCBmpfyYIeQM2BIFoYnuaEwhJLrSNtNpc30gfEScCA3gVYWgBcs6RP4W34pAzl/gxGlGTwqWFSnlGoG0cFPJ55b20kp7rbrTEp8LjRTdUibKJGoypBnxPM/L6KPh3WuEnpoL16J6kS8gMX1rQ1w4jUVNR8ohiGNiOAavCSaiAJ5ZCpgt0jGNiPZzKdVrSzV0lsD1+NwpTPkXRwHAyaphCovMYhb/s8KcBqlzwP7kUeoXmGBMaxplHMG8QmWzK2HQ/wpNXmHGrkkf0ZfBEFbbytnn5+pp5LMPAdFluiABDyX56vyobjDoGtDfM8U1TNbg2EuBz6B2dofUWp2FlvbmhYllapJogsIfJ0lzZ7gRSi6KRHab3W0/yh7T6AL4a7wRL5eJmWafwKM6xeDpPnksa3Iwnvjju8inOP8P5F8k6tOs6wTJCv02ed03F4hJHp1hO3SV5VrWMUz7Ca2us0uHePx9ZNxGGdmBDf96cV+jE3AyS7HjoX9lpyC8L9EMotJxQ+9nmxrGsVOz1oYdUjdLNtEReF2k2ifk98aUOB47OxkwhutS5YrCBhLY6fH8SEdJ2bI+ah+dXUy2rPvQLB8KvwUkQE+psmnalIVOMADXRN+jU2MUjusgjuhS85it8MqQV/05gXpPCJ3sR1T4YNC19Kz8tqJaJCIgkWeuoMmOOPYfgFTfkc+4iYPl2DHLgO+BG1IpUvP2Hg6rIfpbYw3LDBy0X5vV2ITK6Q+G/8FtAKxzpjjkiIBYxGWbG7yYon7yeSbzao8zESqY0Qv4y0EiBp5lanOoLset1h9rGjv4D1jcdP9KegrAAAAAASUVORK5CYII=";function oM(){const[t,e]=N.useState({}),[n,r]=N.useState("");N.useEffect(()=>{Wi($e,s=>{e(s)})},[]);const i=async()=>{try{const s=Mo(qo,`profileImages/${localStorage.getItem("imageRef")}`),o=await QI(s);r(o)}catch{}};return localStorage.getItem("admin")=="false"&&t&&i(),d.jsxs("div",{className:`${_e.header} ${t&&localStorage.getItem("admin")==="true"?_e.adminLogoContainer:""}`,children:[d.jsxs("div",{className:`${_e.logoContainer} ${t&&localStorage.getItem("admin")==="true"?_e.adminLogoContainer:""}`,children:[d.jsx("img",{className:_e.logo,src:tM,alt:"DeliPernil"}),d.jsx("img",{className:_e.tlogo,src:rM,alt:"DeliPernil"}),d.jsx("img",{className:_e.mlogo,src:nM,alt:"Logo"}),d.jsxs("div",{className:_e.container,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:_e.social,src:Zr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:_e.social,src:ei,alt:"Logo"})})]})]}),d.jsx("div",{className:`${_e.line} ${t&&localStorage.getItem("admin")==="true"?_e.adminNav:""}`,children:d.jsx("div",{className:_e.nav,children:t&&localStorage.getItem("admin")==="true"?d.jsxs(d.Fragment,{children:[d.jsx(he,{className:`${_e["nav-link"]} ${_e.adminLink}`,to:"/menuadmin",children:"Menú"}),d.jsx(he,{className:`${_e["nav-link"]} ${_e.adminLink}`,to:"/historial",children:"Historial"}),d.jsx(he,{className:`${_e["nav-link"]} ${_e.adminLink}`,to:"/pedidosactuales",children:"Pedidos Actuales"}),d.jsx(he,{className:`${_e["nav-link"]} ${_e.adminLink}`,to:"/cliente",children:"Cliente"}),d.jsx(he,{className:`${_e["nav-link"]} ${_e.adminLink}`,to:"/perfil",children:d.jsx("img",{className:_e.perfil,src:n||sM,alt:"Logo"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(he,{className:_e["nav-link"],to:"/",children:"Inicio"}),d.jsx(he,{className:_e["nav-link"],to:"/menu",children:"Menú"}),d.jsx(he,{className:_e["nav-link"],to:"/nosotros",children:"Nosotros"}),d.jsx(he,{className:_e["nav-link"],to:"/ayuda",children:"Ayuda"}),t?d.jsxs(d.Fragment,{children:[d.jsx(he,{className:_e["nav-link"],to:"/compra",children:"Compra"}),d.jsx(he,{className:_e["nav-link"],to:"/comentarios",children:"Comentarios"}),d.jsx(he,{className:_e["nav-link"],to:"/perfil",children:d.jsx("img",{className:_e.perfil,src:n||iM,alt:"Logo"})})]}):d.jsx(he,{className:`${_e["nav-link-access"]} ${_e.purpleLink}`,to:"/acceder",children:"Acceder"})]})})}),d.jsx("div",{className:`${_e.line2} ${t&&localStorage.getItem("admin")==="true"?_e.lineadmin:""}`})]})}function aM(){return d.jsxs("div",{children:[d.jsx(oM,{}),d.jsx(QR,{})]})}const lM="_slogan_1nlru_69",cM="_colored_1nlru_69",uM="_errorMessage_1nlru_101",dM="_bienvenido_1nlru_113",hM="_titulo_1nlru_151",fM="_bold_1nlru_159",pM="_container_1nlru_177",mM="_fondo_1nlru_221",gM="_parrafo_1nlru_237",_M="_combocontenido_1nlru_245",yM="_button_1nlru_261",vM="_combos_1nlru_295",wM="_zonacombos_1nlru_313",EM="_descripcioncombos_1nlru_333",IM="_buttonc_1nlru_349",TM="_carrusel_1nlru_381",SM="_slide_1nlru_389",CM="_comboImage_1nlru_419",AM="_comboDescription_1nlru_461",RM="_active_1nlru_483",PM="_origenes_1nlru_505",xM="_containerOrigenes_1nlru_515",kM="_descripcionorigenes_1nlru_539",NM="_imagenorigenes_1nlru_555",bM="_menu_1nlru_575",DM="_titulomenu_1nlru_601",jM="_cartasmenu_1nlru_631",LM="_titulocarta_1nlru_663",OM="_cartamenu_1nlru_671",MM="_containerContactos_1nlru_687",VM="_contactos_1nlru_695",UM="_redesSociales_1nlru_729",FM="_social_1nlru_741",G={slogan:lM,colored:cM,errorMessage:uM,bienvenido:dM,titulo:hM,bold:fM,container:pM,fondo:mM,parrafo:gM,combocontenido:_M,button:yM,combos:vM,zonacombos:wM,descripcioncombos:EM,buttonc:IM,carrusel:TM,slide:SM,comboImage:CM,comboDescription:AM,active:RM,"slide-content":"_slide-content_1nlru_497",origenes:PM,containerOrigenes:xM,descripcionorigenes:kM,imagenorigenes:NM,menu:bM,titulomenu:DM,cartasmenu:jM,titulocarta:LM,cartamenu:OM,containerContactos:MM,contactos:VM,redesSociales:UM,social:FM},iw="/assets/fondo1-mP0KSv87.png",jn="/assets/View-Dc0AvLut.png",Ki="/assets/Map-BrfpiiUM.png",BM="/assets/Local-oZwzVmRb.png",zM="/assets/Burger_0-rI8WCCNm.png",$M="/assets/Cachapa_0-fwixH3-B.png",HM="/assets/ClubHouse_0-DjseIGzv.png",qM="/assets/Parrilla_0-C8TdXxPy.png",WM="/assets/Cookie-BXgI8nhB.png";function GM(){const[t,e]=N.useState(0);yt();const n=[{title:"Combo 1",description:"Cheeseburger con papas y refresco   $7.35",image:jn},{title:"Combo 2",description:"Baconburger con papas y refresco   $8.10",image:jn},{title:"Combo 3",description:"Hamburguesa doble carne con papas y refresco   $8.45",image:jn},{title:"Combo 4",description:"Cachapa de queso con refresco   $9.30",image:jn},{title:"Combo 5",description:"Sandwich de pernil con papas y refresco   $6.20",image:jn},{title:"Combo 6",description:"Sandwich de queso con refresco   $5.45",image:jn}],r=()=>{e(i=>i===n.length-1?0:i+1)};return d.jsxs("div",{children:[d.jsxs("div",{className:G.slogan,children:[d.jsxs("h1",{children:["Si te gusta ",d.jsx("span",{className:G.colored,children:"recomiéndanos."})," "]}),d.jsx("h1",{children:" ¡Si no, también para que otro pase rabia! "})]}),d.jsxs("div",{className:G.bienvenido,style:{backgroundImage:`url(${iw})`},children:[d.jsx("img",{className:G.fondo,src:iw,alt:"fondo"}),d.jsxs("div",{className:G.container,children:[d.jsx("h1",{className:G.titulo,children:"Bienvenido"}),d.jsxs("h2",{children:["Conoce todo el menú y ofertas que ofrece Deli Pernil. Rica comida hecha en base al buen comer ",d.jsx("div",{className:G.bold,children:"unimetano"}),"."]}),d.jsx("h2",{className:G.parrafo,children:" Hamburguesas con carne crispy"}),d.jsx("h2",{className:G.parrafo,children:" Cachapas"}),d.jsx("h2",{className:G.parrafo,children:" Sándwich"}),d.jsx("h2",{className:G.parrafo,children:" Club House"}),d.jsx("h2",{className:G.parrafo,children:" Y mucho más"}),d.jsx(he,{onClick:()=>{scroll(0,0)},className:G["nav-link"],to:"/menu",children:d.jsx("button",{className:G.button,children:"Ver Productos"})})]})]}),d.jsxs("div",{className:G.combos,children:[d.jsx("div",{className:G.zonacombos,children:d.jsx("div",{className:G.carrusel,children:n.map((i,s)=>d.jsx("div",{className:`${G.slide} ${s===t?G.active:""}`,children:d.jsxs("div",{className:G.combocontenido,children:[d.jsx("div",{className:G.imagencombobody,children:d.jsx("img",{className:G.comboImage,src:i.image,alt:i.title})}),d.jsxs("div",{className:G.comboDescription,children:[d.jsx("h2",{className:G.comboTitle,children:i.title}),d.jsx("p",{children:i.description}),d.jsx(he,{className:G["nav-link"],to:"/compra",children:d.jsx("button",{onClick:()=>{scroll(0,0)},className:G.button,children:"Comprar"})})]})]})},s))})}),d.jsx("button",{id:"nextBtn",className:G.buttonc,onClick:r,children:">"}),d.jsxs("div",{className:G.descripcioncombos,children:[d.jsx("h1",{className:G.colored,children:"COMBOS"}),d.jsxs("h2",{children:["Deléitate con nuestros irresistibles combos a los ",d.jsx("div",{className:G.colored,children:"mejores precios,"})," donde cada bocado es un viaje de sabores."]}),d.jsx(he,{className:G["nav-link"],to:"/menu",children:d.jsx("button",{onClick:()=>{scroll(0,0)},className:G.button,children:"Explorar Combos"})})]})]}),d.jsx("div",{className:G.origenes,children:d.jsxs("div",{className:G.containerOrigenes,children:[d.jsxs("div",{className:G.descripcionorigenes,children:[d.jsx("h1",{className:G.titulo,children:"Nuestros Orígenes"}),d.jsx("h2",{children:"Cómo llegamos aquí"}),d.jsx("h3",{children:"Deli Pernil"}),d.jsx(he,{onClick:()=>{scroll(0,0)},className:G["nav-link"],to:"/nosotros",children:d.jsx("button",{className:G.button,children:"Conócenos"})})]}),d.jsx("div",{className:G.imagenorigenes,children:d.jsx("img",{src:BM,alt:"local_0"})})]})}),d.jsxs("div",{className:G.menu,children:[d.jsx("div",{className:G.titulomenu,children:d.jsxs("h1",{children:["Nuestro ",d.jsx(he,{onClick:()=>{scroll(0,0)},className:G["nav-link"],to:"/menu",children:d.jsx("span",{className:G.colored,children:"Menú"})})]})}),d.jsxs("div",{className:G.cartasmenu,children:[d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:zM,alt:"burger"}),d.jsx("h1",{className:G.titulocarta,children:"Hamburguesa"})]}),d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:$M,alt:"cachapa"}),d.jsx("h1",{className:G.titulocarta,children:"Cachapas"})]}),d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:HM,alt:"ch"}),d.jsx("h1",{className:G.titulocarta,children:"Club House"})]}),d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:qM,alt:"parrilla"}),d.jsx("h1",{className:G.titulocarta,children:"Parrillas"})]}),d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:WM,alt:"cookie"}),d.jsx("h1",{className:G.titulocarta,children:"Más"})]})]})]}),d.jsx("div",{className:G.contactos,style:{backgroundImage:`url(${Ki})`},children:d.jsxs("div",{className:G.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:G.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:G.social,src:Zr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:G.social,src:ei,alt:"Logo"})})]})]})})]})}const KM="_colored_l860e_69",QM="_pageContainer_l860e_77",YM="_botonesMenu_l860e_77",XM="_botonMenu_l860e_85",JM="_tituloboton_l860e_155",ZM="_promos_l860e_189",eV="_zonapromos_l860e_211",tV="_descripcioncombos_l860e_231",nV="_buttonc1_l860e_239",rV="_buttonc2_l860e_273",iV="_carrusel_l860e_313",sV="_menut_l860e_325",oV="_slide_l860e_339",aV="_combocontenido_l860e_357",lV="_comboImage_l860e_373",cV="_comboDescription_l860e_403",uV="_button_l860e_239",dV="_active_l860e_447",hV="_menu_l860e_325",fV="_promo_l860e_189",pV="_titulomenu_l860e_531",mV="_catalogo_l860e_539",gV="_cartamenu_l860e_559",_V="_contactos_l860e_613",yV="_containerContactos_l860e_625",vV="_redesSociales_l860e_651",wV="_social_l860e_663",Ae={colored:KM,pageContainer:QM,botonesMenu:YM,botonMenu:XM,tituloboton:JM,promos:ZM,zonapromos:eV,descripcioncombos:tV,buttonc1:nV,buttonc2:rV,carrusel:iV,menut:sV,slide:oV,combocontenido:aV,comboImage:lV,comboDescription:cV,button:uV,active:dV,"slide-content":"_slide-content_l860e_461",menu:hV,promo:fV,titulomenu:pV,catalogo:mV,cartamenu:gV,contactos:_V,containerContactos:yV,redesSociales:vV,social:wV};function EV(){const[t,e]=N.useState(0),[n,r]=N.useState([]);N.useEffect(()=>{const u=gs(nt(ue,"Categoria"),f=>{const m=[];f.forEach(g=>{m.push({id:g.id,data:g.data()})}),r(m)});return()=>u()},[]);const i=()=>n.filter(f=>f.data.disponible).map(f=>d.jsxs(he,{onClick:()=>{scroll(0,0)},to:{pathname:`/menu/platillos/${f.id}`,state:{categoriaId:f.id}},className:Ae.cartamenu,children:[d.jsx("h2",{className:Ae.titulocarta,children:f.data.Categoria}),d.jsxs("p",{children:["Disponible: ",f.data.disponible?"Sí":"No"]})]},f.id)),s=()=>n.filter(f=>f.data.disponible).map(f=>d.jsx(he,{onClick:()=>{scroll(0,0)},to:{pathname:`/menu/platillos/${f.id}`,state:{categoriaId:f.id}},className:Ae.botonMenu,children:d.jsx("h2",{className:Ae.tituloboton,children:f.data.Categoria})},f.id)),o=[{title:"Combo 1",description:"Cheeseburger con papas y refresco   $7.35",image:jn},{title:"Combo 2",description:"Baconburger con papas y refresco   $8.10",image:jn},{title:"Combo 3",description:"Hamburguesa doble carne con papas y refresco   $8.45",image:jn},{title:"Combo 4",description:"Cachapa de queso con refresco   $9.30",image:jn},{title:"Combo 5",description:"Sandwich de pernil con papas y refresco   $6.20",image:jn},{title:"Combo 6",description:"Sandwich de queso con refresco   $5.45",image:jn}],l=()=>{e(u=>u===o.length-1?0:u+1)},c=()=>{e(u=>u===0?o.length-1:u-1)};return d.jsxs("div",{className:Ae.pageContainer,children:[d.jsx("div",{className:Ae.botonesMenu,children:s()}),d.jsxs("div",{className:Ae.menu,children:[d.jsx("h1",{className:Ae.menut,children:"PROMOS"}),d.jsx("div",{className:Ae.promo,children:d.jsxs("div",{className:Ae.promos,children:[d.jsx("button",{id:"nextBtn",className:Ae.buttonc1,onClick:c,children:"<"}),d.jsx("div",{className:Ae.zonapromos,children:d.jsx("div",{className:Ae.carrusel,children:o.map((u,f)=>d.jsx("div",{className:`${Ae.slide} ${f===t?Ae.active:""}`,children:d.jsxs("div",{className:Ae.combocontenido,children:[d.jsx("div",{className:Ae.imagencombobody,children:d.jsx("img",{className:Ae.comboImage,src:u.image,alt:u.title})}),d.jsxs("div",{className:Ae.comboDescription,children:[d.jsx("h2",{className:Ae.comboTitle,children:u.title}),d.jsx("p",{children:u.description}),d.jsx(he,{className:Ae["nav-link"],to:"/compra",children:d.jsx("button",{onClick:()=>{scroll(0,0)},className:Ae.button,children:"Comprar"})})]})]})},f))})}),d.jsx("button",{id:"nextBtn",className:Ae.buttonc2,onClick:l,children:">"})]})}),d.jsx("h1",{className:Ae.menut,children:"MENU"}),d.jsx("div",{className:Ae.catalogo,children:i()})]}),d.jsx("div",{className:Ae.contactos,style:{backgroundImage:`url(${Ki})`},children:d.jsxs("div",{className:Ae.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:Ae.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:Ae.social,src:Zr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:Ae.social,src:ei,alt:"Logo"})})]})]})})]})}const IV="_colored_11l0a_71",TV="_slogan_11l0a_79",SV="_Inicio_11l0a_109",CV="_Inicio2_11l0a_157",AV="_Inicio3_11l0a_211",RV="_g_11l0a_219",PV="_Inicios3_11l0a_265",xV="_Inicio4_11l0a_291",kV="_Inicio5_11l0a_345",NV="_Inicios5_11l0a_367",bV="_MV_11l0a_411",DV="_MVs_11l0a_443",jV="_call_11l0a_473",Ne={colored:IV,slogan:TV,Inicio:SV,Inicio2:CV,Inicio3:AV,g:RV,Inicios3:PV,Inicio4:xV,Inicio5:kV,Inicios5:NV,MV:bV,MVs:DV,call:jV},LV="/assets/Misi%C3%B3n-QXSqyuPB.png",OV="/assets/Visi%C3%B3n-CbMO8cPF.png",MV="/assets/Nosotros-DJCJ6AlO.png",VV="/assets/Gerente-D2qtAV2H.png",UV="/assets/Represent-CW7KGewH.png",FV="/assets/Equipo1-EzvGAfov.png",BV="/assets/ST-STOIgwv5.png",zV="/assets/ST1-Dlk6zio7.png",$V="/assets/ST3-1COu90Y8.png",HV="/assets/ST4-B21zYSse.png",qV="/assets/ST5-DTN53eEc.png",WV="/assets/ST6-h43mSZ-5.png",GV="/assets/ST7-CSmthD-B.png",KV="/assets/ST8-D9abU7aw.png";function QV(){return d.jsxs("div",{children:[d.jsx("div",{className:G.slogan,children:d.jsxs("h1",{children:["Historia ",d.jsx("span",{className:Ne.colored,children:"conmovedora"})," de nuestro local"]})}),d.jsxs("section",{className:Ne.Inicio,children:[d.jsx("div",{children:d.jsx("img",{src:MV,alt:"nosotros"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"¿Quiénes Somos?"}),d.jsx("h3",{children:"Local de comida rápida en la UNIMET especializado en hamburguesas, sándwiches y carnes"}),d.jsx("h3",{children:"Desde nuestro primer día de operaciones, Deli Pernil ha ofrecido al público una gran variedad de platillos a precios incomparables. Nuestra tienda virtual es sinónimo de calidad, por lo que te garantizamos contar con un menú que sea perfectamente adaptable al cliente y a cualquier presupuesto. Echa un vistazo y empieza a comprar hoy mismo."})]})]}),d.jsxs("section",{className:Ne.Inicio2,children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Conoce al Equipo"}),d.jsx("h3",{children:"Lo que hace que Deli Pernil brindemos un excelente servicio, es nuestro equipo de profesionales. En esta sección podrás conocer un poco más sobre las personas que se encargan de que tu experiencia sea la mejor."})]}),d.jsx("div",{children:d.jsx("img",{src:FV,alt:"equipo"})})]}),d.jsxs("div",{className:Ne.Inicio3,children:[d.jsxs("div",{className:Ne.Inicios3,children:[d.jsx("img",{src:VV,alt:"ger"}),d.jsx("h2",{children:"C. Contreras"}),d.jsx("h3",{className:Ne.g,children:"Gerente"}),d.jsx("h3",{children:"Este miembro del equipo aporta su experiencia profesional y alegría"}),d.jsx("h3",{children:"al trabajo. Es difícil imaginar dónde estaríamos sin nuestro(a) Gerente"})]}),d.jsxs("div",{className:Ne.Inicios3,children:[d.jsx("img",{src:UV,alt:"rep"}),d.jsx("h2",{children:"A. Cifuentes"}),d.jsx("h3",{className:Ne.g,children:"Representante de servicio al cliente"}),d.jsx("h3",{children:"Tenemos mucha suerte al contar con un excelente Representante de servicio"}),d.jsx("h3",{children:"al cliente. No cabe duda que tomamos la mejor decisión cuando"}),d.jsx("h3",{children:"incorporamos a A. Cifuentes a nuestro equipo de trabajo."})]})]}),d.jsxs("section",{className:Ne.Inicio4,children:[d.jsx("div",{children:d.jsx("img",{src:zV,alt:"st1"})}),d.jsx("div",{children:d.jsx("h2",{children:"Soporte Técnico"})}),d.jsx("div",{children:d.jsx("img",{src:BV,alt:"st"})})]}),d.jsxs("section",{className:Ne.Inicio5,children:[d.jsxs("div",{className:Ne.Inicios5,children:[d.jsx("img",{src:qV,alt:"st5"}),d.jsx("h2",{children:"Diego Cáceres"}),d.jsx("h3",{className:Ne.g,children:"Gerente"})]}),d.jsxs("div",{className:Ne.Inicios5,children:[d.jsx("img",{src:HV,alt:"st4"}),d.jsx("h2",{children:"Giselle Esclasans"}),d.jsx("h3",{className:Ne.g,children:"Líder de Proyecto"})]}),d.jsxs("div",{className:Ne.Inicios5,children:[d.jsx("img",{src:GV,alt:"st7"}),d.jsx("h2",{children:"Diego Goncalves"}),d.jsx("h3",{className:Ne.g,children:"Levantamiento de Información"})]}),d.jsxs("div",{className:Ne.Inicios5,children:[d.jsx("img",{src:$V,alt:"st3"}),d.jsx("h2",{children:"Sebastian Hernandez"}),d.jsx("h3",{className:Ne.g,children:"Seguridad"})]}),d.jsxs("div",{className:Ne.Inicios5,children:[d.jsx("img",{src:KV,alt:"st8"}),d.jsx("h2",{children:"Victor Martinez "}),d.jsx("h3",{className:Ne.g,children:"Mantenimiento"})]}),d.jsxs("div",{className:Ne.Inicios5,children:[d.jsx("img",{src:WV,alt:"st6"}),d.jsx("h2",{children:"Virginia Torrealba"}),d.jsx("h3",{className:Ne.g,children:"Diseño"})]})]}),d.jsxs("section",{className:Ne.MV,children:[d.jsx("div",{className:Ne.MVs,children:d.jsx("img",{src:LV,alt:"mision"})}),d.jsxs("div",{className:Ne.MVs,children:[d.jsx("h2",{children:"Misión"}),d.jsx("h3",{children:"Crecer como empresa y día a día, ser capaces de innovar en los platos que servimos sin disminuir la calidad que nos caracteriza desde hace años."})]}),d.jsx("div",{className:Ne.MVs,children:d.jsx("img",{src:OV,alt:"vision"})}),d.jsxs("div",{className:Ne.MVs,children:[d.jsx("h2",{children:"Visión"}),d.jsx("h3",{children:"Ofrecer a los miembros de la universidad metropolitana una alternativa de comida rápida, de calidad y de un precio accesible para que todos puedan disfrutar de nuestras delicias."})]})]}),d.jsx("div",{className:G.contactos,style:{backgroundImage:`url(${Ki})`},children:d.jsxs("div",{className:G.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:G.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:G.social,src:Zr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:G.social,src:ei,alt:"Logo"})})]})]})})]})}const YV="_colored_11we8_69",XV="_slogan_11we8_77",JV="_formularioayuda_11we8_107",ZV="_formularioInfo_11we8_119",eU="_formulario1_11we8_133",tU="_formulario2_11we8_141",nU="_inputting_11we8_151",rU="_button_11we8_161",iU="_contactos_11we8_189",sU="_containerContactos_11we8_199",oU="_redesSociales_11we8_221",aU="_social_11we8_233",xn={colored:YV,slogan:XV,formularioayuda:JV,formularioInfo:ZV,formulario1:eU,formulario2:tU,inputting:nU,button:rU,contactos:iU,containerContactos:sU,redesSociales:oU,social:aU};function lU(){return d.jsxs("div",{children:[d.jsx("div",{className:xn.slogan,children:d.jsx("h1",{children:"Contacta a nuestro equipo de ayuda"})}),d.jsxs("div",{className:xn.formularioayuda,children:[d.jsx("h2",{children:"¿Cómo podemos ayudarte?"}),d.jsxs("form",{action:"https://formsubmit.co/4d0cdf48d1eea5fccba12bf350e720ce",method:"POST",children:[d.jsxs("div",{className:xn.formularioInfo,children:[d.jsxs("div",{className:xn.formulario1,children:[d.jsx("h3",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",name:"name"}),d.jsx("h3",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",name:"lastname"})]}),d.jsxs("div",{className:xn.formulario2,children:[d.jsx("h3",{children:"Correo"}),d.jsx("input",{type:"text",placeholder:"Correo",name:"email"}),d.jsx("h3",{children:"Teléfono"}),d.jsx("input",{type:"text",placeholder:"Teléfono",name:"subject"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{children:"Cuéntanos tus dudas o inquietudes"}),d.jsx("input",{className:xn.inputting,type:"text",placeholder:"Tengo una duda con...",name:"subject"})]}),d.jsx("input",{type:"submit",value:"Contáctanos",className:xn.button}),d.jsx("input",{type:"hidden",name:"_captcha",value:"false"})]})]}),d.jsx("div",{className:xn.contactos,style:{backgroundImage:`url(${Ki})`},children:d.jsxs("div",{className:xn.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsx("h2",{children:d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:"Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})}),d.jsxs("h2",{children:[d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsx("h2",{children:d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})}),d.jsxs("div",{className:xn.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:xn.social,src:Zr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:xn.social,src:ei,alt:"Logo"})})]})]})})]})}var Dt=[];for(var Uh=0;Uh<256;++Uh)Dt.push((Uh+256).toString(16).slice(1));function cU(t,e=0){return(Dt[t[e+0]]+Dt[t[e+1]]+Dt[t[e+2]]+Dt[t[e+3]]+"-"+Dt[t[e+4]]+Dt[t[e+5]]+"-"+Dt[t[e+6]]+Dt[t[e+7]]+"-"+Dt[t[e+8]]+Dt[t[e+9]]+"-"+Dt[t[e+10]]+Dt[t[e+11]]+Dt[t[e+12]]+Dt[t[e+13]]+Dt[t[e+14]]+Dt[t[e+15]]).toLowerCase()}var Oc,uU=new Uint8Array(16);function dU(){if(!Oc&&(Oc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Oc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oc(uU)}var hU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const sw={randomUUID:hU};function Ds(t,e,n){if(sw.randomUUID&&!e&&!t)return sw.randomUUID();t=t||{};var r=t.random||(t.rng||dU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,cU(r)}const fU="_pageContainer_6k9uy_1",pU="_boxContainer_6k9uy_19",mU="_titleContainer_6k9uy_37",gU="_container_6k9uy_47",_U="_column_6k9uy_55",yU="_center_6k9uy_89",vU="_loginButton_6k9uy_105",wU="_button_6k9uy_157",EU="_buttonDisable_6k9uy_189",IU="_imageButtonsContainer_6k9uy_213",TU="_imageButton_6k9uy_213",SU="_errorLabel_6k9uy_253",yn={pageContainer:fU,boxContainer:pU,titleContainer:mU,container:gU,column:_U,center:yU,loginButton:vU,button:wU,buttonDisable:EU,imageButtonsContainer:IU,imageButton:TU,errorLabel:SU},$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABa1BMVEX////qQzU0qFNChfT7vAXg6P0ufPM4gPSdu/j7ugCxyPrqPi/qQTMopUsupk9AhPXpOSnpNCLpLxvpOir739385OIdo0XpNSTrSDr7vgD7twD98O/rTD5Dg/n5/foqpUxSs2vympX2trLtXlPpOja33cCNypxeuHUzqUo/rVzh8eX609D4w7/1qqX/+vrwg3vucGfveXHxjIXtZVv619TylY78xTz8zFj+89f81Hf95Kr92IT93Zj++ef96b/80Gj7xCz+9N7946JBhuzF5M3N59OTzaGr2Lbu+PE2pGtzwIb3vbn0pJ7sV0r3pQ3uZz/yhkD2oS/5syXwd0X1ljX4qy7sWDz7xkfzjDv7zozw9P5Vlubd7PCxzee1zPaJtOpmoeFHjePA2Off1YyPs0der1KKsPXSuyyvuEGBs0zIujaftkGSuuVarlO/uTbKuBo/jdQ8lrE5nYw8kr86mps1pGc+j8w6mKQ3oICcZUs3AAALc0lEQVR4nO2c+3fixhWAZZm1q9UDSWAJFiqBCWAw2F5Y7yvZxK0NOJhtHk2bNutt7G27222SNk2ff34lgXkIzTAaaUYSh++HnJw9Zy19njv33nloGWbDhg0bNmzYsCEUjgqFvcPWfns0KpdPy+XRqL3fOtwrFI6ifrEQKOxdjTonFUFVFUWXbTLOf3VFUdVc5WFn1NorRP2SuBQetY+7OcsrwwvClheCwGdkRSl2O/vZpGkWWqfdomK7eaq5RPmMrhdP2o8SY5ltd3M6mty8pqznTq4SIPmoXNR1n3YzS12utGMtmS1vqTJg0iFLqpX9mObYo6uKpRfA7g5L8vgwaptlsqeCwoeg5yBkrIGMV7QePtQzYQzfDF7Jlfei1ppy1VUwcwsMQRY68XBsVcILT5djJnMcvWOrohPymzh2op2P2S6p8Zs56qPo/AodlbCf46hvtSIS3Ncz5P0cR/UkiumYPVHCz58geHlEu885GmUoBOgMQa88oiqYrej0BnAML5cpCrZlqgM4xhpGWrOxQHMGzsPrV1QED3lKKXQZQT2mkHDaEQ3gGJl4pB511CgFrUgVyJb/QleP1G/LTjhtgoJ7xcim4Jyi0iE2GQ+FCIrEMrxCai62QtmFCQzPkxLcjzSJTuEFYoIRJ9EJfI6UYDsmgsUsIcG4jODaC+ZICbbWPckcUl8MeiIQKxN7gc5aQoNcHSwU49HJbJESPOrGoBclmUWZ48hXEzYEBdtq1HI2BAUPY1En+C1igoUQT80Egeczzm2aDA+6fwL4m8SyKMOchJJlBF5WVFV+2T22L0SVy53jk5e6quoy2u+PXJmwd50Cywm8rvMno1bWvS4/enRV7soI9zbIdTIMkw245BUEWc4dX8FeMLt/sgU/ICe3XLJ+y5VApV7I6C/LCIcNR4fHRfApOcEsyjCjIJWQV3Id5LOUQuuh7B0vRAWzAW5X8Irf2yJ7pzmP/p7ccsmmix2jvNpt+d/wK7SLbkeSScbeeML0E5QK5o2mo7YuL/wkgmXC+o1irgkFOcgB0cLNAJJ10OIYr9bzymmw587OXsktl8YPwmq4BTmEs+g27wwj0SzKYKYZIZyD6GzXGkbSgi2cNJMphnRn8uhUIS3I4HQzSje8+1ktcsulyQP8dzOCGjDFLEL6MNv/EAoqyXPL0Hn+q+IHPgX1qK6e4fE4n/rMl6KQSZbgx1wqn//8A/SeRsjE8OI5jCdcKpXKf1FEVRSUZI0g89QWtBS/RIxUQU2YIPNsbJjKp9AiNVlZ1MJI3ZHPf4GgGLTVps/zB6mZ45cry0amG/UL++Yxl5pTzP8arigU4/VpCwJP54bQcfwqB4lUQU9YnbD4kEu5FH/zW/Aw6jTv7YZE3m2Yyj8ARipfifp1/eMO0vFk/Mo7pwoK3dvlobAUpJNI9Wxw5MQVCsYrSCeR6tHgCHLUb4vBU29BO1J/txSpKp175eHyEcjQbsVdZSOJacZV7t2KrlZcTV4pZJgXYL+UuxXnk9euMc7aF+441+AkbVE45tkKQytS7xocvhLTj+bhfL3K0IrUSYOj7Ef9sji8AFTDBcVxgyPkEremsAFWQ1ekWovGTCfql8UCUg3dkaonsCO1+ATN0G5wElntGWN1opk6/h77Kd/cI8s3kGejJJoJ3FNsw/s7ZHkFefYvPNaGAMEUtiBzf3ebKOeQZz9HH8In8TXcuQY/23v162n4PL6Gu6/Bz17Zs80M8achecNvwc9+gm6IL0jcMA1ONcYZqiH3dZwNwanmRR55CD+KseH2jgE0RC8WARINBUNgMkUvhw8CJBoKhm9Aj/4Y3RAYB3Ew3P0D6NE+Cn4AQQqGwHLxS+RUehZvwxvQoxFXhwGLBXlDcEFEN/wk3oa3oEcjt6Xcs3gbAks+uuGHa28YpKWhYLi9MUy84WYeIhgmNZeufz1cm54GaLgufSnYcF3WFuC+dG3WhzegR6/LGh+8PlyXfZrd74GGa7LXBt7FWJP9Uti2/nrseUP22tbk3AJ2+LQeZ0+QPe81OT/cBi4P1+UMGNy0UTvHJ31+eAN+to+7GA/+GF/D+5CHo96n4VJ/KuEb7uzikEY2hJxyo64QubM/s2IP1/Dez7B4i6oIu6ng+SmCh+A7lmXNGq4hJq9Rg3sXtvBBSTUc9x1r07ikJufwFtEQlkoZlPul3Nl7R5DVqpTUxhi3iFGafgv9OSv7Nu5dYyzISqUgy2DfXO+gBilwZeGw6p439xd2inZBSc4BeRpC+m4b+F19LvV+JshKdUpyDq9QUynsWpsN7HsL7t0P7Dw0BxE5SNOvVkweSEXk/sYuIpWoyDl8j1wrIHe+HIA3va02hnVDMZ2eI9d7+DRkgN+ucWc/LAmyrEhDzuYNcpCew64IO3ivgrm/evhZhrQam1eoQbpyGno3blzqO09BK06xu1NfXCMvR8A7iTOWw9RutAFQSjY36Ib3Vv+0pTCdtTFecdon78e8QV45pc8RGi13mHKgCJ0oUohT5Fm4ulY4LBR9Lg+M0Emckl9jIDdsluHKWmEz/+9iOEtBOCbp5s1AroVoQTr/b5tw8402EI1wyUBPM9BNqHnullBc/v1qP1txQFLwNWqxRw7SaefmbrQhigRb8Os0coyuWt7P4ZzQLDXakSgiL+2dIUQo92OsdTCXX260wUgmIUUDvVBsr9hlW+Sxd6NNX9FHloF+SrLE879D2hhvRSKB+q2PLIOycJqjJPk0JJJR/Qmi5xmbqujbMPS6aNz4Etzege3mL4MxiKxWD7OB85dkkPuZKReaf0PWbITXhl/f+jyiQi8VE+oYg8hKoS2mXvso9FhDyDBNnEG0FlOlMIbRuEE/TMMdQoYZYiQbexhDSDjVc385BmsIGeYSz9AaRjHYJmOzrrE//pz8EDLMAC9OLbQSfvm/rGkSKx38w59i+hbrmAgr2ThIWv0C65HNmmg6P+HgJ/R17/aKk23I40xcQ9uxVPVbHY3eUJxOjYNPb9GH0U9HukAfdyqOHRs1P3m12S9p879Sk/0nsqKvjnQeA6ezmX9JsdRHkjR6/ZIouh4mHfwLsSii7bB50gwyiM5bimJjWG1CH9KrDhtLeg4H/ztHGUacSjEFP5/OMEVNqverzaXXMJoXg1pJ0zztxooSStnAjlGHeoBsM4ckapZJoz6s9fuDfr9WG9Ybzh+Z8Hlgl41VkYq6wQbAkIJNxcX3lUxTtDFNCfXnWmUDPozpc/S9C096IcRpIA7+DY9U1B1EMGFMxUDAy0aAPDoFswUPD1jZ2MVr1xYxQso2ATj4FDAZ09sBJ+GYy0aI2QYPU/qPp6LPvRkgzTATKh7SwX89InUHZ83kyUXUU5H1bHACVsIFqlEnVNajbOyuvneRMEXXuhhz1Qsk8rJoc/DT9nQyBu5lYqo4XRentwP3MvFUNNlx2UinwxeMx1yclA0ygvZ5TeR1kR2XDUKC1kKDjYUi+yMpQau7aUTeo9oHQPBtkWBcliJvb8QS2VtYxjDifKMNiX8FMdCinIwajcuQPSmyyShRulpu1COKVJFojllgEEllpDAFZzTp51RTInpDcAmjv2IzN2y0OrUIvaNJczaaIt0BnDAQaYVqBAM4xjmSJo8o0f2acwErVEk7mlqN6recS1yUiFYOSRxS/uDY05HYOJpiVBPQRZVMrJrikM53VSj0hlrIeVUSzWE8xu+OZo0NcSAlrdGPfv65MaolyJm8Hz1Rq0dYH6A0+42gkpZeYxC/4ZvDkvS+O4KmJzb68Zp9njQHdda/pWXH1gcJ0Btz2avVGysvk0zlTCs06/1erIPTg8veYGhp2p4gUcl209j6cNBMmt0dxmWz2q8NS5Jm3w+ax/4DtjSs9S+al9H2naFgWKa9i8Fg0B9j/d9FzzJbA7UNGzZs2LBhQzz4P7gp2NndMM1XAAAAAElFTkSuQmCC",H1="/assets/facebook-BJ4qWEPU.png";function CU(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(0),[f,m]=N.useState(""),[g,v]=N.useState(!1),[S,A]=N.useState(null),[k,E]=N.useState({}),I=yt();N.useEffect(()=>{Wi($e,M=>{E(M)})},[]);const C=async()=>{v(!0);try{if(!t||!n||!i||!o||!f||c===0||!c)throw new Error("Rellene las casillas");if(!t.includes("@correo.unimet.edu.ve",-21)&&!t.includes("@unimet.edu.ve",-14))throw new Error("Dominio de correo incorrecto");if(n.length<8)throw new Error("Contraseña menor a 8 caractéres");if(c.length<11||c.length>13)throw new Error("Teléfono inválido");const M=await Hk($e,t,n),_=Te(ue,"Usuario",t),y={nombreCompleto:i+" "+o,email:t,facultad:f,telefono:c,admin:!1,pedidos:[],imageRef:Ds()};await Qr(_,y);const T=await Br(_);localStorage.setItem("admin",T.data().admin),localStorage.setItem("email",T.data().email),localStorage.setItem("nombreCompleto",T.data().nombreCompleto),localStorage.setItem("telefono",T.data().telefono),localStorage.setItem("facultad",T.data().facultad),localStorage.setItem("imageRef",T.data().imageRef),A(null),v(!1),localStorage.getItem("admin")==="true"?I("/menuadmin"):I("/"),scroll(0,0),location.reload()}catch(M){console.log(M.message),A(M.message),v(!1)}},L=async()=>{v(!0),Qu.setCustomParameters({prompt:"select_account"});try{const M=await Vu($e,Qu),_=Te(ue,"Usuario",$e.currentUser.email);let y=await Br(_);if(!y.data()){const T={nombreCompleto:$e.currentUser.displayName,email:$e.currentUser.email,facultad:"por definir",telefono:$e.currentUser.phoneNumber,admin:!1,pedidos:[],imageRef:Ds()};await Qr(_,T)}y=await Br(_),localStorage.setItem("admin",y.data().admin),localStorage.setItem("email",y.data().email),localStorage.setItem("nombreCompleto",y.data().nombreCompleto),localStorage.setItem("telefono",y.data().telefono),localStorage.setItem("facultad",y.data().facultad),localStorage.setItem("imageRef",y.data().imageRef),A(null),v(!1),localStorage.getItem("admin")==="true"?I("/menuadmin"):I("/"),scroll(0,0),location.reload()}catch(M){console.log(M.message),A(M.message),v(!1)}},V=async()=>{v(!0);try{await Vu($e,z1),A(null),v(!1),localStorage.getItem("admin")==="true"?I("/menuadmin"):I("/")}catch(M){console.log(M.message),A(M.message),v(!1)}};return d.jsx("div",{className:yn.pageContainer,children:k?I("/"):d.jsxs("div",{className:yn.boxContainer,children:[d.jsx("div",{className:yn.titleContainer,children:d.jsx("h2",{children:"Registrarse"})}),d.jsxs("div",{className:yn.container,children:[d.jsxs("div",{className:yn.column,children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",onChange:M=>{s(M.target.value)}}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",onChange:M=>{l(M.target.value)}}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{type:"text",placeholder:"Facultad",onChange:M=>{m(M.target.value)}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{type:"text",placeholder:"Teléfono (XXXX-XXX-XXXX)",onChange:M=>{u(M.target.value)}}),d.jsx("button",{className:g?yn.buttonDisable:yn.button,onClick:C,children:"Registrarse"}),d.jsx("p",{className:"errorSignup",children:S})]}),d.jsxs("div",{className:yn.column,children:[d.jsx("h2",{children:"Correo"}),d.jsx("input",{type:"email",placeholder:"Correo electrónico",onChange:M=>{e(M.target.value)}}),d.jsx("h2",{children:"Contraseña"}),d.jsx("input",{type:"password",placeholder:"Contraseña",onChange:M=>{r(M.target.value)}}),d.jsxs("div",{className:yn.center,children:[d.jsx("h3",{children:"¿Ya estás registrado?"}),d.jsx(he,{to:"/login",className:yn.loginButton,children:"Iniciar Sesión"}),d.jsxs("div",{className:yn.imageButtonsContainer,children:[d.jsx("button",{className:yn.imageButton,onClick:()=>L(),children:d.jsx("img",{src:$1,alt:"google"})}),d.jsx("button",{className:yn.imageButton,onClick:()=>V(),children:d.jsx("img",{src:H1,alt:"facebook"})})]})]})]})]})]})})}const AU="_pageContainer_1rnvi_1",RU="_boxContainer_1rnvi_17",PU="_titleContainer_1rnvi_39",xU="_container_1rnvi_51",kU="_center_1rnvi_63",NU="_loginButton_1rnvi_79",bU="_button_1rnvi_119",DU="_buttonDisable_1rnvi_151",jU="_imageButtonsContainer_1rnvi_175",LU="_imageButton_1rnvi_175",OU="_errorLabel_1rnvi_213",Rr={pageContainer:AU,boxContainer:RU,titleContainer:PU,container:xU,center:kU,loginButton:NU,button:bU,buttonDisable:DU,imageButtonsContainer:jU,imageButton:LU,errorLabel:OU};function MU(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState({}),f=yt();N.useEffect(()=>{Wi($e,S=>{u(S)})},[]);const m=async()=>{s(!0);try{if(!t||!n)throw new Error("Rellene las casillas");if(n.length<8)throw new Error("Contraseña menor a 8 caractéres");const S=await qk($e,t,n),A=Te(ue,"Usuario",$e.currentUser.email),k=await Br(A);localStorage.setItem("admin",k.data().admin),localStorage.setItem("email",k.data().email),localStorage.setItem("nombreCompleto",k.data().nombreCompleto),localStorage.setItem("telefono",k.data().telefono),localStorage.setItem("facultad",k.data().facultad),localStorage.setItem("imageRef",k.data().imageRef),l(null),s(!1),localStorage.getItem("admin")==="true"?f("/menuadmin"):f("/"),scroll(0,0),location.reload()}catch(S){console.log(S.message),l(S.message),s(!1)}},g=async()=>{s(!0),Qu.setCustomParameters({prompt:"select_account"});try{const S=await Vu($e,Qu),A=Te(ue,"Usuario",$e.currentUser.email);let k=await Br(A);if(!k.data()){const E={nombreCompleto:$e.currentUser.displayName,email:$e.currentUser.email,facultad:"por definir",telefono:$e.currentUser.phoneNumber,admin:!1,pedidos:[],imageRef:Ds()};await Qr(A,E)}k=await Br(A),localStorage.setItem("admin",k.data().admin),localStorage.setItem("email",k.data().email),localStorage.setItem("nombreCompleto",k.data().nombreCompleto),localStorage.setItem("telefono",k.data().telefono),localStorage.setItem("facultad",k.data().facultad),localStorage.setItem("imageRef",k.data().imageRef),l(null),s(!1),localStorage.getItem("admin")==="true"?f("/menuadmin"):f("/"),scroll(0,0),location.reload()}catch(S){console.log(S.message),l(S.message),s(!1)}},v=async()=>{s(!0);try{await Vu($e,z1),l(null),s(!1),localStorage.getItem("admin")==="true"?f("/menuadmin"):f("/")}catch(S){console.log(S.message),l(S.message),s(!1)}};return d.jsx("div",{className:Rr.pageContainer,children:d.jsxs("div",{className:Rr.boxContainer,children:[d.jsx("div",{className:Rr.titleContainer,children:d.jsx("h2",{children:"Iniciar Sesión"})}),d.jsx("h2",{children:"Correo"}),d.jsx("input",{type:"email",placeholder:"Correo electrónico",onChange:S=>{e(S.target.value)}}),d.jsx("h2",{children:"Contraseña"}),d.jsx("input",{type:"password",placeholder:"Contraseña",onChange:S=>{r(S.target.value)}}),d.jsxs("div",{className:Rr.center,children:[d.jsxs("div",{className:Rr.imageButtonsContainer,children:[d.jsx("button",{className:Rr.imageButton,onClick:()=>g(),children:d.jsx("img",{src:$1,alt:"google"})}),d.jsx("button",{className:Rr.imageButton,onClick:()=>v(),children:d.jsx("img",{src:H1,alt:"facebook"})})]}),d.jsx("button",{className:i?Rr.buttonDisable:Rr.button,onClick:m,children:"Iniciar sesión"}),d.jsx("p",{className:"errorSignin",children:o})]})]})})}function VU(){return d.jsxs("div",{children:[d.jsx("div",{className:G.slogan,children:d.jsxs("h1",{children:["La página no se ha ",d.jsx("span",{className:G.colored,children:"encontrado"})," o no está disponible"]})}),d.jsxs("div",{className:G.errorMessage,children:[d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("h1",{children:"Intente ingresar dentro de unos momentos o acceda a otra sección del sistema"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx("div",{className:G.contactos,style:{backgroundImage:`url(${Ki})`},children:d.jsxs("div",{className:G.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsx("h2",{children:" delipernil@gmail.com"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:G.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:G.social,src:Zr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:G.social,src:ei,alt:"Logo"})})]})]})})]})}const UU="_pageContainer_r6n6l_1",FU="_boxContainer_r6n6l_17",BU="_titleContainer_r6n6l_35",zU="_container_r6n6l_45",$U="_loginButton_r6n6l_57",HU="_errorLabel_r6n6l_99",qU="_perfil_r6n6l_111",WU="_perfil2_r6n6l_131",GU="_buttonProf_r6n6l_171",Et={pageContainer:UU,boxContainer:FU,titleContainer:BU,container:zU,loginButton:$U,errorLabel:HU,perfil:qU,perfil2:WU,buttonProf:GU};function KU(){const t=localStorage.getItem("admin")==="true",[e,n]=N.useState({});N.useEffect(()=>{Wi($e,c=>{n(c)})},[]);const r=async()=>{await Qy($e),localStorage.removeItem("admin"),localStorage.removeItem("email"),localStorage.removeItem("nombreCompleto"),localStorage.removeItem("telefono"),localStorage.removeItem("facultad"),localStorage.removeItem("imageRef"),i("/"),scroll(0,0),location.reload()},i=yt(),s=async()=>{try{const c=Mo(qo,`profileImages/${localStorage.getItem("imageRef")}`);YI(c)}catch(c){console.log(c)}};async function o(){try{await l(),await s();const c=NI();await Kk(c.currentUser).then(()=>{console.log("User deleted"),scroll(0,0),location.reload()}).catch(u=>{console.error("Error deleting user: ",u)}),await Qy(c)}catch(c){console.error("Error in handleDeleteAndSignOut: ",c)}}async function l(){try{const c=localStorage.getItem("email"),u=Te(ue,"Usuario",c);await bs(u)}catch(c){console.error("Error updating document: ",c)}}return d.jsx("div",{children:e?d.jsx("div",{className:Et.pageContainer,children:d.jsxs("div",{className:Et.boxContainer,children:[d.jsx("div",{className:Et.titleContainer,children:d.jsx("h2",{children:"Perfil"})}),d.jsx("div",{className:Et.container,children:d.jsxs("div",{className:Et.column,children:[t&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",onChange:c=>{}}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",onChange:c=>{}}),d.jsx(he,{className:Et["nav-link"],to:"/menuadmin",children:"Regresar"})]}),!t&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Nombre Completo"}),d.jsx("input",{disabled:!0,type:"text",placeholder:"Nombre",value:localStorage.getItem("nombreCompleto"),onChange:c=>{}}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{disabled:!0,type:"text",placeholder:"Facultad",value:localStorage.getItem("facultad"),onChange:c=>{}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{disabled:!0,type:"number",placeholder:"Teléfono",value:localStorage.getItem("telefono"),onChange:c=>{}}),d.jsx(he,{className:Et.buttonProf,onClick:()=>{scroll(0,0)},to:"/",children:d.jsx("h3",{children:"Regresar"})}),d.jsx(he,{className:Et.buttonProf,onClick:()=>{scroll(0,0)},to:"/perfil/editarperfil",children:d.jsx("h3",{children:"Editar"})}),d.jsx(he,{className:Et.buttonProf,to:"/",onClick:o,children:d.jsx("h3",{children:"Eliminar"})})]}),d.jsx("button",{className:Et.button,onClick:r,children:"Cerrar Sesión"})]})})]})}):i("/acceder")})}const QU="/assets/profile-user-DfsRXmBN.png";function YU(){const[t,e]=N.useState({});N.useEffect(()=>{Wi($e,E=>{e(E)})},[]);const n=yt(),[r,i]=N.useState(""),[s,o]=N.useState(null),l=async()=>{try{const E=Mo(qo,`profileImages/${localStorage.getItem("imageRef")}`),I=await QI(E);i(I)}catch{}},c=async()=>{if(s==null){scroll(0,0),n("/perfil"),location.reload();return}const E=Mo(qo,`profileImages/${localStorage.getItem("imageRef")}`);KI(E,s).then(()=>{console.log("Image uploaded!"),scroll(0,0),n("/perfil"),location.reload()})};l();let u="",f="",m="";const g=E=>{u=E},v=E=>{f=E},S=E=>{m=E},A=["Ingeniería","FACES","Idiomas Modernos","Derecho"];async function k(){try{u.length===0&&g(localStorage.getItem("nombreCompleto")),m.length===0&&S(localStorage.getItem("telefono")),f.length===0&&v(localStorage.getItem("facultad"));const E=Te(ue,"Usuario",localStorage.getItem("email"));await Yr(E,{nombreCompleto:u,facultad:f,telefono:m}),localStorage.setItem("nombreCompleto",u),localStorage.setItem("telefono",m),localStorage.setItem("facultad",f),c()}catch(E){console.error("Error updating document: ",E)}}return d.jsx("div",{className:Et.pageContainer,children:t?d.jsxs("div",{className:Et.boxContainer,children:[d.jsx("div",{className:Et.titleContainer,children:d.jsx("h2",{children:"Perfil del Usuario"})}),d.jsxs("div",{className:Et.perfil,children:[d.jsxs("div",{className:Et.perfil1,children:[d.jsx("h2",{children:"Nombre Completo"}),d.jsx("input",{type:"text",placeholder:"Nombre completo",onChange:E=>{g(E.target.value)}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{type:"text",placeholder:"Teléfono",onChange:E=>{S(E.target.value)}}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{type:"text",list:"facultadOptions",placeholder:"Facultad",onChange:E=>{v(E.target.value)}}),d.jsx("datalist",{id:"facultadOptions",children:A.map(E=>d.jsx("option",{value:E},E))})]}),d.jsxs("div",{className:Et.perfil2,children:[d.jsx("h2",{children:"Foto de Perfil"}),d.jsx("img",{className:Et.perfil,src:r||QU,alt:"Logo"}),d.jsx("input",{type:"file",accept:"image/*",onChange:E=>{o(E.target.files[0])}}),d.jsx("button",{onClick:()=>{k()},children:"Actualizar"}),d.jsx(he,{className:Et["nav-link"],onClick:()=>{scroll(0,0)},to:"/perfil",children:"Regresar"})]})]})]}):n("/acceder")})}const XU="_menu_1kn47_1",JU="_categoriaContainer_1kn47_27",ZU="_platilloContainer_1kn47_51",eF="_slogan_1kn47_67",tF="_app_1kn47_81",nF="_slogant_1kn47_95",rF="_titulocombo_1kn47_115",iF="_description_1kn47_123",sF="_slider_1kn47_157",oF="_botonesMenu_1kn47_281",aF="_botonMenu_1kn47_309",lF="_combo_1kn47_333",Ve={menu:XU,categoriaContainer:JU,platilloContainer:ZU,slogan:eF,app:tF,slogant:nF,titulocombo:rF,description:iF,"toggle-switch":"_toggle-switch_1kn47_135",slider:sF,"on-label":"_on-label_1kn47_237","off-label":"_off-label_1kn47_239",botonesMenu:oF,botonMenu:aF,combo:lF};function cF(){N.useState(!1);const[t,e]=N.useState([]),[n,r]=N.useState([]);N.useEffect(()=>{const g=gs(nt(ue,"Pedidos"),v=>{v.forEach(S=>{S.data().activo&&(alert("¡Un pedido está activo!"),c("/historial"))})});return()=>g()},[]),N.useEffect(()=>{const g=gs(nt(ue,"Categoria"),v=>{const S=[];v.forEach(A=>{S.push({id:A.id,data:A.data()})}),e(S)});return()=>g()},[]),N.useEffect(()=>{const g=gs(nt(ue,"Combos"),v=>{const S=[];v.forEach(A=>{S.push({id:A.id,data:A.data()})}),r(S)});return()=>g()},[]);const i=async g=>{try{const v=Te(ue,"Combos",g);console.log(g);const S=n.map(A=>A.id===g?{...A,data:{...A.data,disponible:!A.data.disponible}}:A);await Yr(v,{disponible:!n.find(A=>A.id===g).data.disponible}),console.log("Document successfully updated!"),e(S)}catch(v){console.error("Error updating document: ",v)}};async function s(g){try{const v=Te(ue,"Combos",g);await bs(v),console.log("Categoria successfully deleted!")}catch(v){console.error("Error deleting categoria: ",v)}}const o=()=>t.map(g=>d.jsxs("div",{className:Ve.categoriaContainer,children:[d.jsxs(he,{onClick:()=>{scroll(0,0)},to:{pathname:`/menuadmin/adminplatillos/${g.id}`,state:{categoriaId:g.id}},className:Ve.linkCategoria,children:[d.jsx("h2",{className:Ve.titulocarta,children:g.data.Categoria}),d.jsxs("p",{children:["Disponible: ",g.data.disponible?"Sí":"No"]})]}),d.jsx("button",{onClick:()=>u(g.id),children:"Actualizar Disponible"}),d.jsx("button",{onClick:()=>f(g.id),children:"Eliminar Categoría"})]},g.id)),l=()=>n.map(g=>d.jsxs("div",{className:Ve.categoriaContainer,children:[d.jsxs("div",{className:Ve.color_descripcion,children:[d.jsx("h1",{className:Ve.titulocombo,children:g.data.combo}),d.jsx("p",{className:Ve.description,children:g.data.descripcion}),d.jsx("p",{children:g.data.precio}),d.jsx("button",{onClick:()=>s(g.id),children:"Eliminar"}),d.jsxs("p",{className:Ve.description,children:["Disponible: ",g.data.disponible?"Sí":"No"]}),d.jsx("button",{onClick:()=>i(g.id),children:"Actualizar Disponible"})]}),d.jsx("div",{})]},g.id)),c=yt(),u=async g=>{try{const v=Te(ue,"Categoria",g),S=t.map(A=>A.id===g?{...A,data:{...A.data,disponible:!A.data.disponible}}:A);await Yr(v,{disponible:!t.find(A=>A.id===g).data.disponible}),console.log("Document successfully updated!"),e(S)}catch(v){console.error("Error updating document: ",v)}};async function f(g){try{const v=Te(ue,"Categoria",g);await bs(v),console.log("Categoria successfully deleted!")}catch(v){console.error("Error deleting categoria: ",v)}}const m=()=>t.map(g=>d.jsx(he,{onClick:()=>{scroll(0,0)},to:{pathname:`/menuadmin/adminplatillos/${g.id}`,state:{categoriaId:g.id}},className:Ve.botonMenu,children:d.jsx("h2",{className:Ve.tituloboton,children:g.data.Categoria})},g.id));return d.jsx("div",{className:Ve.app,children:localStorage.getItem("admin")!="true"?c("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Ve.slogan,children:d.jsx("h1",{className:Ve.slogant,children:"ADMIN"})}),d.jsx("div",{className:Ve.botonesMenu,children:m()}),d.jsxs("div",{className:Ve.botonesMenu,children:[d.jsx(he,{className:`${Ve["nav-link"]} ${Ve.botonMenu}`,to:"/menuadmin/editarmenu",children:"Editar Menu"}),d.jsx(he,{className:`${Ve["nav-link"]} ${Ve.botonMenu}`,to:"/menuadmin/eamenu",children:"Agregar o Eliminar Menu"}),d.jsx(he,{className:`${Ve["nav-link"]} ${Ve.botonMenu}`,to:"/menuadmin/editarcombo",children:"Editar Combo"}),d.jsx(he,{className:`${Ve["nav-link"]} ${Ve.botonMenu}`,to:"/menuadmin/eacombo",children:"Agregar o Eliminar Combo"})]}),d.jsx("h1",{children:"Combos"}),d.jsx("div",{className:Ve.combo,children:l()}),d.jsx("h1",{children:"Menu"}),d.jsx("div",{className:Ve.menu,children:o()})]})})}const uF="_tm_mr8ic_69",dF="_botonesMenu_mr8ic_91",hF="_botonMenu_mr8ic_115",fF="_botonMenuC_mr8ic_149",pF="_tituloboton_mr8ic_173",mF="_titulo_categoria_mr8ic_181",gF="_categoria_mr8ic_191",_F="_platillos_mr8ic_217",yF="_titulo_platillo_mr8ic_235",vF="_button_mr8ic_247",wF="_Description_platillo_mr8ic_281",EF="_platillos_impar_mr8ic_305",IF="_platillos_descripcion_mr8ic_339",TF="_combos_mr8ic_381",SF="_zonacombos_mr8ic_403",CF="_descripcioncombos_mr8ic_427",AF="_buttonc_mr8ic_445",RF="_carrusel_mr8ic_477",PF="_slide_mr8ic_489",xF="_combocontenido_mr8ic_511",kF="_comboImage_mr8ic_529",NF="_comboDescription_mr8ic_547",bF="_active_mr8ic_557",DF="_menu_mr8ic_585",jF="_titulomenu_mr8ic_599",LF="_titulocarta_mr8ic_611",OF="_catalogo_mr8ic_619",MF="_plamenu_mr8ic_639",VF="_cartamenu_mr8ic_659",UF="_contactos_mr8ic_707",FF="_containerContactos_mr8ic_719",BF="_redesSociales_mr8ic_741",zF="_social_mr8ic_753",$F="_platilloContainer_mr8ic_765",vt={tm:uF,botonesMenu:dF,botonMenu:hF,botonMenuC:fF,tituloboton:pF,titulo_categoria:mF,categoria:gF,platillos:_F,titulo_platillo:yF,button:vF,Description_platillo:wF,platillos_impar:EF,platillos_descripcion:IF,combos:TF,zonacombos:SF,descripcioncombos:CF,buttonc:AF,carrusel:RF,slide:PF,combocontenido:xF,comboImage:kF,comboDescription:NF,active:bF,"slide-content":"_slide-content_mr8ic_571",menu:DF,titulomenu:jF,titulocarta:LF,catalogo:OF,plamenu:MF,cartamenu:VF,contactos:UF,containerContactos:FF,redesSociales:BF,social:zF,platilloContainer:$F};function HF(){var g;N.useState(0);const[t,e]=N.useState([]),[n,r]=N.useState([]),i=Yo();(g=i.state)==null||g.categoriaId;const s=yt(),{categoId:o}=bE(),[l,c]=N.useState({});N.useEffect(()=>{Wi($e,v=>{c(v)})},[]),N.useEffect(()=>{(async()=>{try{const A=nt(ue,"Categoria",o,"Platillos"),E=(await yr(A)).docs.map(I=>({id:I.id,data:I.data()}));r(E)}catch(S){console.error("Error fetching platillos:",S)}})()},[]);const u=()=>n.map(v=>v.data.disponible?d.jsxs("div",{className:vt.platillos_impar,children:[d.jsxs("div",{className:vt.platillos_descripcion,children:[d.jsx("h1",{className:vt.titulo_platillo,children:v.data.nombre}),d.jsxs("p",{children:[vt.description,v.data.descripcion]}),d.jsxs("p",{children:["$ ",v.data.precio]}),d.jsx("button",{onClick:l?()=>{m(v.data)}:()=>{s("/compra"),scroll(0,0)},className:vt.button,children:"Comprar"})]}),d.jsx("div",{})]},v.id):null);N.useEffect(()=>{const v=gs(nt(ue,"Categoria"),S=>{const A=[];S.forEach(k=>{A.push({id:k.id,data:k.data()})}),e(A)});return()=>v()},[]);const f=()=>t.filter(S=>S.data.disponible).map(S=>d.jsx(he,{to:{pathname:`/menu/platillos/${S.id}`,state:{categoriaId:S.id}},className:vt.botonMenu,onClick:()=>{i.reload(),scroll(0,0)},children:d.jsx("h2",{className:vt.tituloboton,children:S.data.Categoria})},S.id)),m=async v=>{try{const S=Te(ue,"Usuario",localStorage.getItem("email")),k=(await Br(S)).data().pedidos;console.log(n),await Yr(S,{pedidos:[...k,v]}),s("/compra"),scroll(0,0)}catch(S){console.log(S)}};return d.jsxs("div",{className:vt.pageContainer,children:[d.jsx("div",{className:vt.botonesMenu,children:f()}),d.jsxs("div",{className:vt.categoria,children:[d.jsx("h1",{className:vt.titulo_categoria,children:"Platillos"}),d.jsx("div",{className:vt.platillos,children:d.jsx("div",{className:vt.catalogo,children:u()})})]}),d.jsx("div",{className:vt.contactos,style:{backgroundImage:`url(${Ki})`},children:d.jsxs("div",{className:vt.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:vt.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:vt.social,src:Zr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:vt.social,src:ei,alt:"Logo"})})]})]})})]})}const qF="_slogan_cpt4j_73",WF="_formularioayuda_cpt4j_109",GF="_formularioInfo_cpt4j_127",KF="_formulario1_cpt4j_139",QF="_formulario2_cpt4j_141",YF="_inputting_cpt4j_149",XF="_button_cpt4j_159",JF="_contactos_cpt4j_185",ZF="_containerContactos_cpt4j_197",e4="_redesSociales_cpt4j_219",t4="_social_cpt4j_231",tn={slogan:qF,formularioayuda:WF,formularioInfo:GF,formulario1:KF,formulario2:QF,inputting:YF,button:XF,contactos:JF,containerContactos:ZF,redesSociales:e4,social:t4};function n4(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(""),[f,m]=N.useState(!1);async function g(){try{let v=i;f&&(v="anonimo");const S=Te(ue,"FeedBack",v);await Qr(S,{nombreCompleto:t+" "+n,email:v,comentario:c,telefono:o,anonimo:f}),console.log("Document written with ID: ",i),e("")}catch(v){console.error("Error adding document: ",v)}}return d.jsxs("div",{children:[d.jsx("div",{className:tn.slogan,children:d.jsx("h1",{className:tn.slogant,children:"Dejanos tu reseña"})}),d.jsxs("div",{className:tn.formularioayuda,children:[d.jsx("h2",{children:"RELLENA LAS CASILLAS CON TUS DATOS"}),d.jsxs("div",{className:tn.formulario,children:[d.jsxs("div",{className:tn.formularioInfo,children:[d.jsxs("div",{className:tn.formulario1,children:[d.jsx("h3",{children:"Nombre"}),d.jsx("input",{type:"text",value:t,onChange:v=>e(v.target.value)}),d.jsx("h3",{children:"Apellido"}),d.jsx("input",{type:"text",value:n,onChange:v=>r(v.target.value)})]}),d.jsxs("div",{className:tn.formulario2,children:[d.jsx("h3",{children:"Correo"}),d.jsx("input",{type:"text",value:i,onChange:v=>s(v.target.value)}),d.jsx("h3",{children:"Teléfono"}),d.jsx("input",{type:"text",value:o,onChange:v=>l(v.target.value)})]})]}),d.jsxs("div",{className:tn.anonimo,children:[d.jsx("h3",{children:"Anónimo?"}),d.jsx("input",{type:"checkbox",checked:f,onChange:v=>m(v.target.checked)})]}),d.jsx("h3",{children:"DINOS LO QUE PIENSAS"}),d.jsx("input",{className:tn.inputting,type:"text",value:c,onChange:v=>u(v.target.value)})]}),d.jsx("button",{className:tn.button,onClick:g,children:"Enviar"})]}),d.jsx("div",{className:tn.contactos,style:{backgroundImage:`url(${Ki})`},children:d.jsxs("div",{className:tn.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:tn.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:tn.social,src:Zr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:tn.social,src:ei,alt:"Logo"})})]})]})})]})}const r4="_container_wzjoo_1",i4="_title_wzjoo_23",s4="_table_wzjoo_37",o4="_tableHeader_wzjoo_53",a4="_tableRow_wzjoo_81",ka={container:r4,title:i4,table:s4,tableHeader:o4,tableRow:a4};function l4(){const t=yt(),[e,n]=N.useState([]),[r,i]=N.useState({});N.useEffect(()=>{const o=async()=>{const u=(await yr(nt(ue,"Pedidos"))).docs.map(f=>f.data());n(u)},l=async()=>{const c=await yr(nt(ue,"Usuario")),u={};c.forEach(f=>{u[f.id]=f.data()}),i(u)};o(),l()},[]);const s=()=>{const o=e.filter(l=>!l.activo);return console.log(o),o.length===0?d.jsx("p",{children:"No hay pedidos finalizados."}):o.map(l=>{var c,u,f,m;return d.jsxs("div",{className:ka.tableRow,children:[d.jsx("p",{children:(c=r[l.emailCliente])==null?void 0:c.nombreCompleto}),d.jsx("p",{children:(u=r[l.emailCliente])==null?void 0:u.email}),d.jsx("p",{children:(f=r[l.emailCliente])==null?void 0:f.facultad}),d.jsx("p",{children:(m=r[l.emailCliente])==null?void 0:m.telefono})]},l.id)})};return d.jsx("div",{className:ka.container,children:localStorage.getItem("admin")!="true"?t("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:ka.title,children:"Historial"}),d.jsxs("div",{className:ka.table,children:[d.jsxs("div",{className:ka.tableHeader,children:[d.jsx("div",{children:"Nombre Completo"}),d.jsx("div",{children:"Email"}),d.jsx("div",{children:"Facultad"}),d.jsx("div",{children:"Teléfono"})]}),e.length>0?d.jsx("div",{children:s()}):d.jsx("p",{children:"No hay pedidos finalizados."})]})]})})}const c4="_pedidosActualesContainer_u9vw6_1",u4="_pedidosActualesTitle_u9vw6_21",d4="_pedidoCard_u9vw6_39",h4="_pedidoNumber_u9vw6_57",f4="_pedidoInfo_u9vw6_81",p4="_menu_u9vw6_93",m4="_pedidoContainer_u9vw6_113",g4="_pag_u9vw6_133",Ye={pedidosActualesContainer:c4,pedidosActualesTitle:u4,pedidoCard:d4,pedidoNumber:h4,pedidoInfo:f4,menu:p4,pedidoContainer:m4,pag:g4};function _4(){const[t,e]=N.useState([]),[n,r]=N.useState({});N.useEffect(()=>{const o=async()=>{const u=(await yr(nt(ue,"Pedidos"))).docs.map(f=>f.data());e(u)},l=async()=>{const c=await yr(nt(ue,"Usuario")),u={};c.forEach(f=>{u[f.id]=f.data()}),r(u)};o(),l()},[]);const i=()=>{const o=t.filter(l=>l.activo);return console.log(o),o.length===0?d.jsx("p",{children:"No hay pedidos activos."}):o.map(l=>{var c;return d.jsxs("div",{className:Ye.pedidoContainer,children:[d.jsxs("p",{children:["Email del Cliente: ",l.emailCliente]}),d.jsxs("p",{children:["Nombre del Cliente: ",(c=n[l.emailCliente])==null?void 0:c.nombreCompleto]})]},l.id)})},s=yt();return d.jsx("div",{className:Ye.pag,children:localStorage.getItem("admin")!="true"?s("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Ye.pedidosActualesContainer,children:d.jsx("h2",{className:Ye.pedidosActualesTitle,children:"Pedidos Actuales"})}),t.length>0?d.jsx("div",{className:Ye.menu,children:i()}):d.jsx("p",{children:"No hay pedidos actuales."})]})})}const y4="_container_sirdj_1",v4="_title_sirdj_23",w4="_card_sirdj_43",E4="_cardImage_sirdj_65",I4="_cardTitle_sirdj_81",T4="_cardOrders_sirdj_93",S4="_pagcontainer_sirdj_103",C4="_comentarioContainer_sirdj_117",A4="_containerC_sirdj_135",R4="_comentarioinfo_sirdj_153",lr={container:y4,title:v4,card:w4,cardImage:E4,cardTitle:I4,cardOrders:T4,pagcontainer:S4,comentarioContainer:C4,containerC:A4,comentarioinfo:R4};function P4(){const[t,e]=N.useState([]),[n,r]=N.useState([]),i=yt();N.useEffect(()=>{(async()=>{const c=(await yr(nt(ue,"Feedback"))).docs.map(u=>u.data());e(c)})()},[]),N.useEffect(()=>{const o=gs(nt(ue,"FeedBack"),l=>{const c=[];l.forEach(u=>{c.push({id:u.id,data:u.data()})}),e(c)});return()=>o()},[]);const s=()=>t.map(o=>d.jsxs("div",{className:lr.comentarioContainer,children:[d.jsxs("h1",{children:["Email: ",o.id]}),d.jsxs("div",{className:lr.comentarioinfo,children:[d.jsxs("h2",{children:["Nombre: ",o.data.nombreCompleto]}),d.jsxs("p",{children:[" ",o.data.comentario]}),d.jsxs("h3",{children:["Telefono: ",o.data.telefono]})]})]},o.id));return N.useEffect(()=>{(async()=>{const l=nt(ue,"Pedidos"),c=await yr(l),u={};c.forEach(g=>{g.data().pedidos.forEach(S=>{const A=S.nombre;u[A]=u[A]?u[A]+1:1})});const m=Object.entries(u).sort((g,v)=>v[1]-g[1]);console.log(m),r(m)})()},[]),d.jsx("div",{className:lr.pagcontainer,children:localStorage.getItem("admin")!="true"?i("/acceder"):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:lr.container,children:[d.jsx("h2",{className:lr.title,children:"Producto Más Vendido"}),d.jsx("div",{children:n.map(o=>d.jsxs("div",{className:lr.card,children:[d.jsx("p",{className:lr.cardTitle,children:o[0]}),d.jsxs("p",{className:lr.cardOrders,children:["Número de pedidos: ",o[1]]})]},o[0]))})]}),d.jsx("h2",{className:lr.title,children:"Comentarios"}),d.jsx("div",{className:lr.containerC,children:s()})]})})}const x4="_margin_1gzpg_1",k4={margin:x4};function N4(t){const e=N.useRef(),n=yt();let r=[],i=0;const s=async()=>{try{const o=Te(ue,"Usuario",localStorage.getItem("email")),c=(await Br(o)).data().pedidos;r=c;const u=f=>{i+=f.precio};c.forEach(u),t.totalPago(i),t.platillosCliente(r)}catch{}};return N.useEffect(()=>{s(),window.paypal.Buttons({createOrder:(o,l,c)=>l.order.create({intent:"CAPTURE",purchase_units:[{description:"Compra",amount:{currency_code:"USD",value:i}}]}),onApprove:async(o,l)=>{const c=await l.order.capture();console.log(c);const u=Te(ue,"Usuario",localStorage.getItem("email")),f={nombreCompleto:localStorage.getItem("nombreCompleto"),email:localStorage.getItem("email"),facultad:localStorage.getItem("facultad"),telefono:localStorage.getItem("telefono"),admin:localStorage.getItem("admin"),pedidos:[],imageRef:localStorage.getItem("imageRef")};await Qr(u,f);const m=Te(ue,"Pedidos",Ds()),g={emailCliente:localStorage.getItem("email"),pedidos:r,activo:!0};await Qr(m,g),console.log("Successful order"),n("/")},onError:o=>{console.log(o),console.log("Error: Transaction failed")}}).render(e.current)},[]),d.jsx("div",{className:k4.margin,children:d.jsx("div",{className:"payButtons",ref:e})})}const b4="_slogan_15anr_71",D4="_colored_15anr_71",j4="_pasos_15anr_111",L4="_uno_15anr_127",O4="_purpleLink_15anr_187",M4="_loginButton_15anr_211",V4="_dos_15anr_235",U4="_rp_15anr_257",F4="_rpButton_15anr_291",B4="_paypalButton_15anr_313",z4="_contactos_15anr_377",$4="_containerContactos_15anr_387",H4="_redesSociales_15anr_407",q4="_social_15anr_419",wt={slogan:b4,colored:D4,pasos:j4,uno:L4,purpleLink:O4,loginButton:M4,dos:V4,rp:U4,rpButton:F4,paypalButton:B4,contactos:z4,containerContactos:$4,redesSociales:H4,social:q4};function W4(){const[t,e]=N.useState({}),[n,r]=N.useState(0),[i,s]=N.useState([]);N.useEffect(()=>{Wi($e,u=>{e(u)})},[]);const o=u=>{r(u)},l=u=>{s(u)},c=async()=>{try{const u=Te(ue,"Usuario",localStorage.getItem("email"));await Yr(u,{pedidos:[]}),location.reload()}catch(u){console.log(u)}};return d.jsxs("div",{children:[d.jsx("div",{className:wt.slogan,children:d.jsxs("h1",{children:[d.jsx("span",{className:wt.colored,children:"Finalización de Compra"})," "]})}),d.jsx("hr",{}),d.jsxs("div",{className:wt.pasos,children:[d.jsxs("div",{className:t?wt.dos:wt.uno,children:[d.jsx("h1",{children:"1.  Registrarse"}),t?d.jsx(d.Fragment,{}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Para poder comprar y disfrutar de los productos que ofrecemos"}),d.jsx("h2",{children:"Regístrate o Inicia Sesión"}),d.jsx(he,{to:"/acceder",className:`${wt["nav-link"]} ${wt.purpleLink}`,children:"Registrarse"}),d.jsx(he,{to:"/login",className:wt.loginButton,children:"Iniciar Sesion"})]})]}),d.jsxs("div",{className:t?wt.uno:wt.dos,children:[d.jsx("h1",{children:"2. Pago"}),t?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:wt.rpButton,children:d.jsx(N4,{totalPago:o,platillosCliente:l})}),d.jsxs("div",{className:wt.rp,children:[d.jsx("h1",{children:"Resumen del Pedido"}),i!=[]||i!=[{}]?i.map(u=>d.jsxs("h2",{children:[u.nombre," - $ ",u.precio]},u.nombre)):d.jsx("h2",{children:"No tiene platillos a pedir"}),d.jsxs("h1",{children:["Total Bs. = $ ",isNaN(n)?0:n]}),d.jsx("div",{children:d.jsx("button",{className:wt.paypalButton,onClick:()=>{c()},children:"Vaciar pedido"})})]})]}):d.jsx(d.Fragment,{})]})]}),d.jsx("div",{className:wt.contactos,style:{backgroundImage:`url(${Ki})`},children:d.jsxs("div",{className:wt.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsx("h2",{children:" delipernil@gmail.com"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:wt.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:wt.social,src:Zr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:wt.social,src:ei,alt:"Logo"})})]})]})})]})}function G4(){const[t,e]=N.useState(""),[n,r]=N.useState(""),i=yt();async function s(){try{const o=Te(ue,"Categoria",t);await Yr(o,{Categoria:n}),console.log("Document successfully updated!")}catch(o){console.error("Error updating document: ",o)}}return d.jsx("div",{className:Ye.pag,children:localStorage.getItem("admin")!="true"?i("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Ye.pedidosActualesContainer,children:d.jsx("h2",{className:Ye.pedidosActualesTitle,children:"Editar Menu"})}),d.jsx("input",{type:"text",value:t,onChange:o=>e(o.target.value),placeholder:"Enter Category Name"}),d.jsx("input",{type:"text",value:n,onChange:o=>r(o.target.value),placeholder:"Ingrese nuevo nombre de Categoria"}),d.jsx("button",{onClick:s(),children:"Editar Categoria"})]})})}function K4(){const[t,e]=N.useState(""),n=yt();async function r(){if(!t.trim()){console.error("The category name cannot be empty");return}try{const s=Te(ue,"Categoria",t);await Qr(s,{Categoria:t,disponible:!0,imgRef:Ds()}),console.log("Document written with ID: ",t),e("")}catch(s){console.error("Error adding document: ",s)}}async function i(){try{const s=Te(ue,"Categoria",t);await bs(s),console.log("Categoria successfully deleted!")}catch(s){console.error("Error deleting categoria: ",s)}}return d.jsx("div",{className:Ye.pag,children:localStorage.getItem("admin")!="true"?n("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Ye.pedidosActualesContainer,children:d.jsx("h2",{className:Ye.pedidosActualesTitle,children:"Eliminar o Agregar Menu"})}),d.jsx("input",{type:"text",value:t,onChange:s=>e(s.target.value),placeholder:"Nombre categoría"}),d.jsx("button",{onClick:r,children:"Add Categoria"}),d.jsx("button",{onClick:i,children:"Delete Categoria"})]})})}function Q4(){const[t,e]=N.useState(""),n=yt(),[r,i]=N.useState(""),[s,o]=N.useState(""),[l,c]=N.useState(0);async function u(){try{const f=Te(ue,"Categoria",t),m=nt(f,"Platillos");await Yr(Te(m,r),{descripcion:s,nombre:r,precio:parseFloat(l)}),console.log("Document successfully updated!")}catch(f){console.error("Error updating document: ",f)}}return d.jsx("div",{className:Ye.pag,children:localStorage.getItem("admin")!="true"?n("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Ye.pedidosActualesContainer,children:d.jsx("h2",{className:Ye.pedidosActualesTitle,children:"Editar Platillo"})}),d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Enter Category Name"}),d.jsx("input",{type:"text",value:r,onChange:f=>i(f.target.value),placeholder:"Enter Platillo Name"}),d.jsx("input",{type:"text",value:s,onChange:f=>o(f.target.value),placeholder:"Enter Platillo Description"}),d.jsx("input",{type:"number",value:l,onChange:f=>c(f.target.value),placeholder:"Enter Platillo Price"}),d.jsx("button",{onClick:u,children:"Editar Platillo"})]})})}function Y4(){const[t,e]=N.useState(""),n=yt(),[r,i]=N.useState(""),[s,o]=N.useState([]),[l,c]=N.useState(""),[u,f]=N.useState(0),[m,g]=N.useState(null),v=async()=>{if(m==null){scroll(0,0),n("/menuadmin"),location.reload();return}const V=Mo(qo,`platillosImages/${S}`);KI(V,m).then(()=>{console.log("Image uploaded!"),scroll(0,0),n("/menuadmin"),location.reload()})};let S="";const A=async V=>{try{const M=Mo(qo,`platillosImages/${V}`);YI(M)}catch(M){console.log(M)}};async function k(V){try{const M=Te(ue,"Categoria",V),_=nt(M,"Platillos"),y=Ds();S=y,await Qr(Te(_,r),{nombre:r,tipo:t,descripcion:l,precio:parseFloat(u),disponible:!0,imgRef:y}),console.log("Platillo added to 'Platillos' subcollection with ID: ",r),i("")}catch(M){console.error("Error adding platillo: ",M)}}async function E(){try{await k(t),console.log("Platillo added successfully")}catch(V){console.error("Error adding platillo: ",V)}}async function I(){try{const V=Te(ue,"Categoria",t),M=Te(nt(V,"Platillos"),r);try{const y=(await Br(M)).data().imgRef;A(y)}catch{}await bs(M).then(console.log("Platillo successfully deleted!")).then(C(t)).then(()=>{scroll(0,0),n("/menuadmin"),location.reload()})}catch(V){console.error("Error deleting platillo: ",V)}}async function C(V){const M=await L(V);o(M)}async function L(V){const M=M1(nt(ue,"Categoria",V,"Platillos"));try{const _=await yr(M),y=[];return _.forEach(T=>{y.push({id:T.id,data:T.data()})}),y}catch(_){return console.error("Error getting platillos: ",_),[]}}return d.jsx("div",{className:Ye.pag,children:localStorage.getItem("admin")!="true"?n("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Ye.pedidosActualesContainer,children:d.jsx("h2",{className:Ye.pedidosActualesTitle,children:"Eliminar o Agregar Platillo"})}),d.jsx("input",{type:"text",value:t,onChange:V=>e(V.target.value),placeholder:"Nombre categoría"}),d.jsx("input",{type:"text",value:r,onChange:V=>i(V.target.value),placeholder:"Nombre platillo"}),d.jsx("input",{type:"text",value:l,onChange:V=>c(V.target.value),placeholder:"Descripción platillo"}),d.jsx("input",{type:"number",value:u,onChange:V=>f(V.target.value),placeholder:"Precio platillo"}),d.jsx("input",{type:"file",accept:"image/*",onChange:V=>{g(V.target.files[0])}}),d.jsx("button",{onClick:async()=>{await E(),await v()},children:"Add Platillo"}),d.jsx("button",{onClick:I,children:"Delete Platillo"})]})})}const X4="_tm_9tvva_69",J4="_botonesMenu_9tvva_91",Z4="_botonMenu_9tvva_115",e3="_botonMenuC_9tvva_137",t3="_tituloboton_9tvva_161",n3="_titulo_categoria_9tvva_169",r3="_categoria_9tvva_179",i3="_platillos_9tvva_205",s3="_titulo_platillo_9tvva_223",o3="_button_9tvva_235",a3="_Description_platillo_9tvva_259",l3="_platillos_impar_9tvva_283",c3="_platillos_descripcion_9tvva_305",u3="_combos_9tvva_347",d3="_zonacombos_9tvva_369",h3="_descripcioncombos_9tvva_393",f3="_buttonc_9tvva_411",p3="_carrusel_9tvva_443",m3="_slide_9tvva_455",g3="_combocontenido_9tvva_477",_3="_comboImage_9tvva_495",y3="_comboDescription_9tvva_513",v3="_active_9tvva_523",w3="_menu_9tvva_551",E3="_titulomenu_9tvva_565",I3="_catalogo_9tvva_573",T3="_cartamenu_9tvva_591",S3="_contactos_9tvva_629",C3="_containerContactos_9tvva_641",A3="_redesSociales_9tvva_661",R3="_social_9tvva_673",P3="_platilloContainer_9tvva_685",x3="_pageContainer_9tvva_703",bt={tm:X4,botonesMenu:J4,botonMenu:Z4,botonMenuC:e3,tituloboton:t3,titulo_categoria:n3,categoria:r3,platillos:i3,titulo_platillo:s3,button:o3,Description_platillo:a3,platillos_impar:l3,platillos_descripcion:c3,combos:u3,zonacombos:d3,descripcioncombos:h3,buttonc:f3,carrusel:p3,slide:m3,combocontenido:g3,comboImage:_3,comboDescription:y3,active:v3,"slide-content":"_slide-content_9tvva_537",menu:w3,titulomenu:E3,catalogo:I3,cartamenu:T3,contactos:S3,containerContactos:C3,redesSociales:A3,social:R3,platilloContainer:P3,pageContainer:x3};function k3(){var k;const[t,e]=N.useState([]),[n,r]=N.useState([]),i=Yo();(k=i.state)==null||k.categoriaId;const[s,o]=N.useState([]);yt();const{categoId:l}=bE(),[c,u]=N.useState({});N.useEffect(()=>{Wi($e,E=>{u(E)})},[]),N.useEffect(()=>{(async()=>{try{const C=nt(ue,"Categoria",l,"Platillos"),V=(await yr(C)).docs.map(M=>({id:M.id,data:M.data()}));r(V)}catch(I){console.error("Error fetching platillos:",I)}})()},[]);const f=async(E,I)=>{try{const C=Te(ue,"Categoria",E),L=nt(C,"Platillos"),V=n.map(M=>{if(M.id===I){const _=!M.data.disponible;return{...M,data:{...M.data,disponible:_}}}return M});await Yr(Te(L,I),{disponible:!n.find(M=>M.id===I).data.disponible}),console.log("Document successfully updated!"),r(V)}catch(C){console.error("Error updating document: ",C)}};async function m(E){const I=await g(E);o(I)}async function g(E){const I=M1(nt(ue,"Categoria",E,"Platillos"));try{const C=await yr(I),L=[];return C.forEach(V=>{L.push({id:V.id,data:V.data()})}),L}catch(C){return console.error("Error getting platillos: ",C),[]}}async function v(E,I){try{const C=Te(ue,"Categoria",E),L=Te(nt(C,"Platillos"),I);await bs(L),console.log("Platillo successfully deleted!"),m(E)}catch(C){console.error("Error deleting platillo: ",C)}}const S=()=>n.map(E=>d.jsxs("div",{className:bt.platillos_impar,children:[d.jsxs("div",{className:bt.platillos_descripcion,children:[d.jsx("h1",{className:bt.titulo_platillo,children:E.data.nombre}),d.jsxs("p",{children:[bt.description,E.data.descripcion]}),d.jsx("p",{children:E.data.precio}),d.jsx("button",{onClick:()=>v(E.data.tipo,E.id),children:"Eliminar"}),d.jsxs("p",{children:["Disponible: ",E.data.disponible?"Sí":"No"]}),d.jsx("button",{onClick:()=>f(E.data.tipo,E.id),children:"Actualizar Disponible"})]}),d.jsx("div",{})]},E.id));N.useEffect(()=>{const E=gs(nt(ue,"Categoria"),I=>{const C=[];I.forEach(L=>{C.push({id:L.id,data:L.data()})}),e(C)});return()=>E()},[]);const A=()=>t.map(E=>d.jsx(he,{to:{pathname:`/menuadmin/adminplatillos/${E.id}`,state:{categoriaId:E.id}},className:bt.botonMenu,onClick:()=>{i.reload(),scroll(0,0)},children:d.jsx("h2",{className:bt.tituloboton,children:E.data.Categoria})},E.id));return d.jsxs("div",{className:bt.pageContainer,children:[d.jsx("div",{className:bt.botonesMenu,children:A()}),d.jsxs("div",{className:bt.botonesMenu,children:[d.jsx(he,{className:`${bt["nav-link"]} ${bt.botonMenu}`,to:"/menuadmin/editarplatillo",children:"Editar Platillo"}),d.jsx(he,{className:`${bt["nav-link"]} ${bt.botonMenu}`,to:"/menuadmin/eaplatillo",children:"Agregar o Eliminar Platillo"})]}),d.jsxs("div",{className:bt.categoria,children:[d.jsx("h1",{className:bt.titulo_categoria,children:" Editar Platillos"}),d.jsx("div",{className:bt.platillos,children:d.jsx("div",{className:bt.catalogo,children:S()})})]})]})}function N3(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(0),o=yt();async function l(){if(!t.trim()){console.error("The category name cannot be empty");return}try{const u=Te(ue,"Combos",t);await Qr(u,{combo:t,descripcion:n,precio:parseFloat(i),disponible:!0,imgRef:Ds()}),console.log("Document written with ID: ",t),e("")}catch(u){console.error("Error adding document: ",u)}}async function c(){try{const u=Te(ue,"Combos",t);await bs(u),console.log("Categoria successfully deleted!")}catch(u){console.error("Error deleting categoria: ",u)}}return d.jsx("div",{className:Ye.pag,children:localStorage.getItem("admin")!="true"?o("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Ye.pedidosActualesContainer,children:d.jsx("h2",{className:Ye.pedidosActualesTitle,children:"Eliminar o Agregar Combo"})}),d.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),placeholder:"Nombre combo"}),d.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Descripción combo"}),d.jsx("input",{type:"number",value:i,onChange:u=>s(u.target.value),placeholder:"Precio combo"}),d.jsx("button",{onClick:l,children:"Add Combo"}),d.jsx("button",{onClick:c,children:"Delete Combo"})]})})}function b3(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[o,l]=N.useState(""),c=yt();async function u(){try{const f=Te(ue,"Combos",t);console.log(f),await Yr(f,{combo:n,descripcion:i,precio:parseFloat(o)}),console.log("Document successfully updated!")}catch(f){console.error("Error updating document: ",f)}}return d.jsx("div",{className:Ye.pag,children:localStorage.getItem("admin")!="true"?c("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Ye.pedidosActualesContainer,children:d.jsx("h2",{className:Ye.pedidosActualesTitle,children:"Editar Combo"})}),d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Enter Combo Name"}),d.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),placeholder:"Ingrese nuevo nombre de Combo"}),d.jsx("input",{type:"text",value:i,onChange:f=>s(f.target.value),placeholder:"Enter Combo Descripcion"}),d.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"Enter Combo Precio"}),d.jsx("button",{onClick:u(),children:"Editar Combo"})]})})}const D3=rP([{path:"/",element:d.jsx(aM,{}),children:[{path:Ge[0].path,element:d.jsx(GM,{})},{path:Ge[1].path,element:d.jsx(EV,{})},{path:Ge[1].children[0].path,element:d.jsx(HF,{})},{path:Ge[2].path,element:d.jsx(QV,{})},{path:Ge[3].path,element:d.jsx(lU,{})},{path:Ge[4].path,element:d.jsx(CU,{})},{path:Ge[5].path,element:d.jsx(MU,{})},{path:Ge[6].path,element:d.jsx(VU,{})},{path:Ge[7].path,element:d.jsx(KU,{})},{path:Ge[7].children[0].path,element:d.jsx(YU,{})},{path:Ge[8].path,element:d.jsx(n4,{})},{path:Ge[9].path,element:d.jsx(cF,{})},{path:Ge[9].children[0].path,element:d.jsx(G4,{})},{path:Ge[9].children[1].path,element:d.jsx(Q4,{})},{path:Ge[9].children[2].path,element:d.jsx(K4,{})},{path:Ge[9].children[3].path,element:d.jsx(Y4,{})},{path:Ge[9].children[4].path,element:d.jsx(k3,{})},{path:Ge[9].children[5].path,element:d.jsx(N3,{})},{path:Ge[9].children[6].path,element:d.jsx(b3,{})},{path:Ge[10].path,element:d.jsx(l4,{})},{path:Ge[11].path,element:d.jsx(_4,{})},{path:Ge[12].path,element:d.jsx(P4,{})},{path:Ge[13].path,element:d.jsx(W4,{})}]}]);Fh.createRoot(document.getElementById("root")).render(d.jsx(hP,{router:D3}));
