function iw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function sw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ow={exports:{}},Ku={},aw={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=Symbol.for("react.element"),oS=Symbol.for("react.portal"),aS=Symbol.for("react.fragment"),lS=Symbol.for("react.strict_mode"),cS=Symbol.for("react.profiler"),uS=Symbol.for("react.provider"),dS=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),fS=Symbol.for("react.suspense"),pS=Symbol.for("react.memo"),mS=Symbol.for("react.lazy"),Xg=Symbol.iterator;function gS(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var lw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cw=Object.assign,uw={};function Ho(t,e,n){this.props=t,this.context=e,this.refs=uw,this.updater=n||lw}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dw(){}dw.prototype=Ho.prototype;function up(t,e,n){this.props=t,this.context=e,this.refs=uw,this.updater=n||lw}var dp=up.prototype=new dw;dp.constructor=up;cw(dp,Ho.prototype);dp.isPureReactComponent=!0;var Jg=Array.isArray,hw=Object.prototype.hasOwnProperty,hp={current:null},fw={key:!0,ref:!0,__self:!0,__source:!0};function pw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hw.call(e,r)&&!fw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:kl,type:t,key:s,ref:o,props:i,_owner:hp.current}}function yS(t,e){return{$$typeof:kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fp(t){return typeof t=="object"&&t!==null&&t.$$typeof===kl}function _S(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zg=/\/+/g;function qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_S(""+t.key):e.toString(36)}function Lc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kl:case oS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qd(o,0):r,Jg(i)?(n="",t!=null&&(n=t.replace(Zg,"$&/")+"/"),Lc(i,e,n,"",function(u){return u})):i!=null&&(fp(i)&&(i=yS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Zg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Jg(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+qd(s,l);o+=Lc(s,e,n,c,i)}else if(c=gS(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+qd(s,l++),o+=Lc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uc(t,e,n){if(t==null)return t;var r=[],i=0;return Lc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function vS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Oc={transition:null},wS={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:hp};function mw(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:uc,forEach:function(t,e,n){uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uc(t,function(){e++}),e},toArray:function(t){return uc(t,function(e){return e})||[]},only:function(t){if(!fp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Ho;me.Fragment=aS;me.Profiler=cS;me.PureComponent=up;me.StrictMode=lS;me.Suspense=fS;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wS;me.act=mw;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)hw.call(e,c)&&!fw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:kl,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:dS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uS,_context:t},t.Consumer=t};me.createElement=pw;me.createFactory=function(t){var e=pw.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:hS,render:t}};me.isValidElement=fp;me.lazy=function(t){return{$$typeof:mS,_payload:{_status:-1,_result:t},_init:vS}};me.memo=function(t,e){return{$$typeof:pS,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Oc.transition;Oc.transition={};try{t()}finally{Oc.transition=e}};me.unstable_act=mw;me.useCallback=function(t,e){return sn.current.useCallback(t,e)};me.useContext=function(t){return sn.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};me.useEffect=function(t,e){return sn.current.useEffect(t,e)};me.useId=function(){return sn.current.useId()};me.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return sn.current.useMemo(t,e)};me.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};me.useRef=function(t){return sn.current.useRef(t)};me.useState=function(t){return sn.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return sn.current.useTransition()};me.version="18.3.1";aw.exports=me;var b=aw.exports;const ES=sw(b),IS=iw({__proto__:null,default:ES},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS=b,SS=Symbol.for("react.element"),CS=Symbol.for("react.fragment"),AS=Object.prototype.hasOwnProperty,RS=TS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PS={key:!0,ref:!0,__self:!0,__source:!0};function gw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AS.call(e,r)&&!PS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SS,type:t,key:s,ref:o,props:i,_owner:RS.current}}Ku.Fragment=CS;Ku.jsx=gw;Ku.jsxs=gw;ow.exports=Ku;var d=ow.exports,Mh={},yw={exports:{}},An={},_w={exports:{}},vw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ne){var se=q.length;q.push(ne);e:for(;0<se;){var Ce=se-1>>>1,he=q[Ce];if(0<i(he,ne))q[Ce]=ne,q[se]=he,se=Ce;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ne=q[0],se=q.pop();if(se!==ne){q[0]=se;e:for(var Ce=0,he=q.length,Pe=he>>>1;Ce<Pe;){var Xt=2*(Ce+1)-1,ht=q[Xt],St=Xt+1,Ct=q[St];if(0>i(ht,se))St<he&&0>i(Ct,ht)?(q[Ce]=Ct,q[St]=se,Ce=St):(q[Ce]=ht,q[Xt]=se,Ce=Xt);else if(St<he&&0>i(Ct,se))q[Ce]=Ct,q[St]=se,Ce=St;else break e}}return ne}function i(q,ne){var se=q.sortIndex-ne.sortIndex;return se!==0?se:q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,g=null,m=3,_=!1,S=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(q){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=q)r(u),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(u)}}function L(q){if(C=!1,A(q),!S)if(n(c)!==null)S=!0,ir(F);else{var ne=n(u);ne!==null&&an(L,ne.startTime-q)}}function F(q,ne){S=!1,C&&(C=!1,E(v),v=-1),_=!0;var se=m;try{for(A(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||q&&!x());){var Ce=g.callback;if(typeof Ce=="function"){g.callback=null,m=g.priorityLevel;var he=Ce(g.expirationTime<=ne);ne=t.unstable_now(),typeof he=="function"?g.callback=he:g===n(c)&&r(c),A(ne)}else r(c);g=n(c)}if(g!==null)var Pe=!0;else{var Xt=n(u);Xt!==null&&an(L,Xt.startTime-ne),Pe=!1}return Pe}finally{g=null,m=se,_=!1}}var V=!1,y=null,v=-1,T=5,R=-1;function x(){return!(t.unstable_now()-R<T)}function N(){if(y!==null){var q=t.unstable_now();R=q;var ne=!0;try{ne=y(!0,q)}finally{ne?P():(V=!1,y=null)}}else V=!1}var P;if(typeof I=="function")P=function(){I(N)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Tt=xe.port2;xe.port1.onmessage=N,P=function(){Tt.postMessage(null)}}else P=function(){k(N,0)};function ir(q){y=q,V||(V=!0,P())}function an(q,ne){v=k(function(){q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,ir(F))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var se=m;m=ne;try{return q()}finally{m=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=m;m=q;try{return ne()}finally{m=se}},t.unstable_scheduleCallback=function(q,ne,se){var Ce=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ce+se:Ce):se=Ce,q){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=se+he,q={id:f++,callback:ne,priorityLevel:q,startTime:se,expirationTime:he,sortIndex:-1},se>Ce?(q.sortIndex=se,e(u,q),n(c)===null&&q===n(u)&&(C?(E(v),v=-1):C=!0,an(L,se-Ce))):(q.sortIndex=he,e(c,q),S||_||(S=!0,ir(F))),q},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(q){var ne=m;return function(){var se=m;m=ne;try{return q.apply(this,arguments)}finally{m=se}}}})(vw);_w.exports=vw;var xS=_w.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS=b,Cn=xS;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ww=new Set,nl={};function bs(t,e){Po(t,e),Po(t+"Capture",e)}function Po(t,e){for(nl[t]=e,t=0;t<e.length;t++)ww.add(e[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vh=Object.prototype.hasOwnProperty,NS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ey={},ty={};function bS(t){return Vh.call(ty,t)?!0:Vh.call(ey,t)?!1:NS.test(t)?ty[t]=!0:(ey[t]=!0,!1)}function DS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jS(t,e,n,r){if(e===null||typeof e>"u"||DS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function mp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pp,mp);Mt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pp,mp);Mt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pp,mp);Mt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function gp(t,e,n,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jS(e,n,i,r)&&(n=null),r||i===null?bS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yr=kS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),io=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),Uh=Symbol.for("react.profiler"),Ew=Symbol.for("react.provider"),Iw=Symbol.for("react.context"),_p=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),Bh=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),Tw=Symbol.for("react.offscreen"),ny=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=ny&&t[ny]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Wd;function xa(t){if(Wd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wd=e&&e[1]||""}return`
`+Wd+t}var Gd=!1;function Kd(t,e){if(!t||Gd)return"";Gd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xa(t):""}function LS(t){switch(t.tag){case 5:return xa(t.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 2:case 15:return t=Kd(t.type,!1),t;case 11:return t=Kd(t.type.render,!1),t;case 1:return t=Kd(t.type,!0),t;default:return""}}function zh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case io:return"Portal";case Uh:return"Profiler";case yp:return"StrictMode";case Fh:return"Suspense";case Bh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Iw:return(t.displayName||"Context")+".Consumer";case Ew:return(t._context.displayName||"Context")+".Provider";case _p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vp:return e=t.displayName||null,e!==null?e:zh(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return zh(t(e))}catch{}}return null}function OS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zh(e);case 8:return e===yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MS(t){var e=Sw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=MS(t))}function Cw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Sw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $h(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ry(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Aw(t,e){e=e.checked,e!=null&&gp(t,"checked",e,!1)}function Hh(t,e){Aw(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qh(t,e.type,n):e.hasOwnProperty("defaultValue")&&qh(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qh(t,e,n){(e!=="number"||nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ka=Array.isArray;function _o(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(ka(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function Rw(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function oy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fc,xw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VS=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(t){VS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ua[e]=Ua[t]})});function kw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ua.hasOwnProperty(t)&&Ua[t]?(""+e).trim():e+"px"}function Nw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var US=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kh(t,e){if(e){if(US[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Qh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=null;function wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xh=null,vo=null,wo=null;function ay(t){if(t=Dl(t)){if(typeof Xh!="function")throw Error($(280));var e=t.stateNode;e&&(e=Zu(e),Xh(t.stateNode,t.type,e))}}function bw(t){vo?wo?wo.push(t):wo=[t]:vo=t}function Dw(){if(vo){var t=vo,e=wo;if(wo=vo=null,ay(t),e)for(t=0;t<e.length;t++)ay(e[t])}}function jw(t,e){return t(e)}function Lw(){}var Qd=!1;function Ow(t,e,n){if(Qd)return t(e,n);Qd=!0;try{return jw(t,e,n)}finally{Qd=!1,(vo!==null||wo!==null)&&(Lw(),Dw())}}function il(t,e){var n=t.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Jh=!1;if(Br)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Jh=!1}function FS(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Fa=!1,ru=null,iu=!1,Zh=null,BS={onError:function(t){Fa=!0,ru=t}};function zS(t,e,n,r,i,s,o,l,c){Fa=!1,ru=null,FS.apply(BS,arguments)}function $S(t,e,n,r,i,s,o,l,c){if(zS.apply(this,arguments),Fa){if(Fa){var u=ru;Fa=!1,ru=null}else throw Error($(198));iu||(iu=!0,Zh=u)}}function Ds(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ly(t){if(Ds(t)!==t)throw Error($(188))}function HS(t){var e=t.alternate;if(!e){if(e=Ds(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ly(i),t;if(s===r)return ly(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Vw(t){return t=HS(t),t!==null?Uw(t):null}function Uw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Uw(t);if(e!==null)return e;t=t.sibling}return null}var Fw=Cn.unstable_scheduleCallback,cy=Cn.unstable_cancelCallback,qS=Cn.unstable_shouldYield,WS=Cn.unstable_requestPaint,st=Cn.unstable_now,GS=Cn.unstable_getCurrentPriorityLevel,Ep=Cn.unstable_ImmediatePriority,Bw=Cn.unstable_UserBlockingPriority,su=Cn.unstable_NormalPriority,KS=Cn.unstable_LowPriority,zw=Cn.unstable_IdlePriority,Qu=null,hr=null;function QS(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Qu,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:JS,YS=Math.log,XS=Math.LN2;function JS(t){return t>>>=0,t===0?32:31-(YS(t)/XS|0)|0}var pc=64,mc=4194304;function Na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ou(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Na(l):(s&=o,s!==0&&(r=Na(s)))}else o=n&~i,o!==0?r=Na(o):s!==0&&(r=Na(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),i=1<<n,r|=t[n],e&=~i;return r}function ZS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=ZS(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $w(){var t=pc;return pc<<=1,!(pc&4194240)&&(pc=64),t}function Yd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function tC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ip(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function Hw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qw,Tp,Ww,Gw,Kw,tf=!1,gc=[],Ei=null,Ii=null,Ti=null,sl=new Map,ol=new Map,fi=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uy(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(e.pointerId)}}function ya(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dl(e),e!==null&&Tp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rC(t,e,n,r,i){switch(e){case"focusin":return Ei=ya(Ei,t,e,n,r,i),!0;case"dragenter":return Ii=ya(Ii,t,e,n,r,i),!0;case"mouseover":return Ti=ya(Ti,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return sl.set(s,ya(sl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ol.set(s,ya(ol.get(s)||null,t,e,n,r,i)),!0}return!1}function Qw(t){var e=rs(t.target);if(e!==null){var n=Ds(e);if(n!==null){if(e=n.tag,e===13){if(e=Mw(n),e!==null){t.blockedOn=e,Kw(t.priority,function(){Ww(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yh=r,n.target.dispatchEvent(r),Yh=null}else return e=Dl(n),e!==null&&Tp(e),t.blockedOn=n,!1;e.shift()}return!0}function dy(t,e,n){Mc(t)&&n.delete(e)}function iC(){tf=!1,Ei!==null&&Mc(Ei)&&(Ei=null),Ii!==null&&Mc(Ii)&&(Ii=null),Ti!==null&&Mc(Ti)&&(Ti=null),sl.forEach(dy),ol.forEach(dy)}function _a(t,e){t.blockedOn===e&&(t.blockedOn=null,tf||(tf=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,iC)))}function al(t){function e(i){return _a(i,t)}if(0<gc.length){_a(gc[0],t);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ei!==null&&_a(Ei,t),Ii!==null&&_a(Ii,t),Ti!==null&&_a(Ti,t),sl.forEach(e),ol.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)Qw(n),n.blockedOn===null&&fi.shift()}var Eo=Yr.ReactCurrentBatchConfig,au=!0;function sC(t,e,n,r){var i=Re,s=Eo.transition;Eo.transition=null;try{Re=1,Sp(t,e,n,r)}finally{Re=i,Eo.transition=s}}function oC(t,e,n,r){var i=Re,s=Eo.transition;Eo.transition=null;try{Re=4,Sp(t,e,n,r)}finally{Re=i,Eo.transition=s}}function Sp(t,e,n,r){if(au){var i=nf(t,e,n,r);if(i===null)oh(t,e,r,lu,n),uy(t,r);else if(rC(i,t,e,n,r))r.stopPropagation();else if(uy(t,r),e&4&&-1<nC.indexOf(t)){for(;i!==null;){var s=Dl(i);if(s!==null&&qw(s),s=nf(t,e,n,r),s===null&&oh(t,e,r,lu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else oh(t,e,r,null,n)}}var lu=null;function nf(t,e,n,r){if(lu=null,t=wp(r),t=rs(t),t!==null)if(e=Ds(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lu=t,null}function Yw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GS()){case Ep:return 1;case Bw:return 4;case su:case KS:return 16;case zw:return 536870912;default:return 16}default:return 16}}var _i=null,Cp=null,Vc=null;function Xw(){if(Vc)return Vc;var t,e=Cp,n=e.length,r,i="value"in _i?_i.value:_i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vc=i.slice(t,1<r?1-r:void 0)}function Uc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yc(){return!0}function hy(){return!1}function Rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yc:hy,this.isPropagationStopped=hy,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),e}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ap=Rn(qo),bl=Xe({},qo,{view:0,detail:0}),aC=Rn(bl),Xd,Jd,va,Yu=Xe({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==va&&(va&&t.type==="mousemove"?(Xd=t.screenX-va.screenX,Jd=t.screenY-va.screenY):Jd=Xd=0,va=t),Xd)},movementY:function(t){return"movementY"in t?t.movementY:Jd}}),fy=Rn(Yu),lC=Xe({},Yu,{dataTransfer:0}),cC=Rn(lC),uC=Xe({},bl,{relatedTarget:0}),Zd=Rn(uC),dC=Xe({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),hC=Rn(dC),fC=Xe({},qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pC=Rn(fC),mC=Xe({},qo,{data:0}),py=Rn(mC),gC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_C[t])?!!e[t]:!1}function Rp(){return vC}var wC=Xe({},bl,{key:function(t){if(t.key){var e=gC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rp,charCode:function(t){return t.type==="keypress"?Uc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EC=Rn(wC),IC=Xe({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),my=Rn(IC),TC=Xe({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rp}),SC=Rn(TC),CC=Xe({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),AC=Rn(CC),RC=Xe({},Yu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PC=Rn(RC),xC=[9,13,27,32],Pp=Br&&"CompositionEvent"in window,Ba=null;Br&&"documentMode"in document&&(Ba=document.documentMode);var kC=Br&&"TextEvent"in window&&!Ba,Jw=Br&&(!Pp||Ba&&8<Ba&&11>=Ba),gy=" ",yy=!1;function Zw(t,e){switch(t){case"keyup":return xC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function NC(t,e){switch(t){case"compositionend":return e0(e);case"keypress":return e.which!==32?null:(yy=!0,gy);case"textInput":return t=e.data,t===gy&&yy?null:t;default:return null}}function bC(t,e){if(oo)return t==="compositionend"||!Pp&&Zw(t,e)?(t=Xw(),Vc=Cp=_i=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jw&&e.locale!=="ko"?null:e.data;default:return null}}var DC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DC[t.type]:e==="textarea"}function t0(t,e,n,r){bw(r),e=cu(e,"onChange"),0<e.length&&(n=new Ap("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var za=null,ll=null;function jC(t){h0(t,0)}function Xu(t){var e=co(t);if(Cw(e))return t}function LC(t,e){if(t==="change")return e}var n0=!1;if(Br){var eh;if(Br){var th="oninput"in document;if(!th){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),th=typeof vy.oninput=="function"}eh=th}else eh=!1;n0=eh&&(!document.documentMode||9<document.documentMode)}function wy(){za&&(za.detachEvent("onpropertychange",r0),ll=za=null)}function r0(t){if(t.propertyName==="value"&&Xu(ll)){var e=[];t0(e,ll,t,wp(t)),Ow(jC,e)}}function OC(t,e,n){t==="focusin"?(wy(),za=e,ll=n,za.attachEvent("onpropertychange",r0)):t==="focusout"&&wy()}function MC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(ll)}function VC(t,e){if(t==="click")return Xu(e)}function UC(t,e){if(t==="input"||t==="change")return Xu(e)}function FC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:FC;function cl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vh.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function Ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iy(t,e){var n=Ey(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ey(n)}}function i0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function s0(){for(var t=window,e=nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nu(t.document)}return e}function xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BC(t){var e=s0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&i0(n.ownerDocument.documentElement,n)){if(r!==null&&xp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Iy(n,s);var o=Iy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zC=Br&&"documentMode"in document&&11>=document.documentMode,ao=null,rf=null,$a=null,sf=!1;function Ty(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sf||ao==null||ao!==nu(r)||(r=ao,"selectionStart"in r&&xp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$a&&cl($a,r)||($a=r,r=cu(rf,"onSelect"),0<r.length&&(e=new Ap("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function _c(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},nh={},o0={};Br&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Ju(t){if(nh[t])return nh[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in o0)return nh[t]=e[n];return t}var a0=Ju("animationend"),l0=Ju("animationiteration"),c0=Ju("animationstart"),u0=Ju("transitionend"),d0=new Map,Sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){d0.set(t,e),bs(e,[t])}for(var rh=0;rh<Sy.length;rh++){var ih=Sy[rh],$C=ih.toLowerCase(),HC=ih[0].toUpperCase()+ih.slice(1);Ui($C,"on"+HC)}Ui(a0,"onAnimationEnd");Ui(l0,"onAnimationIteration");Ui(c0,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(u0,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function Cy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$S(r,e,void 0,t),t.currentTarget=null}function h0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Cy(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Cy(i,l,u),s=c}}}if(iu)throw t=Zh,iu=!1,Zh=null,t}function Me(t,e){var n=e[uf];n===void 0&&(n=e[uf]=new Set);var r=t+"__bubble";n.has(r)||(f0(e,t,2,!1),n.add(r))}function sh(t,e,n){var r=0;e&&(r|=4),f0(n,t,r,e)}var vc="_reactListening"+Math.random().toString(36).slice(2);function ul(t){if(!t[vc]){t[vc]=!0,ww.forEach(function(n){n!=="selectionchange"&&(qC.has(n)||sh(n,!1,t),sh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vc]||(e[vc]=!0,sh("selectionchange",!1,e))}}function f0(t,e,n,r){switch(Yw(e)){case 1:var i=sC;break;case 4:i=oC;break;default:i=Sp}n=i.bind(null,e,n,t),i=void 0,!Jh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function oh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=rs(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Ow(function(){var u=s,f=wp(n),g=[];e:{var m=d0.get(t);if(m!==void 0){var _=Ap,S=t;switch(t){case"keypress":if(Uc(n)===0)break e;case"keydown":case"keyup":_=EC;break;case"focusin":S="focus",_=Zd;break;case"focusout":S="blur",_=Zd;break;case"beforeblur":case"afterblur":_=Zd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=cC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=SC;break;case a0:case l0:case c0:_=hC;break;case u0:_=AC;break;case"scroll":_=aC;break;case"wheel":_=PC;break;case"copy":case"cut":case"paste":_=pC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=my}var C=(e&4)!==0,k=!C&&t==="scroll",E=C?m!==null?m+"Capture":null:m;C=[];for(var I=u,A;I!==null;){A=I;var L=A.stateNode;if(A.tag===5&&L!==null&&(A=L,E!==null&&(L=il(I,E),L!=null&&C.push(dl(I,L,A)))),k)break;I=I.return}0<C.length&&(m=new _(m,S,null,n,f),g.push({event:m,listeners:C}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==Yh&&(S=n.relatedTarget||n.fromElement)&&(rs(S)||S[zr]))break e;if((_||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=u,S=S?rs(S):null,S!==null&&(k=Ds(S),S!==k||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=u),_!==S)){if(C=fy,L="onMouseLeave",E="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(C=my,L="onPointerLeave",E="onPointerEnter",I="pointer"),k=_==null?m:co(_),A=S==null?m:co(S),m=new C(L,I+"leave",_,n,f),m.target=k,m.relatedTarget=A,L=null,rs(f)===u&&(C=new C(E,I+"enter",S,n,f),C.target=A,C.relatedTarget=k,L=C),k=L,_&&S)t:{for(C=_,E=S,I=0,A=C;A;A=Zs(A))I++;for(A=0,L=E;L;L=Zs(L))A++;for(;0<I-A;)C=Zs(C),I--;for(;0<A-I;)E=Zs(E),A--;for(;I--;){if(C===E||E!==null&&C===E.alternate)break t;C=Zs(C),E=Zs(E)}C=null}else C=null;_!==null&&Ay(g,m,_,C,!1),S!==null&&k!==null&&Ay(g,k,S,C,!0)}}e:{if(m=u?co(u):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var F=LC;else if(_y(m))if(n0)F=UC;else{F=MC;var V=OC}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(F=VC);if(F&&(F=F(t,u))){t0(g,F,n,f);break e}V&&V(t,m,u),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&qh(m,"number",m.value)}switch(V=u?co(u):window,t){case"focusin":(_y(V)||V.contentEditable==="true")&&(ao=V,rf=u,$a=null);break;case"focusout":$a=rf=ao=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Ty(g,n,f);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":Ty(g,n,f)}var y;if(Pp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else oo?Zw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Jw&&n.locale!=="ko"&&(oo||v!=="onCompositionStart"?v==="onCompositionEnd"&&oo&&(y=Xw()):(_i=f,Cp="value"in _i?_i.value:_i.textContent,oo=!0)),V=cu(u,v),0<V.length&&(v=new py(v,t,null,n,f),g.push({event:v,listeners:V}),y?v.data=y:(y=e0(n),y!==null&&(v.data=y)))),(y=kC?NC(t,n):bC(t,n))&&(u=cu(u,"onBeforeInput"),0<u.length&&(f=new py("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:u}),f.data=y))}h0(g,e)})}function dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=il(t,n),s!=null&&r.unshift(dl(t,s,i)),s=il(t,e),s!=null&&r.push(dl(t,s,i))),t=t.return}return r}function Zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ay(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=il(n,s),c!=null&&o.unshift(dl(n,c,l))):i||(c=il(n,s),c!=null&&o.push(dl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(WC,`
`).replace(GC,"")}function wc(t,e,n){if(e=Ry(e),Ry(t)!==e&&n)throw Error($(425))}function uu(){}var of=null,af=null;function lf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,KC=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,QC=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(t){return Py.resolve(null).then(t).catch(YC)}:cf;function YC(t){setTimeout(function(){throw t})}function ah(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);al(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),ur="__reactFiber$"+Wo,hl="__reactProps$"+Wo,zr="__reactContainer$"+Wo,uf="__reactEvents$"+Wo,XC="__reactListeners$"+Wo,JC="__reactHandles$"+Wo;function rs(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xy(t);t!==null;){if(n=t[ur])return n;t=xy(t)}return e}t=n,n=t.parentNode}return null}function Dl(t){return t=t[ur]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Zu(t){return t[hl]||null}var df=[],uo=-1;function Fi(t){return{current:t}}function Fe(t){0>uo||(t.current=df[uo],df[uo]=null,uo--)}function be(t,e){uo++,df[uo]=t.current,t.current=e}var ji={},Qt=Fi(ji),dn=Fi(!1),gs=ji;function xo(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hn(t){return t=t.childContextTypes,t!=null}function du(){Fe(dn),Fe(Qt)}function ky(t,e,n){if(Qt.current!==ji)throw Error($(168));be(Qt,e),be(dn,n)}function p0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,OS(t)||"Unknown",i));return Xe({},n,r)}function hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,gs=Qt.current,be(Qt,t),be(dn,dn.current),!0}function Ny(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=p0(t,e,gs),r.__reactInternalMemoizedMergedChildContext=t,Fe(dn),Fe(Qt),be(Qt,t)):Fe(dn),be(dn,n)}var xr=null,ed=!1,lh=!1;function m0(t){xr===null?xr=[t]:xr.push(t)}function ZC(t){ed=!0,m0(t)}function Bi(){if(!lh&&xr!==null){lh=!0;var t=0,e=Re;try{var n=xr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,ed=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),Fw(Ep,Bi),i}finally{Re=e,lh=!1}}return null}var ho=[],fo=0,fu=null,pu=0,Nn=[],bn=0,ys=null,br=1,Dr="";function es(t,e){ho[fo++]=pu,ho[fo++]=fu,fu=t,pu=e}function g0(t,e,n){Nn[bn++]=br,Nn[bn++]=Dr,Nn[bn++]=ys,ys=t;var r=br;t=Dr;var i=32-Xn(r)-1;r&=~(1<<i),n+=1;var s=32-Xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,br=1<<32-Xn(e)+i|n<<i|r,Dr=s+t}else br=1<<s|n<<i|r,Dr=t}function kp(t){t.return!==null&&(es(t,1),g0(t,1,0))}function Np(t){for(;t===fu;)fu=ho[--fo],ho[fo]=null,pu=ho[--fo],ho[fo]=null;for(;t===ys;)ys=Nn[--bn],Nn[bn]=null,Dr=Nn[--bn],Nn[bn]=null,br=Nn[--bn],Nn[bn]=null}var Tn=null,wn=null,He=!1,Qn=null;function y0(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function by(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,wn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:br,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,wn=null,!0):!1;default:return!1}}function hf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ff(t){if(He){var e=wn;if(e){var n=e;if(!by(t,e)){if(hf(t))throw Error($(418));e=Si(n.nextSibling);var r=Tn;e&&by(t,e)?y0(r,n):(t.flags=t.flags&-4097|2,He=!1,Tn=t)}}else{if(hf(t))throw Error($(418));t.flags=t.flags&-4097|2,He=!1,Tn=t}}}function Dy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function Ec(t){if(t!==Tn)return!1;if(!He)return Dy(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lf(t.type,t.memoizedProps)),e&&(e=wn)){if(hf(t))throw _0(),Error($(418));for(;e;)y0(t,e),e=Si(e.nextSibling)}if(Dy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Tn?Si(t.stateNode.nextSibling):null;return!0}function _0(){for(var t=wn;t;)t=Si(t.nextSibling)}function ko(){wn=Tn=null,He=!1}function bp(t){Qn===null?Qn=[t]:Qn.push(t)}var eA=Yr.ReactCurrentBatchConfig;function wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Ic(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jy(t){var e=t._init;return e(t._payload)}function v0(t){function e(E,I){if(t){var A=E.deletions;A===null?(E.deletions=[I],E.flags|=16):A.push(I)}}function n(E,I){if(!t)return null;for(;I!==null;)e(E,I),I=I.sibling;return null}function r(E,I){for(E=new Map;I!==null;)I.key!==null?E.set(I.key,I):E.set(I.index,I),I=I.sibling;return E}function i(E,I){return E=Pi(E,I),E.index=0,E.sibling=null,E}function s(E,I,A){return E.index=A,t?(A=E.alternate,A!==null?(A=A.index,A<I?(E.flags|=2,I):A):(E.flags|=2,I)):(E.flags|=1048576,I)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,I,A,L){return I===null||I.tag!==6?(I=mh(A,E.mode,L),I.return=E,I):(I=i(I,A),I.return=E,I)}function c(E,I,A,L){var F=A.type;return F===so?f(E,I,A.props.children,L,A.key):I!==null&&(I.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===di&&jy(F)===I.type)?(L=i(I,A.props),L.ref=wa(E,I,A),L.return=E,L):(L=Wc(A.type,A.key,A.props,null,E.mode,L),L.ref=wa(E,I,A),L.return=E,L)}function u(E,I,A,L){return I===null||I.tag!==4||I.stateNode.containerInfo!==A.containerInfo||I.stateNode.implementation!==A.implementation?(I=gh(A,E.mode,L),I.return=E,I):(I=i(I,A.children||[]),I.return=E,I)}function f(E,I,A,L,F){return I===null||I.tag!==7?(I=hs(A,E.mode,L,F),I.return=E,I):(I=i(I,A),I.return=E,I)}function g(E,I,A){if(typeof I=="string"&&I!==""||typeof I=="number")return I=mh(""+I,E.mode,A),I.return=E,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case dc:return A=Wc(I.type,I.key,I.props,null,E.mode,A),A.ref=wa(E,null,I),A.return=E,A;case io:return I=gh(I,E.mode,A),I.return=E,I;case di:var L=I._init;return g(E,L(I._payload),A)}if(ka(I)||ma(I))return I=hs(I,E.mode,A,null),I.return=E,I;Ic(E,I)}return null}function m(E,I,A,L){var F=I!==null?I.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return F!==null?null:l(E,I,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case dc:return A.key===F?c(E,I,A,L):null;case io:return A.key===F?u(E,I,A,L):null;case di:return F=A._init,m(E,I,F(A._payload),L)}if(ka(A)||ma(A))return F!==null?null:f(E,I,A,L,null);Ic(E,A)}return null}function _(E,I,A,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return E=E.get(A)||null,l(I,E,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case dc:return E=E.get(L.key===null?A:L.key)||null,c(I,E,L,F);case io:return E=E.get(L.key===null?A:L.key)||null,u(I,E,L,F);case di:var V=L._init;return _(E,I,A,V(L._payload),F)}if(ka(L)||ma(L))return E=E.get(A)||null,f(I,E,L,F,null);Ic(I,L)}return null}function S(E,I,A,L){for(var F=null,V=null,y=I,v=I=0,T=null;y!==null&&v<A.length;v++){y.index>v?(T=y,y=null):T=y.sibling;var R=m(E,y,A[v],L);if(R===null){y===null&&(y=T);break}t&&y&&R.alternate===null&&e(E,y),I=s(R,I,v),V===null?F=R:V.sibling=R,V=R,y=T}if(v===A.length)return n(E,y),He&&es(E,v),F;if(y===null){for(;v<A.length;v++)y=g(E,A[v],L),y!==null&&(I=s(y,I,v),V===null?F=y:V.sibling=y,V=y);return He&&es(E,v),F}for(y=r(E,y);v<A.length;v++)T=_(y,E,v,A[v],L),T!==null&&(t&&T.alternate!==null&&y.delete(T.key===null?v:T.key),I=s(T,I,v),V===null?F=T:V.sibling=T,V=T);return t&&y.forEach(function(x){return e(E,x)}),He&&es(E,v),F}function C(E,I,A,L){var F=ma(A);if(typeof F!="function")throw Error($(150));if(A=F.call(A),A==null)throw Error($(151));for(var V=F=null,y=I,v=I=0,T=null,R=A.next();y!==null&&!R.done;v++,R=A.next()){y.index>v?(T=y,y=null):T=y.sibling;var x=m(E,y,R.value,L);if(x===null){y===null&&(y=T);break}t&&y&&x.alternate===null&&e(E,y),I=s(x,I,v),V===null?F=x:V.sibling=x,V=x,y=T}if(R.done)return n(E,y),He&&es(E,v),F;if(y===null){for(;!R.done;v++,R=A.next())R=g(E,R.value,L),R!==null&&(I=s(R,I,v),V===null?F=R:V.sibling=R,V=R);return He&&es(E,v),F}for(y=r(E,y);!R.done;v++,R=A.next())R=_(y,E,v,R.value,L),R!==null&&(t&&R.alternate!==null&&y.delete(R.key===null?v:R.key),I=s(R,I,v),V===null?F=R:V.sibling=R,V=R);return t&&y.forEach(function(N){return e(E,N)}),He&&es(E,v),F}function k(E,I,A,L){if(typeof A=="object"&&A!==null&&A.type===so&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case dc:e:{for(var F=A.key,V=I;V!==null;){if(V.key===F){if(F=A.type,F===so){if(V.tag===7){n(E,V.sibling),I=i(V,A.props.children),I.return=E,E=I;break e}}else if(V.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===di&&jy(F)===V.type){n(E,V.sibling),I=i(V,A.props),I.ref=wa(E,V,A),I.return=E,E=I;break e}n(E,V);break}else e(E,V);V=V.sibling}A.type===so?(I=hs(A.props.children,E.mode,L,A.key),I.return=E,E=I):(L=Wc(A.type,A.key,A.props,null,E.mode,L),L.ref=wa(E,I,A),L.return=E,E=L)}return o(E);case io:e:{for(V=A.key;I!==null;){if(I.key===V)if(I.tag===4&&I.stateNode.containerInfo===A.containerInfo&&I.stateNode.implementation===A.implementation){n(E,I.sibling),I=i(I,A.children||[]),I.return=E,E=I;break e}else{n(E,I);break}else e(E,I);I=I.sibling}I=gh(A,E.mode,L),I.return=E,E=I}return o(E);case di:return V=A._init,k(E,I,V(A._payload),L)}if(ka(A))return S(E,I,A,L);if(ma(A))return C(E,I,A,L);Ic(E,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,I!==null&&I.tag===6?(n(E,I.sibling),I=i(I,A),I.return=E,E=I):(n(E,I),I=mh(A,E.mode,L),I.return=E,E=I),o(E)):n(E,I)}return k}var No=v0(!0),w0=v0(!1),mu=Fi(null),gu=null,po=null,Dp=null;function jp(){Dp=po=gu=null}function Lp(t){var e=mu.current;Fe(mu),t._currentValue=e}function pf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Io(t,e){gu=t,Dp=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(Dp!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(gu===null)throw Error($(308));po=t,gu.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var is=null;function Op(t){is===null?is=[t]:is.push(t)}function E0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Op(e)):(n.next=i.next,i.next=n),e.interleaved=n,$r(t,r)}function $r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function Mp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$r(t,n)}return i=r.interleaved,i===null?(e.next=e,Op(r)):(e.next=i.next,i.next=e),r.interleaved=e,$r(t,n)}function Fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ip(t,n)}}function Ly(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yu(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;o=0,f=u=c=null,l=s;do{var m=l.lane,_=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,C=l;switch(m=e,_=n,C.tag){case 1:if(S=C.payload,typeof S=="function"){g=S.call(_,g,m);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,m=typeof S=="function"?S.call(_,g,m):S,m==null)break e;g=Xe({},g,m);break e;case 2:hi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=_,c=g):f=f.next=_,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=g),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vs|=o,t.lanes=o,t.memoizedState=g}}function Oy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var jl={},fr=Fi(jl),fl=Fi(jl),pl=Fi(jl);function ss(t){if(t===jl)throw Error($(174));return t}function Vp(t,e){switch(be(pl,e),be(fl,t),be(fr,jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gh(e,t)}Fe(fr),be(fr,e)}function bo(){Fe(fr),Fe(fl),Fe(pl)}function T0(t){ss(pl.current);var e=ss(fr.current),n=Gh(e,t.type);e!==n&&(be(fl,t),be(fr,n))}function Up(t){fl.current===t&&(Fe(fr),Fe(fl))}var Ke=Fi(0);function _u(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ch=[];function Fp(){for(var t=0;t<ch.length;t++)ch[t]._workInProgressVersionPrimary=null;ch.length=0}var Bc=Yr.ReactCurrentDispatcher,uh=Yr.ReactCurrentBatchConfig,_s=0,Ye=null,pt=null,Et=null,vu=!1,Ha=!1,ml=0,tA=0;function Bt(){throw Error($(321))}function Bp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function zp(t,e,n,r,i,s){if(_s=s,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bc.current=t===null||t.memoizedState===null?sA:oA,t=n(r,i),Ha){s=0;do{if(Ha=!1,ml=0,25<=s)throw Error($(301));s+=1,Et=pt=null,e.updateQueue=null,Bc.current=aA,t=n(r,i)}while(Ha)}if(Bc.current=wu,e=pt!==null&&pt.next!==null,_s=0,Et=pt=Ye=null,vu=!1,e)throw Error($(300));return t}function $p(){var t=ml!==0;return ml=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ye.memoizedState=Et=t:Et=Et.next=t,Et}function Un(){if(pt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Et===null?Ye.memoizedState:Et.next;if(e!==null)Et=e,pt=t;else{if(t===null)throw Error($(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Ye.memoizedState=Et=t:Et=Et.next=t}return Et}function gl(t,e){return typeof e=="function"?e(t):e}function dh(t){var e=Un(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((_s&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,o=r):c=c.next=g,Ye.lanes|=f,vs|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,tr(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ye.lanes|=s,vs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hh(t){var e=Un(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function S0(){}function C0(t,e){var n=Ye,r=Un(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,un=!0),r=r.queue,Hp(P0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,yl(9,R0.bind(null,n,r,i,e),void 0,null),It===null)throw Error($(349));_s&30||A0(n,e,i)}return i}function A0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function R0(t,e,n,r){e.value=n,e.getSnapshot=r,x0(e)&&k0(t)}function P0(t,e,n){return n(function(){x0(e)&&k0(t)})}function x0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function k0(t){var e=$r(t,1);e!==null&&Jn(e,t,1,-1)}function My(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=iA.bind(null,Ye,t),[e.memoizedState,t]}function yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N0(){return Un().memoizedState}function zc(t,e,n,r){var i=cr();Ye.flags|=t,i.memoizedState=yl(1|e,n,void 0,r===void 0?null:r)}function td(t,e,n,r){var i=Un();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&Bp(r,o.deps)){i.memoizedState=yl(e,n,s,r);return}}Ye.flags|=t,i.memoizedState=yl(1|e,n,s,r)}function Vy(t,e){return zc(8390656,8,t,e)}function Hp(t,e){return td(2048,8,t,e)}function b0(t,e){return td(4,2,t,e)}function D0(t,e){return td(4,4,t,e)}function j0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L0(t,e,n){return n=n!=null?n.concat([t]):null,td(4,4,j0.bind(null,e,t),n)}function qp(){}function O0(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function M0(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function V0(t,e,n){return _s&21?(tr(n,e)||(n=$w(),Ye.lanes|=n,vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function nA(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=uh.transition;uh.transition={};try{t(!1),e()}finally{Re=n,uh.transition=r}}function U0(){return Un().memoizedState}function rA(t,e,n){var r=Ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},F0(t))B0(e,n);else if(n=E0(t,e,n,r),n!==null){var i=rn();Jn(n,t,r,i),z0(n,e,r)}}function iA(t,e,n){var r=Ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(F0(t))B0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,tr(l,o)){var c=e.interleaved;c===null?(i.next=i,Op(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=E0(t,e,i,r),n!==null&&(i=rn(),Jn(n,t,r,i),z0(n,e,r))}}function F0(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function B0(t,e){Ha=vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function z0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ip(t,n)}}var wu={readContext:Vn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},sA={readContext:Vn,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:Vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zc(4194308,4,j0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return zc(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rA.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:My,useDebugValue:qp,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=My(!1),e=t[0];return t=nA.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,i=cr();if(He){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),It===null)throw Error($(349));_s&30||A0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Vy(P0.bind(null,r,s,t),[t]),r.flags|=2048,yl(9,R0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cr(),e=It.identifierPrefix;if(He){var n=Dr,r=br;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oA={readContext:Vn,useCallback:O0,useContext:Vn,useEffect:Hp,useImperativeHandle:L0,useInsertionEffect:b0,useLayoutEffect:D0,useMemo:M0,useReducer:dh,useRef:N0,useState:function(){return dh(gl)},useDebugValue:qp,useDeferredValue:function(t){var e=Un();return V0(e,pt.memoizedState,t)},useTransition:function(){var t=dh(gl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:S0,useSyncExternalStore:C0,useId:U0,unstable_isNewReconciler:!1},aA={readContext:Vn,useCallback:O0,useContext:Vn,useEffect:Hp,useImperativeHandle:L0,useInsertionEffect:b0,useLayoutEffect:D0,useMemo:M0,useReducer:hh,useRef:N0,useState:function(){return hh(gl)},useDebugValue:qp,useDeferredValue:function(t){var e=Un();return pt===null?e.memoizedState=t:V0(e,pt.memoizedState,t)},useTransition:function(){var t=hh(gl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:S0,useSyncExternalStore:C0,useId:U0,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nd={isMounted:function(t){return(t=t._reactInternals)?Ds(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ri(t),s=Mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ci(t,s,i),e!==null&&(Jn(e,t,i,r),Fc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ri(t),s=Mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ci(t,s,i),e!==null&&(Jn(e,t,i,r),Fc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Ri(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ci(t,i,r),e!==null&&(Jn(e,t,r,n),Fc(e,t,r))}};function Uy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cl(n,r)||!cl(i,s):!0}function $0(t,e,n){var r=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=Vn(s):(i=hn(e)?gs:Qt.current,r=e.contextTypes,s=(r=r!=null)?xo(t,i):ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Fy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nd.enqueueReplaceState(e,e.state,null)}function gf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vn(s):(s=hn(e)?gs:Qt.current,i.context=xo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nd.enqueueReplaceState(i,i.state,null),yu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e){try{var n="",r=e;do n+=LS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function fh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lA=typeof WeakMap=="function"?WeakMap:Map;function H0(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Iu||(Iu=!0,Rf=r),yf(t,e)},n}function q0(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yf(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function By(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IA.bind(null,t,e,n),e.then(t,t))}function zy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $y(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Ci(n,e,1))),n.lanes|=1),t)}var cA=Yr.ReactCurrentOwner,un=!1;function nn(t,e,n,r){e.child=t===null?w0(e,null,n,r):No(e,t.child,n,r)}function Hy(t,e,n,r,i){n=n.render;var s=e.ref;return Io(e,i),r=zp(t,e,n,r,s,i),n=$p(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hr(t,e,i)):(He&&n&&kp(e),e.flags|=1,nn(t,e,r,i),e.child)}function qy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,W0(t,e,s,r,i)):(t=Wc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(o,r)&&t.ref===e.ref)return Hr(t,e,i)}return e.flags|=1,t=Pi(s,r),t.ref=e.ref,t.return=e,e.child=t}function W0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(cl(s,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Hr(t,e,i)}return _f(t,e,n,r,i)}function G0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(go,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(go,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,be(go,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,be(go,vn),vn|=r;return nn(t,e,i,n),e.child}function K0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _f(t,e,n,r,i){var s=hn(n)?gs:Qt.current;return s=xo(e,s),Io(e,i),n=zp(t,e,n,r,s,i),r=$p(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hr(t,e,i)):(He&&r&&kp(e),e.flags|=1,nn(t,e,n,i),e.child)}function Wy(t,e,n,r,i){if(hn(n)){var s=!0;hu(e)}else s=!1;if(Io(e,i),e.stateNode===null)$c(t,e),$0(e,n,r),gf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vn(u):(u=hn(n)?gs:Qt.current,u=xo(e,u));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Fy(e,o,r,u),hi=!1;var m=e.memoizedState;o.state=m,yu(e,r,o,i),c=e.memoizedState,l!==r||m!==c||dn.current||hi?(typeof f=="function"&&(mf(e,n,f,r),c=e.memoizedState),(l=hi||Uy(e,n,l,r,m,c,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,I0(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Wn(e.type,l),o.props=u,g=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vn(c):(c=hn(n)?gs:Qt.current,c=xo(e,c));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||m!==c)&&Fy(e,o,r,c),hi=!1,m=e.memoizedState,o.state=m,yu(e,r,o,i);var S=e.memoizedState;l!==g||m!==S||dn.current||hi?(typeof _=="function"&&(mf(e,n,_,r),S=e.memoizedState),(u=hi||Uy(e,n,u,r,m,S,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return vf(t,e,n,r,s,i)}function vf(t,e,n,r,i,s){K0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ny(e,n,!1),Hr(t,e,s);r=e.stateNode,cA.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=No(e,t.child,null,s),e.child=No(e,null,l,s)):nn(t,e,l,s),e.memoizedState=r.state,i&&Ny(e,n,!0),e.child}function Q0(t){var e=t.stateNode;e.pendingContext?ky(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ky(t,e.context,!1),Vp(t,e.containerInfo)}function Gy(t,e,n,r,i){return ko(),bp(i),e.flags|=256,nn(t,e,n,r),e.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function Ef(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y0(t,e,n){var r=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),be(Ke,i&1),t===null)return ff(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sd(o,r,0,null),t=hs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ef(n),e.memoizedState=wf,t):Wp(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return uA(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Pi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Pi(l,s):(s=hs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ef(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=wf,r}return s=t.child,t=s.sibling,r=Pi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wp(t,e){return e=sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tc(t,e,n,r){return r!==null&&bp(r),No(e,t.child,null,n),t=Wp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=fh(Error($(422))),Tc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sd({mode:"visible",children:r.children},i,0,null),s=hs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&No(e,t.child,null,o),e.child.memoizedState=Ef(o),e.memoizedState=wf,s);if(!(e.mode&1))return Tc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=fh(s,r,void 0),Tc(t,e,o,r)}if(l=(o&t.childLanes)!==0,un||l){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$r(t,i),Jn(r,t,i,-1))}return Jp(),r=fh(Error($(421))),Tc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wn=Si(i.nextSibling),Tn=e,He=!0,Qn=null,t!==null&&(Nn[bn++]=br,Nn[bn++]=Dr,Nn[bn++]=ys,br=t.id,Dr=t.overflow,ys=e),e=Wp(e,r.children),e.flags|=4096,e)}function Ky(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pf(t.return,e,n)}function ph(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function X0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,n,e);else if(t.tag===19)Ky(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_u(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ph(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_u(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ph(e,!0,n,null,s);break;case"together":ph(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dA(t,e,n){switch(e.tag){case 3:Q0(e),ko();break;case 5:T0(e);break;case 1:hn(e.type)&&hu(e);break;case 4:Vp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;be(mu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?Y0(t,e,n):(be(Ke,Ke.current&1),t=Hr(t,e,n),t!==null?t.sibling:null);be(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return X0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,G0(t,e,n)}return Hr(t,e,n)}var J0,If,Z0,eE;J0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};If=function(){};Z0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ss(fr.current);var s=null;switch(n){case"input":i=$h(t,i),r=$h(t,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=Wh(t,i),r=Wh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uu)}Kh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ea(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hA(t,e,n){var r=e.pendingProps;switch(Np(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return hn(e.type)&&du(),zt(e),null;case 3:return r=e.stateNode,bo(),Fe(dn),Fe(Qt),Fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ec(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(kf(Qn),Qn=null))),If(t,e),zt(e),null;case 5:Up(e);var i=ss(pl.current);if(n=e.type,t!==null&&e.stateNode!=null)Z0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return zt(e),null}if(t=ss(fr.current),Ec(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ur]=e,r[hl]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<ba.length;i++)Me(ba[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":ry(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":sy(r,s),Me("invalid",r)}Kh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,l,t),i=["children",""+l]):nl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":hc(r),iy(r,s,!0);break;case"textarea":hc(r),oy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[hl]=r,J0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qh(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<ba.length;i++)Me(ba[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":ry(t,r),i=$h(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Me("invalid",t);break;case"textarea":sy(t,r),i=Wh(t,r),Me("invalid",t);break;default:i=r}Kh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Nw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&rl(t,c):typeof c=="number"&&rl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Me("scroll",t):c!=null&&gp(t,s,c,o))}switch(n){case"input":hc(t),iy(t,r,!1);break;case"textarea":hc(t),oy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_o(t,!!r.multiple,s,!1):r.defaultValue!=null&&_o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)eE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ss(pl.current),ss(fr.current),Ec(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(s=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return zt(e),null;case 13:if(Fe(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&wn!==null&&e.mode&1&&!(e.flags&128))_0(),ko(),e.flags|=98560,s=!1;else if(s=Ec(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[ur]=e}else ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),s=!1}else Qn!==null&&(kf(Qn),Qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?mt===0&&(mt=3):Jp())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return bo(),If(t,e),t===null&&ul(e.stateNode.containerInfo),zt(e),null;case 10:return Lp(e.type._context),zt(e),null;case 17:return hn(e.type)&&du(),zt(e),null;case 19:if(Fe(Ke),s=e.memoizedState,s===null)return zt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ea(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_u(t),o!==null){for(e.flags|=128,Ea(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>jo&&(e.flags|=128,r=!0,Ea(s,!1),e.lanes=4194304)}else{if(!r)if(t=_u(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ea(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return zt(e),null}else 2*st()-s.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,Ea(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Ke.current,be(Ke,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return Xp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function fA(t,e){switch(Np(e),e.tag){case 1:return hn(e.type)&&du(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),Fe(dn),Fe(Qt),Fp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Up(e),null;case 13:if(Fe(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Ke),null;case 4:return bo(),null;case 10:return Lp(e.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Sc=!1,Wt=!1,pA=typeof WeakSet=="function"?WeakSet:Set,Y=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Tf(t,e,n){try{n()}catch(r){et(t,e,r)}}var Qy=!1;function mA(t,e){if(of=au,t=s0(),xp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,g=t,m=null;t:for(;;){for(var _;g!==n||i!==0&&g.nodeType!==3||(l=o+i),g!==s||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===t)break t;if(m===n&&++u===i&&(l=o),m===s&&++f===r&&(c=o),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(af={focusedElem:t,selectionRange:n},au=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,k=S.memoizedState,E=e.stateNode,I=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:Wn(e.type,C),k);E.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(L){et(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return S=Qy,Qy=!1,S}function qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tf(e,n,s)}i=i.next}while(i!==r)}}function rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tE(t){var e=t.alternate;e!==null&&(t.alternate=null,tE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[hl],delete e[uf],delete e[XC],delete e[JC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nE(t){return t.tag===5||t.tag===3||t.tag===4}function Yy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uu));else if(r!==4&&(t=t.child,t!==null))for(Cf(t,e,n),t=t.sibling;t!==null;)Cf(t,e,n),t=t.sibling}function Af(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Af(t,e,n),t=t.sibling;t!==null;)Af(t,e,n),t=t.sibling}var bt=null,Gn=!1;function li(t,e,n){for(n=n.child;n!==null;)rE(t,e,n),n=n.sibling}function rE(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Qu,n)}catch{}switch(n.tag){case 5:Wt||mo(n,e);case 6:var r=bt,i=Gn;bt=null,li(t,e,n),bt=r,Gn=i,bt!==null&&(Gn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Gn?(t=bt,n=n.stateNode,t.nodeType===8?ah(t.parentNode,n):t.nodeType===1&&ah(t,n),al(t)):ah(bt,n.stateNode));break;case 4:r=bt,i=Gn,bt=n.stateNode.containerInfo,Gn=!0,li(t,e,n),bt=r,Gn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tf(n,e,o),i=i.next}while(i!==r)}li(t,e,n);break;case 1:if(!Wt&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){et(n,e,l)}li(t,e,n);break;case 21:li(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,li(t,e,n),Wt=r):li(t,e,n);break;default:li(t,e,n)}}function Xy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pA),e.forEach(function(r){var i=SA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,Gn=!1;break e;case 3:bt=l.stateNode.containerInfo,Gn=!0;break e;case 4:bt=l.stateNode.containerInfo,Gn=!0;break e}l=l.return}if(bt===null)throw Error($(160));rE(s,o,i),bt=null,Gn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iE(e,t),e=e.sibling}function iE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),ar(t),r&4){try{qa(3,t,t.return),rd(3,t)}catch(C){et(t,t.return,C)}try{qa(5,t,t.return)}catch(C){et(t,t.return,C)}}break;case 1:qn(e,t),ar(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(qn(e,t),ar(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var i=t.stateNode;try{rl(i,"")}catch(C){et(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Aw(i,s),Qh(l,o);var u=Qh(l,s);for(o=0;o<c.length;o+=2){var f=c[o],g=c[o+1];f==="style"?Nw(i,g):f==="dangerouslySetInnerHTML"?xw(i,g):f==="children"?rl(i,g):gp(i,f,g,u)}switch(l){case"input":Hh(i,s);break;case"textarea":Rw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?_o(i,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?_o(i,!!s.multiple,s.defaultValue,!0):_o(i,!!s.multiple,s.multiple?[]:"",!1))}i[hl]=s}catch(C){et(t,t.return,C)}}break;case 6:if(qn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){et(t,t.return,C)}}break;case 3:if(qn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{al(e.containerInfo)}catch(C){et(t,t.return,C)}break;case 4:qn(e,t),ar(t);break;case 13:qn(e,t),ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qp=st())),r&4&&Xy(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||f,qn(e,t),Wt=u):qn(e,t),ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Y=t,f=t.child;f!==null;){for(g=Y=f;Y!==null;){switch(m=Y,_=m.child,m.tag){case 0:case 11:case 14:case 15:qa(4,m,m.return);break;case 1:mo(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(C){et(r,n,C)}}break;case 5:mo(m,m.return);break;case 22:if(m.memoizedState!==null){Zy(g);continue}}_!==null?(_.return=m,Y=_):Zy(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kw("display",o))}catch(C){et(t,t.return,C)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(C){et(t,t.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:qn(e,t),ar(t),r&4&&Xy(t);break;case 21:break;default:qn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nE(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rl(i,""),r.flags&=-33);var s=Yy(t);Af(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Yy(t);Cf(t,l,o);break;default:throw Error($(161))}}catch(c){et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gA(t,e,n){Y=t,sE(t)}function sE(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Wt;l=Sc;var u=Wt;if(Sc=o,(Wt=c)&&!u)for(Y=i;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?e_(i):c!==null?(c.return=o,Y=c):e_(i);for(;s!==null;)Y=s,sE(s),s=s.sibling;Y=i,Sc=l,Wt=u}Jy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Jy(t)}}function Jy(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Oy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Oy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&al(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Wt||e.flags&512&&Sf(e)}catch(m){et(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Zy(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function e_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rd(4,e)}catch(c){et(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){et(e,i,c)}}var s=e.return;try{Sf(e)}catch(c){et(e,s,c)}break;case 5:var o=e.return;try{Sf(e)}catch(c){et(e,o,c)}}}catch(c){et(e,e.return,c)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var yA=Math.ceil,Eu=Yr.ReactCurrentDispatcher,Gp=Yr.ReactCurrentOwner,On=Yr.ReactCurrentBatchConfig,Ee=0,It=null,ut=null,Lt=0,vn=0,go=Fi(0),mt=0,_l=null,vs=0,id=0,Kp=0,Wa=null,ln=null,Qp=0,jo=1/0,Pr=null,Iu=!1,Rf=null,Ai=null,Cc=!1,vi=null,Tu=0,Ga=0,Pf=null,Hc=-1,qc=0;function rn(){return Ee&6?st():Hc!==-1?Hc:Hc=st()}function Ri(t){return t.mode&1?Ee&2&&Lt!==0?Lt&-Lt:eA.transition!==null?(qc===0&&(qc=$w()),qc):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Yw(t.type)),t):1}function Jn(t,e,n,r){if(50<Ga)throw Ga=0,Pf=null,Error($(185));Nl(t,n,r),(!(Ee&2)||t!==It)&&(t===It&&(!(Ee&2)&&(id|=n),mt===4&&pi(t,Lt)),fn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(jo=st()+500,ed&&Bi()))}function fn(t,e){var n=t.callbackNode;eC(t,e);var r=ou(t,t===It?Lt:0);if(r===0)n!==null&&cy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cy(n),e===1)t.tag===0?ZC(t_.bind(null,t)):m0(t_.bind(null,t)),QC(function(){!(Ee&6)&&Bi()}),n=null;else{switch(Hw(r)){case 1:n=Ep;break;case 4:n=Bw;break;case 16:n=su;break;case 536870912:n=zw;break;default:n=su}n=fE(n,oE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oE(t,e){if(Hc=-1,qc=0,Ee&6)throw Error($(327));var n=t.callbackNode;if(To()&&t.callbackNode!==n)return null;var r=ou(t,t===It?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Su(t,r);else{e=r;var i=Ee;Ee|=2;var s=lE();(It!==t||Lt!==e)&&(Pr=null,jo=st()+500,ds(t,e));do try{wA();break}catch(l){aE(t,l)}while(!0);jp(),Eu.current=s,Ee=i,ut!==null?e=0:(It=null,Lt=0,e=mt)}if(e!==0){if(e===2&&(i=ef(t),i!==0&&(r=i,e=xf(t,i))),e===1)throw n=_l,ds(t,0),pi(t,r),fn(t,st()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!_A(i)&&(e=Su(t,r),e===2&&(s=ef(t),s!==0&&(r=s,e=xf(t,s))),e===1))throw n=_l,ds(t,0),pi(t,r),fn(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ts(t,ln,Pr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=Qp+500-st(),10<e)){if(ou(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cf(ts.bind(null,t,ln,Pr),e);break}ts(t,ln,Pr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yA(r/1960))-r,10<r){t.timeoutHandle=cf(ts.bind(null,t,ln,Pr),r);break}ts(t,ln,Pr);break;case 5:ts(t,ln,Pr);break;default:throw Error($(329))}}}return fn(t,st()),t.callbackNode===n?oE.bind(null,t):null}function xf(t,e){var n=Wa;return t.current.memoizedState.isDehydrated&&(ds(t,e).flags|=256),t=Su(t,e),t!==2&&(e=ln,ln=n,e!==null&&kf(e)),t}function kf(t){ln===null?ln=t:ln.push.apply(ln,t)}function _A(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~Kp,e&=~id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function t_(t){if(Ee&6)throw Error($(327));To();var e=ou(t,0);if(!(e&1))return fn(t,st()),null;var n=Su(t,e);if(t.tag!==0&&n===2){var r=ef(t);r!==0&&(e=r,n=xf(t,r))}if(n===1)throw n=_l,ds(t,0),pi(t,e),fn(t,st()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,ln,Pr),fn(t,st()),null}function Yp(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(jo=st()+500,ed&&Bi())}}function ws(t){vi!==null&&vi.tag===0&&!(Ee&6)&&To();var e=Ee;Ee|=1;var n=On.transition,r=Re;try{if(On.transition=null,Re=1,t)return t()}finally{Re=r,On.transition=n,Ee=e,!(Ee&6)&&Bi()}}function Xp(){vn=go.current,Fe(go)}function ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KC(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Np(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&du();break;case 3:bo(),Fe(dn),Fe(Qt),Fp();break;case 5:Up(r);break;case 4:bo();break;case 13:Fe(Ke);break;case 19:Fe(Ke);break;case 10:Lp(r.type._context);break;case 22:case 23:Xp()}n=n.return}if(It=t,ut=t=Pi(t.current,null),Lt=vn=e,mt=0,_l=null,Kp=id=vs=0,ln=Wa=null,is!==null){for(e=0;e<is.length;e++)if(n=is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}is=null}return t}function aE(t,e){do{var n=ut;try{if(jp(),Bc.current=wu,vu){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vu=!1}if(_s=0,Et=pt=Ye=null,Ha=!1,ml=0,Gp.current=null,n===null||n.return===null){mt=1,_l=e,ut=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=zy(o);if(_!==null){_.flags&=-257,$y(_,o,l,s,e),_.mode&1&&By(s,u,e),e=_,c=u;var S=e.updateQueue;if(S===null){var C=new Set;C.add(c),e.updateQueue=C}else S.add(c);break e}else{if(!(e&1)){By(s,u,e),Jp();break e}c=Error($(426))}}else if(He&&l.mode&1){var k=zy(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),$y(k,o,l,s,e),bp(Do(c,l));break e}}s=c=Do(c,l),mt!==4&&(mt=2),Wa===null?Wa=[s]:Wa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=H0(s,c,e);Ly(s,E);break e;case 1:l=c;var I=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ai===null||!Ai.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=q0(s,l,e);Ly(s,L);break e}}s=s.return}while(s!==null)}uE(n)}catch(F){e=F,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function lE(){var t=Eu.current;return Eu.current=wu,t===null?wu:t}function Jp(){(mt===0||mt===3||mt===2)&&(mt=4),It===null||!(vs&268435455)&&!(id&268435455)||pi(It,Lt)}function Su(t,e){var n=Ee;Ee|=2;var r=lE();(It!==t||Lt!==e)&&(Pr=null,ds(t,e));do try{vA();break}catch(i){aE(t,i)}while(!0);if(jp(),Ee=n,Eu.current=r,ut!==null)throw Error($(261));return It=null,Lt=0,mt}function vA(){for(;ut!==null;)cE(ut)}function wA(){for(;ut!==null&&!qS();)cE(ut)}function cE(t){var e=hE(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?uE(t):ut=e,Gp.current=null}function uE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fA(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ut=null;return}}else if(n=hA(n,e,vn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);mt===0&&(mt=5)}function ts(t,e,n){var r=Re,i=On.transition;try{On.transition=null,Re=1,EA(t,e,n,r)}finally{On.transition=i,Re=r}return null}function EA(t,e,n,r){do To();while(vi!==null);if(Ee&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tC(t,s),t===It&&(ut=It=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cc||(Cc=!0,fE(su,function(){return To(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=Re;Re=1;var l=Ee;Ee|=4,Gp.current=null,mA(t,n),iE(n,t),BC(af),au=!!of,af=of=null,t.current=n,gA(n),WS(),Ee=l,Re=o,On.transition=s}else t.current=n;if(Cc&&(Cc=!1,vi=t,Tu=i),s=t.pendingLanes,s===0&&(Ai=null),QS(n.stateNode),fn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Iu)throw Iu=!1,t=Rf,Rf=null,t;return Tu&1&&t.tag!==0&&To(),s=t.pendingLanes,s&1?t===Pf?Ga++:(Ga=0,Pf=t):Ga=0,Bi(),null}function To(){if(vi!==null){var t=Hw(Tu),e=On.transition,n=Re;try{if(On.transition=null,Re=16>t?16:t,vi===null)var r=!1;else{if(t=vi,vi=null,Tu=0,Ee&6)throw Error($(331));var i=Ee;for(Ee|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Y=u;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:qa(8,f,s)}var g=f.child;if(g!==null)g.return=f,Y=g;else for(;Y!==null;){f=Y;var m=f.sibling,_=f.return;if(tE(f),f===u){Y=null;break}if(m!==null){m.return=_,Y=m;break}Y=_}}}var S=s.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qa(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break e}Y=s.return}}var I=t.current;for(Y=I;Y!==null;){o=Y;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Y=A;else e:for(o=I;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rd(9,l)}}catch(F){et(l,l.return,F)}if(l===o){Y=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,Y=L;break e}Y=l.return}}if(Ee=i,Bi(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Qu,t)}catch{}r=!0}return r}finally{Re=n,On.transition=e}}return!1}function n_(t,e,n){e=Do(n,e),e=H0(t,e,1),t=Ci(t,e,1),e=rn(),t!==null&&(Nl(t,1,e),fn(t,e))}function et(t,e,n){if(t.tag===3)n_(t,t,n);else for(;e!==null;){if(e.tag===3){n_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=Do(n,t),t=q0(e,t,1),e=Ci(e,t,1),t=rn(),e!==null&&(Nl(e,1,t),fn(e,t));break}}e=e.return}}function IA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Lt&n)===n&&(mt===4||mt===3&&(Lt&130023424)===Lt&&500>st()-Qp?ds(t,0):Kp|=n),fn(t,e)}function dE(t,e){e===0&&(t.mode&1?(e=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):e=1);var n=rn();t=$r(t,e),t!==null&&(Nl(t,e,n),fn(t,n))}function TA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dE(t,n)}function SA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),dE(t,n)}var hE;hE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,dA(t,e,n);un=!!(t.flags&131072)}else un=!1,He&&e.flags&1048576&&g0(e,pu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$c(t,e),t=e.pendingProps;var i=xo(e,Qt.current);Io(e,n),i=zp(null,e,r,t,i,n);var s=$p();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(r)?(s=!0,hu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mp(e),i.updater=nd,e.stateNode=i,i._reactInternals=e,gf(e,r,t,n),e=vf(null,e,r,!0,s,n)):(e.tag=0,He&&s&&kp(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AA(r),t=Wn(r,t),i){case 0:e=_f(null,e,r,t,n);break e;case 1:e=Wy(null,e,r,t,n);break e;case 11:e=Hy(null,e,r,t,n);break e;case 14:e=qy(null,e,r,Wn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),_f(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Wy(t,e,r,i,n);case 3:e:{if(Q0(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,I0(t,e),yu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Do(Error($(423)),e),e=Gy(t,e,r,n,i);break e}else if(r!==i){i=Do(Error($(424)),e),e=Gy(t,e,r,n,i);break e}else for(wn=Si(e.stateNode.containerInfo.firstChild),Tn=e,He=!0,Qn=null,n=w0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===i){e=Hr(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return T0(e),t===null&&ff(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,lf(r,i)?o=null:s!==null&&lf(r,s)&&(e.flags|=32),K0(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&ff(e),null;case 13:return Y0(t,e,n);case 4:return Vp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=No(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Hy(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,be(mu,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!dn.current){e=Hr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Mr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),pf(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Io(e,n),i=Vn(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),qy(t,e,r,i,n);case 15:return W0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),$c(t,e),e.tag=1,hn(r)?(t=!0,hu(e)):t=!1,Io(e,n),$0(e,r,i),gf(e,r,i,n),vf(null,e,r,!0,t,n);case 19:return X0(t,e,n);case 22:return G0(t,e,n)}throw Error($(156,e.tag))};function fE(t,e){return Fw(t,e)}function CA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new CA(t,e,n,r)}function Zp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AA(t){if(typeof t=="function")return Zp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_p)return 11;if(t===vp)return 14}return 2}function Pi(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Zp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case so:return hs(n.children,i,s,e);case yp:o=8,i|=8;break;case Uh:return t=Ln(12,n,e,i|2),t.elementType=Uh,t.lanes=s,t;case Fh:return t=Ln(13,n,e,i),t.elementType=Fh,t.lanes=s,t;case Bh:return t=Ln(19,n,e,i),t.elementType=Bh,t.lanes=s,t;case Tw:return sd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ew:o=10;break e;case Iw:o=9;break e;case _p:o=11;break e;case vp:o=14;break e;case di:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function hs(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function sd(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=Tw,t.lanes=n,t.stateNode={isHidden:!1},t}function mh(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function gh(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yd(0),this.expirationTimes=Yd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function em(t,e,n,r,i,s,o,l,c){return t=new RA(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ln(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mp(s),t}function PA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pE(t){if(!t)return ji;t=t._reactInternals;e:{if(Ds(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(hn(n))return p0(t,n,e)}return e}function mE(t,e,n,r,i,s,o,l,c){return t=em(n,r,!0,t,i,s,o,l,c),t.context=pE(null),n=t.current,r=rn(),i=Ri(n),s=Mr(r,i),s.callback=e??null,Ci(n,s,i),t.current.lanes=i,Nl(t,i,r),fn(t,r),t}function od(t,e,n,r){var i=e.current,s=rn(),o=Ri(i);return n=pE(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ci(i,e,o),t!==null&&(Jn(t,i,o,s),Fc(t,i,o)),o}function Cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tm(t,e){r_(t,e),(t=t.alternate)&&r_(t,e)}function xA(){return null}var gE=typeof reportError=="function"?reportError:function(t){console.error(t)};function nm(t){this._internalRoot=t}ad.prototype.render=nm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));od(t,e,null,null)};ad.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){od(null,t,null,null)}),e[zr]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&Qw(t)}};function rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i_(){}function kA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Cu(o);s.call(u)}}var o=mE(e,r,t,0,null,!1,!1,"",i_);return t._reactRootContainer=o,t[zr]=o.current,ul(t.nodeType===8?t.parentNode:t),ws(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Cu(c);l.call(u)}}var c=em(t,0,!1,null,null,!1,!1,"",i_);return t._reactRootContainer=c,t[zr]=c.current,ul(t.nodeType===8?t.parentNode:t),ws(function(){od(e,c,n,r)}),c}function cd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Cu(o);l.call(c)}}od(e,o,t,i)}else o=kA(n,e,t,i,r);return Cu(o)}qw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Na(e.pendingLanes);n!==0&&(Ip(e,n|1),fn(e,st()),!(Ee&6)&&(jo=st()+500,Bi()))}break;case 13:ws(function(){var r=$r(t,1);if(r!==null){var i=rn();Jn(r,t,1,i)}}),tm(t,1)}};Tp=function(t){if(t.tag===13){var e=$r(t,134217728);if(e!==null){var n=rn();Jn(e,t,134217728,n)}tm(t,134217728)}};Ww=function(t){if(t.tag===13){var e=Ri(t),n=$r(t,e);if(n!==null){var r=rn();Jn(n,t,e,r)}tm(t,e)}};Gw=function(){return Re};Kw=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Xh=function(t,e,n){switch(e){case"input":if(Hh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zu(r);if(!i)throw Error($(90));Cw(r),Hh(r,i)}}}break;case"textarea":Rw(t,n);break;case"select":e=n.value,e!=null&&_o(t,!!n.multiple,e,!1)}};jw=Yp;Lw=ws;var NA={usingClientEntryPoint:!1,Events:[Dl,co,Zu,bw,Dw,Yp]},Ia={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bA={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||xA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Qu=Ac.inject(bA),hr=Ac}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NA;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rm(e))throw Error($(200));return PA(t,e,null,n)};An.createRoot=function(t,e){if(!rm(t))throw Error($(299));var n=!1,r="",i=gE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=em(t,1,!1,null,null,n,!1,r,i),t[zr]=e.current,ul(t.nodeType===8?t.parentNode:t),new nm(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Vw(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return ws(t)};An.hydrate=function(t,e,n){if(!ld(e))throw Error($(200));return cd(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!rm(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mE(e,null,t,1,n??null,i,!1,s,o),t[zr]=e.current,ul(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ad(e)};An.render=function(t,e,n){if(!ld(e))throw Error($(200));return cd(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!ld(t))throw Error($(40));return t._reactRootContainer?(ws(function(){cd(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1};An.unstable_batchedUpdates=Yp;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ld(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return cd(t,e,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function yE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yE)}catch(t){console.error(t)}}yE(),yw.exports=An;var im=yw.exports;const DA=sw(im),jA=iw({__proto__:null,default:DA},[im]);var s_=im;Mh.createRoot=s_.createRoot,Mh.hydrateRoot=s_.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ge(){return Ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ge.apply(this,arguments)}var lt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lt||(lt={}));const o_="popstate";function LA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return vl("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Es(i)}return MA(e,n,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OA(){return Math.random().toString(36).substr(2,8)}function a_(t,e){return{usr:t.state,key:t.key,idx:e}}function vl(t,e,n,r){return n===void 0&&(n=null),Ge({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zi(e):e,{state:n,key:e&&e.key||r||OA()})}function Es(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=lt.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Ge({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function g(){l=lt.Pop;let k=f(),E=k==null?null:k-u;u=k,c&&c({action:l,location:C.location,delta:E})}function m(k,E){l=lt.Push;let I=vl(C.location,k,E);u=f()+1;let A=a_(I,u),L=C.createHref(I);try{o.pushState(A,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(L)}s&&c&&c({action:l,location:C.location,delta:1})}function _(k,E){l=lt.Replace;let I=vl(C.location,k,E);u=f();let A=a_(I,u),L=C.createHref(I);o.replaceState(A,"",L),s&&c&&c({action:l,location:C.location,delta:0})}function S(k){let E=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof k=="string"?k:Es(k);return I=I.replace(/ $/,"%20"),pe(E,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,E)}let C={get action(){return l},get location(){return t(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(o_,g),c=k,()=>{i.removeEventListener(o_,g),c=null}},createHref(k){return e(i,k)},createURL:S,encodeLocation(k){let E=S(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:_,go(k){return o.go(k)}};return C}var $e;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($e||($e={}));const VA=new Set(["lazy","caseSensitive","path","id","index","children"]);function UA(t){return t.index===!0}function Nf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(pe(i.index!==!0||!i.children,"Cannot specify children on an index route"),pe(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),UA(i)){let c=Ge({},i,e(i),{id:l});return r[l]=c,c}else{let c=Ge({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=Nf(i.children,e,o,r)),c}})}function yo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?zi(e):e,i=Go(r.pathname||"/",n);if(i==null)return null;let s=_E(t);BA(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=ZA(i);o=YA(s[l],c)}return o}function FA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function _E(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(pe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Vr([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_E(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:KA(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of vE(s.path))i(s,o,c)}),e}function vE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vE(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function BA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zA=/^:[\w-]+$/,$A=3,HA=2,qA=1,WA=10,GA=-2,l_=t=>t==="*";function KA(t,e){let n=t.split("/"),r=n.length;return n.some(l_)&&(r+=GA),e&&(r+=HA),n.filter(i=>!l_(i)).reduce((i,s)=>i+(zA.test(s)?$A:s===""?qA:WA),r)}function QA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YA(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=XA({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!f)return null;Object.assign(r,f.params);let g=l.route;s.push({params:r,pathname:Vr([i,f.pathname]),pathnameBase:nR(Vr([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Vr([i,f.pathnameBase]))}return s}function XA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,g)=>{let{paramName:m,isOptional:_}=f;if(m==="*"){let C=l[g]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const S=l[g];return _&&!S?u[m]=void 0:u[m]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function JA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Go(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zi(t):t;return{pathname:n?n.startsWith("/")?n:tR(n,e):e,search:rR(r),hash:iR(i)}}function tR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sm(t,e){let n=wE(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function om(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zi(t):(i=Ge({},t),pe(!i.pathname||!i.pathname.includes("?"),yh("?","pathname","search",i)),pe(!i.pathname||!i.pathname.includes("#"),yh("#","pathname","hash",i)),pe(!i.search||!i.search.includes("#"),yh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}l=g>=0?e[g]:"/"}let c=eR(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Vr=t=>t.join("/").replace(/\/\/+/g,"/"),nR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class am{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function lm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EE=["post","put","patch","delete"],sR=new Set(EE),oR=["get",...EE],aR=new Set(oR),lR=new Set([301,302,303,307,308]),cR=new Set([307,308]),_h={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ta={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),IE="remix-router-transitions";function hR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;pe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;i=O=>({hasErrorBoundary:D(O)})}else i=dR;let s={},o=Nf(t.routes,i,void 0,s),l,c=t.basename||"/",u=t.unstable_dataStrategy||gR,f=Ge({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),g=null,m=new Set,_=null,S=null,C=null,k=t.hydrationData!=null,E=yo(o,t.history.location,c),I=null;if(E==null){let D=kn(404,{pathname:t.history.location.pathname}),{matches:O,route:U}=__(o);E=O,I={[U.id]:D}}let A,L=E.some(D=>D.route.lazy),F=E.some(D=>D.route.loader);if(L)A=!1;else if(!F)A=!0;else if(f.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null,U=H=>H.route.loader?typeof H.route.loader=="function"&&H.route.loader.hydrate===!0?!1:D&&D[H.route.id]!==void 0||O&&O[H.route.id]!==void 0:!0;if(O){let H=E.findIndex(Q=>O[Q.route.id]!==void 0);A=E.slice(0,H+1).every(U)}else A=E.every(U)}else A=t.hydrationData!=null;let V,y={historyAction:t.history.action,location:t.history.location,matches:E,initialized:A,navigation:_h,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},v=lt.Pop,T=!1,R,x=!1,N=new Map,P=null,xe=!1,Tt=!1,ir=[],an=[],q=new Map,ne=0,se=-1,Ce=new Map,he=new Set,Pe=new Map,Xt=new Map,ht=new Set,St=new Map,Ct=new Map,ea=!1;function jd(){if(g=t.history.listen(D=>{let{action:O,location:U,delta:H}=D;if(ea){ea=!1;return}Lo(Ct.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Gs({currentLocation:y.location,nextLocation:U,historyAction:O});if(Q&&H!=null){ea=!0,t.history.go(H*-1),Ws(Q,{state:"blocked",location:U,proceed(){Ws(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),t.history.go(H)},reset(){let Z=new Map(y.blockers);Z.set(Q,Ta),At({blockers:Z})}});return}return sr(O,U)}),n){PR(e,N);let D=()=>xR(e,N);e.addEventListener("pagehide",D),P=()=>e.removeEventListener("pagehide",D)}return y.initialized||sr(lt.Pop,y.location,{initialHydration:!0}),V}function Bs(){g&&g(),P&&P(),m.clear(),R&&R.abort(),y.fetchers.forEach((D,O)=>Yi(O)),y.blockers.forEach((D,O)=>Jl(O))}function zs(D){return m.add(D),()=>m.delete(D)}function At(D,O){O===void 0&&(O={}),y=Ge({},y,D);let U=[],H=[];f.v7_fetcherPersist&&y.fetchers.forEach((Q,Z)=>{Q.state==="idle"&&(ht.has(Z)?H.push(Z):U.push(Z))}),[...m].forEach(Q=>Q(y,{deletedFetchers:H,unstable_viewTransitionOpts:O.viewTransitionOpts,unstable_flushSync:O.flushSync===!0})),f.v7_fetcherPersist&&(U.forEach(Q=>y.fetchers.delete(Q)),H.forEach(Q=>Yi(Q)))}function vr(D,O,U){var H,Q;let{flushSync:Z}=U===void 0?{}:U,ee=y.actionData!=null&&y.navigation.formMethod!=null&&Kn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((H=D.state)==null?void 0:H._isRedirect)!==!0,K;O.actionData?Object.keys(O.actionData).length>0?K=O.actionData:K=null:ee?K=y.actionData:K=null;let oe=O.loaderData?g_(y.loaderData,O.loaderData,O.matches||[],O.errors):y.loaderData,ae=y.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((re,Ne)=>ae.set(Ne,Ta)));let ft=T===!0||y.navigation.formMethod!=null&&Kn(y.navigation.formMethod)&&((Q=D.state)==null?void 0:Q._isRedirect)!==!0;l&&(o=l,l=void 0),xe||v===lt.Pop||(v===lt.Push?t.history.push(D,D.state):v===lt.Replace&&t.history.replace(D,D.state));let ze;if(v===lt.Pop){let re=N.get(y.location.pathname);re&&re.has(D.pathname)?ze={currentLocation:y.location,nextLocation:D}:N.has(D.pathname)&&(ze={currentLocation:D,nextLocation:y.location})}else if(x){let re=N.get(y.location.pathname);re?re.add(D.pathname):(re=new Set([D.pathname]),N.set(y.location.pathname,re)),ze={currentLocation:y.location,nextLocation:D}}At(Ge({},O,{actionData:K,loaderData:oe,historyAction:v,location:D,initialized:!0,navigation:_h,revalidation:"idle",restoreScrollPosition:Qs(D,O.matches||y.matches),preventScrollReset:ft,blockers:ae}),{viewTransitionOpts:ze,flushSync:Z===!0}),v=lt.Pop,T=!1,x=!1,xe=!1,Tt=!1,ir=[],an=[]}async function $s(D,O){if(typeof D=="number"){t.history.go(D);return}let U=bf(y.location,y.matches,c,f.v7_prependBasename,D,f.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:H,submission:Q,error:Z}=c_(f.v7_normalizeFormMethod,!1,U,O),ee=y.location,K=vl(y.location,H,O&&O.state);K=Ge({},K,t.history.encodeLocation(K));let oe=O&&O.replace!=null?O.replace:void 0,ae=lt.Push;oe===!0?ae=lt.Replace:oe===!1||Q!=null&&Kn(Q.formMethod)&&Q.formAction===y.location.pathname+y.location.search&&(ae=lt.Replace);let ft=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,ze=(O&&O.unstable_flushSync)===!0,re=Gs({currentLocation:ee,nextLocation:K,historyAction:ae});if(re){Ws(re,{state:"blocked",location:K,proceed(){Ws(re,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),$s(D,O)},reset(){let Ne=new Map(y.blockers);Ne.set(re,Ta),At({blockers:Ne})}});return}return await sr(ae,K,{submission:Q,pendingError:Z,preventScrollReset:ft,replace:O&&O.replace,enableViewTransition:O&&O.unstable_viewTransition,flushSync:ze})}function ta(){if(qs(),At({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){sr(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}sr(v||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function sr(D,O,U){R&&R.abort(),R=null,v=D,xe=(U&&U.startUninterruptedRevalidation)===!0,oa(y.location,y.matches),T=(U&&U.preventScrollReset)===!0,x=(U&&U.enableViewTransition)===!0;let H=l||o,Q=U&&U.overrideNavigation,Z=yo(H,O,c),ee=(U&&U.flushSync)===!0;if(!Z){let re=kn(404,{pathname:O.pathname}),{matches:Ne,route:qe}=__(H);Ks(),vr(O,{matches:Ne,loaderData:{},errors:{[qe.id]:re}},{flushSync:ee});return}if(y.initialized&&!Tt&&IR(y.location,O)&&!(U&&U.submission&&Kn(U.submission.formMethod))){vr(O,{matches:Z},{flushSync:ee});return}R=new AbortController;let K=eo(t.history,O,R.signal,U&&U.submission),oe;if(U&&U.pendingError)oe=[Ka(Z).route.id,{type:$e.error,error:U.pendingError}];else if(U&&U.submission&&Kn(U.submission.formMethod)){let re=await Ld(K,O,U.submission,Z,{replace:U.replace,flushSync:ee});if(re.shortCircuited)return;oe=re.pendingActionResult,Q=vh(O,U.submission),ee=!1,K=eo(t.history,K.url,K.signal)}let{shortCircuited:ae,loaderData:ft,errors:ze}=await Od(K,O,Z,Q,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,ee,oe);ae||(R=null,vr(O,Ge({matches:Z},y_(oe),{loaderData:ft,errors:ze})))}async function Ld(D,O,U,H,Q){Q===void 0&&(Q={}),qs();let Z=AR(O,U);At({navigation:Z},{flushSync:Q.flushSync===!0});let ee,K=jf(H,O);if(!K.route.action&&!K.route.lazy)ee={type:$e.error,error:kn(405,{method:D.method,pathname:O.pathname,routeId:K.route.id})};else if(ee=(await wr("action",D,[K],H))[0],D.signal.aborted)return{shortCircuited:!0};if(as(ee)){let oe;return Q&&Q.replace!=null?oe=Q.replace:oe=f_(ee.response.headers.get("Location"),new URL(D.url),c)===y.location.pathname+y.location.search,await Ki(D,ee,{submission:U,replace:oe}),{shortCircuited:!0}}if(os(ee))throw kn(400,{type:"defer-action"});if(Dn(ee)){let oe=Ka(H,K.route.id);return(Q&&Q.replace)!==!0&&(v=lt.Push),{pendingActionResult:[oe.route.id,ee]}}return{pendingActionResult:[K.route.id,ee]}}async function Od(D,O,U,H,Q,Z,ee,K,oe,ae){let ft=H||vh(O,Q),ze=Q||Z||E_(ft),re=l||o,[Ne,qe]=u_(t.history,y,U,ze,O,f.v7_partialHydration&&K===!0,f.unstable_skipActionErrorRevalidation,Tt,ir,an,ht,Pe,he,re,c,ae);if(Ks(fe=>!(U&&U.some(Rt=>Rt.route.id===fe))||Ne&&Ne.some(Rt=>Rt.route.id===fe)),se=++ne,Ne.length===0&&qe.length===0){let fe=ra();return vr(O,Ge({matches:U,loaderData:{},errors:ae&&Dn(ae[1])?{[ae[0]]:ae[1].error}:null},y_(ae),fe?{fetchers:new Map(y.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(!xe&&(!f.v7_partialHydration||!K)){qe.forEach(Rt=>{let Pt=y.fetchers.get(Rt.key),ot=Sa(void 0,Pt?Pt.data:void 0);y.fetchers.set(Rt.key,ot)});let fe;ae&&!Dn(ae[1])?fe={[ae[0]]:ae[1].data}:y.actionData&&(Object.keys(y.actionData).length===0?fe=null:fe=y.actionData),At(Ge({navigation:ft},fe!==void 0?{actionData:fe}:{},qe.length>0?{fetchers:new Map(y.fetchers)}:{}),{flushSync:oe})}qe.forEach(fe=>{q.has(fe.key)&&or(fe.key),fe.controller&&q.set(fe.key,fe.controller)});let ni=()=>qe.forEach(fe=>or(fe.key));R&&R.signal.addEventListener("abort",ni);let{loaderResults:Pn,fetcherResults:$n}=await Hs(y.matches,U,Ne,qe,D);if(D.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ni),qe.forEach(fe=>q.delete(fe.key));let Jt=v_([...Pn,...$n]);if(Jt){if(Jt.idx>=Ne.length){let fe=qe[Jt.idx-Ne.length].key;he.add(fe)}return await Ki(D,Jt.result,{replace:ee}),{shortCircuited:!0}}let{loaderData:Ir,errors:gn}=m_(y,U,Ne,Pn,ae,qe,$n,St);St.forEach((fe,Rt)=>{fe.subscribe(Pt=>{(Pt||fe.done)&&St.delete(Rt)})}),f.v7_partialHydration&&K&&y.errors&&Object.entries(y.errors).filter(fe=>{let[Rt]=fe;return!Ne.some(Pt=>Pt.route.id===Rt)}).forEach(fe=>{let[Rt,Pt]=fe;gn=Object.assign(gn||{},{[Rt]:Pt})});let ri=ra(),ii=ia(se),Xi=ri||ii||qe.length>0;return Ge({loaderData:Ir,errors:gn},Xi?{fetchers:new Map(y.fetchers)}:{})}function Ql(D,O,U,H){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(D)&&or(D);let Q=(H&&H.unstable_flushSync)===!0,Z=l||o,ee=bf(y.location,y.matches,c,f.v7_prependBasename,U,f.v7_relativeSplatPath,O,H==null?void 0:H.relative),K=yo(Z,ee,c);if(!K){it(D,O,kn(404,{pathname:ee}),{flushSync:Q});return}let{path:oe,submission:ae,error:ft}=c_(f.v7_normalizeFormMethod,!0,ee,H);if(ft){it(D,O,ft,{flushSync:Q});return}let ze=jf(K,oe);if(T=(H&&H.preventScrollReset)===!0,ae&&Kn(ae.formMethod)){na(D,O,oe,ze,K,Q,ae);return}Pe.set(D,{routeId:O,path:oe}),Yl(D,O,oe,ze,K,Q,ae)}async function na(D,O,U,H,Q,Z,ee){if(qs(),Pe.delete(D),!H.route.action&&!H.route.lazy){let ot=kn(405,{method:ee.formMethod,pathname:U,routeId:O});it(D,O,ot,{flushSync:Z});return}let K=y.fetchers.get(D);je(D,RR(ee,K),{flushSync:Z});let oe=new AbortController,ae=eo(t.history,U,oe.signal,ee);q.set(D,oe);let ft=ne,re=(await wr("action",ae,[H],Q))[0];if(ae.signal.aborted){q.get(D)===oe&&q.delete(D);return}if(f.v7_fetcherPersist&&ht.has(D)){if(as(re)||Dn(re)){je(D,ui(void 0));return}}else{if(as(re))if(q.delete(D),se>ft){je(D,ui(void 0));return}else return he.add(D),je(D,Sa(ee)),Ki(ae,re,{fetcherSubmission:ee});if(Dn(re)){it(D,O,re.error);return}}if(os(re))throw kn(400,{type:"defer-action"});let Ne=y.navigation.location||y.location,qe=eo(t.history,Ne,oe.signal),ni=l||o,Pn=y.navigation.state!=="idle"?yo(ni,y.navigation.location,c):y.matches;pe(Pn,"Didn't find any matches after fetcher action");let $n=++ne;Ce.set(D,$n);let Jt=Sa(ee,re.data);y.fetchers.set(D,Jt);let[Ir,gn]=u_(t.history,y,Pn,ee,Ne,!1,f.unstable_skipActionErrorRevalidation,Tt,ir,an,ht,Pe,he,ni,c,[H.route.id,re]);gn.filter(ot=>ot.key!==D).forEach(ot=>{let Tr=ot.key,si=y.fetchers.get(Tr),Sr=Sa(void 0,si?si.data:void 0);y.fetchers.set(Tr,Sr),q.has(Tr)&&or(Tr),ot.controller&&q.set(Tr,ot.controller)}),At({fetchers:new Map(y.fetchers)});let ri=()=>gn.forEach(ot=>or(ot.key));oe.signal.addEventListener("abort",ri);let{loaderResults:ii,fetcherResults:Xi}=await Hs(y.matches,Pn,Ir,gn,qe);if(oe.signal.aborted)return;oe.signal.removeEventListener("abort",ri),Ce.delete(D),q.delete(D),gn.forEach(ot=>q.delete(ot.key));let fe=v_([...ii,...Xi]);if(fe){if(fe.idx>=Ir.length){let ot=gn[fe.idx-Ir.length].key;he.add(ot)}return Ki(qe,fe.result)}let{loaderData:Rt,errors:Pt}=m_(y,y.matches,Ir,ii,void 0,gn,Xi,St);if(y.fetchers.has(D)){let ot=ui(re.data);y.fetchers.set(D,ot)}ia($n),y.navigation.state==="loading"&&$n>se?(pe(v,"Expected pending action"),R&&R.abort(),vr(y.navigation.location,{matches:Pn,loaderData:Rt,errors:Pt,fetchers:new Map(y.fetchers)})):(At({errors:Pt,loaderData:g_(y.loaderData,Rt,Pn,Pt),fetchers:new Map(y.fetchers)}),Tt=!1)}async function Yl(D,O,U,H,Q,Z,ee){let K=y.fetchers.get(D);je(D,Sa(ee,K?K.data:void 0),{flushSync:Z});let oe=new AbortController,ae=eo(t.history,U,oe.signal);q.set(D,oe);let ft=ne,re=(await wr("loader",ae,[H],Q))[0];if(os(re)&&(re=await AE(re,ae.signal,!0)||re),q.get(D)===oe&&q.delete(D),!ae.signal.aborted){if(ht.has(D)){je(D,ui(void 0));return}if(as(re))if(se>ft){je(D,ui(void 0));return}else{he.add(D),await Ki(ae,re);return}if(Dn(re)){it(D,O,re.error);return}pe(!os(re),"Unhandled fetcher deferred data"),je(D,ui(re.data))}}async function Ki(D,O,U){let{submission:H,fetcherSubmission:Q,replace:Z}=U===void 0?{}:U;O.response.headers.has("X-Remix-Revalidate")&&(Tt=!0);let ee=O.response.headers.get("Location");pe(ee,"Expected a Location header on the redirect Response"),ee=f_(ee,new URL(D.url),c);let K=vl(y.location,ee,{_isRedirect:!0});if(n){let Ne=!1;if(O.response.headers.has("X-Remix-Reload-Document"))Ne=!0;else if(cm.test(ee)){const qe=t.history.createURL(ee);Ne=qe.origin!==e.location.origin||Go(qe.pathname,c)==null}if(Ne){Z?e.location.replace(ee):e.location.assign(ee);return}}R=null;let oe=Z===!0?lt.Replace:lt.Push,{formMethod:ae,formAction:ft,formEncType:ze}=y.navigation;!H&&!Q&&ae&&ft&&ze&&(H=E_(y.navigation));let re=H||Q;if(cR.has(O.response.status)&&re&&Kn(re.formMethod))await sr(oe,K,{submission:Ge({},re,{formAction:ee}),preventScrollReset:T});else{let Ne=vh(K,H);await sr(oe,K,{overrideNavigation:Ne,fetcherSubmission:Q,preventScrollReset:T})}}async function wr(D,O,U,H){try{let Q=await yR(u,D,O,U,H,s,i);return await Promise.all(Q.map((Z,ee)=>{if(TR(Z)){let K=Z.result;return{type:$e.redirect,response:wR(K,O,U[ee].route.id,H,c,f.v7_relativeSplatPath)}}return vR(Z)}))}catch(Q){return U.map(()=>({type:$e.error,error:Q}))}}async function Hs(D,O,U,H,Q){let[Z,...ee]=await Promise.all([U.length?wr("loader",Q,U,O):[],...H.map(K=>{if(K.matches&&K.match&&K.controller){let oe=eo(t.history,K.path,K.controller.signal);return wr("loader",oe,[K.match],K.matches).then(ae=>ae[0])}else return Promise.resolve({type:$e.error,error:kn(404,{pathname:K.path})})})]);return await Promise.all([w_(D,U,Z,Z.map(()=>Q.signal),!1,y.loaderData),w_(D,H.map(K=>K.match),ee,H.map(K=>K.controller?K.controller.signal:null),!0)]),{loaderResults:Z,fetcherResults:ee}}function qs(){Tt=!0,ir.push(...Ks()),Pe.forEach((D,O)=>{q.has(O)&&(an.push(O),or(O))})}function je(D,O,U){U===void 0&&(U={}),y.fetchers.set(D,O),At({fetchers:new Map(y.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function it(D,O,U,H){H===void 0&&(H={});let Q=Ka(y.matches,O);Yi(D),At({errors:{[Q.route.id]:U},fetchers:new Map(y.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Qi(D){return f.v7_fetcherPersist&&(Xt.set(D,(Xt.get(D)||0)+1),ht.has(D)&&ht.delete(D)),y.fetchers.get(D)||uR}function Yi(D){let O=y.fetchers.get(D);q.has(D)&&!(O&&O.state==="loading"&&Ce.has(D))&&or(D),Pe.delete(D),Ce.delete(D),he.delete(D),ht.delete(D),y.fetchers.delete(D)}function Xl(D){if(f.v7_fetcherPersist){let O=(Xt.get(D)||0)-1;O<=0?(Xt.delete(D),ht.add(D)):Xt.set(D,O)}else Yi(D);At({fetchers:new Map(y.fetchers)})}function or(D){let O=q.get(D);pe(O,"Expected fetch controller: "+D),O.abort(),q.delete(D)}function ei(D){for(let O of D){let U=Qi(O),H=ui(U.data);y.fetchers.set(O,H)}}function ra(){let D=[],O=!1;for(let U of he){let H=y.fetchers.get(U);pe(H,"Expected fetcher: "+U),H.state==="loading"&&(he.delete(U),D.push(U),O=!0)}return ei(D),O}function ia(D){let O=[];for(let[U,H]of Ce)if(H<D){let Q=y.fetchers.get(U);pe(Q,"Expected fetcher: "+U),Q.state==="loading"&&(or(U),Ce.delete(U),O.push(U))}return ei(O),O.length>0}function sa(D,O){let U=y.blockers.get(D)||Ta;return Ct.get(D)!==O&&Ct.set(D,O),U}function Jl(D){y.blockers.delete(D),Ct.delete(D)}function Ws(D,O){let U=y.blockers.get(D)||Ta;pe(U.state==="unblocked"&&O.state==="blocked"||U.state==="blocked"&&O.state==="blocked"||U.state==="blocked"&&O.state==="proceeding"||U.state==="blocked"&&O.state==="unblocked"||U.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+O.state);let H=new Map(y.blockers);H.set(D,O),At({blockers:H})}function Gs(D){let{currentLocation:O,nextLocation:U,historyAction:H}=D;if(Ct.size===0)return;Ct.size>1&&Lo(!1,"A router only supports one blocker at a time");let Q=Array.from(Ct.entries()),[Z,ee]=Q[Q.length-1],K=y.blockers.get(Z);if(!(K&&K.state==="proceeding")&&ee({currentLocation:O,nextLocation:U,historyAction:H}))return Z}function Ks(D){let O=[];return St.forEach((U,H)=>{(!D||D(H))&&(U.cancel(),O.push(H),St.delete(H))}),O}function Zl(D,O,U){if(_=D,C=O,S=U||null,!k&&y.navigation===_h){k=!0;let H=Qs(y.location,y.matches);H!=null&&At({restoreScrollPosition:H})}return()=>{_=null,C=null,S=null}}function ti(D,O){return S&&S(D,O.map(H=>FA(H,y.loaderData)))||D.key}function oa(D,O){if(_&&C){let U=ti(D,O);_[U]=C()}}function Qs(D,O){if(_){let U=ti(D,O),H=_[U];if(typeof H=="number")return H}return null}function Er(D){s={},l=Nf(D,i,void 0,s)}return V={get basename(){return c},get future(){return f},get state(){return y},get routes(){return o},get window(){return e},initialize:jd,subscribe:zs,enableScrollRestoration:Zl,navigate:$s,fetch:Ql,revalidate:ta,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:Qi,deleteFetcher:Xl,dispose:Bs,getBlocker:sa,deleteBlocker:Jl,_internalFetchControllers:q,_internalActiveDeferreds:St,_internalSetRoutes:Er},V}function fR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function bf(t,e,n,r,i,s,o,l){let c,u;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){u=g;break}}else c=e,u=e[e.length-1];let f=om(i||".",sm(c,s),Go(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!um(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Vr([n,f.pathname])),Es(f)}function c_(t,e,n,r){if(!r||!fR(r))return{path:n};if(r.formMethod&&!CR(r.formMethod))return{path:n,error:kn(405,{method:r.formMethod})};let i=()=>({path:n,error:kn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=SE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Kn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,S)=>{let[C,k]=S;return""+_+C+"="+k+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Kn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}pe(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=Df(r.formData),u=r.formData;else if(r.body instanceof FormData)c=Df(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=p_(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=p_(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Kn(f.formMethod))return{path:n,submission:f};let g=zi(n);return e&&g.search&&um(g.search)&&c.append("index",""),g.search="?"+c,{path:Es(g),submission:f}}function pR(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function u_(t,e,n,r,i,s,o,l,c,u,f,g,m,_,S,C){let k=C?Dn(C[1])?C[1].error:C[1].data:void 0,E=t.createURL(e.location),I=t.createURL(i),A=C&&Dn(C[1])?C[0]:void 0,L=A?pR(n,A):n,F=C?C[1].statusCode:void 0,V=o&&F&&F>=400,y=L.filter((T,R)=>{let{route:x}=T;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return typeof x.loader!="function"||x.loader.hydrate?!0:e.loaderData[x.id]===void 0&&(!e.errors||e.errors[x.id]===void 0);if(mR(e.loaderData,e.matches[R],T)||c.some(xe=>xe===T.route.id))return!0;let N=e.matches[R],P=T;return d_(T,Ge({currentUrl:E,currentParams:N.params,nextUrl:I,nextParams:P.params},r,{actionResult:k,unstable_actionStatus:F,defaultShouldRevalidate:V?!1:l||E.pathname+E.search===I.pathname+I.search||E.search!==I.search||TE(N,P)}))}),v=[];return g.forEach((T,R)=>{if(s||!n.some(Tt=>Tt.route.id===T.routeId)||f.has(R))return;let x=yo(_,T.path,S);if(!x){v.push({key:R,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(R),P=jf(x,T.path),xe=!1;m.has(R)?xe=!1:u.includes(R)?xe=!0:N&&N.state!=="idle"&&N.data===void 0?xe=l:xe=d_(P,Ge({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:I,nextParams:n[n.length-1].params},r,{actionResult:k,unstable_actionStatus:F,defaultShouldRevalidate:V?!1:l})),xe&&v.push({key:R,routeId:T.routeId,path:T.path,matches:x,match:P,controller:new AbortController})}),[y,v]}function mR(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function TE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function d_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function h_(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];pe(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";Lo(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!VA.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ge({},e(i),{lazy:void 0}))}function gR(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function yR(t,e,n,r,i,s,o,l){let c=r.reduce((g,m)=>g.add(m.route.id),new Set),u=new Set,f=await t({matches:i.map(g=>{let m=c.has(g.route.id);return Ge({},g,{shouldLoad:m,resolve:S=>(u.add(g.route.id),m?_R(e,n,g,s,o,S,l):Promise.resolve({type:$e.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(g=>pe(u.has(g.route.id),'`match.resolve()` was not called for route id "'+g.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((g,m)=>c.has(i[m].route.id))}async function _R(t,e,n,r,i,s,o){let l,c,u=f=>{let g,m=new Promise((C,k)=>g=k);c=()=>g(),e.signal.addEventListener("abort",c);let _=C=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:o},...C!==void 0?[C]:[]),S;return s?S=s(C=>_(C)):S=(async()=>{try{return{type:"data",result:await _()}}catch(C){return{type:"error",result:C}}})(),Promise.race([S,m])};try{let f=n.route[t];if(n.route.lazy)if(f){let g,[m]=await Promise.all([u(f).catch(_=>{g=_}),h_(n.route,i,r)]);if(g!==void 0)throw g;l=m}else if(await h_(n.route,i,r),f=n.route[t],f)l=await u(f);else if(t==="action"){let g=new URL(e.url),m=g.pathname+g.search;throw kn(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:$e.data,result:void 0};else if(f)l=await u(f);else{let g=new URL(e.url),m=g.pathname+g.search;throw kn(404,{pathname:m})}pe(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:$e.error,result:f}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function vR(t){let{result:e,type:n,status:r}=t;if(CE(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:$e.error,error:l}}return n===$e.error?{type:$e.error,error:new am(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:$e.data,data:o,statusCode:e.status,headers:e.headers}}if(n===$e.error)return{type:$e.error,error:e,statusCode:lm(e)?e.status:r};if(SR(e)){var i,s;return{type:$e.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:$e.data,data:e,statusCode:r}}function wR(t,e,n,r,i,s){let o=t.headers.get("Location");if(pe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!cm.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=bf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function f_(t,e,n){if(cm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Go(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function eo(t,e,n,r){let i=t.createURL(SE(e)).toString(),s={signal:n};if(r&&Kn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Df(r.formData):s.body=r.formData}return new Request(i,s)}function Df(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function p_(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function ER(t,e,n,r,i,s){let o={},l=null,c,u=!1,f={},g=r&&Dn(r[1])?r[1].error:void 0;return n.forEach((m,_)=>{let S=e[_].route.id;if(pe(!as(m),"Cannot handle redirect results in processLoaderData"),Dn(m)){let C=m.error;g!==void 0&&(C=g,g=void 0),l=l||{};{let k=Ka(t,S);l[k.route.id]==null&&(l[k.route.id]=C)}o[S]=void 0,u||(u=!0,c=lm(m.error)?m.error.status:500),m.headers&&(f[S]=m.headers)}else os(m)?(i.set(S,m.deferredData),o[S]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!u&&(c=m.statusCode),m.headers&&(f[S]=m.headers)):(o[S]=m.data,m.statusCode&&m.statusCode!==200&&!u&&(c=m.statusCode),m.headers&&(f[S]=m.headers))}),g!==void 0&&r&&(l={[r[0]]:g},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:f}}function m_(t,e,n,r,i,s,o,l){let{loaderData:c,errors:u}=ER(e,n,r,i,l);for(let f=0;f<s.length;f++){let{key:g,match:m,controller:_}=s[f];pe(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let S=o[f];if(!(_&&_.signal.aborted))if(Dn(S)){let C=Ka(t.matches,m==null?void 0:m.route.id);u&&u[C.route.id]||(u=Ge({},u,{[C.route.id]:S.error})),t.fetchers.delete(g)}else if(as(S))pe(!1,"Unhandled fetcher revalidation redirect");else if(os(S))pe(!1,"Unhandled fetcher deferred data");else{let C=ui(S.data);t.fetchers.set(g,C)}}return{loaderData:c,errors:u}}function g_(t,e,n,r){let i=Ge({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function y_(t){return t?Dn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ka(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function __(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new am(t||500,o,new Error(l),!0)}function v_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(as(n))return{result:n,idx:e}}}function SE(t){let e=typeof t=="string"?zi(t):t;return Es(Ge({},e,{hash:""}))}function IR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function TR(t){return CE(t.result)&&lR.has(t.result.status)}function os(t){return t.type===$e.deferred}function Dn(t){return t.type===$e.error}function as(t){return(t&&t.type)===$e.redirect}function SR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function CE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function CR(t){return aR.has(t.toLowerCase())}function Kn(t){return sR.has(t.toLowerCase())}async function w_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let u=t.find(g=>g.route.id===c.route.id),f=u!=null&&!TE(u,c)&&(s&&s[c.route.id])!==void 0;if(os(l)&&(i||f)){let g=r[o];pe(g,"Expected an AbortSignal for revalidating fetcher deferred result"),await AE(l,g,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function AE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:$e.data,data:t.deferredData.unwrappedData}}catch(i){return{type:$e.error,error:i}}return{type:$e.data,data:t.deferredData.data}}}function um(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jf(t,e){let n=typeof e=="string"?zi(e).search:e.search;if(t[t.length-1].route.index&&um(n||""))return t[t.length-1];let r=wE(t);return r[r.length-1]}function E_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function vh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Sa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function RR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ui(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PR(t,e){try{let n=t.sessionStorage.getItem(IE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function xR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(IE,JSON.stringify(n))}catch(r){Lo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}const ud=b.createContext(null),RE=b.createContext(null),js=b.createContext(null),dm=b.createContext(null),Xr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),PE=b.createContext(null);function kR(t,e){let{relative:n}=e===void 0?{}:e;Ll()||pe(!1);let{basename:r,navigator:i}=b.useContext(js),{hash:s,pathname:o,search:l}=NE(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Vr([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Ll(){return b.useContext(dm)!=null}function Ko(){return Ll()||pe(!1),b.useContext(dm).location}function xE(t){b.useContext(js).static||b.useLayoutEffect(t)}function yt(){let{isDataRoute:t}=b.useContext(Xr);return t?HR():NR()}function NR(){Ll()||pe(!1);let t=b.useContext(ud),{basename:e,future:n,navigator:r}=b.useContext(js),{matches:i}=b.useContext(Xr),{pathname:s}=Ko(),o=JSON.stringify(sm(i,n.v7_relativeSplatPath)),l=b.useRef(!1);return xE(()=>{l.current=!0}),b.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let g=om(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Vr([e,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[e,r,o,s,t])}const bR=b.createContext(null);function DR(t){let e=b.useContext(Xr).outlet;return e&&b.createElement(bR.Provider,{value:t},e)}function kE(){let{matches:t}=b.useContext(Xr),e=t[t.length-1];return e?e.params:{}}function NE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(js),{matches:i}=b.useContext(Xr),{pathname:s}=Ko(),o=JSON.stringify(sm(i,r.v7_relativeSplatPath));return b.useMemo(()=>om(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function jR(t,e,n,r){Ll()||pe(!1);let{navigator:i}=b.useContext(js),{matches:s}=b.useContext(Xr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ko(),f;f=u;let g=f.pathname||"/",m=g;if(c!=="/"){let C=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=yo(t,{pathname:m});return UR(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Vr([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Vr([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r)}function LR(){let t=$R(),e=lm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const OR=b.createElement(LR,null);class MR extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Xr.Provider,{value:this.props.routeContext},b.createElement(PE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VR(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(ud);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Xr.Provider,{value:e},r)}function UR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||pe(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=f),g.route.id){let{loaderData:m,errors:_}=n,S=g.route.loader&&m[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||S){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,g,m)=>{let _,S=!1,C=null,k=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||OR,c&&(u<0&&m===0?(qR("route-fallback"),S=!0,k=null):u===m&&(S=!0,k=g.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),I=()=>{let A;return _?A=C:S?A=k:g.route.Component?A=b.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=f,b.createElement(VR,{match:g,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?b.createElement(MR,{location:n.location,revalidation:n.revalidation,component:C,error:_,children:I(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):I()},null)}var bE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bE||{}),Ru=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ru||{});function FR(t){let e=b.useContext(ud);return e||pe(!1),e}function BR(t){let e=b.useContext(RE);return e||pe(!1),e}function zR(t){let e=b.useContext(Xr);return e||pe(!1),e}function DE(t){let e=zR(),n=e.matches[e.matches.length-1];return n.route.id||pe(!1),n.route.id}function $R(){var t;let e=b.useContext(PE),n=BR(Ru.UseRouteError),r=DE(Ru.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function HR(){let{router:t}=FR(bE.UseNavigateStable),e=DE(Ru.UseNavigateStable),n=b.useRef(!1);return xE(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Au({fromRouteId:e},s)))},[t,e])}const I_={};function qR(t,e,n){I_[t]||(I_[t]=!0)}function WR(t){return DR(t.context)}function GR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lt.Pop,navigator:s,static:o=!1,future:l}=t;Ll()&&pe(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:s,static:o,future:Au({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=zi(r));let{pathname:f="/",search:g="",hash:m="",state:_=null,key:S="default"}=r,C=b.useMemo(()=>{let k=Go(f,c);return k==null?null:{location:{pathname:k,search:g,hash:m,state:_,key:S},navigationType:i}},[c,f,g,m,_,S,i]);return C==null?null:b.createElement(js.Provider,{value:u},b.createElement(dm.Provider,{children:n,value:C}))}new Promise(()=>{});function KR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:b.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function QR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XR(t,e){return t.button===0&&(!e||e==="_self")&&!YR(t)}const JR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZR="6";try{window.__reactRouterVersion=ZR}catch{}function eP(t,e){return hR({basename:void 0,future:wl({},void 0,{v7_prependBasename:!0}),history:LA({window:void 0}),hydrationData:tP(),routes:t,mapRouteProperties:KR,unstable_dataStrategy:void 0,window:void 0}).initialize()}function tP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=wl({},e,{errors:nP(e.errors)})),e}function nP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new am(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const rP=b.createContext({isTransitioning:!1}),iP=b.createContext(new Map),sP="startTransition",T_=IS[sP],oP="flushSync",S_=jA[oP];function aP(t){T_?T_(t):t()}function Ca(t){S_?S_(t):t()}let lP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function cP(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=b.useState(n.state),[o,l]=b.useState(),[c,u]=b.useState({isTransitioning:!1}),[f,g]=b.useState(),[m,_]=b.useState(),[S,C]=b.useState(),k=b.useRef(new Map),{v7_startTransition:E}=r||{},I=b.useCallback(y=>{E?aP(y):y()},[E]),A=b.useCallback((y,v)=>{let{deletedFetchers:T,unstable_flushSync:R,unstable_viewTransitionOpts:x}=v;T.forEach(P=>k.current.delete(P)),y.fetchers.forEach((P,xe)=>{P.data!==void 0&&k.current.set(xe,P.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!x||N){R?Ca(()=>s(y)):I(()=>s(y));return}if(R){Ca(()=>{m&&(f&&f.resolve(),m.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let P=n.window.document.startViewTransition(()=>{Ca(()=>s(y))});P.finished.finally(()=>{Ca(()=>{g(void 0),_(void 0),l(void 0),u({isTransitioning:!1})})}),Ca(()=>_(P));return}m?(f&&f.resolve(),m.skipTransition(),C({state:y,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(l(y),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[n.window,m,f,k,I]);b.useLayoutEffect(()=>n.subscribe(A),[n,A]),b.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new lP)},[c]),b.useEffect(()=>{if(f&&o&&n.window){let y=o,v=f.promise,T=n.window.document.startViewTransition(async()=>{I(()=>s(y)),await v});T.finished.finally(()=>{g(void 0),_(void 0),l(void 0),u({isTransitioning:!1})}),_(T)}},[I,o,f,n.window]),b.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,m,i.location,o]),b.useEffect(()=>{!c.isTransitioning&&S&&(l(S.state),u({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),C(void 0))},[c.isTransitioning,S]),b.useEffect(()=>{},[]);let L=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,v,T)=>n.navigate(y,{state:v,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(y,v,T)=>n.navigate(y,{replace:!0,state:v,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),F=n.basename||"/",V=b.useMemo(()=>({router:n,navigator:L,static:!1,basename:F}),[n,L,F]);return b.createElement(b.Fragment,null,b.createElement(ud.Provider,{value:V},b.createElement(RE.Provider,{value:i},b.createElement(iP.Provider,{value:k.current},b.createElement(rP.Provider,{value:c},b.createElement(GR,{basename:F,location:i.location,navigationType:i.historyAction,navigator:L,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?b.createElement(uP,{routes:n.routes,future:n.future,state:i}):e))))),null)}function uP(t){let{routes:e,future:n,state:r}=t;return jR(e,void 0,r,n)}const dP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ye=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,unstable_viewTransition:g}=e,m=QR(e,JR),{basename:_}=b.useContext(js),S,C=!1;if(typeof u=="string"&&hP.test(u)&&(S=u,dP))try{let A=new URL(window.location.href),L=u.startsWith("//")?new URL(A.protocol+u):new URL(u),F=Go(L.pathname,_);L.origin===A.origin&&F!=null?u=F+L.search+L.hash:C=!0}catch{}let k=kR(u,{relative:i}),E=fP(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,unstable_viewTransition:g});function I(A){r&&r(A),A.defaultPrevented||E(A)}return b.createElement("a",wl({},m,{href:S||k,onClick:C||s?r:I,ref:n,target:c}))});var C_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(C_||(C_={}));var A_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A_||(A_={}));function fP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=yt(),u=Ko(),f=NE(t,{relative:o});return b.useCallback(g=>{if(XR(g,n)){g.preventDefault();let m=r!==void 0?r:Es(u)===Es(f);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,c,f,r,i,n,t,s,o,l])}const We=[{path:"/",name:"Inicio"},{path:"/menu",name:"Menu",children:[{path:"/menu/platillos/:categoId",name:"Platillos"}]},{path:"/nosotros",name:"Nosotros"},{path:"/ayuda",name:"Ayuda"},{path:"/acceder",name:"Acceder"},{path:"/login",name:"IniciarSesion"},{path:"/*",name:"Error"},{path:"/perfil",name:"Perfil",children:[{path:"/perfil/editarperfil",name:"EditarPerfil"}]},{path:"/comentarios",name:"Comentarios"},{path:"/menuadmin",name:"MenuAdmin",children:[{path:"/menuadmin/editarmenu",name:"EditarMenu"},{path:"/menuadmin/editarplatillo",name:"EditarPlatillo"},{path:"/menuadmin/eamenu",name:"EaMenu"},{path:"/menuadmin/eaplatillo",name:"EaPlatillo"},{path:"/menuadmin/adminplatillos/:categoId",name:"AdminPlatillos"},{path:"/menuadmin/eacombo",name:"EaCombo"},{path:"/menuadmin/editarcombo",name:"EditarCombo"}]},{path:"/historial",name:"Historial"},{path:"/pedidosactuales",name:"PedidosActuales"},{path:"/cliente",name:"Cliente"},{path:"/compra",name:"Compra"}];var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|u>>6,_=u&63;c||(_=64,o||(m=64)),r.push(n[f],n[g],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||g==null)throw new mP;const m=s<<2|l>>4;if(r.push(m),u!==64){const _=l<<4&240|u>>2;if(r.push(_),g!==64){const S=u<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gP=function(t){const e=jE(t);return LE.encodeByteArray(e,!0)},Pu=function(t){return gP(t).replace(/\./g,"")},OE=function(t){try{return LE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=()=>yP().__FIREBASE_DEFAULTS__,vP=()=>{if(typeof process>"u"||typeof R_>"u")return;const t=R_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OE(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return _P()||vP()||wP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ME=t=>{var e,n;return(n=(e=dd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VE=t=>{const e=ME(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UE=()=>{var t;return(t=dd())===null||t===void 0?void 0:t.config},FE=t=>{var e;return(e=dd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pu(JSON.stringify(n)),Pu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function TP(){var t;const e=(t=dd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CP(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AP(){return!TP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $E(){try{return typeof indexedDB=="object"}catch{return!1}}function HE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function RP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="FirebaseError";class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PP,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ls.prototype.create)}}class Ls{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?xP(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new zn(i,l,r)}}function xP(t,e){return t.replace(kP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kP=/\{\$([^}]+)}/g;function NP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(P_(s)&&P_(o)){if(!xu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function P_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Da(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ja(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bP(t,e){const n=new DP(t,e);return n.subscribe.bind(n)}class DP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wh),i.error===void 0&&(i.error=wh),i.complete===void 0&&(i.complete=wh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=1e3,OP=2,MP=4*60*60*1e3,VP=.5;function x_(t,e=LP,n=OP){const r=e*Math.pow(n,t),i=Math.round(VP*r*(Math.random()-.5)*2);return Math.min(MP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class Fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BP(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FP(t){return t===ns?void 0:t}function BP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const $P={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},HP=ve.INFO,qP={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},WP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hd{constructor(e){this.name=e,this._logLevel=HP,this._logHandler=WP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const GP=(t,e)=>e.some(n=>t instanceof n);let k_,N_;function KP(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QP(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,Lf=new WeakMap,WE=new WeakMap,Eh=new WeakMap,hm=new WeakMap;function YP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qE.set(n,t)}).catch(()=>{}),hm.set(e,t),e}function XP(t){if(Lf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lf.set(t,e)}let Of={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JP(t){Of=t(Of)}function ZP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ih(this),e,...n);return WE.set(r,e.sort?e.sort():[e]),xi(r)}:QP().includes(t)?function(...e){return t.apply(Ih(this),e),xi(qE.get(this))}:function(...e){return xi(t.apply(Ih(this),e))}}function ex(t){return typeof t=="function"?ZP(t):(t instanceof IDBTransaction&&XP(t),GP(t,KP())?new Proxy(t,Of):t)}function xi(t){if(t instanceof IDBRequest)return YP(t);if(Eh.has(t))return Eh.get(t);const e=ex(t);return e!==t&&(Eh.set(t,e),hm.set(e,t)),e}const Ih=t=>hm.get(t);function GE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=xi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xi(o.result),c.oldVersion,c.newVersion,xi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const tx=["get","getKey","getAll","getAllKeys","count"],nx=["put","add","delete","clear"],Th=new Map;function b_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Th.get(e))return Th.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tx.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Th.set(e,s),s}JP(t=>({...t,get:(e,n,r)=>b_(e,n)||t.get(e,n,r),has:(e,n)=>!!b_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ix(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ix(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mf="@firebase/app",D_="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new hd("@firebase/app"),sx="@firebase/app-compat",ox="@firebase/analytics-compat",ax="@firebase/analytics",lx="@firebase/app-check-compat",cx="@firebase/app-check",ux="@firebase/auth",dx="@firebase/auth-compat",hx="@firebase/database",fx="@firebase/database-compat",px="@firebase/functions",mx="@firebase/functions-compat",gx="@firebase/installations",yx="@firebase/installations-compat",_x="@firebase/messaging",vx="@firebase/messaging-compat",wx="@firebase/performance",Ex="@firebase/performance-compat",Ix="@firebase/remote-config",Tx="@firebase/remote-config-compat",Sx="@firebase/storage",Cx="@firebase/storage-compat",Ax="@firebase/firestore",Rx="@firebase/vertexai-preview",Px="@firebase/firestore-compat",xx="firebase",kx="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",Nx={[Mf]:"fire-core",[sx]:"fire-core-compat",[ax]:"fire-analytics",[ox]:"fire-analytics-compat",[cx]:"fire-app-check",[lx]:"fire-app-check-compat",[ux]:"fire-auth",[dx]:"fire-auth-compat",[hx]:"fire-rtdb",[fx]:"fire-rtdb-compat",[px]:"fire-fn",[mx]:"fire-fn-compat",[gx]:"fire-iid",[yx]:"fire-iid-compat",[_x]:"fire-fcm",[vx]:"fire-fcm-compat",[wx]:"fire-perf",[Ex]:"fire-perf-compat",[Ix]:"fire-rc",[Tx]:"fire-rc-compat",[Sx]:"fire-gcs",[Cx]:"fire-gcs-compat",[Ax]:"fire-fst",[Px]:"fire-fst-compat",[Rx]:"fire-vertex","fire-js":"fire-js",[xx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,bx=new Map,Uf=new Map;function j_(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nr(t){const e=t.name;if(Uf.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Uf.set(e,t);for(const n of ku.values())j_(n,t);for(const n of bx.values())j_(n,t);return!0}function Qo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new Ls("app","Firebase",Dx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=kx;function KE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ki.create("bad-app-name",{appName:String(i)});if(n||(n=UE()),!n)throw ki.create("no-options");const s=ku.get(i);if(s){if(xu(n,s.options)&&xu(r,s.config))return s;throw ki.create("duplicate-app",{appName:i})}const o=new zP(i);for(const c of Uf.values())o.addComponent(c);const l=new jx(n,r,o);return ku.set(i,l),l}function fm(t=Vf){const e=ku.get(t);if(!e&&t===Vf&&UE())return KE();if(!e)throw ki.create("no-app",{appName:t});return e}function pn(t,e,n){var r;let i=(r=Nx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(l.join(" "));return}nr(new Fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firebase-heartbeat-database",Ox=1,El="firebase-heartbeat-store";let Sh=null;function QE(){return Sh||(Sh=GE(Lx,Ox,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),Sh}async function Mx(t){try{const n=(await QE()).transaction(El),r=await n.objectStore(El).get(YE(t));return await n.done,r}catch(e){if(e instanceof zn)Is.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function L_(t,e){try{const r=(await QE()).transaction(El,"readwrite");await r.objectStore(El).put(e,YE(t)),await r.done}catch(n){if(n instanceof zn)Is.warn(n.message);else{const r=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(r.message)}}}function YE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=1024,Ux=30*24*60*60*1e3;class Fx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Ux}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=O_(),{heartbeatsToSend:r,unsentEntries:i}=Bx(this._heartbeatsCache.heartbeats),s=Pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function O_(){return new Date().toISOString().substring(0,10)}function Bx(t,e=Vx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),M_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),M_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $E()?HE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function M_(t){return Pu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){nr(new Fn("platform-logger",e=>new rx(e),"PRIVATE")),nr(new Fn("heartbeat",e=>new Fx(e),"PRIVATE")),pn(Mf,D_,t),pn(Mf,D_,"esm2017"),pn("fire-js","")}$x("");function pm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hx=XE,JE=new Ls("auth","Firebase",XE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new hd("@firebase/auth");function qx(t,...e){Nu.logLevel<=ve.WARN&&Nu.warn(`Auth (${Os}): ${t}`,...e)}function Gc(t,...e){Nu.logLevel<=ve.ERROR&&Nu.error(`Auth (${Os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,...e){throw gm(t,...e)}function Zn(t,...e){return gm(t,...e)}function mm(t,e,n){const r=Object.assign(Object.assign({},Hx()),{[e]:n});return new Ls("auth","Firebase",r).create(e,{appName:t.name})}function Ur(t){return mm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bn(t,"argument-error"),mm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JE.create(t,...e)}function ie(t,e,...n){if(!t)throw gm(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gc(e),new Error(e)}function qr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Gx(){return V_()==="http:"||V_()==="https:"}function V_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gx()||zE()||"connection"in navigator)?navigator.onLine:!0}function Qx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=IP()||SP()}get(){return Kx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Ml(3e4,6e4);function $i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hi(t,e,n,r,i={}){return eI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ol(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),ZE.fetch()(tI(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function eI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yx),e);try{const i=new Zx(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Rc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Rc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Rc(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mm(t,f,u);Bn(t,f)}}catch(i){if(i instanceof zn)throw i;Bn(t,"network-request-failed",{message:String(i)})}}async function Vl(t,e,n,r,i={}){const s=await Hi(t,e,n,r,i);return"mfaPendingCredential"in s&&Bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function tI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ym(t.config,i):`${t.config.apiScheme}://${i}`}function Jx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),Xx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(t,e,r);return i.customData._tokenResponse=n,i}function U_(t){return t!==void 0&&t.enterprise!==void 0}class ek{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tk(t,e){return Hi(t,"GET","/v2/recaptchaConfig",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function nI(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rk(t,e=!1){const n=Be(t),r=await n.getIdToken(e),i=_m(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Qa(Ch(i.auth_time)),issuedAtTime:Qa(Ch(i.iat)),expirationTime:Qa(Ch(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ch(t){return Number(t)*1e3}function _m(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const i=OE(n);return i?JSON.parse(i):(Gc("Failed to decode base64 JWT payload"),null)}catch(i){return Gc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function F_(t){const e=_m(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zn&&ik(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ik({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Il(t,nI(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rI(s.providerUserInfo):[],l=ak(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?u:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Bf(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function ok(t){const e=Be(t);await bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ak(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rI(t){return t.map(e=>{var{providerId:n}=e,r=pm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e){const n=await eI(t,{},async()=>{const r=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tI(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",ZE.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ck(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=F_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lk(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new So;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Bf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rk(this,e)}reload(){return ok(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await Il(this,nk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,f;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,I=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:A,emailVerified:L,isAnonymous:F,providerData:V,stsTokenManager:y}=n;ie(A&&y,e,"internal-error");const v=So.fromJSON(this.name,y);ie(typeof A=="string",e,"internal-error"),ci(g,e.name),ci(m,e.name),ie(typeof L=="boolean",e,"internal-error"),ie(typeof F=="boolean",e,"internal-error"),ci(_,e.name),ci(S,e.name),ci(C,e.name),ci(k,e.name),ci(E,e.name),ci(I,e.name);const T=new Lr({uid:A,auth:e,email:m,emailVerified:L,displayName:g,isAnonymous:F,photoURL:S,phoneNumber:_,tenantId:C,stsTokenManager:v,createdAt:E,lastLoginAt:I});return V&&Array.isArray(V)&&(T.providerData=V.map(R=>Object.assign({},R))),k&&(T._redirectEventId=k),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new So;i.updateFromServerResponse(n);const s=new Lr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?rI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new So;l.updateFromIdToken(r);const c=new Lr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Bf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function Or(t){qr(t instanceof Function,"Expected a class definition");let e=B_.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iI.type="NONE";const z_=iI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e,n){return`firebase:${t}:${e}:${n}`}class Co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Co(Or(z_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Or(z_);const o=Kc(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const f=await u._get(o);if(f){const g=Lr._fromJSON(e,f);u!==s&&(l=g),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Co(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Co(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cI(e))return"Blackberry";if(uI(e))return"Webos";if(vm(e))return"Safari";if((e.includes("chrome/")||oI(e))&&!e.includes("edge/"))return"Chrome";if(lI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sI(t=Vt()){return/firefox\//i.test(t)}function vm(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oI(t=Vt()){return/crios\//i.test(t)}function aI(t=Vt()){return/iemobile/i.test(t)}function lI(t=Vt()){return/android/i.test(t)}function cI(t=Vt()){return/blackberry/i.test(t)}function uI(t=Vt()){return/webos/i.test(t)}function fd(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uk(t=Vt()){var e;return fd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dk(){return CP()&&document.documentMode===10}function dI(t=Vt()){return fd(t)||lI(t)||uI(t)||cI(t)||/windows phone/i.test(t)||aI(t)}function hk(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e=[]){let n;switch(t){case"Browser":n=$_(Vt());break;case"Worker":n=`${$_(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",$i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=6;class gk{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new fk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nI(this,{idToken:e}),r=await Lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Qx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Ur(this));const n=e?Be(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pk(this),n=new gk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ls("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ck(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qi(t){return Be(t)}class H_{constructor(e){this.auth=e,this.observer=null,this.addObserver=bP(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _k(t){pd=t}function fI(t){return pd.loadJS(t)}function vk(){return pd.recaptchaEnterpriseScript}function wk(){return pd.gapiScript}function Ek(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Ik="recaptcha-enterprise",Tk="NO_RECAPTCHA";class Sk{constructor(e){this.type=Ik,this.auth=qi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{tk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new ek(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;U_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Tk)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&U_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=vk();c.length!==0&&(c+=l),fI(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function q_(t,e,n,r=!1){const i=new Sk(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await q_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await q_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e){const n=Qo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(xu(s,e??{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}function Ak(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Rk(t,e,n){const r=qi(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=pI(e),{host:o,port:l}=Pk(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),xk()}function pI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pk(t){const e=pI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:W_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:W_(o)}}}function W_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function kk(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e){return Vl(t,"POST","/v1/accounts:signInWithPassword",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e){return Vl(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}async function Dk(t,e){return Vl(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends wm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(e,n,"signInWithPassword",Nk);case"emailLink":return bk(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(e,r,"signUpPassword",kk);case"emailLink":return Dk(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return Vl(t,"POST","/v1/accounts:signInWithIdp",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="http://localhost";class Ts extends wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ts(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:jk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ok(t){const e=Da(ja(t)).link,n=e?Da(ja(e)).deep_link_id:null,r=Da(ja(t)).deep_link_id;return(r?Da(ja(r)).link:null)||r||n||e||t}class Em{constructor(e){var n,r,i,s,o,l;const c=Da(ja(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,g=Lk((i=c.mode)!==null&&i!==void 0?i:null);ie(u&&f&&g,"argument-error"),this.apiKey=u,this.operation=g,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Ok(e);try{return new Em(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Tl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Em.parseLink(n);return ie(r,"argument-error"),Tl._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ul{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ts._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Ul{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Ul{constructor(){super("twitter.com")}static credential(e,n){return Ts._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(t,e){return Vl(t,"POST","/v1/accounts:signUp",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Lr._fromIdTokenResponse(e,r,i),o=G_(r);return new Ss({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=G_(r);return new Ss({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function G_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends zn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Du.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Du(e,n,r,i)}}function mI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Du._fromErrorAndOperation(t,s,e,r):s})}async function Vk(t,e,n=!1){const r=await Il(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ss._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(t,e,n=!1){const{auth:r}=t;if(Yn(r.app))return Promise.reject(Ur(r));const i="reauthenticate";try{const s=await Il(t,mI(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=_m(s.idToken);ie(o,r,"internal-error");const{sub:l}=o;return ie(t.uid===l,r,"user-mismatch"),Ss._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e,n=!1){if(Yn(t.app))return Promise.reject(Ur(t));const r="signIn",i=await mI(t,r,e),s=await Ss._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Fk(t,e){return gI(qi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t){const e=qi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bk(t,e,n){if(Yn(t.app))return Promise.reject(Ur(t));const r=qi(t),o=await zf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mk).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&yI(t),c}),l=await Ss._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function zk(t,e,n){return Yn(t.app)?Promise.reject(Ur(t)):Fk(Be(t),Yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yI(t),r})}function $k(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function Hk(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function Wi(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function K_(t){return Be(t).signOut()}async function qk(t){return Be(t).delete()}const ju="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(){const t=Vt();return vm(t)||fd(t)}const Gk=1e3,Kk=10;class vI extends _I{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Wk()&&hk(),this.fallbackToPolling=dI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);dk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Kk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vI.type="LOCAL";const Qk=vI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends _I{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wI.type="SESSION";const EI=wI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await Yk(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=Tm("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const m=g;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function Jk(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function Zk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tN(){return II()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebaseLocalStorageDb",nN=1,Lu="firebaseLocalStorage",SI="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gd(t,e){return t.transaction([Lu],e?"readwrite":"readonly").objectStore(Lu)}function rN(){const t=indexedDB.deleteDatabase(TI);return new Fl(t).toPromise()}function $f(){const t=indexedDB.open(TI,nN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lu,{keyPath:SI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lu)?e(r):(r.close(),await rN(),e(await $f()))})})}async function Q_(t,e,n){const r=gd(t,!0).put({[SI]:e,value:n});return new Fl(r).toPromise()}async function iN(t,e){const n=gd(t,!1).get(e),r=await new Fl(n).toPromise();return r===void 0?null:r.value}function Y_(t,e){const n=gd(t,!0).delete(e);return new Fl(n).toPromise()}const sN=800,oN=3;class CI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $f(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return II()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(tN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Zk(),!this.activeServiceWorker)return;this.sender=new Xk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $f();return await Q_(e,ju,"1"),await Y_(e,ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gd(i,!1).getAll();return new Fl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CI.type="LOCAL";const aN=CI;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){return e?Or(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lN(t){return gI(t.auth,new Sm(t),t.bypassAuthState)}function cN(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),Uk(n,new Sm(t),t.bypassAuthState)}async function uN(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),Vk(n,new Sm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lN;case"linkViaPopup":case"linkViaRedirect":return uN;case"reauthViaPopup":case"reauthViaRedirect":return cN;default:Bn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Ml(2e3,1e4);async function Ou(t,e,n){if(Yn(t.app))return Promise.reject(Zn(t,"operation-not-supported-in-this-environment"));const r=qi(t);Wx(t,e,Im);const i=AI(r,n);return new ls(r,"signInViaPopup",e,i).executeNotNull()}class ls extends RI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ls.currentPopupAction&&ls.currentPopupAction.cancel(),ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dN.get())};e()}}ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="pendingRedirect",Qc=new Map;class fN extends RI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await pN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pN(t,e){const n=yN(e),r=gN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mN(t,e){Qc.set(t._key(),e)}function gN(t){return Or(t._redirectPersistence)}function yN(t){return Kc(hN,t.config.apiKey,t.name)}async function _N(t,e,n=!1){if(Yn(t.app))return Promise.reject(Ur(t));const r=qi(t),i=AI(r,e),o=await new fN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=10*60*1e3;class wN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vN&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(e))}saveEventToCache(e){this.cachedEventUids.add(X_(e)),this.lastProcessedEventTime=Date.now()}}function X_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SN=/^https?/;async function CN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IN(t);for(const n of e)try{if(AN(n))return}catch{}Bn(t,"unauthorized-domain")}function AN(t){const e=Ff(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SN.test(n))return!1;if(TN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Ml(3e4,6e4);function J_(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PN(t){return new Promise((e,n)=>{var r,i,s;function o(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),n(Zn(t,"network-request-failed"))},timeout:RN.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const l=Ek("iframefcb");return pr()[l]=()=>{gapi.load?o():n(Zn(t,"network-request-failed"))},fI(`${wk()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function xN(t){return Yc=Yc||PN(t),Yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Ml(5e3,15e3),NN="__/auth/iframe",bN="emulator/auth/iframe",DN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LN(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ym(e,bN):`https://${t.config.authDomain}/${NN}`,r={apiKey:e.apiKey,appName:t.name,v:Os},i=jN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ol(r).slice(1)}`}async function ON(t){const e=await xN(t),n=pr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:LN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zn(t,"network-request-failed"),l=pr().setTimeout(()=>{s(o)},kN.get());function c(){pr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VN=500,UN=600,FN="_blank",BN="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zN(t,e,n,r=VN,i=UN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},MN),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Vt().toLowerCase();n&&(l=oI(u)?FN:n),sI(u)&&(e=e||BN,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[_,S])=>`${m}${_}=${S},`,"");if(uk(u)&&l!=="_self")return $N(e||"",l),new Z_(null);const g=window.open(e||"",l,f);ie(g,t,"popup-blocked");try{g.focus()}catch{}return new Z_(g)}function $N(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="__/auth/handler",qN="emulator/auth/handler",WN=encodeURIComponent("fac");async function ev(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Os,eventId:i};if(e instanceof Im){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(e instanceof Ul){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),u=c?`#${WN}=${encodeURIComponent(c)}`:"";return`${GN(t)}?${Ol(l).slice(1)}${u}`}function GN({config:t}){return t.emulator?ym(t,qN):`https://${t.authDomain}/${HN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="webStorageSupport";class KN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EI,this._completeRedirectFn=_N,this._overrideRedirectResult=mN}async _openPopup(e,n,r,i){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ev(e,n,r,Ff(),i);return zN(e,o,Tm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ev(e,n,r,Ff(),i);return Jk(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ON(e),r=new wN(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ah,{type:Ah},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ah];o!==void 0&&n(!!o),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dI()||vm()||fd()}}const QN=KN;var tv="@firebase/auth",nv="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JN(t){nr(new Fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hI(t)},u=new yk(r,i,s,c);return Ak(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nr(new Fn("auth-internal",e=>{const n=qi(e.getProvider("auth").getImmediate());return(r=>new YN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(tv,nv,XN(t)),pn(tv,nv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=5*60,eb=FE("authIdTokenMaxAge")||ZN;let rv=null;const tb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eb)return;const i=n==null?void 0:n.token;rv!==i&&(rv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xI(t=fm()){const e=Qo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ck(t,{popupRedirectResolver:QN,persistence:[aN,Qk,EI]}),r=FE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=tb(s.toString());Hk(n,o,()=>o(n.currentUser)),$k(n,l=>o(l))}}const i=ME("auth");return i&&Rk(n,`http://${i}`),n}function nb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_k({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",nb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="firebasestorage.googleapis.com",NI="storageBucket",rb=2*60*1e3,ib=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends zn{constructor(e,n,r=0){super(Rh(e),`Firebase Storage: ${n} (${Rh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nt||(nt={}));function Rh(t){return"storage/"+t}function Cm(){const t="An unknown error occurred, please check the error payload for server response.";return new rt(nt.UNKNOWN,t)}function sb(t){return new rt(nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ob(t){return new rt(nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ab(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(nt.UNAUTHENTICATED,t)}function lb(){return new rt(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cb(t){return new rt(nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ub(){return new rt(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hb(){return new rt(nt.CANCELED,"User canceled the upload/download.")}function fb(t){return new rt(nt.INVALID_URL,"Invalid URL '"+t+"'.")}function pb(t){return new rt(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mb(){return new rt(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NI+"' property when initializing the app?")}function gb(){return new rt(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yb(){return new rt(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _b(t){return new rt(nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hf(t){return new rt(nt.INVALID_ARGUMENT,t)}function bI(){return new rt(nt.APP_DELETED,"The Firebase app was deleted.")}function vb(t){return new rt(nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ya(t,e){return new rt(nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Aa(t){throw new rt(nt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw pb(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}const f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",_=new RegExp(`^https?://${g}/${f}/b/${i}/o${m}`,"i"),S={bucket:1,path:3},C=n===kI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",E=new RegExp(`^https?://${C}/${i}/${k}`,"i"),A=[{regex:l,indices:c,postModify:s},{regex:_,indices:S,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<A.length;L++){const F=A[L],V=F.regex.exec(e);if(V){const y=V[F.indices.bucket];let v=V[F.indices.path];v||(v=""),r=new En(y,v),F.postModify(r);break}}if(r==null)throw fb(e);return r}}class wb{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let u=!1;function f(...k){u||(u=!0,e.apply(null,k))}function g(k){i=setTimeout(()=>{i=null,t(_,c())},k)}function m(){s&&clearTimeout(s)}function _(k,...E){if(u){m();return}if(k){m(),f.call(null,k,...E);return}if(c()||o){m(),f.call(null,k,...E);return}r<64&&(r*=2);let A;l===1?(l=2,A=0):A=(r+Math.random())*1e3,g(A)}let S=!1;function C(k){S||(S=!0,m(),!u&&(i!==null?(k||(l=2),clearTimeout(i),g(0)):k||(l=1)))}return g(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function Ib(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){return t!==void 0}function Sb(t){return typeof t=="object"&&!Array.isArray(t)}function Am(t){return typeof t=="string"||t instanceof String}function iv(t){return Rm()&&t instanceof Blob}function Rm(){return typeof Blob<"u"}function sv(t,e,n,r){if(r<e)throw Hf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Hf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function DI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fs||(fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,r,i,s,o,l,c,u,f,g,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=g,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,S)=>{this.resolve_=_,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Pc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===fs.NO_ERROR,c=s.getStatus();if(!l||Cb(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===fs.ABORT;r(!1,new Pc(!1,null,f));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Pc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Tb(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=Cm();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?bI():hb();o(c)}else{const c=ub();o(c)}};this.canceled_?n(!1,new Pc(!1,null,!0)):this.backoffId_=Eb(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ib(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Rb(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Pb(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xb(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kb(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Nb(t,e,n,r,i,s,o=!0){const l=DI(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return xb(u,e),Rb(u,n),Pb(u,s),kb(u,r),new Ab(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Db(...t){const e=bb();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Rm())return new Blob(t);throw new rt(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jb(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){if(typeof atob>"u")throw _b("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ph{constructor(e,n){this.data=e,this.contentType=n||null}}function Ob(t,e){switch(t){case dr.RAW:return new Ph(jI(e));case dr.BASE64:case dr.BASE64URL:return new Ph(LI(t,e));case dr.DATA_URL:return new Ph(Vb(e),Ub(e))}throw Cm()}function jI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Mb(t){let e;try{e=decodeURIComponent(t)}catch{throw Ya(dr.DATA_URL,"Malformed data URL.")}return jI(e)}function LI(t,e){switch(t){case dr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ya(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case dr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ya(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Lb(e)}catch(i){throw i.message.includes("polyfill")?i:Ya(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class OI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ya(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Fb(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Vb(t){const e=new OI(t);return e.base64?LI(dr.BASE64,e.rest):Mb(e.rest)}function Ub(t){return new OI(t).contentType}function Fb(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){let r=0,i="";iv(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(iv(this.data_)){const r=this.data_,i=jb(r,e,n);return i===null?null:new yi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new yi(r,!0)}}static getBlob(...e){if(Rm()){const n=e.map(r=>r instanceof yi?r.data_:r);return new yi(Db.apply(null,n))}else{const n=e.map(o=>Am(o)?Ob(dr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new yi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){let e;try{e=JSON.parse(t)}catch{return null}return Sb(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zb(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function VI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e){return e}class Zt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||$b}}let xc=null;function Hb(t){return!Am(t)||t.length<2?t:VI(t)}function UI(){if(xc)return xc;const t=[];t.push(new Zt("bucket")),t.push(new Zt("generation")),t.push(new Zt("metageneration")),t.push(new Zt("name","fullPath",!0));function e(s,o){return Hb(o)}const n=new Zt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Zt("size");return i.xform=r,t.push(i),t.push(new Zt("timeCreated")),t.push(new Zt("updated")),t.push(new Zt("md5Hash",null,!0)),t.push(new Zt("cacheControl",null,!0)),t.push(new Zt("contentDisposition",null,!0)),t.push(new Zt("contentEncoding",null,!0)),t.push(new Zt("contentLanguage",null,!0)),t.push(new Zt("contentType",null,!0)),t.push(new Zt("metadata","customMetadata",!0)),xc=t,xc}function qb(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new En(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Wb(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return qb(r,t),r}function FI(t,e,n){const r=MI(e);return r===null?null:Wb(t,r,n)}function Gb(t,e,n,r){const i=MI(e);if(i===null||!Am(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const f=t.bucket,g=t.fullPath,m="/b/"+o(f)+"/o/"+o(g),_=Pm(m,n,r),S=DI({alt:"media",token:u});return _+S})[0]}function Kb(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class BI{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){if(!t)throw Cm()}function Qb(t,e){function n(r,i){const s=FI(t,i,e);return zI(s!==null),s}return n}function Yb(t,e){function n(r,i){const s=FI(t,i,e);return zI(s!==null),Gb(s,i,t.host,t._protocol)}return n}function $I(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=lb():i=ab():n.getStatus()===402?i=ob(t.bucket):n.getStatus()===403?i=cb(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Xb(t){const e=$I(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=sb(t.path)),s.serverResponse=i.serverResponse,s}return n}function Jb(t,e,n){const r=e.fullServerUrl(),i=Pm(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new BI(i,s,Yb(t,n),o);return l.errorHandler=Xb(e),l}function Zb(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function eD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Zb(null,e)),r}function tD(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let A="";for(let L=0;L<2;L++)A=A+Math.random().toString().slice(2);return A}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=eD(e,r,i),f=Kb(u,n),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+c+"--",_=yi.getBlob(g,r,m);if(_===null)throw gb();const S={name:u.fullPath},C=Pm(s,t.host,t._protocol),k="POST",E=t.maxUploadRetryTime,I=new BI(C,k,Qb(t,n),E);return I.urlParams=S,I.headers=o,I.body=_.uploadData(),I.errorHandler=$I(e),I}class nD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Aa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Aa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Aa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Aa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Aa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rD extends nD{initXhr(){this.xhr_.responseType="text"}}function HI(){return new rD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Cs(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VI(this._location.path)}get storage(){return this._service}get parent(){const e=Bb(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new Cs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vb(e)}}function iD(t,e,n){t._throwIfRoot("uploadBytes");const r=tD(t.storage,t._location,UI(),new yi(e,!0),n);return t.storage.makeRequestWithTokens(r,HI).then(i=>({metadata:i,ref:t}))}function sD(t){t._throwIfRoot("getDownloadURL");const e=Jb(t.storage,t._location,UI());return t.storage.makeRequestWithTokens(e,HI).then(n=>{if(n===null)throw yb();return n})}function oD(t,e){const n=zb(t._location.path,e),r=new En(t._location.bucket,n);return new Cs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){return/^[A-Za-z]+:\/\//.test(t)}function lD(t,e){return new Cs(t,e)}function qI(t,e){if(t instanceof xm){const n=t;if(n._bucket==null)throw mb();const r=new Cs(n,n._bucket);return e!=null?qI(r,e):r}else return e!==void 0?oD(t,e):t}function cD(t,e){if(e&&aD(e)){if(t instanceof xm)return lD(t,e);throw Hf("To use ref(service, url), the first argument must be a Storage instance.")}else return qI(t,e)}function ov(t,e){const n=e==null?void 0:e[NI];return n==null?null:En.makeFromBucketSpec(n,t)}function uD(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:BE(i,t.app.options.projectId))}class xm{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=kI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rb,this._maxUploadRetryTime=ib,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=ov(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=ov(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new wb(bI());{const o=Nb(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const av="@firebase/storage",lv="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="storage";function dD(t,e,n){return t=Be(t),iD(t,e,n)}function GI(t){return t=Be(t),sD(t)}function qf(t,e){return t=Be(t),cD(t,e)}function hD(t=fm(),e){t=Be(t);const r=Qo(t,WI).getImmediate({identifier:e}),i=VE("storage");return i&&fD(r,...i),r}function fD(t,e,n,r={}){uD(t,e,n,r)}function pD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new xm(n,r,i,e,Os)}function mD(){nr(new Fn(WI,pD,"PUBLIC").setMultipleInstances(!0)),pn(av,lv,""),pn(av,lv,"esm2017")}mD();var gD="firebase",yD="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(gD,yD,"app");const KI="@firebase/installations",km="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=1e4,YI=`w:${km}`,XI="FIS_v2",_D="https://firebaseinstallations.googleapis.com/v1",vD=60*60*1e3,wD="installations",ED="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},As=new Ls(wD,ED,ID);function JI(t){return t instanceof zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI({projectId:t}){return`${_D}/projects/${t}/installations`}function eT(t){return{token:t.token,requestStatus:2,expiresIn:SD(t.expiresIn),creationTime:Date.now()}}async function tT(t,e){const r=(await e.json()).error;return As.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function TD(t,{refreshToken:e}){const n=nT(t);return n.append("Authorization",CD(e)),n}async function rT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function SD(t){return Number(t.replace("s","000"))}function CD(t){return`${XI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ZI(t),i=nT(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:XI,appId:t.appId,sdkVersion:YI},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await rT(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:eT(u.authToken)}}else throw await tT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=/^[cdef][\w-]{21}$/,Wf="";function xD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=kD(t);return PD.test(n)?n:Wf}catch{return Wf}}function kD(t){return RD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;function oT(t,e){const n=yd(t);aT(n,e),ND(n,e)}function aT(t,e){const n=sT.get(t);if(n)for(const r of n)r(e)}function ND(t,e){const n=bD();n&&n.postMessage({key:t,fid:e}),DD()}let cs=null;function bD(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{aT(t.data.key,t.data.fid)}),cs}function DD(){sT.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebase-installations-database",LD=1,Rs="firebase-installations-store";let xh=null;function Nm(){return xh||(xh=GE(jD,LD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rs)}}})),xh}async function Mu(t,e){const n=yd(t),i=(await Nm()).transaction(Rs,"readwrite"),s=i.objectStore(Rs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&oT(t,e.fid),e}async function lT(t){const e=yd(t),r=(await Nm()).transaction(Rs,"readwrite");await r.objectStore(Rs).delete(e),await r.done}async function _d(t,e){const n=yd(t),i=(await Nm()).transaction(Rs,"readwrite"),s=i.objectStore(Rs),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&oT(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(t){let e;const n=await _d(t.appConfig,r=>{const i=OD(r),s=MD(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Wf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function OD(t){const e=t||{fid:xD(),registrationStatus:0};return cT(e)}function MD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(As.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=VD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UD(t)}:{installationEntry:e}}async function VD(t,e){try{const n=await AD(t,e);return Mu(t.appConfig,n)}catch(n){throw JI(n)&&n.customData.serverCode===409?await lT(t.appConfig):await Mu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function UD(t){let e=await cv(t.appConfig);for(;e.registrationStatus===1;)await iT(100),e=await cv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await bm(t);return r||n}return e}function cv(t){return _d(t,e=>{if(!e)throw As.create("installation-not-found");return cT(e)})}function cT(t){return FD(t)?{fid:t.fid,registrationStatus:0}:t}function FD(t){return t.registrationStatus===1&&t.registrationTime+QI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD({appConfig:t,heartbeatServiceProvider:e},n){const r=zD(t,n),i=TD(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:YI,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await rT(()=>fetch(r,l));if(c.ok){const u=await c.json();return eT(u)}else throw await tT("Generate Auth Token",c)}function zD(t,{fid:e}){return`${ZI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(t,e=!1){let n;const r=await _d(t.appConfig,s=>{if(!uT(s))throw As.create("not-registered");const o=s.authToken;if(!e&&qD(o))return s;if(o.requestStatus===1)return n=$D(t,e),s;{if(!navigator.onLine)throw As.create("app-offline");const l=GD(s);return n=HD(t,l),l}});return n?await n:r.authToken}async function $D(t,e){let n=await uv(t.appConfig);for(;n.authToken.requestStatus===1;)await iT(100),n=await uv(t.appConfig);const r=n.authToken;return r.requestStatus===0?Dm(t,e):r}function uv(t){return _d(t,e=>{if(!uT(e))throw As.create("not-registered");const n=e.authToken;return KD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function HD(t,e){try{const n=await BD(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Mu(t.appConfig,r),n}catch(n){if(JI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mu(t.appConfig,r)}throw n}}function uT(t){return t!==void 0&&t.registrationStatus===2}function qD(t){return t.requestStatus===2&&!WD(t)}function WD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vD}function GD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function KD(t){return t.requestStatus===1&&t.requestTime+QI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t){const e=t,{installationEntry:n,registrationPromise:r}=await bm(e);return r?r.catch(console.error):Dm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e=!1){const n=t;return await XD(n),(await Dm(n,e)).token}async function XD(t){const{registrationPromise:e}=await bm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){if(!t||!t.options)throw kh("App Configuration");if(!t.name)throw kh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw kh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function kh(t){return As.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="installations",ZD="installations-internal",e2=t=>{const e=t.getProvider("app").getImmediate(),n=JD(e),r=Qo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},t2=t=>{const e=t.getProvider("app").getImmediate(),n=Qo(e,dT).getImmediate();return{getId:()=>QD(n),getToken:i=>YD(n,i)}};function n2(){nr(new Fn(dT,e2,"PUBLIC")),nr(new Fn(ZD,t2,"PRIVATE"))}n2();pn(KI,km);pn(KI,km,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="analytics",r2="firebase_id",i2="origin",s2=60*1e3,o2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new hd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Ls("analytics","Analytics",a2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){if(!t.startsWith(jm)){const e=Mn.create("invalid-gtag-resource",{gtagURL:t});return mn.warn(e.message),""}return t}function hT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function c2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function u2(t,e){const n=c2("firebase-js-sdk-policy",{createScriptURL:l2}),r=document.createElement("script"),i=`${jm}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function d2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function h2(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await hT(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){mn.error(l)}t("config",i,s)}async function f2(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await hT(n);for(const c of o){const u=l.find(g=>g.measurementId===c),f=u&&e[u.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){mn.error(s)}}function p2(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await f2(t,e,n,l,c)}else if(s==="config"){const[l,c]=o;await h2(t,e,n,r,l,c)}else if(s==="consent"){const[l,c]=o;t("consent",l,c)}else if(s==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){mn.error(l)}}return i}function m2(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=p2(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function g2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=30,_2=1e3;class v2{constructor(e={},n=_2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fT=new v2;function w2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function E2(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:w2(r)},s=o2.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function I2(t,e=fT,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new C2;return setTimeout(async()=>{l.abort()},s2),pT({appId:r,apiKey:i,measurementId:s},o,l,e)}async function pT(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fT){var s;const{appId:o,measurementId:l}=t;try{await T2(r,e)}catch(c){if(l)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await E2(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!S2(u)){if(i.deleteThrottleMetadata(o),l)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const f=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?x_(n,i.intervalMillis,y2):x_(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(o,g),mn.debug(`Calling attemptFetch again in ${f} millis`),pT(t,g,r,i)}}function T2(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function S2(t){if(!(t instanceof zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class C2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function A2(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(){if($E())try{await HE()}catch(t){return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function P2(t,e,n,r,i,s,o){var l;const c=I2(t);c.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>mn.error(_)),e.push(c);const u=R2().then(_=>{if(_)return r.getId()}),[f,g]=await Promise.all([c,u]);g2(s)||u2(s,f.measurementId),i("js",new Date);const m=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return m[i2]="firebase",m.update=!0,g!=null&&(m[r2]=g),i("config",f.measurementId,m),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.app=e}_delete(){return delete Xa[this.app.options.appId],Promise.resolve()}}let Xa={},hv=[];const fv={};let Nh="dataLayer",k2="gtag",pv,mT,mv=!1;function N2(){const t=[];if(zE()&&t.push("This is a browser extension environment."),RP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});mn.warn(n.message)}}function b2(t,e,n){N2();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(Xa[r]!=null)throw Mn.create("already-exists",{id:r});if(!mv){d2(Nh);const{wrappedGtag:s,gtagCore:o}=m2(Xa,hv,fv,Nh,k2);mT=s,pv=o,mv=!0}return Xa[r]=P2(t,hv,fv,e,pv,Nh,n),new x2(t)}function D2(t,e,n,r){t=Be(t),A2(mT,Xa[t.app.options.appId],e,n,r).catch(i=>mn.error(i))}const gv="@firebase/analytics",yv="0.10.4";function j2(){nr(new Fn(dv,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return b2(r,i,n)},"PUBLIC")),nr(new Fn("analytics-internal",t,"PRIVATE")),pn(gv,yv),pn(gv,yv,"esm2017");function t(e){try{const n=e.getProvider(dv).getImmediate();return{logEvent:(r,i,s)=>D2(n,r,i,s)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}j2();var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,gT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,v){function T(){}T.prototype=v.prototype,y.D=v.prototype,y.prototype=new T,y.prototype.constructor=y,y.C=function(R,x,N){for(var P=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)P[xe-2]=arguments[xe];return v.prototype[x].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(y,v,T){T||(T=0);var R=Array(16);if(typeof v=="string")for(var x=0;16>x;++x)R[x]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(x=0;16>x;++x)R[x]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=y.g[0],T=y.g[1],x=y.g[2];var N=y.g[3],P=v+(N^T&(x^N))+R[0]+3614090360&4294967295;v=T+(P<<7&4294967295|P>>>25),P=N+(x^v&(T^x))+R[1]+3905402710&4294967295,N=v+(P<<12&4294967295|P>>>20),P=x+(T^N&(v^T))+R[2]+606105819&4294967295,x=N+(P<<17&4294967295|P>>>15),P=T+(v^x&(N^v))+R[3]+3250441966&4294967295,T=x+(P<<22&4294967295|P>>>10),P=v+(N^T&(x^N))+R[4]+4118548399&4294967295,v=T+(P<<7&4294967295|P>>>25),P=N+(x^v&(T^x))+R[5]+1200080426&4294967295,N=v+(P<<12&4294967295|P>>>20),P=x+(T^N&(v^T))+R[6]+2821735955&4294967295,x=N+(P<<17&4294967295|P>>>15),P=T+(v^x&(N^v))+R[7]+4249261313&4294967295,T=x+(P<<22&4294967295|P>>>10),P=v+(N^T&(x^N))+R[8]+1770035416&4294967295,v=T+(P<<7&4294967295|P>>>25),P=N+(x^v&(T^x))+R[9]+2336552879&4294967295,N=v+(P<<12&4294967295|P>>>20),P=x+(T^N&(v^T))+R[10]+4294925233&4294967295,x=N+(P<<17&4294967295|P>>>15),P=T+(v^x&(N^v))+R[11]+2304563134&4294967295,T=x+(P<<22&4294967295|P>>>10),P=v+(N^T&(x^N))+R[12]+1804603682&4294967295,v=T+(P<<7&4294967295|P>>>25),P=N+(x^v&(T^x))+R[13]+4254626195&4294967295,N=v+(P<<12&4294967295|P>>>20),P=x+(T^N&(v^T))+R[14]+2792965006&4294967295,x=N+(P<<17&4294967295|P>>>15),P=T+(v^x&(N^v))+R[15]+1236535329&4294967295,T=x+(P<<22&4294967295|P>>>10),P=v+(x^N&(T^x))+R[1]+4129170786&4294967295,v=T+(P<<5&4294967295|P>>>27),P=N+(T^x&(v^T))+R[6]+3225465664&4294967295,N=v+(P<<9&4294967295|P>>>23),P=x+(v^T&(N^v))+R[11]+643717713&4294967295,x=N+(P<<14&4294967295|P>>>18),P=T+(N^v&(x^N))+R[0]+3921069994&4294967295,T=x+(P<<20&4294967295|P>>>12),P=v+(x^N&(T^x))+R[5]+3593408605&4294967295,v=T+(P<<5&4294967295|P>>>27),P=N+(T^x&(v^T))+R[10]+38016083&4294967295,N=v+(P<<9&4294967295|P>>>23),P=x+(v^T&(N^v))+R[15]+3634488961&4294967295,x=N+(P<<14&4294967295|P>>>18),P=T+(N^v&(x^N))+R[4]+3889429448&4294967295,T=x+(P<<20&4294967295|P>>>12),P=v+(x^N&(T^x))+R[9]+568446438&4294967295,v=T+(P<<5&4294967295|P>>>27),P=N+(T^x&(v^T))+R[14]+3275163606&4294967295,N=v+(P<<9&4294967295|P>>>23),P=x+(v^T&(N^v))+R[3]+4107603335&4294967295,x=N+(P<<14&4294967295|P>>>18),P=T+(N^v&(x^N))+R[8]+1163531501&4294967295,T=x+(P<<20&4294967295|P>>>12),P=v+(x^N&(T^x))+R[13]+2850285829&4294967295,v=T+(P<<5&4294967295|P>>>27),P=N+(T^x&(v^T))+R[2]+4243563512&4294967295,N=v+(P<<9&4294967295|P>>>23),P=x+(v^T&(N^v))+R[7]+1735328473&4294967295,x=N+(P<<14&4294967295|P>>>18),P=T+(N^v&(x^N))+R[12]+2368359562&4294967295,T=x+(P<<20&4294967295|P>>>12),P=v+(T^x^N)+R[5]+4294588738&4294967295,v=T+(P<<4&4294967295|P>>>28),P=N+(v^T^x)+R[8]+2272392833&4294967295,N=v+(P<<11&4294967295|P>>>21),P=x+(N^v^T)+R[11]+1839030562&4294967295,x=N+(P<<16&4294967295|P>>>16),P=T+(x^N^v)+R[14]+4259657740&4294967295,T=x+(P<<23&4294967295|P>>>9),P=v+(T^x^N)+R[1]+2763975236&4294967295,v=T+(P<<4&4294967295|P>>>28),P=N+(v^T^x)+R[4]+1272893353&4294967295,N=v+(P<<11&4294967295|P>>>21),P=x+(N^v^T)+R[7]+4139469664&4294967295,x=N+(P<<16&4294967295|P>>>16),P=T+(x^N^v)+R[10]+3200236656&4294967295,T=x+(P<<23&4294967295|P>>>9),P=v+(T^x^N)+R[13]+681279174&4294967295,v=T+(P<<4&4294967295|P>>>28),P=N+(v^T^x)+R[0]+3936430074&4294967295,N=v+(P<<11&4294967295|P>>>21),P=x+(N^v^T)+R[3]+3572445317&4294967295,x=N+(P<<16&4294967295|P>>>16),P=T+(x^N^v)+R[6]+76029189&4294967295,T=x+(P<<23&4294967295|P>>>9),P=v+(T^x^N)+R[9]+3654602809&4294967295,v=T+(P<<4&4294967295|P>>>28),P=N+(v^T^x)+R[12]+3873151461&4294967295,N=v+(P<<11&4294967295|P>>>21),P=x+(N^v^T)+R[15]+530742520&4294967295,x=N+(P<<16&4294967295|P>>>16),P=T+(x^N^v)+R[2]+3299628645&4294967295,T=x+(P<<23&4294967295|P>>>9),P=v+(x^(T|~N))+R[0]+4096336452&4294967295,v=T+(P<<6&4294967295|P>>>26),P=N+(T^(v|~x))+R[7]+1126891415&4294967295,N=v+(P<<10&4294967295|P>>>22),P=x+(v^(N|~T))+R[14]+2878612391&4294967295,x=N+(P<<15&4294967295|P>>>17),P=T+(N^(x|~v))+R[5]+4237533241&4294967295,T=x+(P<<21&4294967295|P>>>11),P=v+(x^(T|~N))+R[12]+1700485571&4294967295,v=T+(P<<6&4294967295|P>>>26),P=N+(T^(v|~x))+R[3]+2399980690&4294967295,N=v+(P<<10&4294967295|P>>>22),P=x+(v^(N|~T))+R[10]+4293915773&4294967295,x=N+(P<<15&4294967295|P>>>17),P=T+(N^(x|~v))+R[1]+2240044497&4294967295,T=x+(P<<21&4294967295|P>>>11),P=v+(x^(T|~N))+R[8]+1873313359&4294967295,v=T+(P<<6&4294967295|P>>>26),P=N+(T^(v|~x))+R[15]+4264355552&4294967295,N=v+(P<<10&4294967295|P>>>22),P=x+(v^(N|~T))+R[6]+2734768916&4294967295,x=N+(P<<15&4294967295|P>>>17),P=T+(N^(x|~v))+R[13]+1309151649&4294967295,T=x+(P<<21&4294967295|P>>>11),P=v+(x^(T|~N))+R[4]+4149444226&4294967295,v=T+(P<<6&4294967295|P>>>26),P=N+(T^(v|~x))+R[11]+3174756917&4294967295,N=v+(P<<10&4294967295|P>>>22),P=x+(v^(N|~T))+R[2]+718787259&4294967295,x=N+(P<<15&4294967295|P>>>17),P=T+(N^(x|~v))+R[9]+3951481745&4294967295,y.g[0]=y.g[0]+v&4294967295,y.g[1]=y.g[1]+(x+(P<<21&4294967295|P>>>11))&4294967295,y.g[2]=y.g[2]+x&4294967295,y.g[3]=y.g[3]+N&4294967295}r.prototype.u=function(y,v){v===void 0&&(v=y.length);for(var T=v-this.blockSize,R=this.B,x=this.h,N=0;N<v;){if(x==0)for(;N<=T;)i(this,y,N),N+=this.blockSize;if(typeof y=="string"){for(;N<v;)if(R[x++]=y.charCodeAt(N++),x==this.blockSize){i(this,R),x=0;break}}else for(;N<v;)if(R[x++]=y[N++],x==this.blockSize){i(this,R),x=0;break}}this.h=x,this.o+=v},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var v=1;v<y.length-8;++v)y[v]=0;var T=8*this.o;for(v=y.length-8;v<y.length;++v)y[v]=T&255,T/=256;for(this.u(y),y=Array(16),v=T=0;4>v;++v)for(var R=0;32>R;R+=8)y[T++]=this.g[v]>>>R&255;return y};function s(y,v){var T=l;return Object.prototype.hasOwnProperty.call(T,y)?T[y]:T[y]=v(y)}function o(y,v){this.h=v;for(var T=[],R=!0,x=y.length-1;0<=x;x--){var N=y[x]|0;R&&N==v||(T[x]=N,R=!1)}this.g=T}var l={};function c(y){return-128<=y&&128>y?s(y,function(v){return new o([v|0],0>v?-1:0)}):new o([y|0],0>y?-1:0)}function u(y){if(isNaN(y)||!isFinite(y))return g;if(0>y)return k(u(-y));for(var v=[],T=1,R=0;y>=T;R++)v[R]=y/T|0,T*=4294967296;return new o(v,0)}function f(y,v){if(y.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(y.charAt(0)=="-")return k(f(y.substring(1),v));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(v,8)),R=g,x=0;x<y.length;x+=8){var N=Math.min(8,y.length-x),P=parseInt(y.substring(x,x+N),v);8>N?(N=u(Math.pow(v,N)),R=R.j(N).add(u(P))):(R=R.j(T),R=R.add(u(P)))}return R}var g=c(0),m=c(1),_=c(16777216);t=o.prototype,t.m=function(){if(C(this))return-k(this).m();for(var y=0,v=1,T=0;T<this.g.length;T++){var R=this.i(T);y+=(0<=R?R:4294967296+R)*v,v*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S(this))return"0";if(C(this))return"-"+k(this).toString(y);for(var v=u(Math.pow(y,6)),T=this,R="";;){var x=L(T,v).g;T=E(T,x.j(v));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(y);if(T=x,S(T))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function S(y){if(y.h!=0)return!1;for(var v=0;v<y.g.length;v++)if(y.g[v]!=0)return!1;return!0}function C(y){return y.h==-1}t.l=function(y){return y=E(this,y),C(y)?-1:S(y)?0:1};function k(y){for(var v=y.g.length,T=[],R=0;R<v;R++)T[R]=~y.g[R];return new o(T,~y.h).add(m)}t.abs=function(){return C(this)?k(this):this},t.add=function(y){for(var v=Math.max(this.g.length,y.g.length),T=[],R=0,x=0;x<=v;x++){var N=R+(this.i(x)&65535)+(y.i(x)&65535),P=(N>>>16)+(this.i(x)>>>16)+(y.i(x)>>>16);R=P>>>16,N&=65535,P&=65535,T[x]=P<<16|N}return new o(T,T[T.length-1]&-2147483648?-1:0)};function E(y,v){return y.add(k(v))}t.j=function(y){if(S(this)||S(y))return g;if(C(this))return C(y)?k(this).j(k(y)):k(k(this).j(y));if(C(y))return k(this.j(k(y)));if(0>this.l(_)&&0>y.l(_))return u(this.m()*y.m());for(var v=this.g.length+y.g.length,T=[],R=0;R<2*v;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var x=0;x<y.g.length;x++){var N=this.i(R)>>>16,P=this.i(R)&65535,xe=y.i(x)>>>16,Tt=y.i(x)&65535;T[2*R+2*x]+=P*Tt,I(T,2*R+2*x),T[2*R+2*x+1]+=N*Tt,I(T,2*R+2*x+1),T[2*R+2*x+1]+=P*xe,I(T,2*R+2*x+1),T[2*R+2*x+2]+=N*xe,I(T,2*R+2*x+2)}for(R=0;R<v;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=v;R<2*v;R++)T[R]=0;return new o(T,0)};function I(y,v){for(;(y[v]&65535)!=y[v];)y[v+1]+=y[v]>>>16,y[v]&=65535,v++}function A(y,v){this.g=y,this.h=v}function L(y,v){if(S(v))throw Error("division by zero");if(S(y))return new A(g,g);if(C(y))return v=L(k(y),v),new A(k(v.g),k(v.h));if(C(v))return v=L(y,k(v)),new A(k(v.g),v.h);if(30<y.g.length){if(C(y)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var T=m,R=v;0>=R.l(y);)T=F(T),R=F(R);var x=V(T,1),N=V(R,1);for(R=V(R,2),T=V(T,2);!S(R);){var P=N.add(R);0>=P.l(y)&&(x=x.add(T),N=P),R=V(R,1),T=V(T,1)}return v=E(y,x.j(v)),new A(x,v)}for(x=g;0<=y.l(v);){for(T=Math.max(1,Math.floor(y.m()/v.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=u(T),P=N.j(v);C(P)||0<P.l(y);)T-=R,N=u(T),P=N.j(v);S(N)&&(N=m),x=x.add(N),y=E(y,P)}return new A(x,y)}t.A=function(y){return L(this,y).h},t.and=function(y){for(var v=Math.max(this.g.length,y.g.length),T=[],R=0;R<v;R++)T[R]=this.i(R)&y.i(R);return new o(T,this.h&y.h)},t.or=function(y){for(var v=Math.max(this.g.length,y.g.length),T=[],R=0;R<v;R++)T[R]=this.i(R)|y.i(R);return new o(T,this.h|y.h)},t.xor=function(y){for(var v=Math.max(this.g.length,y.g.length),T=[],R=0;R<v;R++)T[R]=this.i(R)^y.i(R);return new o(T,this.h^y.h)};function F(y){for(var v=y.g.length+1,T=[],R=0;R<v;R++)T[R]=y.i(R)<<1|y.i(R-1)>>>31;return new o(T,y.h)}function V(y,v){var T=v>>5;v%=32;for(var R=y.g.length-T,x=[],N=0;N<R;N++)x[N]=0<v?y.i(N+T)>>>v|y.i(N+T+1)<<32-v:y.i(N+T);return new o(x,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,ps=o}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yT,_T,La,vT,Xc,Gf,wT,ET,IT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var j=a[w];if(!(j in p))break e;p=p[j]}a=a[a.length-1],w=p[a],h=h(w),h!=w&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,w=!1,j={next:function(){if(!w&&p<a.length){var M=p++;return{value:h(M,a[M]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,p){return a.call.apply(a.bind,arguments)}function g(a,h,p){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),a.apply(h,j)}}return function(){return a.apply(h,arguments)}}function m(a,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,m.apply(null,arguments)}function _(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function S(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(w,j,M){for(var W=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)W[ke-2]=arguments[ke];return h.prototype[j].apply(w,W)}}function C(a){const h=a.length;if(0<h){const p=Array(h);for(let w=0;w<h;w++)p[w]=a[w];return p}return[]}function k(a,h){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(c(w)){const j=a.length||0,M=w.length||0;a.length=j+M;for(let W=0;W<M;W++)a[j+W]=w[W]}else a.push(w)}}class E{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function I(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var F=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function V(a,h,p){for(const w in a)h.call(p,a[w],w,a)}function y(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function v(a){const h={};for(const p in a)h[p]=a[p];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,h){let p,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(p in w)a[p]=w[p];for(let M=0;M<T.length;M++)p=T[M],Object.prototype.hasOwnProperty.call(w,p)&&(a[p]=w[p])}}function x(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function N(a){l.setTimeout(()=>{throw a},0)}function P(){var a=ne;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class xe{constructor(){this.h=this.g=null}add(h,p){const w=Tt.get();w.set(h,p),this.h?this.h.next=w:this.g=w,this.h=w}}var Tt=new E(()=>new ir,a=>a.reset());class ir{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let an,q=!1,ne=new xe,se=()=>{const a=l.Promise.resolve(void 0);an=()=>{a.then(Ce)}};var Ce=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(p){N(p)}var h=Tt;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}q=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var Xt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function ht(a,h){if(Pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(F){e:{try{L(h.nodeName);var j=!0;break e}catch{}j=!1}j||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:St[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ht.aa.h.call(this)}}S(ht,Pe);var St={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),ea=0;function jd(a,h,p,w,j){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!w,this.ha=j,this.key=++ea,this.da=this.fa=!1}function Bs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function zs(a){this.src=a,this.g={},this.h=0}zs.prototype.add=function(a,h,p,w,j){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var W=vr(a,h,w,j);return-1<W?(h=a[W],p||(h.fa=!1)):(h=new jd(h,this.src,M,!!w,j),h.fa=p,a.push(h)),h};function At(a,h){var p=h.type;if(p in a.g){var w=a.g[p],j=Array.prototype.indexOf.call(w,h,void 0),M;(M=0<=j)&&Array.prototype.splice.call(w,j,1),M&&(Bs(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function vr(a,h,p,w){for(var j=0;j<a.length;++j){var M=a[j];if(!M.da&&M.listener==h&&M.capture==!!p&&M.ha==w)return j}return-1}var $s="closure_lm_"+(1e6*Math.random()|0),ta={};function sr(a,h,p,w,j){if(Array.isArray(h)){for(var M=0;M<h.length;M++)sr(a,h[M],p,w,j);return null}return p=qs(p),a&&a[Ct]?a.K(h,p,u(w)?!!w.capture:!!w,j):Ld(a,h,p,!1,w,j)}function Ld(a,h,p,w,j,M){if(!h)throw Error("Invalid event type");var W=u(j)?!!j.capture:!!j,ke=wr(a);if(ke||(a[$s]=ke=new zs(a)),p=ke.add(h,p,w,W,M),p.proxy)return p;if(w=Od(),p.proxy=w,w.src=a,w.listener=p,a.addEventListener)Xt||(j=W),j===void 0&&(j=!1),a.addEventListener(h.toString(),w,j);else if(a.attachEvent)a.attachEvent(Yl(h.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Od(){function a(p){return h.call(a.src,a.listener,p)}const h=Ki;return a}function Ql(a,h,p,w,j){if(Array.isArray(h))for(var M=0;M<h.length;M++)Ql(a,h[M],p,w,j);else w=u(w)?!!w.capture:!!w,p=qs(p),a&&a[Ct]?(a=a.i,h=String(h).toString(),h in a.g&&(M=a.g[h],p=vr(M,p,w,j),-1<p&&(Bs(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete a.g[h],a.h--)))):a&&(a=wr(a))&&(h=a.g[h.toString()],a=-1,h&&(a=vr(h,p,w,j)),(p=-1<a?h[a]:null)&&na(p))}function na(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Ct])At(h.i,a);else{var p=a.type,w=a.proxy;h.removeEventListener?h.removeEventListener(p,w,a.capture):h.detachEvent?h.detachEvent(Yl(p),w):h.addListener&&h.removeListener&&h.removeListener(w),(p=wr(h))?(At(p,a),p.h==0&&(p.src=null,h[$s]=null)):Bs(a)}}}function Yl(a){return a in ta?ta[a]:ta[a]="on"+a}function Ki(a,h){if(a.da)a=!0;else{h=new ht(h,this);var p=a.listener,w=a.ha||a.src;a.fa&&na(a),a=p.call(w,h)}return a}function wr(a){return a=a[$s],a instanceof zs?a:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function qs(a){return typeof a=="function"?a:(a[Hs]||(a[Hs]=function(h){return a.handleEvent(h)}),a[Hs])}function je(){he.call(this),this.i=new zs(this),this.M=this,this.F=null}S(je,he),je.prototype[Ct]=!0,je.prototype.removeEventListener=function(a,h,p,w){Ql(this,a,h,p,w)};function it(a,h){var p,w=a.F;if(w)for(p=[];w;w=w.F)p.push(w);if(a=a.M,w=h.type||h,typeof h=="string")h=new Pe(h,a);else if(h instanceof Pe)h.target=h.target||a;else{var j=h;h=new Pe(w,a),R(h,j)}if(j=!0,p)for(var M=p.length-1;0<=M;M--){var W=h.g=p[M];j=Qi(W,w,!0,h)&&j}if(W=h.g=a,j=Qi(W,w,!0,h)&&j,j=Qi(W,w,!1,h)&&j,p)for(M=0;M<p.length;M++)W=h.g=p[M],j=Qi(W,w,!1,h)&&j}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],w=0;w<p.length;w++)Bs(p[w]);delete a.g[h],a.h--}}this.F=null},je.prototype.K=function(a,h,p,w){return this.i.add(String(a),h,!1,p,w)},je.prototype.L=function(a,h,p,w){return this.i.add(String(a),h,!0,p,w)};function Qi(a,h,p,w){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var j=!0,M=0;M<h.length;++M){var W=h[M];if(W&&!W.da&&W.capture==p){var ke=W.listener,xt=W.ha||W.src;W.fa&&At(a.i,W),j=ke.call(xt,w)!==!1&&j}}return j&&!w.defaultPrevented}function Yi(a,h,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Xl(a){a.g=Yi(()=>{a.g=null,a.i&&(a.i=!1,Xl(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class or extends he{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(a){he.call(this),this.h=a,this.g={}}S(ei,he);var ra=[];function ia(a){V(a.g,function(h,p){this.g.hasOwnProperty(p)&&na(h)},a),a.g={}}ei.prototype.N=function(){ei.aa.N.call(this),ia(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sa=l.JSON.stringify,Jl=l.JSON.parse,Ws=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Gs(){}Gs.prototype.h=null;function Ks(a){return a.h||(a.h=a.i())}function Zl(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oa(){Pe.call(this,"d")}S(oa,Pe);function Qs(){Pe.call(this,"c")}S(Qs,Pe);var Er={},D=null;function O(){return D=D||new je}Er.La="serverreachability";function U(a){Pe.call(this,Er.La,a)}S(U,Pe);function H(a){const h=O();it(h,new U(h))}Er.STAT_EVENT="statevent";function Q(a,h){Pe.call(this,Er.STAT_EVENT,a),this.stat=h}S(Q,Pe);function Z(a){const h=O();it(h,new Q(h,a))}Er.Ma="timingevent";function ee(a,h){Pe.call(this,Er.Ma,a),this.size=h}S(ee,Pe);function K(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function oe(){this.g=!0}oe.prototype.xa=function(){this.g=!1};function ae(a,h,p,w,j,M){a.info(function(){if(a.g)if(M)for(var W="",ke=M.split("&"),xt=0;xt<ke.length;xt++){var Ie=ke[xt].split("=");if(1<Ie.length){var Ut=Ie[0];Ie=Ie[1];var Ft=Ut.split("_");W=2<=Ft.length&&Ft[1]=="type"?W+(Ut+"="+Ie+"&"):W+(Ut+"=redacted&")}}else W=null;else W=M;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+h+`
`+p+`
`+W})}function ft(a,h,p,w,j,M,W){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+h+`
`+p+`
`+M+" "+W})}function ze(a,h,p,w){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Ne(a,p)+(w?" "+w:"")})}function re(a,h){a.info(function(){return"TIMEOUT: "+h})}oe.prototype.info=function(){};function Ne(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var w=p[a];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var M=j[0];if(M!="noop"&&M!="stop"&&M!="close")for(var W=1;W<j.length;W++)j[W]=""}}}}return sa(p)}catch{return h}}var qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function $n(){}S($n,Gs),$n.prototype.g=function(){return new XMLHttpRequest},$n.prototype.i=function(){return{}},Pn=new $n;function Jt(a,h,p,w){this.j=a,this.i=h,this.l=p,this.R=w||1,this.U=new ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var gn={},ri={};function ii(a,h,p){a.L=1,a.v=nc(Cr(h)),a.m=p,a.P=!0,Xi(a,null)}function Xi(a,h){a.F=Date.now(),Pt(a),a.A=Cr(a.v);var p=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),xg(p.i,"t",w),a.C=0,p=a.j.J,a.h=new Ir,a.g=Gg(a.j,p?h:null,!a.m),0<a.O&&(a.M=new or(m(a.Y,a,a.g),a.O)),h=a.U,p=a.g,w=a.ca;var j="readystatechange";Array.isArray(j)||(j&&(ra[0]=j.toString()),j=ra);for(var M=0;M<j.length;M++){var W=sr(p,j[M],w||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),H(),ae(a.i,a.u,a.A,a.l,a.R,a.m)}Jt.prototype.ca=function(a){a=a.target;const h=this.M;h&&Ar(a)==3?h.j():this.Y(a)},Jt.prototype.Y=function(a){try{if(a==this.g)e:{const Ft=Ar(this.g);var h=this.g.Ba();const Js=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Og(this.g)))){this.J||Ft!=4||h==7||(h==8||0>=Js?H(3):H(2)),Tr(this);var p=this.g.Z();this.X=p;t:if(fe(this)){var w=Og(this.g);a="";var j=w.length,M=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),si(this);var W="";break t}this.h.i=new l.TextDecoder}for(h=0;h<j;h++)this.h.h=!0,a+=this.h.i.decode(w[h],{stream:!(M&&h==j-1)});w.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,ft(this.i,this.u,this.A,this.l,this.R,Ft,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,xt=this.g;if((ke=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(ke)){var Ie=ke;break t}}Ie=null}if(p=Ie)ze(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Md(this,p);else{this.o=!1,this.s=3,Z(12),Sr(this),si(this);break e}}if(this.P){p=!0;let Hn;for(;!this.J&&this.C<W.length;)if(Hn=Rt(this,W),Hn==ri){Ft==4&&(this.s=4,Z(14),p=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==gn){this.s=4,Z(15),ze(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else ze(this.i,this.l,Hn,null),Md(this,Hn);if(fe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||W.length!=0||this.h.h||(this.s=1,Z(16),p=!1),this.o=this.o&&p,!p)ze(this.i,this.l,W,"[Invalid Chunked Response]"),Sr(this),si(this);else if(0<W.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),$d(Ut),Ut.M=!0,Z(11))}}else ze(this.i,this.l,W,null),Md(this,W);Ft==4&&Sr(this),this.o&&!this.J&&(Ft==4?$g(this.j,this):(this.o=!1,Pt(this)))}else iS(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),Sr(this),si(this)}}}catch{}finally{}};function fe(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Rt(a,h){var p=a.C,w=h.indexOf(`
`,p);return w==-1?ri:(p=Number(h.substring(p,w)),isNaN(p)?gn:(w+=1,w+p>h.length?ri:(h=h.slice(w,w+p),a.C=w+p,h)))}Jt.prototype.cancel=function(){this.J=!0,Sr(this)};function Pt(a){a.S=Date.now()+a.I,ot(a,a.I)}function ot(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=K(m(a.ba,a),h)}function Tr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Jt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(re(this.i,this.A),this.L!=2&&(H(),Z(17)),Sr(this),this.s=2,si(this)):ot(this,this.S-a)};function si(a){a.j.G==0||a.J||$g(a.j,a)}function Sr(a){Tr(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,ia(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Md(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||Vd(p.h,a))){if(!a.K&&Vd(p.h,a)&&p.G==3){try{var w=p.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)ac(p),sc(p);else break e;zd(p),Z(18)}}else p.za=j[1],0<p.za-p.T&&37500>j[2]&&p.F&&p.v==0&&!p.C&&(p.C=K(m(p.Za,p),6e3));if(1>=wg(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Zi(p,11)}else if((a.K||p.g==a)&&ac(p),!I(h))for(j=p.Da.g.parse(h),h=0;h<j.length;h++){let Ie=j[h];if(p.T=Ie[0],Ie=Ie[1],p.G==2)if(Ie[0]=="c"){p.K=Ie[1],p.ia=Ie[2];const Ut=Ie[3];Ut!=null&&(p.la=Ut,p.j.info("VER="+p.la));const Ft=Ie[4];Ft!=null&&(p.Aa=Ft,p.j.info("SVER="+p.Aa));const Js=Ie[5];Js!=null&&typeof Js=="number"&&0<Js&&(w=1.5*Js,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const Hn=a.g;if(Hn){const cc=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cc){var M=w.h;M.g||cc.indexOf("spdy")==-1&&cc.indexOf("quic")==-1&&cc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Ud(M,M.h),M.h=null))}if(w.D){const Hd=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hd&&(w.ya=Hd,Le(w.I,w.D,Hd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var W=a;if(w.qa=Wg(w,w.J?w.ia:null,w.W),W.K){Eg(w.h,W);var ke=W,xt=w.L;xt&&(ke.I=xt),ke.B&&(Tr(ke),Pt(ke)),w.g=W}else Bg(w);0<p.i.length&&oc(p)}else Ie[0]!="stop"&&Ie[0]!="close"||Zi(p,7);else p.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Zi(p,7):Bd(p):Ie[0]!="noop"&&p.l&&p.l.ta(Ie),p.v=0)}}H(4)}catch{}}var z1=class{constructor(a,h){this.g=a,this.map=h}};function _g(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function wg(a){return a.h?1:a.g?a.g.size:0}function Vd(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Ud(a,h){a.g?a.g.add(h):a.h=h}function Eg(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}_g.prototype.cancel=function(){if(this.i=Ig(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ig(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return C(a.i)}function $1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],p=a.length,w=0;w<p;w++)h.push(a[w]);return h}h=[],p=0;for(w in a)h[p++]=a[w];return h}function H1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const w in a)h[p++]=w;return h}}}function Tg(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=H1(a),w=$1(a),j=w.length,M=0;M<j;M++)h.call(void 0,w[M],p&&p[M],a)}var Sg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function q1(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var w=a[p].indexOf("="),j=null;if(0<=w){var M=a[p].substring(0,w);j=a[p].substring(w+1)}else M=a[p];h(M,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ji(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ji){this.h=a.h,ec(this,a.j),this.o=a.o,this.g=a.g,tc(this,a.s),this.l=a.l;var h=a.i,p=new ca;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Cg(this,p),this.m=a.m}else a&&(h=String(a).match(Sg))?(this.h=!1,ec(this,h[1]||"",!0),this.o=aa(h[2]||""),this.g=aa(h[3]||"",!0),tc(this,h[4]),this.l=aa(h[5]||"",!0),Cg(this,h[6]||"",!0),this.m=aa(h[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}Ji.prototype.toString=function(){var a=[],h=this.j;h&&a.push(la(h,Ag,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(la(h,Ag,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(la(p,p.charAt(0)=="/"?K1:G1,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",la(p,Y1)),a.join("")};function Cr(a){return new Ji(a)}function ec(a,h,p){a.j=p?aa(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function tc(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Cg(a,h,p){h instanceof ca?(a.i=h,X1(a.i,a.h)):(p||(h=la(h,Q1)),a.i=new ca(h,a.h))}function Le(a,h,p){a.i.set(h,p)}function nc(a){return Le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function aa(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function la(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,W1),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function W1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ag=/[#\/\?@]/g,G1=/[#\?:]/g,K1=/[#\?]/g,Q1=/[#\?@]/g,Y1=/#/g;function ca(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function oi(a){a.g||(a.g=new Map,a.h=0,a.i&&q1(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=ca.prototype,t.add=function(a,h){oi(this),this.i=null,a=Ys(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function Rg(a,h){oi(a),h=Ys(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Pg(a,h){return oi(a),h=Ys(a,h),a.g.has(h)}t.forEach=function(a,h){oi(this),this.g.forEach(function(p,w){p.forEach(function(j){a.call(h,j,w,this)},this)},this)},t.na=function(){oi(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let w=0;w<h.length;w++){const j=a[w];for(let M=0;M<j.length;M++)p.push(h[w])}return p},t.V=function(a){oi(this);let h=[];if(typeof a=="string")Pg(this,a)&&(h=h.concat(this.g.get(Ys(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return oi(this),this.i=null,a=Ys(this,a),Pg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function xg(a,h,p){Rg(a,h),0<p.length&&(a.i=null,a.g.set(Ys(a,h),C(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var w=h[p];const M=encodeURIComponent(String(w)),W=this.V(w);for(w=0;w<W.length;w++){var j=M;W[w]!==""&&(j+="="+encodeURIComponent(String(W[w]))),a.push(j)}}return this.i=a.join("&")};function Ys(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function X1(a,h){h&&!a.j&&(oi(a),a.i=null,a.g.forEach(function(p,w){var j=w.toLowerCase();w!=j&&(Rg(this,w),xg(this,j,p))},a)),a.j=h}function J1(a,h){const p=new oe;if(l.Image){const w=new Image;w.onload=_(ai,p,"TestLoadImage: loaded",!0,h,w),w.onerror=_(ai,p,"TestLoadImage: error",!1,h,w),w.onabort=_(ai,p,"TestLoadImage: abort",!1,h,w),w.ontimeout=_(ai,p,"TestLoadImage: timeout",!1,h,w),l.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else h(!1)}function Z1(a,h){const p=new oe,w=new AbortController,j=setTimeout(()=>{w.abort(),ai(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:w.signal}).then(M=>{clearTimeout(j),M.ok?ai(p,"TestPingServer: ok",!0,h):ai(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(j),ai(p,"TestPingServer: error",!1,h)})}function ai(a,h,p,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(p)}catch{}}function eS(){this.g=new Ws}function tS(a,h,p){const w=p||"";try{Tg(a,function(j,M){let W=j;u(j)&&(W=sa(j)),h.push(w+M+"="+encodeURIComponent(W))})}catch(j){throw h.push(w+"type="+encodeURIComponent("_badmap")),j}}function ua(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ua,Gs),ua.prototype.g=function(){return new rc(this.l,this.j)},ua.prototype.i=function(a){return function(){return a}}({});function rc(a,h){je.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(rc,je),t=rc.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,ha(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function kg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?da(this):ha(this),this.readyState==3&&kg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,da(this))},t.Qa=function(a){this.g&&(this.response=a,da(this))},t.ga=function(){this.g&&da(this)};function da(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ha(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function ha(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ng(a){let h="";return V(a,function(p,w){h+=w,h+=":",h+=p,h+=`\r
`}),h}function Fd(a,h,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=Ng(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Le(a,h,p))}function Ze(a){je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ze,je);var nS=/^https?$/i,rS=["POST","PUT"];t=Ze.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ks(this.o):Ks(Pn),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(M){bg(this,M);return}if(a=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)p.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const M of w.keys())p.set(M,w.get(M));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),j=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(rS,h,void 0))||w||j||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,W]of p)this.g.setRequestHeader(M,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lg(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){bg(this,M)}};function bg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Dg(a),ic(a)}function Dg(a){a.A||(a.A=!0,it(a,"complete"),it(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,it(this,"complete"),it(this,"abort"),ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jg(this):this.bb())},t.bb=function(){jg(this)};function jg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Ar(a)!=4||a.Z()!=2)){if(a.u&&Ar(a)==4)Yi(a.Ea,0,a);else if(it(a,"readystatechange"),Ar(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var w;if(w=W===0){var j=String(a.D).match(Sg)[1]||null;!j&&l.self&&l.self.location&&(j=l.self.location.protocol.slice(0,-1)),w=!nS.test(j?j.toLowerCase():"")}p=w}if(p)it(a,"complete"),it(a,"success");else{a.m=6;try{var M=2<Ar(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",Dg(a)}}finally{ic(a)}}}}function ic(a,h){if(a.g){Lg(a);const p=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||it(a,"ready");try{p.onreadystatechange=w}catch{}}}function Lg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Ar(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Jl(h)}};function Og(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function iS(a){const h={};a=(a.g&&2<=Ar(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(I(a[w]))continue;var p=x(a[w]);const j=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const M=h[j]||[];h[j]=M,M.push(p)}y(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Mg(a){this.Aa=0,this.i=[],this.j=new oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,a),this.cb=fa("retryDelaySeedMs",1e4,a),this.Wa=fa("forwardChannelMaxRetries",2,a),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new _g(a&&a.concurrentRequestLimit),this.Da=new eS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mg.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,w){Z(0),this.W=a,this.H=h||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=Wg(this,null,this.W),oc(this)};function Bd(a){if(Vg(a),a.G==3){var h=a.U++,p=Cr(a.I);if(Le(p,"SID",a.K),Le(p,"RID",h),Le(p,"TYPE","terminate"),pa(a,p),h=new Jt(a,a.j,h),h.L=2,h.v=nc(Cr(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=Gg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Pt(h)}qg(a)}function sc(a){a.g&&($d(a),a.g.cancel(),a.g=null)}function Vg(a){sc(a),a.u&&(l.clearTimeout(a.u),a.u=null),ac(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function oc(a){if(!vg(a.h)&&!a.s){a.s=!0;var h=a.Ga;an||se(),q||(an(),q=!0),ne.add(h,a),a.B=0}}function sS(a,h){return wg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=K(m(a.Ga,a,h),Hg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const j=new Jt(this,this.j,a);let M=this.o;if(this.S&&(M?(M=v(M),R(M,this.S)):M=this.S),this.m!==null||this.O||(j.H=M,M=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Fg(this,j,h),p=Cr(this.I),Le(p,"RID",a),Le(p,"CVER",22),this.D&&Le(p,"X-HTTP-Session-Id",this.D),pa(this,p),M&&(this.O?h="headers="+encodeURIComponent(String(Ng(M)))+"&"+h:this.m&&Fd(p,this.m,M)),Ud(this.h,j),this.Ua&&Le(p,"TYPE","init"),this.P?(Le(p,"$req",h),Le(p,"SID","null"),j.T=!0,ii(j,p,null)):ii(j,p,h),this.G=2}}else this.G==3&&(a?Ug(this,a):this.i.length==0||vg(this.h)||Ug(this))};function Ug(a,h){var p;h?p=h.l:p=a.U++;const w=Cr(a.I);Le(w,"SID",a.K),Le(w,"RID",p),Le(w,"AID",a.T),pa(a,w),a.m&&a.o&&Fd(w,a.m,a.o),p=new Jt(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Fg(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ud(a.h,p),ii(p,w,h)}function pa(a,h){a.H&&V(a.H,function(p,w){Le(h,w,p)}),a.l&&Tg({},function(p,w){Le(h,w,p)})}function Fg(a,h,p){p=Math.min(a.i.length,p);var w=a.l?m(a.l.Na,a.l,a):null;e:{var j=a.i;let M=-1;for(;;){const W=["count="+p];M==-1?0<p?(M=j[0].g,W.push("ofs="+M)):M=0:W.push("ofs="+M);let ke=!0;for(let xt=0;xt<p;xt++){let Ie=j[xt].g;const Ut=j[xt].map;if(Ie-=M,0>Ie)M=Math.max(0,j[xt].g-100),ke=!1;else try{tS(Ut,W,"req"+Ie+"_")}catch{w&&w(Ut)}}if(ke){w=W.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,w}function Bg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;an||se(),q||(an(),q=!0),ne.add(h,a),a.v=0}}function zd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=K(m(a.Fa,a),Hg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,zg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=K(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),sc(this),zg(this))};function $d(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function zg(a){a.g=new Jt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Cr(a.qa);Le(h,"RID","rpc"),Le(h,"SID",a.K),Le(h,"AID",a.T),Le(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Le(h,"TO",a.ja),Le(h,"TYPE","xmlhttp"),pa(a,h),a.m&&a.o&&Fd(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=nc(Cr(h)),p.m=null,p.P=!0,Xi(p,a)}t.Za=function(){this.C!=null&&(this.C=null,sc(this),zd(this),Z(19))};function ac(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function $g(a,h){var p=null;if(a.g==h){ac(a),$d(a),a.g=null;var w=2}else if(Vd(a.h,h))p=h.D,Eg(a.h,h),w=1;else return;if(a.G!=0){if(h.o)if(w==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var j=a.B;w=O(),it(w,new ee(w,p)),oc(a)}else Bg(a);else if(j=h.s,j==3||j==0&&0<h.X||!(w==1&&sS(a,h)||w==2&&zd(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),j){case 1:Zi(a,5);break;case 4:Zi(a,10);break;case 3:Zi(a,6);break;default:Zi(a,2)}}}function Hg(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Zi(a,h){if(a.j.info("Error code "+h),h==2){var p=m(a.fb,a),w=a.Xa;const j=!w;w=new Ji(w||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ec(w,"https"),nc(w),j?J1(w.toString(),p):Z1(w.toString(),p)}else Z(2);a.G=0,a.l&&a.l.sa(h),qg(a),Vg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function qg(a){if(a.G=0,a.ka=[],a.l){const h=Ig(a.h);(h.length!=0||a.i.length!=0)&&(k(a.ka,h),k(a.ka,a.i),a.h.i.length=0,C(a.i),a.i.length=0),a.l.ra()}}function Wg(a,h,p){var w=p instanceof Ji?Cr(p):new Ji(p);if(w.g!="")h&&(w.g=h+"."+w.g),tc(w,w.s);else{var j=l.location;w=j.protocol,h=h?h+"."+j.hostname:j.hostname,j=+j.port;var M=new Ji(null);w&&ec(M,w),h&&(M.g=h),j&&tc(M,j),p&&(M.l=p),w=M}return p=a.D,h=a.ya,p&&h&&Le(w,p,h),Le(w,"VER",a.la),pa(a,w),w}function Gg(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Ze(new ua({eb:p})):new Ze(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kg(){}t=Kg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lc(){}lc.prototype.g=function(a,h){return new yn(a,h)};function yn(a,h){je.call(this),this.g=new Mg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!I(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!I(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Xs(this)}S(yn,je),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Bd(this.g)},yn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=sa(a),a=p);h.i.push(new z1(h.Ya++,a)),h.G==3&&oc(h)},yn.prototype.N=function(){this.g.l=null,delete this.j,Bd(this.g),delete this.g,yn.aa.N.call(this)};function Qg(a){oa.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}S(Qg,oa);function Yg(){Qs.call(this),this.status=1}S(Yg,Qs);function Xs(a){this.g=a}S(Xs,Kg),Xs.prototype.ua=function(){it(this.g,"a")},Xs.prototype.ta=function(a){it(this.g,new Qg(a))},Xs.prototype.sa=function(a){it(this.g,new Yg)},Xs.prototype.ra=function(){it(this.g,"b")},lc.prototype.createWebChannel=lc.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,IT=function(){return new lc},ET=function(){return O()},wT=Er,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,Xc=qe,ni.COMPLETE="complete",vT=ni,Zl.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",je.prototype.listen=je.prototype.K,La=Zl,_T=ua,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,yT=Ze}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const vv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new hd("@firebase/firestore");function Ra(){return Ps.logLevel}function J(t,...e){if(Ps.logLevel<=ve.DEBUG){const n=e.map(Lm);Ps.debug(`Firestore (${Xo}): ${t}`,...n)}}function Wr(t,...e){if(Ps.logLevel<=ve.ERROR){const n=e.map(Lm);Ps.error(`Firestore (${Xo}): ${t}`,...n)}}function Oo(t,...e){if(Ps.logLevel<=ve.WARN){const n=e.map(Lm);Ps.warn(`Firestore (${Xo}): ${t}`,...n)}}function Lm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: `+t;throw Wr(e),new Error(e)}function De(t,e){t||le()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qt.UNAUTHENTICATED))}shutdown(){}}class O2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M2{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new TT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new qt(e)}}class V2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class U2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new V2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new F2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Mo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new gt(0,0))}static max(){return new ce(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Sl{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Sl{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ue.fromString(e))}static fromName(e){return new te(Ue.fromString(e).popFirst(5))}static empty(){return new te(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ue(e.slice()))}}function H2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Li(i,te.empty(),e)}function q2(t){return new Li(t.readTime,t.key,-1)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(ce.min(),te.empty(),-1)}static max(){return new Li(ce.max(),te.empty(),-1)}}function W2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==G2)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Q2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Om.oe=-1;function vd(t){return t==null}function Vu(t){return t===0&&1/t==-1/0}function Y2(t){return typeof t=="number"&&Number.isInteger(t)&&!Vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=s??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ev(this.data.getIterator())}getIteratorFrom(e){return new Ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Ot(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AT("Invalid base64 string: "+s):s}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const X2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(De(!!t),typeof t=="string"){let e=0;const n=X2.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xs(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vm(t){const e=t.mapValue.fields.__previous_value__;return Mm(e)?Vm(e):e}function Cl(t){const e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mm(t)?4:Z2(t)?9007199254740991:10:le()}function yr(t,e){if(t===e)return!0;const n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Oi(i.timestampValue),l=Oi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xs(i.bytesValue).isEqual(xs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ct(i.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ct(i.integerValue)===ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ct(i.doubleValue),l=ct(s.doubleValue);return o===l?Vu(o)===Vu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Mo(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(wv(o)!==wv(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!yr(o[c],l[c])))return!1;return!0}(t,e);default:return le()}}function Rl(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=ks(t),r=ks(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=ct(s.integerValue||s.doubleValue),c=ct(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Iv(t.timestampValue,e.timestampValue);case 4:return Iv(Cl(t),Cl(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){const l=xs(s),c=xs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const f=Te(l[u],c[u]);if(f!==0)return f}return Te(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Te(ct(s.latitude),ct(o.latitude));return l!==0?l:Te(ct(s.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let u=0;u<l.length&&u<c.length;++u){const f=Vo(l[u],c[u]);if(f)return f}return Te(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===bc.mapValue&&o===bc.mapValue)return 0;if(s===bc.mapValue)return 1;if(o===bc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let g=0;g<c.length&&g<f.length;++g){const m=Te(c[g],f[g]);if(m!==0)return m;const _=Vo(l[c[g]],u[f[g]]);if(_!==0)return _}return Te(c.length,f.length)}(t.mapValue,e.mapValue);default:throw le()}}function Iv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Oi(t),r=Oi(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Uo(t){return Kf(t)}function Kf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Kf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Kf(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function Tv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qf(t){return!!t&&"integerValue"in t}function Um(t){return!!t&&"arrayValue"in t}function Sv(t){return!!t&&"nullValue"in t}function Cv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jc(t){return!!t&&"mapValue"in t}function Ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ja(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Z2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ja(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cn(Ja(this.value))}}function RT(t){const e=[];return Ms(t.fields,(n,r)=>{const i=new jt([n]);if(Jc(r)){const s=RT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Gt(e,0,ce.min(),ce.min(),ce.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new Gt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Gt(e,2,n,ce.min(),ce.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,ce.min(),ce.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.position=e,this.inclusive=n}}function Av(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Vo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ej(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{}class dt extends PT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nj(e,n,r):n==="array-contains"?new sj(e,r):n==="in"?new oj(e,r):n==="not-in"?new aj(e,r):n==="array-contains-any"?new lj(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rj(e,r):new ij(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends PT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new rr(e,n)}matches(e){return xT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xT(t){return t.op==="and"}function kT(t){return tj(t)&&xT(t)}function tj(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function Yf(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Uo(t.value);if(kT(t))return t.filters.map(e=>Yf(e)).join(",");{const e=t.filters.map(n=>Yf(n)).join(",");return`${t.op}(${e})`}}function NT(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&NT(o,i.filters[l]),!0):!1}(t,e):void le()}function bT(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`}(t):t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(bT).join(" ,")+"}"}(t):"Filter"}class nj extends dt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class rj extends dt{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ij extends dt{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class sj extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Um(n)&&Rl(n.arrayValue,this.value)}}class oj extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class aj extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class lj extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Pv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new cj(t,e,n,r,i,s,o)}function Fm(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uo(r)).join(",")),e.ue=n}return e.ue}function Bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ej(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rv(t.startAt,e.startAt)&&Rv(t.endAt,e.endAt)}function Xf(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function uj(t,e,n,r,i,s,o,l){return new $l(t,e,n,r,i,s,o,l)}function wd(t){return new $l(t)}function xv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jT(t){return t.collectionGroup!==null}function Za(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ot(jt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fu(s,r))}),n.has(jt.keyField().canonicalString())||e.ce.push(new Fu(jt.keyField(),r))}return e.ce}function mr(t){const e=de(t);return e.le||(e.le=dj(e,Za(t))),e.le}function dj(t,e){if(t.limitType==="F")return Pv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fu(i.field,s)});const n=t.endAt?new Uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uu(t.startAt.position,t.startAt.inclusive):null;return Pv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jf(t,e){const n=t.filters.concat([e]);return new $l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zf(t,e,n){return new $l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ed(t,e){return Bm(mr(t),mr(e))&&t.limitType===e.limitType}function LT(t){return`${Fm(mr(t))}|lt:${t.limitType}`}function to(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bT(i)).join(", ")}]`),vd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Uo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Uo(i)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function Id(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=Av(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Za(r),i)||r.endAt&&!function(o,l,c){const u=Av(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Za(r),i))}(t,e)}function hj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OT(t){return(e,n)=>{let r=!1;for(const i of Za(t)){const s=fj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fj(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Vo(c,u):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Je(te.comparator);function Gr(){return pj}const MT=new Je(te.comparator);function Oa(...t){let e=MT;for(const n of t)e=e.insert(n.key,n);return e}function VT(t){let e=MT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function us(){return el()}function UT(){return el()}function el(){return new Jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const mj=new Je(te.comparator),gj=new Ot(te.comparator);function _e(...t){let e=gj;for(const n of t)e=e.add(n);return e}const yj=new Ot(Te);function _j(){return yj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(e)?"-0":e}}function BT(t){return{integerValue:""+t}}function vj(t,e){return Y2(e)?BT(e):FT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this._=void 0}}function wj(t,e,n){return t instanceof Bu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Mm(s)&&(s=Vm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Pl?$T(t,e):t instanceof xl?HT(t,e):function(i,s){const o=zT(i,s),l=kv(o)+kv(i.Pe);return Qf(o)&&Qf(i.Pe)?BT(l):FT(i.serializer,l)}(t,e)}function Ej(t,e,n){return t instanceof Pl?$T(t,e):t instanceof xl?HT(t,e):n}function zT(t,e){return t instanceof zu?function(r){return Qf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Bu extends Td{}class Pl extends Td{constructor(e){super(),this.elements=e}}function $T(t,e){const n=qT(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends Td{constructor(e){super(),this.elements=e}}function HT(t,e){let n=qT(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class zu extends Td{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function kv(t){return ct(t.integerValue||t.doubleValue)}function qT(t){return Um(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ij(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pl&&i instanceof Pl||r instanceof xl&&i instanceof xl?Mo(r.elements,i.elements,yr):r instanceof zu&&i instanceof zu?yr(r.Pe,i.Pe):r instanceof Bu&&i instanceof Bu}(t.transform,e.transform)}class Tj{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sd{}function WT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zm(t.key,er.none()):new Hl(t.key,t.data,er.none());{const n=t.data,r=cn.empty();let i=new Ot(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gi(t.key,r,new In(i.toArray()),er.none())}}function Sj(t,e,n){t instanceof Hl?function(i,s,o){const l=i.value.clone(),c=bv(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Gi?function(i,s,o){if(!Zc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=bv(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(GT(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tl(t,e,n,r){return t instanceof Hl?function(s,o,l,c){if(!Zc(s.precondition,o))return l;const u=s.value.clone(),f=Dv(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gi?function(s,o,l,c){if(!Zc(s.precondition,o))return l;const u=Dv(s.fieldTransforms,c,o),f=o.data;return f.setAll(GT(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,l){return Zc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Cj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zT(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function Nv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mo(r,i,(s,o)=>Ij(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hl extends Sd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gi extends Sd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function GT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bv(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Ej(o,l,n[i]))}return r}function Dv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wj(s,o,e))}return r}class zm extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Aj extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Sj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=WT(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(n,r)=>Nv(n,r))&&Mo(this.baseMutations,e.baseMutations,(n,r)=>Nv(n,r))}}class $m{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return mj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $m(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,we;function kj(t){switch(t){default:return le();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function KT(t){if(t===void 0)return Wr("GRPC error has no .code"),B.UNKNOWN;switch(t){case at.OK:return B.OK;case at.CANCELLED:return B.CANCELLED;case at.UNKNOWN:return B.UNKNOWN;case at.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case at.INTERNAL:return B.INTERNAL;case at.UNAVAILABLE:return B.UNAVAILABLE;case at.UNAUTHENTICATED:return B.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case at.NOT_FOUND:return B.NOT_FOUND;case at.ALREADY_EXISTS:return B.ALREADY_EXISTS;case at.PERMISSION_DENIED:return B.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case at.ABORTED:return B.ABORTED;case at.OUT_OF_RANGE:return B.OUT_OF_RANGE;case at.UNIMPLEMENTED:return B.UNIMPLEMENTED;case at.DATA_LOSS:return B.DATA_LOSS;default:return le()}}(we=at||(at={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new ps([4294967295,4294967295],0);function jv(t){const e=Nj().encode(t),n=new gT;return n.update(e),new Uint8Array(n.digest())}function Lv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([n,r],0),new ps([i,s],0)]}class Hm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ma(`Invalid padding: ${n}`);if(r<0)throw new Ma(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ma(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ma(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ps.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ps.fromNumber(r)));return i.compare(bj)===1&&(i=new ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=jv(e),[r,i]=Lv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Hm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=jv(e),[r,i]=Lv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cd(ce.min(),i,new Je(Te),Gr(),_e())}}class ql{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ql(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class QT{constructor(e,n){this.targetId=e,this.me=n}}class YT{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ov{constructor(){this.fe=0,this.ge=Vv(),this.pe=Yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new ql(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Vv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Dj{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gr(),this.qe=Mv(),this.Qe=new Je(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Xf(s))if(r===0){const o=new te(s.path);this.Ue(n,o,Gt.newNoDocument(o,ce.min()))}else De(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=xs(r).toUint8Array()}catch(c){if(c instanceof AT)return Oo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Hm(o,i,s)}catch(c){return Oo(c instanceof Ma?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Xf(l.target)){const c=new te(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Gt.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Cd(e,n,this.Qe,this.ke,r);return this.ke=Gr(),this.qe=Mv(),this.Qe=new Je(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ov,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ov),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Mv(){return new Je(te.comparator)}function Vv(){return new Je(te.comparator)}const jj={asc:"ASCENDING",desc:"DESCENDING"},Lj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oj={and:"AND",or:"OR"};class Mj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function $u(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vj(t,e){return $u(t,e.toTimestamp())}function gr(t){return De(!!t),ce.fromTimestamp(function(n){const r=Oi(n);return new gt(r.seconds,r.nanos)}(t))}function qm(t,e){return tp(t,e).canonicalString()}function tp(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JT(t){const e=Ue.fromString(t);return De(r1(e)),e}function np(t,e){return qm(t.databaseId,e.path)}function bh(t,e){const n=JT(e);if(n.get(1)!==t.databaseId.projectId)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(e1(n))}function ZT(t,e){return qm(t.databaseId,e)}function Uj(t){const e=JT(t);return e.length===4?Ue.emptyPath():e1(e)}function rp(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function e1(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Uv(t,e,n){return{name:np(t,e),fields:n.value.mapValue.fields}}function Fj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(De(f===void 0||typeof f=="string"),Yt.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Yt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const f=u.code===void 0?B.UNKNOWN:KT(u.code);return new X(f,u.message||"")}(o);n=new YT(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bh(t,r.document.name),s=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):ce.min(),l=new cn({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(i,s,o,l),u=r.targetIds||[],f=r.removedTargetIds||[];n=new eu(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bh(t,r.document),s=r.readTime?gr(r.readTime):ce.min(),o=Gt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new eu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bh(t,r.document),s=r.removedTargetIds||[];n=new eu([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new xj(i,s),l=r.targetId;n=new QT(l,o)}}return n}function Bj(t,e){let n;if(e instanceof Hl)n={update:Uv(t,e.key,e.value)};else if(e instanceof zm)n={delete:np(t,e.key)};else if(e instanceof Gi)n={update:Uv(t,e.key,e.data),updateMask:Yj(e.fieldMask)};else{if(!(e instanceof Aj))return le();n={verify:np(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Bu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof zu)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Vj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function zj(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gr(i.updateTime):gr(s);return o.isEqual(ce.min())&&(o=gr(s)),new Tj(o,i.transformResults||[])}(n,e))):[]}function $j(t,e){return{documents:[ZT(t,e.path)]}}function Hj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZT(t,i);const s=function(u){if(u.length!==0)return n1(rr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(m){return{field:no(m.field),direction:Gj(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ep(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function qj(t){let e=Uj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const m=t1(g);return m instanceof rr&&kT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(m=>function(S){return new Fu(ro(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,vd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(g){const m=!!g.before,_=g.values||[];return new Uu(_,m)}(n.startAt));let u=null;return n.endAt&&(u=function(g){const m=!g.before,_=g.values||[];return new Uu(_,m)}(n.endAt)),uj(e,i,o,s,l,"F",c,u)}function Wj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ro(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ro(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ro(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(ro(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rr.create(n.compositeFilter.filters.map(r=>t1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function Gj(t){return jj[t]}function Kj(t){return Lj[t]}function Qj(t){return Oj[t]}function no(t){return{fieldPath:t.canonicalString()}}function ro(t){return jt.fromServerFormat(t.fieldPath)}function n1(t){return t instanceof dt?function(n){if(n.op==="=="){if(Cv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(Sv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(Sv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:Kj(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(i=>n1(i));return r.length===1?r[0]:{compositeFilter:{op:Qj(n.op),filters:r}}}(t):le()}function Yj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function r1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,i,s=ce.min(),o=ce.min(),l=Yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.ct=e}}function Jj(t){const e=qj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this._n=new eL}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Li.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class eL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Fo(0)}static Ln(){return new Fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.changes=new Jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&tl(r.mutation,i,In.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oa();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Gr();const o=el(),l=function(){return el()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Gi)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),tl(f.mutation,u,f.mutation.getFieldMask(),gt.now())):o.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var g;return l.set(u,new nL(f,(g=o.get(u))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=el();let i=new Je((o,l)=>o-l),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||In.empty();f=l.applyToLocalView(u,f),r.set(c,f);const g=(i.get(l.batchId)||_e()).add(c);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,f=c.value,g=UT();f.forEach(m=>{if(!s.has(m)){const _=WT(n.get(m),r.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,g))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(us());let l=-1,c=s;return o.next(u=>z.forEach(u,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,_e())).next(f=>({batchId:l,changes:VT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Oa();return this.indexManager.getCollectionParents(e,s).next(l=>z.forEach(l,c=>{const u=function(g,m){return new $l(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((g,m)=>{o=o.insert(g,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Gt.newInvalidDocument(f)))});let l=Oa();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&tl(f.mutation,u,In.empty(),gt.now()),Id(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Jj(i.bundledQuery),readTime:gr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.overlays=new Je(te.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=us();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=us(),s=n.length+1,o=new te(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Je((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=us(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const l=us(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=i)););return z.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pj(n,r));let s=this.hr.get(n);s===void 0&&(s=_e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Pr=new Ot(wt.Ir),this.Tr=new Ot(wt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new wt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new Ue([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new Ue([])),r=new wt(n,e),i=new wt(n,e+1);let s=_e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||Te(e.pr,n.pr)}static Er(e,n){return Te(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ot(wt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Rj(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new wt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Te);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new wt(new te(s),0);let l=new Ot(Te);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.pr)),!0)},o),z.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new wt(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.vr=e,this.docs=function(){return new Je(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gr();const o=n.path,l=new te(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||W2(q2(f),r)<=0||(i.has(f.key)||Id(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lL(this)}getSize(e){return z.resolve(this.size)}}class lL extends tL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.persistence=e,this.Mr=new Jo(n=>Fm(n),Bm),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wm,this.targetCount=0,this.Lr=Fo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.Br={},this.overlays={},this.kr=new Om(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new cL(this),this.indexManager=new Zj,this.remoteDocumentCache=function(i){return new aL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Xj(n),this.$r=new iL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new oL(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new dL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class dL extends K2{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.zr=new Wm,this.jr=null}static Hr(e){return new Gm(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=te.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Km(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return AP()?8:Q2(Vt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new hL;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ra()<=ve.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Ra()<=ve.DEBUG&&J("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ra()<=ve.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):z.resolve())}ji(e,n){if(xv(n))return z.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zf(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,o,c.readTime)?this.ji(e,Zf(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return xv(n)||i.isEqual(ce.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?z.resolve(null):(Ra()<=ve.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),to(n)),this.es(e,o,n,H2(i,-1)).next(l=>l))})}Zi(e,n){let r=new Ot(OT(e));return n.forEach((i,s)=>{Id(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ra()<=ve.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",to(n)),this.zi.getDocumentsMatchingQuery(e,n,Li.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Je(Te),this.rs=new Jo(s=>Fm(s),Bm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function mL(t,e,n,r){return new pL(t,e,n,r)}async function i1(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=_e();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){l.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:l}))})})}function gL(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,f){const g=u.batch,m=g.keys();let _=z.resolve();return m.forEach(S=>{_=_.next(()=>f.getEntry(c,S)).next(C=>{const k=u.docVersions.get(S);De(k!==null),C.version.compareTo(k)<0&&(g.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),f.addEntry(C)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=_e();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function s1(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function yL(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,g)=>{const m=i.get(g);if(!m)return;l.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Yt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(g,_),function(C,k,E){return C.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,_,f)&&l.push(n.Qr.updateTargetData(s,_))});let c=Gr(),u=_e();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(_L(s,o,e.documentUpdates).next(f=>{c=f.cs,u=f.ls})),!r.isEqual(ce.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(g=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return z.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function _L(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gr();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function vL(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wL(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new wi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ip(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zl(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Fv(t,e,n){const r=de(t);let i=ce.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const g=de(c),m=g.rs.get(f);return m!==void 0?z.resolve(g.ns.get(m)):g.Qr.getTargetData(u,f)}(r,o,mr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:_e())).next(l=>(EL(r,hj(e),l),{documents:l,hs:s})))}function EL(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Bv{constructor(){this.activeTargetIds=_j()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IL{constructor(){this.no=new Bv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Bv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function Dh(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class AL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=Dh(),c=this.vo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,i).then(f=>(J("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Oo("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=SL[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Dh();return new Promise((o,l)=>{const c=new yT;c.setWithCredentials(!0),c.listenOnce(vT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xc.NO_ERROR:const f=c.getResponseJson();J($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Xc.TIMEOUT:J($t,`RPC '${e}' ${s} timed out`),l(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const g=c.getStatus();if(J($t,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const S=function(k){const E=k.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(_.status);l(new X(S,_.message))}else l(new X(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new X(B.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{J($t,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);J($t,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=Dh(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IT(),l=ET(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new _T({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");J($t,`Creating RPC '${e}' stream ${i}: ${f}`,c);const g=o.createWebChannel(f,c);let m=!1,_=!1;const S=new CL({lo:k=>{_?J($t,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(m||(J($t,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),J($t,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},ho:()=>g.close()}),C=(k,E,I)=>{k.listen(E,A=>{try{I(A)}catch(L){setTimeout(()=>{throw L},0)}})};return C(g,La.EventType.OPEN,()=>{_||(J($t,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),C(g,La.EventType.CLOSE,()=>{_||(_=!0,J($t,`RPC '${e}' stream ${i} transport closed`),S.po())}),C(g,La.EventType.ERROR,k=>{_||(_=!0,Oo($t,`RPC '${e}' stream ${i} transport errored:`,k),S.po(new X(B.UNAVAILABLE,"The operation could not be completed")))}),C(g,La.EventType.MESSAGE,k=>{var E;if(!_){const I=k.data[0];De(!!I);const A=I,L=A.error||((E=A[0])===null||E===void 0?void 0:E.error);if(L){J($t,`RPC '${e}' stream ${i} received error:`,L);const F=L.status;let V=function(T){const R=at[T];if(R!==void 0)return KT(R)}(F),y=L.message;V===void 0&&(V=B.INTERNAL,y="Unknown error status: "+F+" with message "+L.message),_=!0,S.po(new X(V,y)),g.close()}else J($t,`RPC '${e}' stream ${i} received:`,I),S.yo(I)}}),C(l,wT.STAT_EVENT,k=>{k.stat===Gf.PROXY?J($t,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Gf.NOPROXY&&J($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){return new Mj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new o1(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new X(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RL extends a1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=Fj(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?gr(o.readTime):ce.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=rp(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Xf(c)?{documents:$j(s,c)}:{query:Hj(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=XT(s,o.resumeToken);const u=ep(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){l.readTime=$u(s,o.snapshotVersion.toTimestamp());const u=ep(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=Wj(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=rp(this.serializer),n.removeTarget=e,this.i_(n)}}class PL extends a1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=zj(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.A_(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=rp(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Bj(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,tp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(B.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,tp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(B.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class kL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Wr(n),this.y_=!1):J("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Vs(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=de(c);u.M_.add(4),await Wl(u),u.N_.set("Unknown"),u.M_.delete(4),await Rd(u)}(this))})}),this.N_=new kL(r,i)}}async function Rd(t){if(Vs(t))for(const e of t.x_)await e(!0)}async function Wl(t){for(const e of t.x_)await e(!1)}function l1(t,e){const n=de(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Jm(n)?Xm(n):Zo(n).Xo()&&Ym(n,e))}function Qm(t,e){const n=de(t),r=Zo(n);n.F_.delete(e),r.Xo()&&c1(n,e),n.F_.size===0&&(r.Xo()?r.n_():Vs(n)&&n.N_.set("Unknown"))}function Ym(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(t).P_(e)}function c1(t,e){t.L_.xe(e),Zo(t).I_(e)}function Xm(t){t.L_=new Dj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zo(t).start(),t.N_.w_()}function Jm(t){return Vs(t)&&!Zo(t).Zo()&&t.F_.size>0}function Vs(t){return de(t).M_.size===0}function u1(t){t.L_=void 0}async function bL(t){t.N_.set("Online")}async function DL(t){t.F_.forEach((e,n)=>{Ym(t,e)})}async function jL(t,e){u1(t),Jm(t)?(t.N_.D_(e),Xm(t)):t.N_.set("Unknown")}async function LL(t,e,n){if(t.N_.set("Online"),e instanceof YT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hu(t,r)}else if(e instanceof eu?t.L_.Ke(e):e instanceof QT?t.L_.He(e):t.L_.We(e),!n.isEqual(ce.min()))try{const r=await s1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.F_.get(u);f&&s.F_.set(u,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const f=s.F_.get(c);if(!f)return;s.F_.set(c,f.withResumeToken(Yt.EMPTY_BYTE_STRING,f.snapshotVersion)),c1(s,c);const g=new wi(f.target,c,u,f.sequenceNumber);Ym(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Hu(t,r)}}async function Hu(t,e,n){if(!zl(e))throw e;t.M_.add(1),await Wl(t),t.N_.set("Offline"),n||(n=()=>s1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Rd(t)})}function d1(t,e){return e().catch(n=>Hu(t,n,e))}async function Pd(t){const e=de(t),n=Mi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;OL(e);)try{const i=await vL(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,ML(e,i)}catch(i){await Hu(e,i)}h1(e)&&f1(e)}function OL(t){return Vs(t)&&t.v_.length<10}function ML(t,e){t.v_.push(e);const n=Mi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function h1(t){return Vs(t)&&!Mi(t).Zo()&&t.v_.length>0}function f1(t){Mi(t).start()}async function VL(t){Mi(t).V_()}async function UL(t){const e=Mi(t);for(const n of t.v_)e.d_(n.mutations)}async function FL(t,e,n){const r=t.v_.shift(),i=$m.from(r,e,n);await d1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pd(t)}async function BL(t,e){e&&Mi(t).E_&&await async function(r,i){if(function(o){return kj(o)&&o!==B.ABORTED}(i.code)){const s=r.v_.shift();Mi(r).t_(),await d1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pd(r)}}(t,e),h1(t)&&f1(t)}async function $v(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Vs(n);n.M_.add(3),await Wl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Rd(n)}async function zL(t,e){const n=de(t);e?(n.M_.delete(2),await Rd(n)):e||(n.M_.add(2),await Wl(n),n.N_.set("Unknown"))}function Zo(t){return t.B_||(t.B_=function(n,r,i){const s=de(n);return s.f_(),new RL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:bL.bind(null,t),To:DL.bind(null,t),Ao:jL.bind(null,t),h_:LL.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Jm(t)?Xm(t):t.N_.set("Unknown")):(await t.B_.stop(),u1(t))})),t.B_}function Mi(t){return t.k_||(t.k_=function(n,r,i){const s=de(n);return s.f_(),new PL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:VL.bind(null,t),Ao:BL.bind(null,t),R_:UL.bind(null,t),A_:FL.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Pd(t)):(await t.k_.stop(),t.v_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Zm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),zl(t))return new X(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.q_=new Je(te.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bo{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Bo(e,n,Ro.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class HL{constructor(){this.queries=new Jo(e=>LT(e),Ed),this.onlineState="Unknown",this.z_=new Set}}async function tg(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new $L,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=eg(o,`Initialization of query '${to(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&rg(n)}async function ng(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qL(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&rg(n)}function WL(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function rg(t){t.z_.forEach(e=>{e.next()})}var sp,qv;(qv=sp||(sp={})).J_="default",qv.Cache="cache";class ig{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.key=e}}class m1{constructor(e){this.key=e}}class GL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=OT(e),this.Ta=new Ro(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Hv,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const m=i.get(f),_=Id(this.query,g)?g:null,S=!!m&&this.mutatedKeys.has(m.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;m&&_?m.data.isEqual(_.data)?S!==C&&(r.track({type:3,doc:_}),k=!0):this.Ra(m,_)||(r.track({type:2,doc:_}),k=!0,(c&&this.Ia(_,c)>0||u&&this.Ia(_,u)<0)&&(l=!0)):!m&&_?(r.track({type:0,doc:_}),k=!0):m&&!_&&(r.track({type:1,doc:m}),k=!0,(c||u)&&(l=!0)),k&&(_?(o=o.add(_),s=C?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,g)=>function(_,S){const C=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return C(_)-C(S)}(f.type,g.type)||this.Ia(f.doc,g.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new Bo(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Hv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new m1(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new p1(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Bo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class KL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QL{constructor(e){this.key=e,this.wa=!1}}class YL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Jo(l=>LT(l),Ed),this.Da=new Map,this.Ca=new Set,this.va=new Je(te.comparator),this.Fa=new Map,this.Ma=new Wm,this.xa={},this.Oa=new Map,this.Na=Fo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function XL(t,e,n=!0){const r=E1(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await g1(r,e,n,!0),i}async function JL(t,e){const n=E1(t);await g1(n,e,!0,!1)}async function g1(t,e,n,r){const i=await wL(t.localStore,mr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await ZL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&l1(t.remoteStore,i),l}async function ZL(t,e,n,r,i){t.Ba=(g,m,_)=>async function(C,k,E,I){let A=k.view.da(E);A.Xi&&(A=await Fv(C.localStore,k.query,!1).then(({documents:y})=>k.view.da(y,A)));const L=I&&I.targetChanges.get(k.targetId),F=I&&I.targetMismatches.get(k.targetId)!=null,V=k.view.applyChanges(A,C.isPrimaryClient,L,F);return Gv(C,k.targetId,V.fa),V.snapshot}(t,g,m,_);const s=await Fv(t.localStore,e,!0),o=new GL(e,s.hs),l=o.da(s.documents),c=ql.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);Gv(t,n,u.fa);const f=new KL(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function eO(t,e,n){const r=de(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Ed(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ip(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qm(r.remoteStore,i.targetId),op(r,i.targetId)}).catch(Bl)):(op(r,i.targetId),await ip(r.localStore,i.targetId,!0))}async function tO(t,e){const n=de(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(n.remoteStore,r.targetId))}async function nO(t,e,n){const r=cO(t);try{const i=await function(o,l){const c=de(o),u=gt.now(),f=l.reduce((_,S)=>_.add(S.key),_e());let g,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Gr(),C=_e();return c.os.getEntries(_,f).next(k=>{S=k,S.forEach((E,I)=>{I.isValidDocument()||(C=C.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,S)).next(k=>{g=k;const E=[];for(const I of l){const A=Cj(I,g.get(I.key).overlayedDocument);A!=null&&E.push(new Gi(I.key,A,RT(A.value.mapValue),er.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,E,l)}).next(k=>{m=k;const E=k.applyToLocalDocumentSet(g,C);return c.documentOverlayCache.saveOverlays(_,k.batchId,E)})}).then(()=>({batchId:m.batchId,changes:VT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.xa[o.currentUser.toKey()];u||(u=new Je(Te)),u=u.insert(l,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Gl(r,i.changes),await Pd(r.remoteStore)}catch(i){const s=eg(i,"Failed to persist write");n.reject(s)}}async function y1(t,e){const n=de(t);try{const r=await yL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?De(o.wa):i.removedDocuments.size>0&&(De(o.wa),o.wa=!1))}),await Gl(n,r,e)}catch(r){await Bl(r)}}function Wv(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=de(o);c.onlineState=l;let u=!1;c.queries.forEach((f,g)=>{for(const m of g.U_)m.j_(l)&&(u=!0)}),u&&rg(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rO(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Je(te.comparator);o=o.insert(s,Gt.newNoDocument(s,ce.min()));const l=_e().add(s),c=new Cd(ce.min(),new Map,new Je(Te),o,l);await y1(r,c),r.va=r.va.remove(s),r.Fa.delete(e),sg(r)}else await ip(r.localStore,e,!1).then(()=>op(r,e,n)).catch(Bl)}async function iO(t,e){const n=de(t),r=e.batch.batchId;try{const i=await gL(n.localStore,e);v1(n,r,null),_1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gl(n,i)}catch(i){await Bl(i)}}async function sO(t,e,n){const r=de(t);try{const i=await function(o,l){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,l).next(g=>(De(g!==null),f=g.keys(),c.mutationQueue.removeMutationBatch(u,g))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);v1(r,e,n),_1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gl(r,i)}catch(i){await Bl(i)}}function _1(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function v1(t,e,n){const r=de(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function op(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||w1(t,r)})}function w1(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Qm(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),sg(t))}function Gv(t,e,n){for(const r of n)r instanceof p1?(t.Ma.addReference(r.key,e),oO(t,r)):r instanceof m1?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||w1(t,r.key)):le()}function oO(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Ca.add(r),sg(t))}function sg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new te(Ue.fromString(e)),r=t.Na.next();t.Fa.set(r,new QL(n)),t.va=t.va.insert(n,r),l1(t.remoteStore,new wi(mr(wd(n.path)),r,"TargetPurposeLimboResolution",Om.oe))}}async function Gl(t,e,n){const r=de(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const f=u&&!u.fromCache;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Km.Ki(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(c,u){const f=de(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>z.forEach(u,m=>z.forEach(m.qi,_=>f.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>z.forEach(m.Qi,_=>f.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!zl(g))throw g;J("LocalStore","Failed to update sequence numbers: "+g)}for(const g of u){const m=g.targetId;if(!g.fromCache){const _=f.ns.get(m),S=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(S);f.ns=f.ns.insert(m,C)}}}(r.localStore,s))}async function aO(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await i1(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(c=>{c.reject(new X(B.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gl(n,r.us)}}function lO(t,e){const n=de(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function E1(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=y1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rO.bind(null,e),e.Sa.h_=qL.bind(null,e.eventManager),e.Sa.ka=WL.bind(null,e.eventManager),e}function cO(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sO.bind(null,e),e}class Kv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mL(this.persistence,new fL,e.initialUser,this.serializer)}createPersistence(e){return new uL(Gm.Hr,this.serializer)}createSharedClientState(e){return new IL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Wv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aO.bind(null,this.syncEngine),await zL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HL}()}createDatastore(e){const n=Ad(e.databaseInfo.databaseId),r=function(s){return new AL(s)}(e.databaseInfo);return function(s,o,l,c){return new xL(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new NL(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Wv(this.syncEngine,n,0),function(){return zv.D()?new zv:new TL}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,f){const g=new YL(i,s,o,l,c,u);return f&&(g.La=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);J("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Wl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=ST.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lh(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await i1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fO(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$v(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$v(e.remoteStore,i)),t._onlineComponents=e}function hO(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function fO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!hO(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await Lh(t,new Kv)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Lh(t,new Kv);return t._offlineComponents}async function I1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Qv(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Qv(t,new uO))),t._onlineComponents}function pO(t){return I1(t).then(e=>e.syncEngine)}async function qu(t){const e=await I1(t),n=e.eventManager;return n.onListen=XL.bind(null,e.syncEngine),n.onUnlisten=eO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tO.bind(null,e.syncEngine),n}function mO(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new og({next:m=>{o.enqueueAndForget(()=>ng(s,g));const _=m.docs.has(l);!_&&m.fromCache?u.reject(new X(B.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&c&&c.source==="server"?u.reject(new X(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new ig(wd(l.path),f,{includeMetadataChanges:!0,ra:!0});return tg(s,g)}(await qu(t),t.asyncQueue,e,n,r)),r.promise}function gO(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new og({next:m=>{o.enqueueAndForget(()=>ng(s,g)),m.fromCache&&c.source==="server"?u.reject(new X(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new ig(l,f,{includeMetadataChanges:!0,ra:!0});return tg(s,g)}(await qu(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e,n){if(!n)throw new X(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yO(t,e,n,r){if(e===!0&&r===!0)throw new X(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xv(t){if(!te.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jv(t){if(te.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xd(t);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L2;switch(r.type){case"firstParty":return new U2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Yv.get(n);r&&(J("ComponentProvider","Removing Datastore"),Yv.delete(n),r.terminate())}(this),Promise.resolve()}}function _O(t,e,n,r={}){var i;const s=(t=Sn(t,kd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=qt.MOCK_USER;else{l=BE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new qt(u)}t._authCredentials=new O2(new TT(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class Ni extends Us{constructor(e,n,r){super(e,n,wd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new te(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function tt(t,e,...n){if(t=Be(t),S1("collection","path",e),t instanceof kd){const r=Ue.fromString(e,...n);return Jv(r),new Ni(t,null,r)}{if(!(t instanceof Kt||t instanceof Ni))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Jv(r),new Ni(t.firestore,null,r)}}function Se(t,e,...n){if(t=Be(t),arguments.length===1&&(e=ST.newId()),S1("doc","path",e),t instanceof kd){const r=Ue.fromString(e,...n);return Xv(r),new Kt(t,null,new te(r))}{if(!(t instanceof Kt||t instanceof Ni))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Xv(r),new Kt(t.firestore,t instanceof Ni?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new o1(this,"async_queue_retry"),this.hu=()=>{const n=jh();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=jh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=jh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Fr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!zl(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Zm.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function ew(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Vi extends kd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vO}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||C1(this),this._firestoreClient.terminate()}}function wO(t,e){const n=fm(),r="(default)",i=Qo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=VE("firestore");s&&_O(i,...s)}return i}function Nd(t){return t._firestoreClient||C1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function C1(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,f){return new J2(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,T1(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new dO(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Yt.fromBase64String(e))}catch(n){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=/^__.*__$/;class IO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(e,this.data,n,this.fieldTransforms)}}class A1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class cg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Wu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(R1(this.fu)&&EO.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class TO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ad(e)}Fu(e,n,r,i=!1){return new cg({fu:e,methodName:n,vu:r,path:jt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(t){const e=t._freezeSettings(),n=Ad(t._databaseId);return new TO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SO(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);dg("Data must be an object, but it was:",o,r);const l=P1(r,o);let c,u;if(s.merge)c=new In(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const m=ap(e,g,n);if(!o.contains(m))throw new X(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);k1(f,m)||f.push(m)}c=new In(f),u=o.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,u=o.fieldTransforms;return new IO(new cn(l),c,u)}class Dd extends ag{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function CO(t,e,n,r){const i=t.Fu(1,e,n);dg("Data must be an object, but it was:",i,r);const s=[],o=cn.empty();Ms(r,(c,u)=>{const f=hg(e,c,n);u=Be(u);const g=i.Su(f);if(u instanceof Dd)s.push(f);else{const m=Kl(u,g);m!=null&&(s.push(f),o.set(f,m))}});const l=new In(s);return new A1(o,l,i.fieldTransforms)}function AO(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[ap(e,r,n)],c=[i];if(s.length%2!=0)throw new X(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(ap(e,s[m])),c.push(s[m+1]);const u=[],f=cn.empty();for(let m=l.length-1;m>=0;--m)if(!k1(u,l[m])){const _=l[m];let S=c[m];S=Be(S);const C=o.Su(_);if(S instanceof Dd)u.push(_);else{const k=Kl(S,C);k!=null&&(u.push(_),f.set(_,k))}}const g=new In(u);return new A1(f,g,o.fieldTransforms)}function RO(t,e,n,r=!1){return Kl(n,t.Fu(r?4:3,e))}function Kl(t,e){if(x1(t=Be(t)))return dg("Unsupported field value:",e,t),P1(t,e);if(t instanceof ag)return function(r,i){if(!R1(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Kl(l,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:$u(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$u(i.serializer,s)}}if(r instanceof lg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:XT(i.serializer,r._byteString)};if(r instanceof Kt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${xd(r)}`)}(t,e)}function P1(t,e){const n={};return CT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(t,(r,i)=>{const s=Kl(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function x1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof lg||t instanceof zo||t instanceof Kt||t instanceof ag)}function dg(t,e,n){if(!x1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xd(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function ap(t,e,n){if((e=Be(e))instanceof bd)return e._internalPath;if(typeof e=="string")return hg(t,e);throw Wu("Field path arguments must be of type string or ",t,!1,void 0,n)}const PO=new RegExp("[~\\*/\\[\\]]");function hg(t,e,n){if(e.search(PO)>=0)throw Wu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bd(...e.split("."))._internalPath}catch{throw Wu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new X(B.INVALID_ARGUMENT,l+t+c)}function k1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xO extends N1{data(){return super.data()}}function b1(t,e){return typeof e=="string"?hg(t,e):e instanceof bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class kO extends fg{}function j1(t,e,...n){let r=[];e instanceof fg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof mg).length,l=s.filter(c=>c instanceof pg).length;if(o>1||o>0&&l>0)throw new X(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class pg extends kO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pg(e,n,r)}_apply(e){const n=this._parse(e);return L1(e._query,n),new Us(e.firestore,e.converter,Jf(e._query,n))}_parse(e){const n=ug(e.firestore);return function(s,o,l,c,u,f,g){let m;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new X(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){nw(g,f);const _=[];for(const S of g)_.push(tw(c,s,S));m={arrayValue:{values:_}}}else m=tw(c,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||nw(g,f),m=RO(l,o,g,f==="in"||f==="not-in");return dt.create(u,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class mg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)L1(o,c),o=Jf(o,c)}(e._query,n),new Us(e.firestore,e.converter,Jf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tw(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new X(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jT(e)&&n.indexOf("/")!==-1)throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!te.isDocumentKey(r))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tv(t,new te(r))}if(n instanceof Kt)return Tv(t,n._key);throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xd(n)}.`)}function nw(t,e){if(!Array.isArray(t)||t.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L1(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NO{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ms(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new lg(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);De(r1(r));const i=new Al(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Wr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class O1 extends N1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(b1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tu extends O1{data(e={}){return super.data(e)}}class M1{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Va(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tu(this._firestore,this._userDataWriter,r.key,r,new Va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new tu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Va(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new tu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Va(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:DO(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){t=Sn(t,Kt);const e=Sn(t.firestore,Vi);return mO(Nd(e),t._key).then(n=>V1(e,t,n))}class gg extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function _r(t){t=Sn(t,Us);const e=Sn(t.firestore,Vi),n=Nd(e),r=new gg(e);return D1(t._query),gO(n,t._query).then(i=>new M1(e,r,t,i))}function Kr(t,e,n){t=Sn(t,Kt);const r=Sn(t.firestore,Vi),i=bO(t.converter,e);return yg(r,[SO(ug(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function Qr(t,e,n,...r){t=Sn(t,Kt);const i=Sn(t.firestore,Vi),s=ug(i);let o;return o=typeof(e=Be(e))=="string"||e instanceof bd?AO(s,"updateDoc",t._key,e,n,r):CO(s,"updateDoc",t._key,e),yg(i,[o.toMutation(t._key,er.exists(!0))])}function $o(t){return yg(Sn(t.firestore,Vi),[new zm(t._key,er.none())])}function ms(t,...e){var n,r,i;t=Be(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||ew(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(ew(e[o])){const g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,u,f;if(t instanceof Kt)u=Sn(t.firestore,Vi),f=wd(t._key.path),c={next:g=>{e[o]&&e[o](V1(u,t,g))},error:e[o+1],complete:e[o+2]};else{const g=Sn(t,Us);u=Sn(g.firestore,Vi),f=g._query;const m=new gg(u);c={next:_=>{e[o]&&e[o](new M1(u,m,g,_))},error:e[o+1],complete:e[o+2]},D1(t._query)}return function(m,_,S,C){const k=new og(C),E=new ig(_,k,S);return m.asyncQueue.enqueueAndForget(async()=>tg(await qu(m),E)),()=>{k.$a(),m.asyncQueue.enqueueAndForget(async()=>ng(await qu(m),E))}}(Nd(u),f,l,c)}function yg(t,e){return function(r,i){const s=new Fr;return r.asyncQueue.enqueueAndForget(async()=>nO(await pO(r),i,s)),s.promise}(Nd(t),e)}function V1(t,e,n){const r=n.docs.get(e._key),i=new gg(t);return new O1(t,i,e._key,r,new Va(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Xo=i})(Os),nr(new Fn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Vi(new M2(r.getProvider("auth-internal")),new B2(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),pn(vv,"4.6.3",e),pn(vv,"4.6.3","esm2017")})();const jO={apiKey:"AIzaSyCEGX6DExJ4wrB1XUIww4M49WnFdGx6gkY",authDomain:"deli-pernil.firebaseapp.com",projectId:"deli-pernil",storageBucket:"deli-pernil.appspot.com",messagingSenderId:"231637892410",appId:"1:231637892410:web:59c4a88c7c076bea2b2403",measurementId:"G-BJNVGD1FE3"},LO=KE(jO),Ve=xI(LO),Gu=new Nr,U1=new kr,ue=wO(),lp=hD(),OO="_mlogo_x5ii9_5",MO="_tlogo_x5ii9_59",VO="_header_x5ii9_73",UO="_logoContainer_x5ii9_95",FO="_logo_x5ii9_95",BO="_container_x5ii9_127",zO="_social_x5ii9_145",$O="_nav_x5ii9_165",HO="_active_x5ii9_237",qO="_line_x5ii9_245",WO="_line2_x5ii9_257",GO="_purpleLink_x5ii9_267",KO="_navbar_x5ii9_279",QO="_perfil_x5ii9_291",YO="_adminNav_x5ii9_307",XO="_adminLink_x5ii9_331",JO="_adminLogoContainer_x5ii9_339",ge={mlogo:OO,tlogo:MO,header:VO,logoContainer:UO,logo:FO,container:BO,social:zO,nav:$O,"nav-link":"_nav-link_x5ii9_183","nav-link-access":"_nav-link-access_x5ii9_207",active:HO,line:qO,line2:WO,purpleLink:GO,navbar:KO,perfil:QO,adminNav:YO,adminLink:XO,adminLogoContainer:JO},ZO="/assets/Logo-Bvb2W1SP.png",eM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABrCAYAAAAb+/AcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa8SURBVHgB7VptaBtlHP/ftenaZlmzF7WryK7QrhsMlyCCH8SmvjA/CFMYjH1x6T4pyNr5VWEbTGGfNnHgNxsEYYKwTZApiGthX5S5RNjoy+aSzr1E92K2dk3b5HL+/k/vatokd7kmaQ65X3h4nrv7P3e/+/2f139OohVgdHQ0JElSAKkXh5z7NU3z8zWUUygnUEwgH8lms8M7duyIkU1I5RpGo1F/a2vrAIphJIXsIZHL5Y4iH96+fXuinAplERsfHz8MJQYNVSqAIAhyEStDU2JwmSLL8hkUA1RdMME+M/XkUheg0v6GhoZoDUgx+IWjeMbbZIcYuw5ZpAquMwPf+wwLUOyiVIQUG0ZoFaG7dTj/3BJi3KbYfTVWqhhSIBfMb3NLXAm/X6gDKYYfggzln1gkprcrheoECBIaGxsbNI6FK/Vh4QLVkZiO1MzMTGcwGEwZioWo/qQY/paWljAXBDGodZgcAnDZzbk0MTERgH+j5CB4PB5FRjcNkcMwPz//joxu2ksOAxYMO2W4USHnIcCNXyHnwS/XaaS3gl8mh0LmNTo5Dyl2peOIgdMkj2Mj5DDAi3F2pe2tVa3BYmFqkofJeRiWt27dGnOYajFeyYrhQlXVc+QQwI2fcS4WivF43J/JZOIOGGwTPT09nVwQinV2dqb0LXxdkc9hyS4JazPejISoDuAAzLZt20LG8ZIpCW2tv04zAUeGwvknim14edt+hlYRECPIo0P+uYJJHI3vLHzdT6tDKIXUv5yUuFaqEiuHSkO16ql6k+krRopRctnDyqHNBVFMUJXBDZ3vXYoUo6zAHTbEYX2Lp1AFYJVA6FDFgbvl0AnyNn6nnXqsELKz6XQ6wrvscurYImaAQwoc+kQaMLPTB8xIuXHXfDTSCgFSYsc8GZuhkcg9Sl5Pi/M9L6+j3vBT5G/3EG8N0Y6OFKvPwWYz9aRSlTiGUKxH4mFt+uwQGL84Rd98/GdBfSb17klF5HiBYV4l6yF3RTcx8pKx2KKK6WHzI7hZwTXcfLH846lkseqUSmbol28f0q4PnhHhpft3HxNr8ODuNKWnMpSezpLX10zPv9Kh6HGxvuX3KHiyHpKK37n2mIY+ukQ5LbOQKEsakr+9mT489RYlYk/oq8FJKgVW6+DpbpqZmqP3XvuCGqQmaqAm7H4aMUZ5tEa5SdozEKTQ3q6ioc6CcQxvICI/5z4fpQd3pvCWC+n+3Ud0704K5HLCrnltA5lhdjr339sL5aUlWrDwP3w5IdSDEEPcfEoSY7V4Mv0j+pCuXf4bJFSRhFqaKkjdnPhrUZE1a0tvS7cEvCKfvHaPFryvFdiwW8+evMoXFK/Xe7gkMUOt05/GmISW01T8soKQJuUEwSdTMzR2+ZZQrDf8dDFOgjC3L/Gyl27qpAzFNFZQiKjh9+v52xILAUEGr1y5EiggZqh16fwt0Ug1LQMqKqqDFMjlNEM1lTZt9ok6L+3ZIIaGNqhnoL2rmfbrPZLx5r4XaFNHW16nYYIaH2oG0dOfXBUubWpqOkF5VgJYJPKEHT6252ftQfIRSHGjnydVNPyFpOL49b07ad/gqwUqJa/PChX9eSQNjF2+Tcff/w6N34PG7xEdoHGxM2C8Q9p1oJveOKAw5UNYMJ7MDw7HoZb29bHf4DaoBUKqQQ5581qJ1re30sHju2nj5jayi4vfj1NsZFJ0irlpTaRUcp7QO6GOh3y+FhoYehHPWCMCxNJStX6iJ9NpvHWT1tG1Tnq2ex1t2Oyl57o3goyPaoH0VJYeJtMgqlKzz0MdXV6hmsQ7JIQW/1kwylCLz0OrgAjGrkl4ScmfDdAjtuh/xPYbrozgRAhFXh8lOOGYpwveDPOC8QRVEbxCtlr6iCkJRuFSBiDtLzY1VQjFyqCcwJ1CVQZP6FY2lsQw6G6hKgPELLt1XUKdaNydVjaWxGoRbq+WYgpVH5W1MR7jqDZQrAxMic3OztYsLHXjxg3TTmXlSoXqBFNimDJqptjc3JxpzzQlhqmjlhFGxexi3VxpNfrLlVSuBFZRJFNitZiOFh8syyvvlbWMYuPe682uW7mylvHYlbsym83+TjUCFIuYXTddAerLbv70QaHqIoaIZdDMwFQx/mMCe70g3o7/RqmGenyPo9gF9VkZ2lozI2CsUQWASmU/z7n/iZND4RKzC5eYXbjE7MIlZhcuMbtwidmFS8wuXGJ24RKzC5eYXbjE7MIlZhcuMbtwidmFS8wu/h/E+CM1WiH07xTLhi1iqqqu+ENx/aPL8u3tGPPHZ/z5sZ23Z1v+cM3sm9di+BcdqAqpT33QtAAAAABJRU5ErkJggg==",Jr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAflBMVEX///8AAAD4+Pje3t6YmJhOTk7j4+NISEjx8fH7+/uRkZGOjo6/v7/a2tpycnJtbW3u7u7Jycm4uLjS0tIlJSVaWlqgoKCtra2FhYUzMzM8PDx/f3+np6fPz894eHhVVVViYmISEhIZGRkrKytAQEAMDAweHh4oKCg3NzdJSUnnAWCYAAALOElEQVR4nO1d2VZjKxA1gzGaxJgYM5nhJNrd9v//4F22t1upAQqoguNa2a8CsgMHaqLq6uqCCy644IILjNAbr+4OzfG6HI7NYbQbT4qQW90vOvVwnu5MaY7vK5L7xHR+a0JvP63N7AuasTa92+WpNimIfleRX3dUmw6Jw4MWwbvaVFg8q6zjvDYNL5bZ/B5ea3MIYJF5eyxrExBglMGve1179iJskk+cSe2pizFLI9juI8ZFP4Vge+8ICvfxBA+15xyJp1iCbRJCZbiOIxihRJxfb+zw+lM+kWMMwbVkxNN0ORvY6DEOBvvdQUS0kY+5E4w2VxN7RRhKdNO1dLR9aKQnde1MhFnwcFjJBhoGhhmVXb2v6IakyJ5omDfvGEl3qyJWfoqSIbza7rrAyRJC3zfBJtzfJ4y+DqxnL8LwyTPHebD7me+8KzB7GXwic2iX8VvgZzsW8ANDXjEPSKgPbMemxMQj8MzO1K/0N1y3HEXaBuyhuvX16nG9hFdpUcy4yfr0Ye6QCh9QNfDIzHbDdxl8K4K8eMkvIiPctueWgBjTE77h2nfp9s8l5xwJRk7lLja6eaTuXBi0usEtCu36bIEk6sMLOWm6LX1VPJadMIXJsnk7nzdNf0/8kZZRaAWWNB+K1WYzON/OCDubSIPElByK2qQ/rOcfApJcsH66pShSY5HLnWguVwMhgmyGoA15i1MbmtJIKp+jXfrsg3cBZby+I4ajzl2Z2cMMnA0RGIqoe/yVGI5QfZsCLDxgfXs/QUPK8IKHo36IukvosdqCG52yDmItkZBiWfGuCBgZ8gPgUyQEaqzvEQplHbvvX3htfo3bljCf4YuccFUUIcLCR7DTAVcGlt2wtw3bL+rqFKwG/wGg0WGl4RcaEUsGdSXSQBgWWCJCXEEj/gg3KYrffoZwdhvUAOlEqAUtvBZDgCAkgJccCnd4xMrmtRBDINfgzxbKdrfBFoURyRDfnlBcwS2KcaERYgg3IRLSgwy1BZruZLbqrw+H6eGw7q/Gk1DcJD46/AuAFIcgw4MiuVn/CR/VnePdGJ0Gnwi47ZHugFxKQYb5gZsfmPR98ZubEXfrBny9yI+C1NsgQxU79+Du5J/oO9aksygQTYB+GGTiDzJUsF+Mb8L0/mBD3Uw+R29ngZojW0aQYfbDDUFQzhf0kQjijf3EOwyteZBhpvYb+IwojnAI1pdJepeCBFCDrAt/5okG4AEWxqMCE5NDIoslQ2+shA9b959y/kHyFCy5hvEb9BPuVmWcZ+RFVo7h7TGDYKfz5sibpAuUVgmKMcyPfnesQw/owlkwR2Aphjk79C9cc/X4l/NHVqcrxNAfebs4HkZ3/f7o8OQXqxt30Mf1/3rD6eARQ8ow5G+wxXruDvgwHvE0kV5zO5hMen5tpAhD7ozZ7uiI1OGKs9u/xf/zEgwZgmvfSA/Mqw5PSAyDAgzpLYrlTQhafvWGblGwZ0i+QJH5yMkYkKi3BRQBbYbULG+kAeFdav0jjQzWDCkbfEwoFSWfxZkzjRkSRvXIgNshEW8QpcAZM8Th/bGfEWV6igoEsWWIj/wUSx0OwI5xLJgyxMFUaRHFWKiNMBaZMkTuydSQaUxR3teSIbqy043JaKPKg84MGaKe8YfMJ5DckD4NPYbwWQAMdokD1HjFP5cdQ3QV5nnlku22dgzhEuY6VqF0JA2tM2MITc35sX7w5hcuohlDeNkrvL4EIwqvfTOGoBcV9BgLeCt6nIxfYMUQ6gSRZGgACULmybRiCAwtOm9PwGEju36MGMJzJpYLA7CIorPGiCH4ZDS+wncAj7VIzDViCMxrsjNBAHdY0TY1Yuh2iU4vwmIdPxcbhuBI0Iu4Bf4diZxkwxCEyyVQ4XByBpZc+jYMXUVAb5PCbSox2NgwdHtoPsQE+19whJkwHPiHzAGYjsBeY8IQiGxJVDi4oYaC7WHC0LXkU+9w0uHqUAJzjQlDV/nVDe13fz3BIWbC0A2b0Qpm/ID7BbyEO5gwdF0Nui9swJ0f7mDC0H08p/s8Axi4wh1MGPpHzAOYT/hBeQGGyrH97uDhK78AQ+UMYLGDXxhedqlgEqYnTXQHHYau7Kj7dB9I9eEOJgzdhxS6aXrc+GCBgmjC0I2C0ZXaXHObIM7NhKGriCdk8vXA9QY34Q4mDF33dnywnQ/u/hBYTE0YAlNDEhMO7tACY5sJQyAda4re8UOXsERpZjYFdn1BJicbhq4KrGnGcI0YAgXYiCEIuVRzW8DdITGQ2DAEz3b0Xn8nuAuKeGYS4s8ZgEe9ks1hxHDqHzQVYDKiD9yIIbAJa72OBt+3SB608uODTkpnDRhVpFtbMQTbVCd/HQh2lN1CVgzh8zmVRQRjytQys4ghkHBMIyEKTFMi62XGEAYw5QunMNhRuPPtYhNBt3MMGRIwwlS48e0YwsDlXBcUfHwjVawNY4RhxzyLFIr7F78ssmOIXjzlmIbRq3rxlrCM1T+BnjmB3uhhs7j8nyVD9KorXVFEb9jk8R2mL0rQvFJDodHTpwjrlilD1DeRIn7blTMJ1ZddOH3tNiFHNs6mEWP5sWVI5K/9EeuKGuLH61HJuIwZUvlw4/wY1CPUqDKq1gypRNJNxE6lKo7EZTmyZkgn45Qu4+xEdI60a5kzpHN+vErWYUAm7Il9w2jPkKkydAxxHNDVDaJNPgUYcjlV33x7dcxkxojXpEsw5CuXNnNKybsds5VAE3yRRRj6UrRt1qvJJ83uZD4iE/5/IMWgVYYhl7rqH05vv4/X23OgVZK/vBBDvmBUBNJU6FIMr7qhDMchvCQq0MUYBsoTBpFs5inI8KpHF7cRgSq80T6G6TXnc5wCZRleDVNKQl9n/cv4zJCZvsBebHLBbfoGlRFADbIztE48+UcRrjP5EfpbiSy7D4Hs///wrBCbim7iMpmSr2bhWtONzjMGlCYzyFAt/mfvSR+4eFaLSo3Pdq1ZGqG7X04hzZdpf6YYgIN1tyBD3VDDdwwH+/F8tVrNx/ueJrcPoHOt9ZUDYoHmj6471CL7uigKbOxD5zNq0d7qoxSwZhpmmJPuqTywwRV96ljxrjHRZKDZ4+njGg11S3bFgbAtoDZYG6hcLCgKWD7EgZKEKbDlVWS/Ak++QW2IEpbf5zQlvCY4kwyRpj8vt1xJEMoooTngRtXrrEpB1VolFDJCA9ALa7YFpWsTzSgn5fdYRGoJKXmFssh/jy+R8l9RngGsXXS+x3FKup9JvYGsXaSvyKmDmjYtcpK+sfbL3xHJ4Ok67JXLIAZB1ytlQpXpEluV6yAGQJ4erF5E1R5vQQF5L3Cu9HewhkL69/hdcsaRYPwj7PnI2Kjbq0ZFT5iryFe39jEPzovn8SpRklt7KXIEfVml2LKKbdyorN/H6xhke+XneNYG64QNrAbXrXNWzj+TiS4fcBQQNOk78Q90U3vkwVN5Peg044pMdeJCYm3BnYgdicLnreHajmX0LKAo/sCzTzudbX1/zcAbAyFK1uyPFAmGxNqCCbj9C+FzHVTEG4xSz9w/C8WwCMP7aUXxK+gyzMbosRG6/yCeFlvE9QsO45IX5HD2fArPKeIgDEXC/o9mNN8Phl3DS6Q7HDzO7xoBu05k5K1GPdHSiHy/8P0oRheZ8l6LLURChJNXcmgdkkyClDugrUgMbbylzYvtw6/0iyt8x7YBWWlxJqfa0w8j1wUojYKtBYV0jQOPTlwdGx0Bee8vFF4PZz0tZ+Z5aFYNC12LwyTlBYUlnvRjDLorHPpWCy9LI9/0cBXzhsIKx52tS7O3OtT7KDf3O90CBSyGk9l8t1z2S2G53K3Gj+2yul9wwQVS/AdIxZPnwhuUSAAAAABJRU5ErkJggg==",Zr="/assets/xlogo-BzPNCyv_.png",tM="/assets/tlogo-CdvIei82.png",nM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbbSURBVHgBrVhrbFRVEJ45d9t9QKEgiBW0RQqCGqESeYjgCqXtFmz8IWg0QV5KTBSkpPQByjax9AFKKISoRJTEGAsiRGN3SwsWfogEKRgTHtIaGjHlIaX0de92d+9xzt67223Zu90aJil7z5yZOd+ZM2dmDgiDIHuiM9Eixy9jEksDDk9wgGQAPhoAaRZbAdQrxLuKHOo86K85Lm/+J1bbGItQlqXUjohbBBYYDHFwMcBtPyn5Pw8kGhXIYnPFRD+qu0gqM7Iy/ss5v4PA/RwwiRjDDZap4lwtcCuFV2GwQDItFasl5Ns48MQwNrmf7UOu/mg2SZcOd+bdArFvnewJ20dZferjwNVVZDmLWEnBOQLcTv984PYUVcYMJNtWvoUUnWGs68Bx902lqeIsfO6F2Agdlq2rAXETfSaHmIjO6u784v7C0sAg+MGO+LuO413Ooy1wVoVBUKPvWEOqKf0IHeEQ2vJ0nW2fFL8QrnjrTvRBHT7IspavpfPeGYJAgOhci+E+UJalfAti2AY5X+VSCvcFh1KvYGkKIa8iaBYdRPH9AiGo0Vd3ItW0kI5Gv3nIXhgvZXz/l7+2VQxNQUESKKPltahH2OuWC53RDD8/vGCETRk2hyF7itzKVAa/gyn+VE17bquRjlvJL86ylj5JG15CayWakO8idpa2JFGmuTSdMazV5Skh+ezVyubmSMYcIyuHQXc3gYaVpG3uN63SHfpMtpiL6tvWt0XSzxlSMsarSufp8yExJs+/SJ6vZ2LAEHNDkghbjUAstpQ9inL3byTzTgQQAVNizuLxNCwavmdEJBs/dG26QavvDi2nJUpgGdaPHiFlh8bmLa7ugr1gQH6EI5Q0Jmqi2EVWvhRBh5yvIE98Q3NebS8wXvW2HzOyc1MZWQGBnBQwNEuUDiZxaSH0wnMZKVMwL6efNF25Gfyeua7u/JUi8quVwq9cSsEbqLIpoQU4pDkspSsj2ToLawgwbUJb1GKRrcsYR0gP7ZjHfWEEhFz4ZugbYIPL++G5/jIuz8YmznFpL4ctM7LHkPfWH4mnMQSWEhwPMXkuR1JaAgfENZ+tD69Xy4WHwIAURRaJSvMKqs/awWmKJOdl0pnQgCo5o1oyKaADvO1wR9HtSEqtCY2i3ph1uSsQherB6SOPXdJGaBuaAImR5I525t2kmLqt20wmj0Awuq8bGY/vaOmknx4NPI6HAYiOZ6z+6WvpSLprJEd9ix6wOIoFhtoCkpGCC3Z5SOKCPhznsFbMMZLNtJU8Qyb1IsdPa4FpAITah+CnOJrgcYyA6PRtyACqe7Mt25P7C2QM3fYg41Iofsj2gWgGObAkXe4OZlnLTtPxzBAMvySNEWcXSckBlWawdpFX8DGddZWr6g6TH86o8ZKXMuR8Mvk+iAZJn58pKxOc4IxYsR3W8nEk/7cGBE/RLeIXQ7M+/2QwIBes9XCVZQdyiEYpyNhOfxz7hUCIG1AeBqJFpG4jEIHFuZoaNmpmnLOG4FBCzIEo5PbkX+acqieHY1HEjiM3zY7WFgqiwhfKMeSMWnw5cUeix+O5o7Nam2U56QI4e2AAItfOogo3j4JsKkf0U9T/QWnqZLWcdxoGJnRYy0SHLzzo94AvWbqk1Cipcel2ipMUYlqHm0w91DucNLIg6sIUWPQcBfxUitoJdP/NFGyUtLhEtdeaGrfANsE2t73JUy8bbsJW9hb9vB4YcHTXKkWfBtoA/bkQTLk3ZLMyub7N2aeMU6uQRa3CGjoW6m5gCESnHsoJLnL/1y45/7vwCXHbOHpPBPtYqjHzxXMj1Co6LGXu4LOBmIeq5YJXxHeGpWyehCCq5Uz4P4RwEb3qimpvUeDI6JZWkX29HmEVAX1NE9Mpx/xJqo95z4SeD4gl5P5hhPm9vnaxjaKrSvXzy3Tt/qTjuCaOBhmMQIZP03WYRt1eBkmO6adXSV6i4+L5Ousa3ay5waDu0zxn20pXU3o26Ed4swqmjcza6Xa1FrdDFMoZVZ7g6+QvUWUvAS32IjgK11XL+ZW94350T7cNgcy3J0FuWHsQDvphkEQvg48plef2sac15s5w3j31Reu2F1Dsor0XLY7uiX+4s9Fbdw5ipOnwdtw029JCArGKhkOjgdDWMKBMa9k6yg159Dk2jN1CGm5Q2X6KkyYKtGvhOqLWmFTvDM4lOy25nFgPhG2mjaO6wdXd+5aJCYigwFsHmXhmvBpZgreR5yidBzw7kv5GRRaDGpXHv1vjyW00Wium/5ZYRM8NVYL1wFlmIHHFRgr9/aofRf1AwjEBCZLo+E08Ll1FTteTi5eh6OiD7cMtMtasIlxgfjjfbVX290+K0eg/fHPEQGZp4IwAAAAASUVORK5CYII=",rM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZOSURBVHgBrVhrbFRFFP7m7pZWBGyRh02RFgVENGoNIIRACqIiiRqJFkqhPE1DxD4DCsaw/aE8Cn2BGFKhIn1IsUZjIiAi4A+xwQDGhKckbcQUUKClRWDbvddv9s7tbpd7t9vG0zR3HmfO+ebMmTnnrEAPqALFsTHQM3RoyeyO1YBEHcZgQMi/64Bxge0GAeMHL4wDC5H3V6SyRSRMu1Gc4gLWspmCHhDB7dMhCtORfbh73jBUhdJRAvoWNl9yYPmHIm4Auo/fePYfcFCyh5/30pDbgJ4CqUbxMn4K+R8bxEzzazt5HN/6EH02A8v/5rARWLNpkA7XYxrEUg7P5FB8kMibtNAHacgpixhIDYrXUronwGRcNiC2jkbfjeOQ2Y4IiOtFFUqWadDfZzMxSKGHlinoFkgoCAPGXuBuZjpW30AvqALrkmIQvYYbeSugVCOY7AJHINxBFndfGgABT7oN+t5QDUq5Qd1j9XVg6Xzk7rwHCC2RRMWnoByO7QKC8OB/pCpaWwSs3WygfUI6Vl2QHXcQwvVCgaBVyuchzxNe6Lo4A/dNpg88SdAaHfS3WzCOLUPedac10rrVKHqCGt5kN1YgSt7ImaZOv9CiGfTog2qgQUdUSjpWNNoJ+w5lA1rgW0/lS9iNDpnWuX77HWDNYuQ2263/BiVDCVha/iHZ572ftgC5RzRzWuRZjD7oHzmB2IWS4c3w/UoQy21ASNLkXB8YJ6qwLc5OxmvIucLPVquvHkpoNfj4Ye7iZTXeNB/55XCgPsDX/IxS3Vv0pArpdFy/mMdZTRD+q03rjhDwHnKS08pnAP43yX8rJ8rQQYt4Xwji2ee0mI62iIuSzZ7R2A59Cv1oifR8vgufpSEv3QXX45YC8iTXYPMSO1mZ/rfIqFCgY2T8kqacYTFEQdvhBIS7Xmi1XdDyFyL/ZCjPXGRd1KGnWn0DWoazPBEUf1zJtIhICihwnbNbVItaF4FMUt3Lc5BTBwdKQOtR0Wl2jD8Mj9uOLxoxxwOA9bHSIqNVv3k2VlyzW3QbV2MN5ZxUcgFhaBo8HTzCs4q3bxP6xdrxzcbyq5Sp9IlEjU6mvNu47CS8BXob570meoxAtyQSFJCOVvRvceTq9CcxiECs6ClcTguykHWX86dVd1gltkx24mXu8iw/VpCrzwwTJBl/fKolNIb0a+Yg4hCGuOgLq62ho7wKmxJDeT5H4RDuJsh/RG04mTyNeKX7hmDeUc/2BDnQgZihzDGu2i3iixrNx0xa5RE11EAnK2YkPU6B7QQ6nQJzRCAHaTiPlkc98Oh28ipRPkxD25+qe0y+rGesyWjcHQMHmsXj8UHMkm+IGkoiCBmpfyYIeQM2BIFoYnuaEwhJLrSNtNpc30gfEScCA3gVYWgBcs6RP4W34pAzl/gxGlGTwqWFSnlGoG0cFPJ55b20kp7rbrTEp8LjRTdUibKJGoypBnxPM/L6KPh3WuEnpoL16J6kS8gMX1rQ1w4jUVNR8ohiGNiOAavCSaiAJ5ZCpgt0jGNiPZzKdVrSzV0lsD1+NwpTPkXRwHAyaphCovMYhb/s8KcBqlzwP7kUeoXmGBMaxplHMG8QmWzK2HQ/wpNXmHGrkkf0ZfBEFbbytnn5+pp5LMPAdFluiABDyX56vyobjDoGtDfM8U1TNbg2EuBz6B2dofUWp2FlvbmhYllapJogsIfJ0lzZ7gRSi6KRHab3W0/yh7T6AL4a7wRL5eJmWafwKM6xeDpPnksa3Iwnvjju8inOP8P5F8k6tOs6wTJCv02ed03F4hJHp1hO3SV5VrWMUz7Ca2us0uHePx9ZNxGGdmBDf96cV+jE3AyS7HjoX9lpyC8L9EMotJxQ+9nmxrGsVOz1oYdUjdLNtEReF2k2ifk98aUOB47OxkwhutS5YrCBhLY6fH8SEdJ2bI+ah+dXUy2rPvQLB8KvwUkQE+psmnalIVOMADXRN+jU2MUjusgjuhS85it8MqQV/05gXpPCJ3sR1T4YNC19Kz8tqJaJCIgkWeuoMmOOPYfgFTfkc+4iYPl2DHLgO+BG1IpUvP2Hg6rIfpbYw3LDBy0X5vV2ITK6Q+G/8FtAKxzpjjkiIBYxGWbG7yYon7yeSbzao8zESqY0Qv4y0EiBp5lanOoLset1h9rGjv4D1jcdP9KegrAAAAAASUVORK5CYII=";function iM(){const[t,e]=b.useState({}),[n,r]=b.useState("");b.useEffect(()=>{Wi(Ve,s=>{e(s)})},[]);const i=async()=>{try{const s=qf(lp,`profileImages/${localStorage.getItem("imageRef")}`),o=await GI(s);r(o)}catch{}};return localStorage.getItem("admin")=="false"&&t&&i(),d.jsxs("div",{className:`${ge.header} ${t&&localStorage.getItem("admin")==="true"?ge.adminLogoContainer:""}`,children:[d.jsxs("div",{className:`${ge.logoContainer} ${t&&localStorage.getItem("admin")==="true"?ge.adminLogoContainer:""}`,children:[d.jsx("img",{className:ge.logo,src:ZO,alt:"DeliPernil"}),d.jsx("img",{className:ge.tlogo,src:tM,alt:"DeliPernil"}),d.jsx("img",{className:ge.mlogo,src:eM,alt:"Logo"}),d.jsxs("div",{className:ge.container,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:ge.social,src:Jr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:ge.social,src:Zr,alt:"Logo"})})]})]}),d.jsx("div",{className:`${ge.line} ${t&&localStorage.getItem("admin")==="true"?ge.adminNav:""}`,children:d.jsx("div",{className:ge.nav,children:t&&localStorage.getItem("admin")==="true"?d.jsxs(d.Fragment,{children:[d.jsx(ye,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/menuadmin",children:"Menú"}),d.jsx(ye,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/historial",children:"Historial"}),d.jsx(ye,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/pedidosactuales",children:"Pedidos Actuales"}),d.jsx(ye,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/cliente",children:"Cliente"}),d.jsx(ye,{className:`${ge["nav-link"]} ${ge.adminLink}`,to:"/perfil",children:d.jsx("img",{className:ge.perfil,src:n||rM,alt:"Logo"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(ye,{className:ge["nav-link"],to:"/",children:"Inicio"}),d.jsx(ye,{className:ge["nav-link"],to:"/menu",children:"Menú"}),d.jsx(ye,{className:ge["nav-link"],to:"/nosotros",children:"Nosotros"}),d.jsx(ye,{className:ge["nav-link"],to:"/ayuda",children:"Ayuda"}),t?d.jsxs(d.Fragment,{children:[d.jsx(ye,{className:ge["nav-link"],to:"/compra",children:"Compra"}),d.jsx(ye,{className:ge["nav-link"],to:"/comentarios",children:"Comentarios"}),d.jsx(ye,{className:ge["nav-link"],to:"/perfil",children:d.jsx("img",{className:ge.perfil,src:n||nM,alt:"Logo"})})]}):d.jsx(ye,{className:`${ge["nav-link-access"]} ${ge.purpleLink}`,to:"/acceder",children:"Acceder"})]})})}),d.jsx("div",{className:`${ge.line2} ${t&&localStorage.getItem("admin")==="true"?ge.lineadmin:""}`})]})}function sM(){return d.jsxs("div",{children:[d.jsx(iM,{}),d.jsx(WR,{})]})}const oM="_slogan_16gyu_69",aM="_colored_16gyu_69",lM="_errorMessage_16gyu_101",cM="_bienvenido_16gyu_113",uM="_titulo_16gyu_151",dM="_bold_16gyu_159",hM="_container_16gyu_177",fM="_fondo_16gyu_221",pM="_parrafo_16gyu_237",mM="_combocontenido_16gyu_245",gM="_button_16gyu_261",yM="_combos_16gyu_285",_M="_zonacombos_16gyu_303",vM="_descripcioncombos_16gyu_323",wM="_buttonc_16gyu_339",EM="_carrusel_16gyu_371",IM="_slide_16gyu_379",TM="_comboImage_16gyu_409",SM="_comboDescription_16gyu_451",CM="_active_16gyu_463",AM="_origenes_16gyu_485",RM="_containerOrigenes_16gyu_495",PM="_descripcionorigenes_16gyu_519",xM="_imagenorigenes_16gyu_535",kM="_menu_16gyu_555",NM="_titulomenu_16gyu_581",bM="_cartasmenu_16gyu_611",DM="_titulocarta_16gyu_643",jM="_cartamenu_16gyu_651",LM="_containerContactos_16gyu_667",OM="_contactos_16gyu_675",MM="_redesSociales_16gyu_709",VM="_social_16gyu_721",G={slogan:oM,colored:aM,errorMessage:lM,bienvenido:cM,titulo:uM,bold:dM,container:hM,fondo:fM,parrafo:pM,combocontenido:mM,button:gM,combos:yM,zonacombos:_M,descripcioncombos:vM,buttonc:wM,carrusel:EM,slide:IM,comboImage:TM,comboDescription:SM,active:CM,"slide-content":"_slide-content_16gyu_477",origenes:AM,containerOrigenes:RM,descripcionorigenes:PM,imagenorigenes:xM,menu:kM,titulomenu:NM,cartasmenu:bM,titulocarta:DM,cartamenu:jM,containerContactos:LM,contactos:OM,redesSociales:MM,social:VM},cp="/assets/fondo1-mP0KSv87.png",jn="/assets/View-Dc0AvLut.png",Fs="/assets/Map-BrfpiiUM.png",UM="/assets/Local-oZwzVmRb.png",FM="/assets/Burger_0-rI8WCCNm.png",BM="/assets/Cachapa_0-fwixH3-B.png",zM="/assets/ClubHouse_0-DjseIGzv.png",$M="/assets/Parrilla_0-C8TdXxPy.png",HM="/assets/Cookie-BXgI8nhB.png";function qM(){const[t,e]=b.useState(0);yt();const n=[{title:"Combo 1",description:"Descripción del combo 1",image:jn},{title:"Combo 2",description:"Descripción del combo 2",image:jn},{title:"Combo 3",description:"Descripción del combo 3",image:jn},{title:"Combo 4",description:"Descripción del combo 4",image:jn},{title:"Combo 5",description:"Descripción del combo 5",image:jn},{title:"Combo 6",description:"Descripción del combo 6",image:jn}],r=()=>{e(i=>i===n.length-1?0:i+1)};return d.jsxs("div",{children:[d.jsxs("div",{className:G.slogan,children:[d.jsxs("h1",{children:["Si te gusta ",d.jsx("span",{className:G.colored,children:"recomiéndanos."})," "]}),d.jsx("h1",{children:" ¡Si no, también para que otro pase rabia! "})]}),d.jsxs("div",{className:G.bienvenido,style:{backgroundImage:`url(${cp})`},children:[d.jsx("img",{className:G.fondo,src:cp,alt:"fondo"}),d.jsxs("div",{className:G.container,children:[d.jsx("h1",{className:G.titulo,children:"Bienvenido"}),d.jsxs("h2",{children:["Conoce todo el menú y ofertas que ofrece Deli Pernil. Rica comida hecha en base al buen comer ",d.jsx("div",{className:G.bold,children:"unimetano"}),"."]}),d.jsx("h2",{className:G.parrafo,children:" Hamburguesas con carne crispy"}),d.jsx("h2",{className:G.parrafo,children:" Cachapas"}),d.jsx("h2",{className:G.parrafo,children:" Sándwich"}),d.jsx("h2",{className:G.parrafo,children:" Club House"}),d.jsx("h2",{className:G.parrafo,children:" Y mucho más"}),d.jsx(ye,{onClick:()=>{scroll(0,0)},className:G["nav-link"],to:"/menu",children:d.jsx("button",{className:G.button,children:"Ver Productos"})})]})]}),d.jsxs("div",{className:G.combos,children:[d.jsx("div",{className:G.zonacombos,children:d.jsx("div",{className:G.carrusel,children:n.map((i,s)=>d.jsx("div",{className:`${G.slide} ${s===t?G.active:""}`,children:d.jsxs("div",{className:G.combocontenido,children:[d.jsx("div",{className:G.imagencombobody,children:d.jsx("img",{className:G.comboImage,src:i.image,alt:i.title})}),d.jsxs("div",{className:G.comboDescription,children:[d.jsx("h2",{className:G.comboTitle,children:i.title}),d.jsx("p",{children:i.description}),d.jsx("button",{className:G.button,children:"Comprar"})]})]})},s))})}),d.jsx("button",{id:"nextBtn",className:G.buttonc,onClick:r,children:">"}),d.jsxs("div",{className:G.descripcioncombos,children:[d.jsx("h1",{className:G.colored,children:"COMBOS"}),d.jsxs("h2",{children:["Deléitate con nuestros irresistibles combos a los ",d.jsx("div",{className:G.colored,children:"mejores precios,"})," donde cada bocado es un viaje de sabores."]}),d.jsx("button",{className:G.button,children:"Explorar Combos"})]})]}),d.jsx("div",{className:G.origenes,children:d.jsxs("div",{className:G.containerOrigenes,children:[d.jsxs("div",{className:G.descripcionorigenes,children:[d.jsx("h1",{className:G.titulo,children:"Nuestros Orígenes"}),d.jsx("h2",{children:"Cómo llegamos aquí"}),d.jsx("h3",{children:"Deli Pernil"}),d.jsx(ye,{onClick:()=>{scroll(0,0)},className:G["nav-link"],to:"/nosotros",children:d.jsx("button",{className:G.button,children:"Conócenos"})})]}),d.jsx("div",{className:G.imagenorigenes,children:d.jsx("img",{src:UM,alt:"local_0"})})]})}),d.jsxs("div",{className:G.menu,children:[d.jsx("div",{className:G.titulomenu,children:d.jsxs("h1",{children:["Nuestro ",d.jsx(ye,{onClick:()=>{scroll(0,0)},className:G["nav-link"],to:"/menu",children:d.jsx("span",{className:G.colored,children:"Menú"})})]})}),d.jsxs("div",{className:G.cartasmenu,children:[d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:FM,alt:"burger"}),d.jsx("h1",{className:G.titulocarta,children:"Hamburguesa"})]}),d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:BM,alt:"cachapa"}),d.jsx("h1",{className:G.titulocarta,children:"Cachapas"})]}),d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:zM,alt:"ch"}),d.jsx("h1",{className:G.titulocarta,children:"Club House"})]}),d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:$M,alt:"parrilla"}),d.jsx("h1",{className:G.titulocarta,children:"Parrillas"})]}),d.jsxs("div",{className:G.cartamenu,children:[d.jsx("img",{src:HM,alt:"cookie"}),d.jsx("h1",{className:G.titulocarta,children:"Más"})]})]})]}),d.jsx("div",{className:G.contactos,style:{backgroundImage:`url(${Fs})`},children:d.jsxs("div",{className:G.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:G.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:G.social,src:Jr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:G.social,src:Zr,alt:"Logo"})})]})]})})]})}const WM="_colored_hz9iu_69",GM="_pageContainer_hz9iu_77",KM="_botonesMenu_hz9iu_77",QM="_botonMenu_hz9iu_85",YM="_tituloboton_hz9iu_141",XM="_promos_hz9iu_175",JM="_zonapromos_hz9iu_197",ZM="_descripcioncombos_hz9iu_217",eV="_buttonc1_hz9iu_225",tV="_buttonc2_hz9iu_259",nV="_carrusel_hz9iu_299",rV="_menut_hz9iu_311",iV="_slide_hz9iu_323",sV="_combocontenido_hz9iu_341",oV="_comboImage_hz9iu_357",aV="_comboDescription_hz9iu_387",lV="_button_hz9iu_225",cV="_active_hz9iu_431",uV="_menu_hz9iu_311",dV="_promo_hz9iu_175",hV="_titulomenu_hz9iu_515",fV="_catalogo_hz9iu_523",pV="_cartamenu_hz9iu_541",mV="_contactos_hz9iu_583",gV="_containerContactos_hz9iu_595",yV="_redesSociales_hz9iu_621",_V="_social_hz9iu_633",Ae={colored:WM,pageContainer:GM,botonesMenu:KM,botonMenu:QM,tituloboton:YM,promos:XM,zonapromos:JM,descripcioncombos:ZM,buttonc1:eV,buttonc2:tV,carrusel:nV,menut:rV,slide:iV,combocontenido:sV,comboImage:oV,comboDescription:aV,button:lV,active:cV,"slide-content":"_slide-content_hz9iu_445",menu:uV,promo:dV,titulomenu:hV,catalogo:fV,cartamenu:pV,contactos:mV,containerContactos:gV,redesSociales:yV,social:_V};function vV(){const[t,e]=b.useState(0),[n,r]=b.useState([]);b.useEffect(()=>{const u=ms(tt(ue,"Categoria"),f=>{const g=[];f.forEach(m=>{g.push({id:m.id,data:m.data()})}),r(g)});return()=>u()},[]);const i=()=>n.filter(f=>f.data.disponible).map(f=>d.jsxs(ye,{onClick:()=>{scroll(0,0)},to:{pathname:`/menu/platillos/${f.id}`,state:{categoriaId:f.id}},className:Ae.cartamenu,children:[d.jsx("h2",{className:Ae.titulocarta,children:f.data.Categoria}),d.jsxs("p",{children:["Disponible: ",f.data.disponible?"Sí":"No"]})]},f.id)),s=()=>n.filter(f=>f.data.disponible).map(f=>d.jsx(ye,{onClick:()=>{scroll(0,0)},to:{pathname:`/menu/platillos/${f.id}`,state:{categoriaId:f.id}},className:Ae.botonMenu,children:d.jsx("h2",{className:Ae.tituloboton,children:f.data.Categoria})},f.id)),o=[{title:"Combo 1",description:"Descripción del combo 1",image:jn},{title:"Combo 2",description:"Descripción del combo 2",image:jn},{title:"Combo 3",description:"Descripción del combo 3",image:jn},{title:"Combo 4",description:"Descripción del combo 4",image:jn},{title:"Combo 5",description:"Descripción del combo 5",image:jn},{title:"Combo 6",description:"Descripción del combo 6",image:jn}],l=()=>{e(u=>u===o.length-1?0:u+1)},c=()=>{e(u=>u===0?o.length-1:u-1)};return d.jsxs("div",{className:Ae.pageContainer,children:[d.jsx("div",{className:Ae.botonesMenu,children:s()}),d.jsxs("div",{className:Ae.menu,children:[d.jsx("h1",{className:Ae.menut,children:"PROMOS"}),d.jsx("div",{className:Ae.promo,children:d.jsxs("div",{className:Ae.promos,children:[d.jsx("button",{id:"nextBtn",className:Ae.buttonc1,onClick:c,children:"<"}),d.jsx("div",{className:Ae.zonapromos,children:d.jsx("div",{className:Ae.carrusel,children:o.map((u,f)=>d.jsx("div",{className:`${Ae.slide} ${f===t?Ae.active:""}`,children:d.jsxs("div",{className:Ae.combocontenido,children:[d.jsx("div",{className:Ae.imagencombobody,children:d.jsx("img",{className:Ae.comboImage,src:u.image,alt:u.title})}),d.jsxs("div",{className:Ae.comboDescription,children:[d.jsx("h2",{className:Ae.comboTitle,children:u.title}),d.jsx("p",{children:u.description}),d.jsx(ye,{to:"/menu",children:d.jsx("button",{className:Ae.button,children:"Comprar"})})]})]})},f))})}),d.jsx("button",{id:"nextBtn",className:Ae.buttonc2,onClick:l,children:">"})]})}),d.jsx("h1",{className:Ae.menut,children:"MENU"}),d.jsx("div",{className:Ae.catalogo,children:i()})]}),d.jsx("div",{className:Ae.contactos,style:{backgroundImage:`url(${Fs})`},children:d.jsxs("div",{className:Ae.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:Ae.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:Ae.social,src:Jr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:Ae.social,src:Zr,alt:"Logo"})})]})]})})]})}const wV="_slogan_n2kxx_75",EV="_colored_n2kxx_91",IV="_Inicio_n2kxx_105",TV="_Inicio2_n2kxx_141",SV="_Inicio3_n2kxx_179",CV="_g_n2kxx_187",AV="_Inicio4_n2kxx_231",RV="_Inicio5_n2kxx_273",PV="_MV_n2kxx_329",en={slogan:wV,colored:EV,Inicio:IV,Inicio2:TV,Inicio3:SV,g:CV,Inicio4:AV,Inicio5:RV,MV:PV},xV="/assets/Misi%C3%B3n-QXSqyuPB.png",kV="/assets/Visi%C3%B3n-CbMO8cPF.png",NV="/assets/Nosotros-DJCJ6AlO.png",bV="/assets/Gerente-D2qtAV2H.png",DV="/assets/Represent-CW7KGewH.png",jV="/assets/Equipo1-EzvGAfov.png",LV="/assets/ST-STOIgwv5.png",OV="/assets/ST1-Dlk6zio7.png",MV="/assets/ST3-1COu90Y8.png",VV="/assets/ST4-B21zYSse.png",UV="/assets/ST5-DTN53eEc.png",FV="/assets/ST6-h43mSZ-5.png",BV="/assets/ST7-CSmthD-B.png",zV="/assets/ST8-D9abU7aw.png";function $V(){return d.jsxs("div",{children:[d.jsx("div",{className:G.slogan,children:d.jsxs("h1",{children:["Historia ",d.jsx("span",{className:en.colored,children:"conmovedora"})," de nuestro local"]})}),d.jsxs("section",{className:en.Inicio,children:[d.jsx("div",{children:d.jsx("img",{src:NV,alt:"nosotros"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"¿Quiénes Somos?"}),d.jsx("h3",{children:"Local de comida rápida en la UNIMET especializado en hamburguesas, sándwiches y carnes"}),d.jsx("h3",{children:"Desde nuestro primer día de operaciones, Deli Pernil ha ofrecido al público una gran variedad de platillos a precios incomparables. Nuestra tienda virtual es sinónimo de calidad, por lo que te garantizamos contar con un menú que sea perfectamente adaptable al cliente y a cualquier presupuesto. Echa un vistazo y empieza a comprar hoy mismo."})]})]}),d.jsxs("section",{className:en.Inicio2,children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Conoce al Equipo"}),d.jsx("h3",{children:"Lo que hace que Deli Pernil brindemos un excelente servicio, es nuestro equipo de profesionales. En esta sección podrás conocer un poco más sobre las personas que se encargan de que tu experiencia sea la mejor."})]}),d.jsx("div",{children:d.jsx("img",{src:jV,alt:"equipo"})})]}),d.jsxs("section",{className:en.Inicio3,children:[d.jsxs("div",{children:[d.jsx("img",{src:bV,alt:"ger"}),d.jsx("h2",{children:"C. Contreras"}),d.jsx("h3",{className:en.g,children:"Gerente"}),d.jsx("h3",{children:"Este miembro del equipo aporta su experiencia profesional y alegría al trabajo. Es difícil imaginar dónde estaríamos sin nuestro(a) Gerente"})]}),d.jsxs("div",{children:[d.jsx("img",{src:DV,alt:"rep"}),d.jsx("h2",{children:"A. Cifuentes"}),d.jsx("h3",{className:en.g,children:"Representante de servicio al cliente"}),d.jsx("h3",{children:"Tenemos mucha suerte al contar con un excelente Representante de servicio al cliente. No cabe duda que tomamos la mejor decisión cuando incorporamos a A. Cifuentes a nuestro equipo de trabajo."})]})]}),d.jsxs("section",{className:en.Inicio4,children:[d.jsx("div",{children:d.jsx("img",{src:OV,alt:"st1"})}),d.jsx("div",{children:d.jsx("h2",{children:"Soporte Técnico"})}),d.jsx("div",{children:d.jsx("img",{src:LV,alt:"st"})})]}),d.jsxs("section",{className:en.Inicio5,children:[d.jsxs("div",{children:[d.jsx("img",{src:UV,alt:"st5"}),d.jsx("h2",{children:"Diego Cáceres"}),d.jsx("h3",{className:en.g,children:"Gerente"})]}),d.jsxs("div",{children:[d.jsx("img",{src:VV,alt:"st4"}),d.jsx("h2",{children:"Giselle Esclasans"}),d.jsx("h3",{className:en.g,children:"Líder de Proyecto"})]}),d.jsxs("div",{children:[d.jsx("img",{src:BV,alt:"st7"}),d.jsx("h2",{children:"Diego Goncalves"}),d.jsx("h3",{className:en.g,children:"Levantamiento de Información"})]}),d.jsxs("div",{children:[d.jsx("img",{src:MV,alt:"st3"}),d.jsx("h2",{children:"Sebastian Hernandez"}),d.jsx("h3",{className:en.g,children:"Seguridad"})]}),d.jsxs("div",{children:[d.jsx("img",{src:zV,alt:"st8"}),d.jsx("h2",{children:"Victor Martinez "}),d.jsx("h3",{className:en.g,children:"Mantenimiento"})]}),d.jsxs("div",{children:[d.jsx("img",{src:FV,alt:"st6"}),d.jsx("h2",{children:"Virginia Torrealba"}),d.jsx("h3",{className:en.g,children:"Diseño"})]})]}),d.jsxs("section",{className:en.MV,children:[d.jsx("div",{children:d.jsx("img",{src:xV,alt:"mision"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"Misión"}),d.jsx("h3",{children:"Crecer como empresa y día a día, ser capaces de innovar en los platos que servimos sin disminuir la calidad que nos caracteriza desde hace años."})]}),d.jsx("div",{children:d.jsx("img",{src:kV,alt:"vision"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"Visión"}),d.jsx("h3",{children:"Ofrecer a los miembros de la universidad metropolitana una alternativa de comida rápida, de calidad y de un precio accesible para que todos puedan disfrutar de nuestras delicias."})]})]}),d.jsx("div",{className:G.contactos,style:{backgroundImage:`url(${Fs})`},children:d.jsxs("div",{className:G.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:G.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:G.social,src:Jr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:G.social,src:Zr,alt:"Logo"})})]})]})})]})}const HV="_colored_19fzp_69",qV="_slogan_19fzp_77",WV="_formularioayuda_19fzp_107",GV="_formularioInfo_19fzp_119",KV="_formulario1_19fzp_133",QV="_formulario2_19fzp_141",YV="_inputting_19fzp_151",XV="_button_19fzp_161",JV="_contactos_19fzp_191",ZV="_containerContactos_19fzp_201",eU="_redesSociales_19fzp_223",tU="_social_19fzp_235",xn={colored:HV,slogan:qV,formularioayuda:WV,formularioInfo:GV,formulario1:KV,formulario2:QV,inputting:YV,button:XV,contactos:JV,containerContactos:ZV,redesSociales:eU,social:tU};function nU(){return d.jsxs("div",{children:[d.jsx("div",{className:xn.slogan,children:d.jsx("h1",{children:"Contacta a nuestro equipo de ayuda"})}),d.jsxs("div",{className:xn.formularioayuda,children:[d.jsx("h2",{children:"¿Cómo podemos ayudarte?"}),d.jsxs("form",{action:"https://formsubmit.co/4d0cdf48d1eea5fccba12bf350e720ce",method:"POST",children:[d.jsxs("div",{className:xn.formularioInfo,children:[d.jsxs("div",{className:xn.formulario1,children:[d.jsx("h3",{children:"Nombre"}),d.jsx("input",{type:"text",name:"name"}),d.jsx("h3",{children:"Apellido"}),d.jsx("input",{type:"text",name:"lastname"})]}),d.jsxs("div",{className:xn.formulario2,children:[d.jsx("h3",{children:"Correo"}),d.jsx("input",{type:"text",name:"email"}),d.jsx("h3",{children:"Teléfono"}),d.jsx("input",{type:"text",name:"subject"})]})]}),d.jsx("h3",{children:"Cuéntanos tus dudas o inquietudes"}),d.jsx("input",{className:xn.inputting,type:"text",name:"subject"}),d.jsx("input",{type:"submit",value:"Contáctanos",className:xn.button}),d.jsx("input",{type:"hidden",name:"_captcha",value:"false"})]})]}),d.jsx("div",{className:xn.contactos,style:{backgroundImage:`url(${Fs})`},children:d.jsxs("div",{className:xn.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsx("h2",{children:d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:"Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})}),d.jsxs("h2",{children:[d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsx("h2",{children:d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})}),d.jsxs("div",{className:xn.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:xn.social,src:Jr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:xn.social,src:Zr,alt:"Logo"})})]})]})})]})}var Nt=[];for(var Oh=0;Oh<256;++Oh)Nt.push((Oh+256).toString(16).slice(1));function rU(t,e=0){return(Nt[t[e+0]]+Nt[t[e+1]]+Nt[t[e+2]]+Nt[t[e+3]]+"-"+Nt[t[e+4]]+Nt[t[e+5]]+"-"+Nt[t[e+6]]+Nt[t[e+7]]+"-"+Nt[t[e+8]]+Nt[t[e+9]]+"-"+Nt[t[e+10]]+Nt[t[e+11]]+Nt[t[e+12]]+Nt[t[e+13]]+Nt[t[e+14]]+Nt[t[e+15]]).toLowerCase()}var jc,iU=new Uint8Array(16);function sU(){if(!jc&&(jc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jc(iU)}var oU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const rw={randomUUID:oU};function Ns(t,e,n){if(rw.randomUUID&&!e&&!t)return rw.randomUUID();t=t||{};var r=t.random||(t.rng||sU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,rU(r)}const aU="_pageContainer_jaayv_1",lU="_boxContainer_jaayv_19",cU="_titleContainer_jaayv_37",uU="_container_jaayv_47",dU="_column_jaayv_55",hU="_center_jaayv_89",fU="_loginButton_jaayv_105",pU="_buttonDisable_jaayv_165",mU="_imageButtonsContainer_jaayv_189",gU="_imageButton_jaayv_189",yU="_errorLabel_jaayv_229",_n={pageContainer:aU,boxContainer:lU,titleContainer:cU,container:uU,column:dU,center:hU,loginButton:fU,buttonDisable:pU,imageButtonsContainer:mU,imageButton:gU,errorLabel:yU},F1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABa1BMVEX////qQzU0qFNChfT7vAXg6P0ufPM4gPSdu/j7ugCxyPrqPi/qQTMopUsupk9AhPXpOSnpNCLpLxvpOir739385OIdo0XpNSTrSDr7vgD7twD98O/rTD5Dg/n5/foqpUxSs2vympX2trLtXlPpOja33cCNypxeuHUzqUo/rVzh8eX609D4w7/1qqX/+vrwg3vucGfveXHxjIXtZVv619TylY78xTz8zFj+89f81Hf95Kr92IT93Zj++ef96b/80Gj7xCz+9N7946JBhuzF5M3N59OTzaGr2Lbu+PE2pGtzwIb3vbn0pJ7sV0r3pQ3uZz/yhkD2oS/5syXwd0X1ljX4qy7sWDz7xkfzjDv7zozw9P5Vlubd7PCxzee1zPaJtOpmoeFHjePA2Off1YyPs0der1KKsPXSuyyvuEGBs0zIujaftkGSuuVarlO/uTbKuBo/jdQ8lrE5nYw8kr86mps1pGc+j8w6mKQ3oICcZUs3AAALc0lEQVR4nO2c+3fixhWAZZm1q9UDSWAJFiqBCWAw2F5Y7yvZxK0NOJhtHk2bNutt7G27222SNk2ff34lgXkIzTAaaUYSh++HnJw9Zy19njv33nloGWbDhg0bNmzYsCEUjgqFvcPWfns0KpdPy+XRqL3fOtwrFI6ifrEQKOxdjTonFUFVFUWXbTLOf3VFUdVc5WFn1NorRP2SuBQetY+7OcsrwwvClheCwGdkRSl2O/vZpGkWWqfdomK7eaq5RPmMrhdP2o8SY5ltd3M6mty8pqznTq4SIPmoXNR1n3YzS12utGMtmS1vqTJg0iFLqpX9mObYo6uKpRfA7g5L8vgwaptlsqeCwoeg5yBkrIGMV7QePtQzYQzfDF7Jlfei1ppy1VUwcwsMQRY68XBsVcILT5djJnMcvWOrohPymzh2op2P2S6p8Zs56qPo/AodlbCf46hvtSIS3Ncz5P0cR/UkiumYPVHCz58geHlEu885GmUoBOgMQa88oiqYrej0BnAML5cpCrZlqgM4xhpGWrOxQHMGzsPrV1QED3lKKXQZQT2mkHDaEQ3gGJl4pB511CgFrUgVyJb/QleP1G/LTjhtgoJ7xcim4Jyi0iE2GQ+FCIrEMrxCai62QtmFCQzPkxLcjzSJTuEFYoIRJ9EJfI6UYDsmgsUsIcG4jODaC+ZICbbWPckcUl8MeiIQKxN7gc5aQoNcHSwU49HJbJESPOrGoBclmUWZ48hXEzYEBdtq1HI2BAUPY1En+C1igoUQT80Egeczzm2aDA+6fwL4m8SyKMOchJJlBF5WVFV+2T22L0SVy53jk5e6quoy2u+PXJmwd50Cywm8rvMno1bWvS4/enRV7soI9zbIdTIMkw245BUEWc4dX8FeMLt/sgU/ICe3XLJ+y5VApV7I6C/LCIcNR4fHRfApOcEsyjCjIJWQV3Id5LOUQuuh7B0vRAWzAW5X8Irf2yJ7pzmP/p7ccsmmix2jvNpt+d/wK7SLbkeSScbeeML0E5QK5o2mo7YuL/wkgmXC+o1irgkFOcgB0cLNAJJ10OIYr9bzymmw587OXsktl8YPwmq4BTmEs+g27wwj0SzKYKYZIZyD6GzXGkbSgi2cNJMphnRn8uhUIS3I4HQzSje8+1ktcsulyQP8dzOCGjDFLEL6MNv/EAoqyXPL0Hn+q+IHPgX1qK6e4fE4n/rMl6KQSZbgx1wqn//8A/SeRsjE8OI5jCdcKpXKf1FEVRSUZI0g89QWtBS/RIxUQU2YIPNsbJjKp9AiNVlZ1MJI3ZHPf4GgGLTVps/zB6mZ45cry0amG/UL++Yxl5pTzP8arigU4/VpCwJP54bQcfwqB4lUQU9YnbD4kEu5FH/zW/Aw6jTv7YZE3m2Yyj8ARipfifp1/eMO0vFk/Mo7pwoK3dvlobAUpJNI9Wxw5MQVCsYrSCeR6tHgCHLUb4vBU29BO1J/txSpKp175eHyEcjQbsVdZSOJacZV7t2KrlZcTV4pZJgXYL+UuxXnk9euMc7aF+441+AkbVE45tkKQytS7xocvhLTj+bhfL3K0IrUSYOj7Ef9sji8AFTDBcVxgyPkEremsAFWQ1ekWovGTCfql8UCUg3dkaonsCO1+ATN0G5wElntGWN1opk6/h77Kd/cI8s3kGejJJoJ3FNsw/s7ZHkFefYvPNaGAMEUtiBzf3ebKOeQZz9HH8In8TXcuQY/23v162n4PL6Gu6/Bz17Zs80M8achecNvwc9+gm6IL0jcMA1ONcYZqiH3dZwNwanmRR55CD+KseH2jgE0RC8WARINBUNgMkUvhw8CJBoKhm9Aj/4Y3RAYB3Ew3P0D6NE+Cn4AQQqGwHLxS+RUehZvwxvQoxFXhwGLBXlDcEFEN/wk3oa3oEcjt6Xcs3gbAks+uuGHa28YpKWhYLi9MUy84WYeIhgmNZeufz1cm54GaLgufSnYcF3WFuC+dG3WhzegR6/LGh+8PlyXfZrd74GGa7LXBt7FWJP9Uti2/nrseUP22tbk3AJ2+LQeZ0+QPe81OT/cBi4P1+UMGNy0UTvHJ31+eAN+to+7GA/+GF/D+5CHo96n4VJ/KuEb7uzikEY2hJxyo64QubM/s2IP1/Dez7B4i6oIu6ng+SmCh+A7lmXNGq4hJq9Rg3sXtvBBSTUc9x1r07ikJufwFtEQlkoZlPul3Nl7R5DVqpTUxhi3iFGafgv9OSv7Nu5dYyzISqUgy2DfXO+gBilwZeGw6p439xd2inZBSc4BeRpC+m4b+F19LvV+JshKdUpyDq9QUynsWpsN7HsL7t0P7Dw0BxE5SNOvVkweSEXk/sYuIpWoyDl8j1wrIHe+HIA3va02hnVDMZ2eI9d7+DRkgN+ucWc/LAmyrEhDzuYNcpCew64IO3ivgrm/evhZhrQam1eoQbpyGno3blzqO09BK06xu1NfXCMvR8A7iTOWw9RutAFQSjY36Ib3Vv+0pTCdtTFecdon78e8QV45pc8RGi13mHKgCJ0oUohT5Fm4ulY4LBR9Lg+M0Emckl9jIDdsluHKWmEz/+9iOEtBOCbp5s1AroVoQTr/b5tw8402EI1wyUBPM9BNqHnullBc/v1qP1txQFLwNWqxRw7SaefmbrQhigRb8Os0coyuWt7P4ZzQLDXakSgiL+2dIUQo92OsdTCXX260wUgmIUUDvVBsr9hlW+Sxd6NNX9FHloF+SrLE879D2hhvRSKB+q2PLIOycJqjJPk0JJJR/Qmi5xmbqujbMPS6aNz4Etzege3mL4MxiKxWD7OB85dkkPuZKReaf0PWbITXhl/f+jyiQi8VE+oYg8hKoS2mXvso9FhDyDBNnEG0FlOlMIbRuEE/TMMdQoYZYiQbexhDSDjVc385BmsIGeYSz9AaRjHYJmOzrrE//pz8EDLMAC9OLbQSfvm/rGkSKx38w59i+hbrmAgr2ThIWv0C65HNmmg6P+HgJ/R17/aKk23I40xcQ9uxVPVbHY3eUJxOjYNPb9GH0U9HukAfdyqOHRs1P3m12S9p879Sk/0nsqKvjnQeA6ezmX9JsdRHkjR6/ZIouh4mHfwLsSii7bB50gwyiM5bimJjWG1CH9KrDhtLeg4H/ztHGUacSjEFP5/OMEVNqverzaXXMJoXg1pJ0zztxooSStnAjlGHeoBsM4ckapZJoz6s9fuDfr9WG9Ybzh+Z8Hlgl41VkYq6wQbAkIJNxcX3lUxTtDFNCfXnWmUDPozpc/S9C096IcRpIA7+DY9U1B1EMGFMxUDAy0aAPDoFswUPD1jZ2MVr1xYxQso2ATj4FDAZ09sBJ+GYy0aI2QYPU/qPp6LPvRkgzTATKh7SwX89InUHZ83kyUXUU5H1bHACVsIFqlEnVNajbOyuvneRMEXXuhhz1Qsk8rJoc/DT9nQyBu5lYqo4XRentwP3MvFUNNlx2UinwxeMx1yclA0ygvZ5TeR1kR2XDUKC1kKDjYUi+yMpQau7aUTeo9oHQPBtkWBcliJvb8QS2VtYxjDifKMNiX8FMdCinIwajcuQPSmyyShRulpu1COKVJFojllgEEllpDAFZzTp51RTInpDcAmjv2IzN2y0OrUIvaNJczaaIt0BnDAQaYVqBAM4xjmSJo8o0f2acwErVEk7mlqN6recS1yUiFYOSRxS/uDY05HYOJpiVBPQRZVMrJrikM53VSj0hlrIeVUSzWE8xu+OZo0NcSAlrdGPfv65MaolyJm8Hz1Rq0dYH6A0+42gkpZeYxC/4ZvDkvS+O4KmJzb68Zp9njQHdda/pWXH1gcJ0Btz2avVGysvk0zlTCs06/1erIPTg8veYGhp2p4gUcl209j6cNBMmt0dxmWz2q8NS5Jm3w+ax/4DtjSs9S+al9H2naFgWKa9i8Fg0B9j/d9FzzJbA7UNGzZs2LBhQzz4P7gp2NndMM1XAAAAAElFTkSuQmCC",B1="/assets/facebook-BJ4qWEPU.png";function _U(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(0),[f,g]=b.useState(""),[m,_]=b.useState(!1),[S,C]=b.useState(null),[k,E]=b.useState({}),I=yt();b.useEffect(()=>{Wi(Ve,V=>{E(V)})},[]);const A=async()=>{_(!0);try{if(!t||!n||!i||!o||!f||c===0||!c)throw new Error("Rellene las casillas");if(!t.includes("@correo.unimet.edu.ve",-21)&&!t.includes("@unimet.edu.ve",-14))throw new Error("Dominio de correo incorrecto");if(n.length<8)throw new Error("Contraseña menor a 8 caractéres");if(c.length<11||c.length>13)throw new Error("Teléfono inválido");const V=await Bk(Ve,t,n),y=Se(ue,"Usuario",t),v={nombreCompleto:i+" "+o,email:t,facultad:f,telefono:c,admin:!1,pedidos:[],imageRef:Ns()};await Kr(y,v);const T=await bi(y);localStorage.setItem("admin",T.data().admin),localStorage.setItem("email",T.data().email),localStorage.setItem("nombreCompleto",T.data().nombreCompleto),localStorage.setItem("telefono",T.data().telefono),localStorage.setItem("facultad",T.data().facultad),localStorage.setItem("imageRef",T.data().imageRef),C(null),_(!1),localStorage.getItem("admin")==="true"?I("/menuadmin"):I("/"),scroll(0,0),location.reload()}catch(V){console.log(V.message),C(V.message),_(!1)}},L=async()=>{_(!0),Gu.setCustomParameters({prompt:"select_account"});try{const V=await Ou(Ve,Gu),y=Se(ue,"Usuario",Ve.currentUser.email);let v=await bi(y);if(!v.data()){const T={nombreCompleto:Ve.currentUser.displayName,email:Ve.currentUser.email,facultad:"por definir",telefono:Ve.currentUser.phoneNumber,admin:!1,pedidos:[],imageRef:Ns()};await Kr(y,T)}v=await bi(y),localStorage.setItem("admin",v.data().admin),localStorage.setItem("email",v.data().email),localStorage.setItem("nombreCompleto",v.data().nombreCompleto),localStorage.setItem("telefono",v.data().telefono),localStorage.setItem("facultad",v.data().facultad),localStorage.setItem("imageRef",v.data().imageRef),C(null),_(!1),localStorage.getItem("admin")==="true"?I("/menuadmin"):I("/"),scroll(0,0),location.reload()}catch(V){console.log(V.message),C(V.message),_(!1)}},F=async()=>{_(!0);try{await Ou(Ve,U1),C(null),_(!1),localStorage.getItem("admin")==="true"?I("/menuadmin"):I("/")}catch(V){console.log(V.message),C(V.message),_(!1)}};return d.jsx("div",{className:_n.pageContainer,children:k?I("/"):d.jsxs("div",{className:_n.boxContainer,children:[d.jsx("div",{className:_n.titleContainer,children:d.jsx("h2",{children:"Registrarse"})}),d.jsxs("div",{className:_n.container,children:[d.jsxs("div",{className:_n.column,children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",onChange:V=>{s(V.target.value)}}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",onChange:V=>{l(V.target.value)}}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{type:"text",placeholder:"Facultad",onChange:V=>{g(V.target.value)}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{type:"text",placeholder:"Teléfono (XXXX-XXX-XXXX)",onChange:V=>{u(V.target.value)}}),d.jsx("button",{className:m?_n.buttonDisable:_n.button,onClick:A,children:"Registrarse"}),d.jsx("p",{className:"errorSignup",children:S})]}),d.jsxs("div",{className:_n.column,children:[d.jsx("h2",{children:"Correo"}),d.jsx("input",{type:"email",placeholder:"Correo electrónico",onChange:V=>{e(V.target.value)}}),d.jsx("h2",{children:"Contraseña"}),d.jsx("input",{type:"password",placeholder:"Contraseña",onChange:V=>{r(V.target.value)}}),d.jsxs("div",{className:_n.center,children:[d.jsx("h3",{children:"¿Ya estás registrado?"}),d.jsx(ye,{to:"/login",className:_n.loginButton,children:"Iniciar Sesion"}),d.jsxs("div",{className:_n.imageButtonsContainer,children:[d.jsx("button",{className:_n.imageButton,onClick:()=>L(),children:d.jsx("img",{src:F1,alt:"google"})}),d.jsx("button",{className:_n.imageButton,onClick:()=>F(),children:d.jsx("img",{src:B1,alt:"facebook"})})]})]})]})]})]})})}const vU="_pageContainer_1v1gn_1",wU="_boxContainer_1v1gn_17",EU="_titleContainer_1v1gn_39",IU="_container_1v1gn_51",TU="_center_1v1gn_63",SU="_loginButton_1v1gn_79",CU="_buttonDisable_1v1gn_139",AU="_imageButtonsContainer_1v1gn_163",RU="_imageButton_1v1gn_163",PU="_errorLabel_1v1gn_201",Rr={pageContainer:vU,boxContainer:wU,titleContainer:EU,container:IU,center:TU,loginButton:SU,buttonDisable:CU,imageButtonsContainer:AU,imageButton:RU,errorLabel:PU};function xU(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState({}),f=yt();b.useEffect(()=>{Wi(Ve,S=>{u(S)})},[]);const g=async()=>{s(!0);try{if(!t||!n)throw new Error("Rellene las casillas");if(n.length<8)throw new Error("Contraseña menor a 8 caractéres");const S=await zk(Ve,t,n),C=Se(ue,"Usuario",Ve.currentUser.email),k=await bi(C);localStorage.setItem("admin",k.data().admin),localStorage.setItem("email",k.data().email),localStorage.setItem("nombreCompleto",k.data().nombreCompleto),localStorage.setItem("telefono",k.data().telefono),localStorage.setItem("facultad",k.data().facultad),localStorage.setItem("imageRef",k.data().imageRef),l(null),s(!1),localStorage.getItem("admin")==="true"?f("/menuadmin"):f("/"),scroll(0,0),location.reload()}catch(S){console.log(S.message),l(S.message),s(!1)}},m=async()=>{s(!0),Gu.setCustomParameters({prompt:"select_account"});try{const S=await Ou(Ve,Gu),C=Se(ue,"Usuario",Ve.currentUser.email);let k=await bi(C);if(!k.data()){const E={nombreCompleto:Ve.currentUser.displayName,email:Ve.currentUser.email,facultad:"por definir",telefono:Ve.currentUser.phoneNumber,admin:!1,pedidos:[],imageRef:Ns()};await Kr(C,E)}k=await bi(C),localStorage.setItem("admin",k.data().admin),localStorage.setItem("email",k.data().email),localStorage.setItem("nombreCompleto",k.data().nombreCompleto),localStorage.setItem("telefono",k.data().telefono),localStorage.setItem("facultad",k.data().facultad),localStorage.setItem("imageRef",k.data().imageRef),l(null),s(!1),localStorage.getItem("admin")==="true"?f("/menuadmin"):f("/"),scroll(0,0),location.reload()}catch(S){console.log(S.message),l(S.message),s(!1)}},_=async()=>{s(!0);try{await Ou(Ve,U1),l(null),s(!1),localStorage.getItem("admin")==="true"?f("/menuadmin"):f("/")}catch(S){console.log(S.message),l(S.message),s(!1)}};return d.jsx("div",{className:Rr.pageContainer,children:d.jsxs("div",{className:Rr.boxContainer,children:[d.jsx("div",{className:Rr.titleContainer,children:d.jsx("h2",{children:"Iniciar Sesión"})}),d.jsx("h2",{children:"Correo"}),d.jsx("input",{type:"email",placeholder:"Correo electrónico",onChange:S=>{e(S.target.value)}}),d.jsx("h2",{children:"Contraseña"}),d.jsx("input",{type:"password",placeholder:"Contraseña",onChange:S=>{r(S.target.value)}}),d.jsxs("div",{className:Rr.center,children:[d.jsxs("div",{className:Rr.imageButtonsContainer,children:[d.jsx("button",{className:Rr.imageButton,onClick:()=>m(),children:d.jsx("img",{src:F1,alt:"google"})}),d.jsx("button",{className:Rr.imageButton,onClick:()=>_(),children:d.jsx("img",{src:B1,alt:"facebook"})})]}),d.jsx("button",{className:i?Rr.buttonDisable:Rr.button,onClick:g,children:"Iniciar sesión"}),d.jsx("p",{className:"errorSignin",children:o})]})]})})}function kU(){return d.jsxs("div",{children:[d.jsx("div",{className:G.slogan,children:d.jsxs("h1",{children:["La página no se ha ",d.jsx("span",{className:G.colored,children:"encontrado"})," o no está disponible"]})}),d.jsxs("div",{className:G.errorMessage,children:[d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("h1",{children:"Intente ingresar dentro de unos momentos o acceda a otra sección del sistema"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx("div",{className:G.contactos,style:{backgroundImage:`url(${Fs})`},children:d.jsxs("div",{className:G.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsx("h2",{children:"Caracas"}),d.jsx("h2",{children:"delipernil"}),d.jsx("h2",{children:"0424"}),d.jsxs("div",{className:G.redesSociales,children:[d.jsx("img",{className:G.social,src:Jr,alt:"Logo"}),d.jsx("img",{className:G.social,src:Zr,alt:"Logo"})]})]})})]})}const NU="_pageContainer_14l4e_1",bU="_boxContainer_14l4e_17",DU="_titleContainer_14l4e_37",jU="_container_14l4e_47",LU="_loginButton_14l4e_59",OU="_errorLabel_14l4e_101",MU="_perfil_14l4e_113",VU="_perfil2_14l4e_131",vt={pageContainer:NU,boxContainer:bU,titleContainer:DU,container:jU,loginButton:LU,errorLabel:OU,perfil:MU,perfil2:VU};function UU(){const t=localStorage.getItem("admin")==="true",[e,n]=b.useState({});b.useEffect(()=>{Wi(Ve,l=>{n(l)})},[]);const r=async()=>{await K_(Ve),localStorage.removeItem("admin"),localStorage.removeItem("email"),localStorage.removeItem("nombreCompleto"),localStorage.removeItem("telefono"),localStorage.removeItem("facultad"),localStorage.removeItem("imageRef"),i("/"),scroll(0,0),location.reload()},i=yt();async function s(){try{await o();const l=xI();await qk(l.currentUser).then(()=>{console.log("User deleted")}).catch(c=>{console.error("Error deleting user: ",c)}),await K_(l)}catch(l){console.error("Error in handleDeleteAndSignOut: ",l)}}async function o(){try{const l=Ve.currentUser.uid,c=doc(db,"Usuario",l);await deleteDoc(c)}catch(l){console.error("Error updating document: ",l)}}return d.jsx("div",{children:e?d.jsx("div",{className:vt.pageContainer,children:d.jsxs("div",{className:vt.boxContainer,children:[d.jsx("div",{className:vt.titleContainer,children:d.jsx("h2",{children:"Perfil"})}),d.jsx("div",{className:vt.container,children:d.jsxs("div",{className:vt.column,children:[t&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",onChange:l=>{}}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",onChange:l=>{}}),d.jsx(ye,{className:vt["nav-link"],to:"/menuadmin",children:"Regresar"})]}),!t&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Nombre Completo"}),d.jsx("input",{disabled:!0,type:"text",placeholder:"Nombre",value:localStorage.getItem("nombreCompleto"),onChange:l=>{}}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{disabled:!0,type:"text",placeholder:"Facultad",value:localStorage.getItem("facultad"),onChange:l=>{}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{disabled:!0,type:"number",placeholder:"Teléfono",value:localStorage.getItem("telefono"),onChange:l=>{}}),d.jsx(ye,{className:vt["nav-link"],onClick:()=>{scroll(0,0)},to:"/",children:d.jsx("p",{children:"Regresar"})}),d.jsx(ye,{className:vt["nav-link"],onClick:()=>{scroll(0,0)},to:"/perfil/editarperfil",children:d.jsx("p",{children:"Editar"})}),d.jsx(ye,{className:vt["nav-link"],to:"/",onClick:s,children:d.jsx("p",{children:"Eliminar"})})]}),d.jsx("button",{className:vt.button,onClick:r,children:"Cerrar Sesión"})]})})]})}):i("/acceder")})}function FU(){const[t,e]=b.useState({});b.useEffect(()=>{Wi(Ve,E=>{e(E)})},[]);const n=yt(),[r,i]=b.useState(""),[s,o]=b.useState(null),l=async()=>{try{const E=qf(lp,`profileImages/${localStorage.getItem("imageRef")}`),I=await GI(E);i(I)}catch{}},c=()=>{if(s===null)return;const E=qf(lp,`profileImages/${localStorage.getItem("imageRef")}`);dD(E,s).then(()=>{console.log("Image uploaded!")})};l();let u="",f="",g="";const m=E=>{u=E},_=E=>{f=E},S=E=>{g=E},C=["Ingeniería","FACES","Idiomas Modernos","Derecho"];async function k(){try{u.length===0&&m(localStorage.getItem("nombreCompleto")),g.length===0&&S(localStorage.getItem("telefono")),f.length===0&&_(localStorage.getItem("facultad"));const E=Se(ue,"Usuario",localStorage.getItem("email"));await Qr(E,{nombreCompleto:u,facultad:f,telefono:g}),c(),scroll(0,0),n("/perfil"),location.reload()}catch(E){console.error("Error updating document: ",E)}}return d.jsx("div",{className:vt.pageContainer,children:t?d.jsxs("div",{className:vt.boxContainer,children:[d.jsx("div",{className:vt.titleContainer,children:d.jsx("h2",{children:"Perfil del Usuario"})}),d.jsxs("div",{className:vt.perfil,children:[d.jsxs("div",{className:vt.perfil1,children:[d.jsx("h2",{children:"Nombre Completo"}),d.jsx("input",{type:"text",onChange:E=>{m(E.target.value)}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{type:"text",onChange:E=>{S(E.target.value)}}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{type:"text",list:"facultadOptions",onChange:E=>{_(E.target.value)}}),d.jsx("datalist",{id:"facultadOptions",children:C.map(E=>d.jsx("option",{value:E},E))})]}),d.jsxs("div",{className:vt.perfil2,children:[d.jsx("h2",{children:"Foto de Perfil"}),d.jsx("img",{className:vt.perfil,src:r,alt:"Logo"}),d.jsx("input",{type:"file",accept:"image/*",onChange:()=>{o(event.target.files[0])}}),d.jsx("button",{onClick:()=>{k()},children:"Actualizar"}),d.jsx(ye,{className:vt["nav-link"],onClick:()=>{scroll(0,0)},to:"/perfil",children:"Regresar"})]})]})]}):n("/acceder")})}const BU="_menu_156kv_1",zU="_categoriaContainer_156kv_19",$U="_platilloContainer_156kv_37",HU="_slider_156kv_81",Oe={menu:BU,categoriaContainer:zU,platilloContainer:$U,"toggle-switch":"_toggle-switch_156kv_59",slider:HU,"on-label":"_on-label_156kv_161","off-label":"_off-label_156kv_163"};function qU(){b.useState(!1);const[t,e]=b.useState([]),[n,r]=b.useState([]);b.useEffect(()=>{const m=ms(tt(ue,"Pedidos"),_=>{_.forEach(S=>{S.data().activo&&(alert("¡Un pedido está activo!"),c("/historial"))})});return()=>m()},[]),b.useEffect(()=>{const m=ms(tt(ue,"Categoria"),_=>{const S=[];_.forEach(C=>{S.push({id:C.id,data:C.data()})}),e(S)});return()=>m()},[]),b.useEffect(()=>{const m=ms(tt(ue,"Combos"),_=>{const S=[];_.forEach(C=>{S.push({id:C.id,data:C.data()})}),r(S)});return()=>m()},[]);const i=async m=>{try{const _=Se(ue,"Combos",m);console.log(m);const S=n.map(C=>C.id===m?{...C,data:{...C.data,disponible:!C.data.disponible}}:C);await Qr(_,{disponible:!n.find(C=>C.id===m).data.disponible}),console.log("Document successfully updated!"),e(S)}catch(_){console.error("Error updating document: ",_)}};async function s(m){try{const _=Se(ue,"Combos",m);await $o(_),console.log("Categoria successfully deleted!")}catch(_){console.error("Error deleting categoria: ",_)}}const o=()=>t.map(m=>d.jsxs("div",{className:Oe.categoriaContainer,children:[d.jsxs(ye,{onClick:()=>{scroll(0,0)},to:{pathname:`/menuadmin/adminplatillos/${m.id}`,state:{categoriaId:m.id}},className:Oe.linkCategoria,children:[d.jsx("h2",{className:Oe.titulocarta,children:m.data.Categoria}),d.jsxs("p",{children:["Disponible: ",m.data.disponible?"Sí":"No"]})]}),d.jsx("button",{onClick:()=>u(m.id),children:"Actualizar Disponible"}),d.jsx("button",{onClick:()=>f(m.id),children:"Eliminar Categoría"})]},m.id)),l=()=>n.map(m=>d.jsxs("div",{className:Oe.categoriaContainer,children:[d.jsxs("div",{className:Oe.color_descripcion,children:[d.jsx("h1",{className:Oe.titulocombo,children:m.data.combo}),d.jsx("p",{className:Oe.description,children:m.data.descripcion}),d.jsx("p",{children:m.data.precio}),d.jsx("button",{onClick:()=>s(m.id),children:"Eliminar"}),d.jsxs("p",{className:Oe.description,children:["Disponible: ",m.data.disponible?"Sí":"No"]}),d.jsx("button",{onClick:()=>i(m.id),children:"Actualizar Disponible"})]}),d.jsx("div",{})]},m.id)),c=yt(),u=async m=>{try{const _=Se(ue,"Categoria",m),S=t.map(C=>C.id===m?{...C,data:{...C.data,disponible:!C.data.disponible}}:C);await Qr(_,{disponible:!t.find(C=>C.id===m).data.disponible}),console.log("Document successfully updated!"),e(S)}catch(_){console.error("Error updating document: ",_)}};async function f(m){try{const _=Se(ue,"Categoria",m);await $o(_),console.log("Categoria successfully deleted!")}catch(_){console.error("Error deleting categoria: ",_)}}const g=()=>t.map(m=>d.jsx(ye,{onClick:()=>{scroll(0,0)},to:{pathname:`/menuadmin/adminplatillos/${m.id}`,state:{categoriaId:m.id}},className:Oe.botonMenu,children:d.jsx("h2",{className:Oe.tituloboton,children:m.data.Categoria})},m.id));return d.jsx("div",{className:Oe.app,children:localStorage.getItem("admin")!="true"?c("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Oe.slogan,children:d.jsx("h1",{className:Oe.slogant,children:"ADMIN"})}),d.jsx("div",{className:Oe.botonesMenu,children:g()}),d.jsxs("div",{className:Oe.botonesMenu,children:[d.jsx(ye,{className:`${Oe["nav-link"]} ${Oe.botonMenu}`,to:"/menuadmin/editarmenu",children:"Editar Menu"}),d.jsx(ye,{className:`${Oe["nav-link"]} ${Oe.botonMenu}`,to:"/menuadmin/eamenu",children:"Agregar o Eliminar Menu"}),d.jsx(ye,{className:`${Oe["nav-link"]} ${Oe.botonMenu}`,to:"/menuadmin/editarcombo",children:"Editar Combo"}),d.jsx(ye,{className:`${Oe["nav-link"]} ${Oe.botonMenu}`,to:"/menuadmin/eacombo",children:"Agregar o Eliminar Combo"})]}),d.jsx("h1",{children:"Combos"}),d.jsx("div",{className:Oe.combo,children:l()}),d.jsx("h1",{children:"Menu"}),d.jsx("div",{className:Oe.menu,children:o()})]})})}const WU="_tm_1mhk5_69",GU="_botonesMenu_1mhk5_91",KU="_botonMenu_1mhk5_115",QU="_botonMenuC_1mhk5_137",YU="_tituloboton_1mhk5_161",XU="_titulo_categoria_1mhk5_169",JU="_categoria_1mhk5_179",ZU="_platillos_1mhk5_205",e4="_titulo_platillo_1mhk5_223",t4="_button_1mhk5_235",n4="_Description_platillo_1mhk5_259",r4="_platillos_impar_1mhk5_283",i4="_platillos_descripcion_1mhk5_305",s4="_combos_1mhk5_349",o4="_zonacombos_1mhk5_371",a4="_descripcioncombos_1mhk5_395",l4="_buttonc_1mhk5_413",c4="_carrusel_1mhk5_445",u4="_slide_1mhk5_457",d4="_combocontenido_1mhk5_479",h4="_comboImage_1mhk5_497",f4="_comboDescription_1mhk5_515",p4="_active_1mhk5_525",m4="_menu_1mhk5_553",g4="_titulomenu_1mhk5_567",y4="_catalogo_1mhk5_575",_4="_cartamenu_1mhk5_593",v4="_contactos_1mhk5_631",w4="_containerContactos_1mhk5_643",E4="_redesSociales_1mhk5_663",I4="_social_1mhk5_675",T4="_platilloContainer_1mhk5_687",_t={tm:WU,botonesMenu:GU,botonMenu:KU,botonMenuC:QU,tituloboton:YU,titulo_categoria:XU,categoria:JU,platillos:ZU,titulo_platillo:e4,button:t4,Description_platillo:n4,platillos_impar:r4,platillos_descripcion:i4,combos:s4,zonacombos:o4,descripcioncombos:a4,buttonc:l4,carrusel:c4,slide:u4,combocontenido:d4,comboImage:h4,comboDescription:f4,active:p4,"slide-content":"_slide-content_1mhk5_539",menu:m4,titulomenu:g4,catalogo:y4,cartamenu:_4,contactos:v4,containerContactos:w4,redesSociales:E4,social:I4,platilloContainer:T4};function S4(){var m;b.useState(0);const[t,e]=b.useState([]),[n,r]=b.useState([]),i=Ko();(m=i.state)==null||m.categoriaId;const s=yt(),{categoId:o}=kE(),[l,c]=b.useState({});b.useEffect(()=>{Wi(Ve,_=>{c(_)})},[]),b.useEffect(()=>{(async()=>{try{const C=tt(ue,"Categoria",o,"Platillos"),E=(await _r(C)).docs.map(I=>({id:I.id,data:I.data()}));r(E)}catch(S){console.error("Error fetching platillos:",S)}})()},[]);const u=()=>n.map(_=>d.jsxs("div",{className:_t.platillos_impar,children:[d.jsxs("div",{className:_t.platillos_descripcion,children:[d.jsx("h1",{className:_t.titulo_platillo,children:_.data.nombre}),d.jsxs("p",{children:[_t.description,_.data.descripcion]}),d.jsx("p",{children:_.data.precio}),d.jsx("button",{onClick:l?()=>{g(_.data)}:()=>{s("/compra"),scroll(0,0)},className:_t.button,children:"Comprar"})]}),d.jsx("div",{})]},_.id));b.useEffect(()=>{const _=ms(tt(ue,"Categoria"),S=>{const C=[];S.forEach(k=>{C.push({id:k.id,data:k.data()})}),e(C)});return()=>_()},[]);const f=()=>t.map(_=>d.jsx(ye,{to:{pathname:`/menu/platillos/${_.id}`,state:{categoriaId:_.id}},className:_t.botonMenu,onClick:()=>{i.reload(),scroll(0,0)},children:d.jsx("h2",{className:_t.tituloboton,children:_.data.Categoria})},_.id)),g=async _=>{try{const S=Se(ue,"Usuario",localStorage.getItem("email")),k=(await bi(S)).data().pedidos;console.log(n),await Qr(S,{pedidos:[...k,_]}),s("/compra"),scroll(0,0)}catch(S){console.log(S)}};return d.jsxs("div",{className:_t.pageContainer,children:[d.jsx("div",{className:_t.botonesMenu,children:f()}),d.jsxs("div",{className:_t.categoria,children:[d.jsx("h1",{className:_t.titulo_categoria,children:"Platillos"}),d.jsx("div",{className:_t.platillos,children:d.jsx("div",{className:_t.catalogo,children:u()})})]}),d.jsx("div",{className:_t.contactos,style:{backgroundImage:`url(${Fs})`},children:d.jsxs("div",{className:_t.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:_t.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:_t.social,src:Jr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:_t.social,src:Zr,alt:"Logo"})})]})]})})]})}const C4="_slogan_a52f4_71",A4="_slogant_a52f4_93",R4="_formularioayuda_a52f4_107",P4="_formularioInfo_a52f4_123",x4="_formulario1_a52f4_137",k4="_formulario2_a52f4_139",N4="_inputting_a52f4_147",b4="_button_a52f4_157",D4="_contactos_a52f4_183",j4="_containerContactos_a52f4_195",L4="_redesSociales_a52f4_215",O4="_social_a52f4_227",M4="_anonimo_a52f4_239",tn={slogan:C4,slogant:A4,formularioayuda:R4,formularioInfo:P4,formulario1:x4,formulario2:k4,inputting:N4,button:b4,contactos:D4,containerContactos:j4,redesSociales:L4,social:O4,anonimo:M4};function V4(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[f,g]=b.useState(!1);async function m(){try{let _=i;f&&(_="anonimo");const S=Se(ue,"FeedBack",_);await Kr(S,{nombreCompleto:t+" "+n,email:_,comentario:c,telefono:o,anonimo:f}),console.log("Document written with ID: ",i),e("")}catch(_){console.error("Error adding document: ",_)}}return d.jsxs("div",{children:[d.jsx("div",{className:tn.slogan,children:d.jsx("h1",{className:tn.slogant,children:"Dejanos tu reseña"})}),d.jsxs("div",{className:tn.formularioayuda,children:[d.jsx("h2",{children:"RELLENA LAS CASILLAS CON TUS DATOS"}),d.jsxs("div",{className:tn.formulario,children:[d.jsxs("div",{className:tn.formularioInfo,children:[d.jsxs("div",{className:tn.formulario1,children:[d.jsx("h3",{children:"Nombre"}),d.jsx("input",{type:"text",value:t,onChange:_=>e(_.target.value)}),d.jsx("h3",{children:"Apellido"}),d.jsx("input",{type:"text",value:n,onChange:_=>r(_.target.value)})]}),d.jsxs("div",{className:tn.formulario2,children:[d.jsx("h3",{children:"Correo"}),d.jsx("input",{type:"text",value:i,onChange:_=>s(_.target.value)}),d.jsx("h3",{children:"Teléfono"}),d.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value)})]})]}),d.jsxs("div",{className:tn.anonimo,children:[d.jsx("h3",{children:"Anónimo?"}),d.jsx("input",{type:"checkbox",checked:f,onChange:_=>g(_.target.checked)})]}),d.jsx("h3",{children:"DINOS LO QUE PIENSAS"}),d.jsx("input",{className:tn.inputting,type:"text",value:c,onChange:_=>u(_.target.value)})]}),d.jsx("button",{className:tn.button,onClick:m,children:"Enviar"})]}),d.jsx("div",{className:tn.contactos,style:{backgroundImage:`url(${Fs})`},children:d.jsxs("div",{className:tn.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:tn.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:tn.social,src:Jr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:tn.social,src:Zr,alt:"Logo"})})]})]})})]})}const U4="_container_wzjoo_1",F4="_title_wzjoo_23",B4="_table_wzjoo_37",z4="_tableHeader_wzjoo_53",$4="_tableRow_wzjoo_81",Pa={container:U4,title:F4,table:B4,tableHeader:z4,tableRow:$4};function H4(){const t=yt(),[e,n]=b.useState([]),[r,i]=b.useState({});b.useEffect(()=>{const o=async()=>{const u=(await _r(tt(ue,"Pedidos"))).docs.map(f=>f.data());n(u)},l=async()=>{const c=await _r(tt(ue,"Usuario")),u={};c.forEach(f=>{u[f.id]=f.data()}),i(u)};o(),l()},[]);const s=()=>{const o=e.filter(l=>!l.activo);return console.log(o),o.length===0?d.jsx("p",{children:"No hay pedidos finalizados."}):o.map(l=>{var c,u,f,g;return d.jsxs("div",{className:Pa.tableRow,children:[d.jsx("p",{children:(c=r[l.emailCliente])==null?void 0:c.nombreCompleto}),d.jsx("p",{children:(u=r[l.emailCliente])==null?void 0:u.email}),d.jsx("p",{children:(f=r[l.emailCliente])==null?void 0:f.facultad}),d.jsx("p",{children:(g=r[l.emailCliente])==null?void 0:g.telefono})]},l.id)})};return d.jsx("div",{className:Pa.container,children:localStorage.getItem("admin")!="true"?t("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:Pa.title,children:"Historial"}),d.jsxs("div",{className:Pa.table,children:[d.jsxs("div",{className:Pa.tableHeader,children:[d.jsx("div",{children:"Nombre Completo"}),d.jsx("div",{children:"Email"}),d.jsx("div",{children:"Facultad"}),d.jsx("div",{children:"Teléfono"})]}),e.length>0?d.jsx("div",{children:s()}):d.jsx("p",{children:"No hay pedidos finalizados."})]})]})})}const q4="_pedidosActualesContainer_18sor_1",W4="_pedidosActualesTitle_18sor_21",G4="_pedidoCard_18sor_39",K4="_pedidoNumber_18sor_57",Q4="_pedidoInfo_18sor_81",Qe={pedidosActualesContainer:q4,pedidosActualesTitle:W4,pedidoCard:G4,pedidoNumber:K4,pedidoInfo:Q4};function Y4(){const[t,e]=b.useState([]),[n,r]=b.useState({});b.useEffect(()=>{const o=async()=>{const u=(await _r(tt(ue,"Pedidos"))).docs.map(f=>f.data());e(u)},l=async()=>{const c=await _r(tt(ue,"Usuario")),u={};c.forEach(f=>{u[f.id]=f.data()}),r(u)};o(),l()},[]);const i=()=>{const o=t.filter(l=>l.activo);return console.log(o),o.length===0?d.jsx("p",{children:"No hay pedidos activos."}):o.map(l=>{var c;return d.jsxs("div",{className:Qe.pedidoContainer,children:[d.jsxs("p",{children:["Email del Cliente: ",l.emailCliente]}),d.jsxs("p",{children:["Nombre del Cliente: ",(c=n[l.emailCliente])==null?void 0:c.nombreCompleto]})]},l.id)})},s=yt();return d.jsx("div",{className:Qe.pag,children:localStorage.getItem("admin")!="true"?s("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Qe.pedidosActualesContainer,children:d.jsx("h2",{className:Qe.pedidosActualesTitle,children:"Pedidos Actuales"})}),t.length>0?d.jsx("div",{className:Qe.menu,children:i()}):d.jsx("p",{children:"No hay pedidos actuales."})]})})}const X4="_container_sirdj_1",J4="_title_sirdj_23",Z4="_card_sirdj_43",eF="_cardImage_sirdj_65",tF="_cardTitle_sirdj_81",nF="_cardOrders_sirdj_93",rF="_pagcontainer_sirdj_103",iF="_comentarioContainer_sirdj_117",sF="_containerC_sirdj_135",oF="_comentarioinfo_sirdj_153",lr={container:X4,title:J4,card:Z4,cardImage:eF,cardTitle:tF,cardOrders:nF,pagcontainer:rF,comentarioContainer:iF,containerC:sF,comentarioinfo:oF};function aF(){const[t,e]=b.useState([]),[n,r]=b.useState([]),i=yt();b.useEffect(()=>{(async()=>{const c=(await _r(tt(ue,"Feedback"))).docs.map(u=>u.data());e(c)})()},[]),b.useEffect(()=>{const o=ms(tt(ue,"FeedBack"),l=>{const c=[];l.forEach(u=>{c.push({id:u.id,data:u.data()})}),e(c)});return()=>o()},[]);const s=()=>t.map(o=>d.jsxs("div",{className:lr.comentarioContainer,children:[d.jsxs("h1",{children:["Email: ",o.id]}),d.jsxs("div",{className:lr.comentarioinfo,children:[d.jsxs("h2",{children:["Nombre: ",o.data.nombreCompleto]}),d.jsxs("p",{children:[" ",o.data.comentario]}),d.jsxs("h3",{children:["Telefono: ",o.data.telefono]})]})]},o.id));return b.useEffect(()=>{(async()=>{const l=tt(ue,"Pedidos"),c=await _r(l),u={};c.forEach(m=>{m.data().pedidos.forEach(S=>{const C=S.nombre;u[C]=u[C]?u[C]+1:1})});const g=Object.entries(u).sort((m,_)=>_[1]-m[1]);console.log(g),r(g)})()},[]),d.jsx("div",{className:lr.pagcontainer,children:localStorage.getItem("admin")!="true"?i("/acceder"):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:lr.container,children:[d.jsx("h2",{className:lr.title,children:"Producto Más Vendido"}),d.jsx("div",{children:n.map(o=>d.jsxs("div",{className:lr.card,children:[d.jsx("p",{className:lr.cardTitle,children:o[0]}),d.jsxs("p",{className:lr.cardOrders,children:["Número de pedidos: ",o[1]]})]},o[0]))})]}),d.jsx("h2",{className:lr.title,children:"Comentarios"}),d.jsx("div",{className:lr.containerC,children:s()})]})})}const lF="_margin_1gzpg_1",cF={margin:lF};function uF(t){const e=b.useRef(),n=yt();let r=[],i=0;const s=async()=>{try{const o=Se(ue,"Usuario",localStorage.getItem("email")),c=(await bi(o)).data().pedidos;r=c;const u=f=>{i+=f.precio};c.forEach(u),t.totalPago(i),t.platillosCliente(r)}catch{}};return b.useEffect(()=>{s(),window.paypal.Buttons({createOrder:(o,l,c)=>l.order.create({intent:"CAPTURE",purchase_units:[{description:"Compra",amount:{currency_code:"USD",value:i}}]}),onApprove:async(o,l)=>{const c=await l.order.capture();console.log(c);const u=Se(ue,"Usuario",localStorage.getItem("email")),f={nombreCompleto:localStorage.getItem("nombreCompleto"),email:localStorage.getItem("email"),facultad:localStorage.getItem("facultad"),telefono:localStorage.getItem("telefono"),admin:localStorage.getItem("admin"),pedidos:[],imageRef:localStorage.getItem("imageRef")};await Kr(u,f);const g=Se(ue,"Pedidos",Ns()),m={emailCliente:localStorage.getItem("email"),pedidos:r,activo:!0};await Kr(g,m),console.log("Successful order"),n("/")},onError:o=>{console.log(o),console.log("Error: Transaction failed")}}).render(e.current)},[]),d.jsx("div",{className:cF.margin,children:d.jsx("div",{className:"payButtons",ref:e})})}const dF="_slogan_lipfu_71",hF="_colored_lipfu_71",fF="_uno_lipfu_113",pF="_purpleLink_lipfu_167",mF="_paypalButton_lipfu_191",gF="_dos_lipfu_219",yF="_rp_lipfu_241",_F="_contactos_lipfu_285",vF="_containerContactos_lipfu_295",wF="_redesSociales_lipfu_315",EF="_social_lipfu_327",IF="_rpButton_lipfu_395",Ht={slogan:dF,colored:hF,uno:fF,purpleLink:pF,paypalButton:mF,dos:gF,rp:yF,contactos:_F,containerContactos:vF,redesSociales:wF,social:EF,rpButton:IF};function TF(){const[t,e]=b.useState({}),[n,r]=b.useState(0),[i,s]=b.useState([]);b.useEffect(()=>{Wi(Ve,u=>{e(u)})},[]);const o=u=>{r(u)},l=u=>{s(u)},c=async()=>{try{const u=Se(ue,"Usuario",localStorage.getItem("email"));await Qr(u,{pedidos:[]}),location.reload()}catch(u){console.log(u)}};return d.jsxs("div",{children:[d.jsx("div",{className:Ht.slogan,children:d.jsxs("h1",{children:[d.jsx("span",{className:Ht.colored,children:"Finalización de Compra"})," "]})}),d.jsx("hr",{}),d.jsxs("div",{className:Ht.pasos,children:[d.jsxs("div",{className:t?Ht.dos:Ht.uno,children:[d.jsx("h1",{children:"1.  Registrarse"}),t?d.jsx(d.Fragment,{}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Para poder comprar y disfrutar de los productos que ofrecemos"}),d.jsx("h2",{children:"Regístrate o Inicia Sesión"}),d.jsx(ye,{to:"/acceder",className:Ht.paypalButton,children:"Registrarse"})]})]}),d.jsxs("div",{className:t?Ht.uno:Ht.dos,children:[d.jsx("h1",{children:"2. Pago"}),t?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Ht.rpButton,children:d.jsx(uF,{totalPago:o,platillosCliente:l})}),d.jsxs("div",{className:Ht.rp,children:[d.jsx("h1",{children:"Resumen del Pedido"}),i!=[]||i!=[{}]?i.map(u=>d.jsxs("h2",{children:[u.nombre," - $ ",u.precio]},u.nombre)):d.jsx("h2",{children:"No tiene platillos a pedir"}),d.jsxs("h1",{children:["Total Bs. = $ ",isNaN(n)?0:n]}),d.jsx("div",{children:d.jsx("button",{className:Ht.paypalButton,onClick:()=>{c()},children:"Vaciar pedido"})})]})]}):d.jsx(d.Fragment,{})]})]}),d.jsx("div",{className:Ht.contactos,style:{backgroundImage:`url(${cp})`},children:d.jsxs("div",{className:Ht.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsx("h2",{children:" delipernil@gmail.com"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:Ht.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:Ht.social,src:Jr,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:Ht.social,src:Zr,alt:"Logo"})})]})]})})]})}function SF(){const[t,e]=b.useState(""),[n,r]=b.useState(""),i=yt();async function s(){try{const o=Se(ue,"Categoria",t);await Qr(o,{Categoria:n}),console.log("Document successfully updated!")}catch(o){console.error("Error updating document: ",o)}}return d.jsx("div",{className:Qe.pag,children:localStorage.getItem("admin")!="true"?i("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Qe.pedidosActualesContainer,children:d.jsx("h2",{className:Qe.pedidosActualesTitle,children:"Editar Menu"})}),d.jsx("input",{type:"text",value:t,onChange:o=>e(o.target.value),placeholder:"Enter Category Name"}),d.jsx("input",{type:"text",value:n,onChange:o=>r(o.target.value),placeholder:"Ingrese nuevo nombre de Categoria"}),d.jsx("button",{onClick:s(),children:"Editar Categoria"})]})})}function CF(){const[t,e]=b.useState(""),n=yt();async function r(){if(!t.trim()){console.error("The category name cannot be empty");return}try{const s=Se(ue,"Categoria",t);await Kr(s,{Categoria:t,disponible:!0,imgRef:Ns()}),console.log("Document written with ID: ",t),e("")}catch(s){console.error("Error adding document: ",s)}}async function i(){try{const s=Se(ue,"Categoria",t);await $o(s),console.log("Categoria successfully deleted!")}catch(s){console.error("Error deleting categoria: ",s)}}return d.jsx("div",{className:Qe.pag,children:localStorage.getItem("admin")!="true"?n("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Qe.pedidosActualesContainer,children:d.jsx("h2",{className:Qe.pedidosActualesTitle,children:"Eliminar o Agregar Menu"})}),d.jsx("input",{type:"text",value:t,onChange:s=>e(s.target.value),placeholder:"Enter Category Name"}),d.jsx("button",{onClick:r,children:"Add Categoria"}),d.jsx("button",{onClick:i,children:"Delete Categoria"})]})})}function AF(){const[t,e]=b.useState(""),n=yt(),[r,i]=b.useState(""),[s,o]=b.useState(""),[l,c]=b.useState(0);async function u(){try{const f=Se(ue,"Categoria",t),g=tt(f,"Platillos");await Qr(Se(g,r),{descripcion:s,nombre:r,precio:l}),console.log("Document successfully updated!")}catch(f){console.error("Error updating document: ",f)}}return d.jsx("div",{className:Qe.pag,children:localStorage.getItem("admin")!="true"?n("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Qe.pedidosActualesContainer,children:d.jsx("h2",{className:Qe.pedidosActualesTitle,children:"Editar Platillo"})}),d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Enter Category Name"}),d.jsx("input",{type:"text",value:r,onChange:f=>i(f.target.value),placeholder:"Enter Platillo Name"}),d.jsx("input",{type:"text",value:s,onChange:f=>o(f.target.value),placeholder:"Enter Platillo Description"}),d.jsx("input",{type:"number",value:l,onChange:f=>c(f.target.value),placeholder:"Enter Platillo Price"}),d.jsx("button",{onClick:u,children:"Editar Platillo"})]})})}function RF(){const[t,e]=b.useState(""),n=yt(),[r,i]=b.useState(""),[s,o]=b.useState([]);async function l(m){try{const _=Se(ue,"Categoria",m),S=tt(_,"Platillos");await Kr(Se(S,r),{nombre:r,tipo:t,descripcion:"Descripcion del platillo",precio:0,disponible:!0,imgRef:Ns()}),console.log("Platillo added to 'Platillos' subcollection with ID: ",r),i("")}catch(_){console.error("Error adding platillo: ",_)}}async function c(){try{await l(t),console.log("Platillo added successfully")}catch(m){console.error("Error adding platillo: ",m)}}async function u(){try{const m=Se(ue,"Categoria",t),_=Se(tt(m,"Platillos"),r);await $o(_),console.log("Platillo successfully deleted!"),f(t)}catch(m){console.error("Error deleting platillo: ",m)}}async function f(m){const _=await g(m);o(_)}async function g(m){const _=j1(tt(ue,"Categoria",m,"Platillos"));try{const S=await _r(_),C=[];return S.forEach(k=>{C.push({id:k.id,data:k.data()})}),C}catch(S){return console.error("Error getting platillos: ",S),[]}}return d.jsx("div",{className:Qe.pag,children:localStorage.getItem("admin")!="true"?n("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Qe.pedidosActualesContainer,children:d.jsx("h2",{className:Qe.pedidosActualesTitle,children:"Eliminar o Agregar Platillo"})}),d.jsx("input",{type:"text",value:t,onChange:m=>e(m.target.value),placeholder:"Enter Category Name"}),d.jsx("input",{type:"text",value:r,onChange:m=>i(m.target.value),placeholder:"Enter Platillo Name"}),d.jsx("button",{onClick:c,children:"Add Platillo"}),d.jsx("button",{onClick:u,children:"Delete Platillo"})]})})}const PF="_tm_1gyqy_69",xF="_botonesMenu_1gyqy_91",kF="_botonMenu_1gyqy_115",NF="_botonMenuC_1gyqy_137",bF="_tituloboton_1gyqy_161",DF="_titulo_categoria_1gyqy_169",jF="_categoria_1gyqy_179",LF="_platillos_1gyqy_205",OF="_titulo_platillo_1gyqy_223",MF="_button_1gyqy_235",VF="_Description_platillo_1gyqy_259",UF="_platillos_impar_1gyqy_283",FF="_platillos_descripcion_1gyqy_305",BF="_combos_1gyqy_349",zF="_zonacombos_1gyqy_371",$F="_descripcioncombos_1gyqy_395",HF="_buttonc_1gyqy_413",qF="_carrusel_1gyqy_445",WF="_slide_1gyqy_457",GF="_combocontenido_1gyqy_479",KF="_comboImage_1gyqy_497",QF="_comboDescription_1gyqy_515",YF="_active_1gyqy_525",XF="_menu_1gyqy_553",JF="_titulomenu_1gyqy_567",ZF="_catalogo_1gyqy_575",e3="_cartamenu_1gyqy_593",t3="_contactos_1gyqy_631",n3="_containerContactos_1gyqy_643",r3="_redesSociales_1gyqy_663",i3="_social_1gyqy_675",s3="_platilloContainer_1gyqy_687",o3="_pageContainer_1gyqy_705",kt={tm:PF,botonesMenu:xF,botonMenu:kF,botonMenuC:NF,tituloboton:bF,titulo_categoria:DF,categoria:jF,platillos:LF,titulo_platillo:OF,button:MF,Description_platillo:VF,platillos_impar:UF,platillos_descripcion:FF,combos:BF,zonacombos:zF,descripcioncombos:$F,buttonc:HF,carrusel:qF,slide:WF,combocontenido:GF,comboImage:KF,comboDescription:QF,active:YF,"slide-content":"_slide-content_1gyqy_539",menu:XF,titulomenu:JF,catalogo:ZF,cartamenu:e3,contactos:t3,containerContactos:n3,redesSociales:r3,social:i3,platilloContainer:s3,pageContainer:o3};function a3(){var k;const[t,e]=b.useState([]),[n,r]=b.useState([]),i=Ko();(k=i.state)==null||k.categoriaId;const[s,o]=b.useState([]);yt();const{categoId:l}=kE(),[c,u]=b.useState({});b.useEffect(()=>{Wi(Ve,E=>{u(E)})},[]),b.useEffect(()=>{(async()=>{try{const A=tt(ue,"Categoria",l,"Platillos"),F=(await _r(A)).docs.map(V=>({id:V.id,data:V.data()}));r(F)}catch(I){console.error("Error fetching platillos:",I)}})()},[]);const f=async(E,I)=>{try{const A=Se(ue,"Categoria",E),L=tt(A,"Platillos"),F=n.map(V=>{if(V.id===I){const y=!V.data.disponible;return{...V,data:{...V.data,disponible:y}}}return V});await Qr(Se(L,I),{disponible:!n.find(V=>V.id===I).data.disponible}),console.log("Document successfully updated!"),r(F)}catch(A){console.error("Error updating document: ",A)}};async function g(E){const I=await m(E);o(I)}async function m(E){const I=j1(tt(ue,"Categoria",E,"Platillos"));try{const A=await _r(I),L=[];return A.forEach(F=>{L.push({id:F.id,data:F.data()})}),L}catch(A){return console.error("Error getting platillos: ",A),[]}}async function _(E,I){try{const A=Se(ue,"Categoria",E),L=Se(tt(A,"Platillos"),I);await $o(L),console.log("Platillo successfully deleted!"),g(E)}catch(A){console.error("Error deleting platillo: ",A)}}const S=()=>n.map(E=>d.jsxs("div",{className:kt.platillos_impar,children:[d.jsxs("div",{className:kt.platillos_descripcion,children:[d.jsx("h1",{className:kt.titulo_platillo,children:E.data.nombre}),d.jsxs("p",{children:[kt.description,E.data.descripcion]}),d.jsx("p",{children:E.data.precio}),d.jsx("button",{onClick:()=>_(E.data.tipo,E.id),children:"Eliminar"}),d.jsxs("p",{children:["Disponible: ",E.data.disponible?"Sí":"No"]}),d.jsx("button",{onClick:()=>f(E.data.tipo,E.id),children:"Actualizar Disponible"})]}),d.jsx("div",{})]},E.id));b.useEffect(()=>{const E=ms(tt(ue,"Categoria"),I=>{const A=[];I.forEach(L=>{A.push({id:L.id,data:L.data()})}),e(A)});return()=>E()},[]);const C=()=>t.map(E=>d.jsx(ye,{to:{pathname:`/menuadmin/adminplatillos/${E.id}`,state:{categoriaId:E.id}},className:kt.botonMenu,onClick:()=>{i.reload(),scroll(0,0)},children:d.jsx("h2",{className:kt.tituloboton,children:E.data.Categoria})},E.id));return d.jsxs("div",{className:kt.pageContainer,children:[d.jsx("div",{className:kt.botonesMenu,children:C()}),d.jsxs("div",{className:kt.botonesMenu,children:[d.jsx(ye,{className:`${kt["nav-link"]} ${kt.botonMenu}`,to:"/menuadmin/editarplatillo",children:"Editar Platillo"}),d.jsx(ye,{className:`${kt["nav-link"]} ${kt.botonMenu}`,to:"/menuadmin/eaplatillo",children:"Agregar o Eliminar Platillo"})]}),d.jsxs("div",{className:kt.categoria,children:[d.jsx("h1",{className:kt.titulo_categoria,children:" Editar Platillos"}),d.jsx("div",{className:kt.platillos,children:d.jsx("div",{className:kt.catalogo,children:S()})})]})]})}function l3(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),o=yt();async function l(){if(!t.trim()){console.error("The category name cannot be empty");return}try{const u=Se(ue,"Combos",t);await Kr(u,{combo:t,descripcion:n,precio:i,disponible:!0,imgRef:Ns()}),console.log("Document written with ID: ",t),e("")}catch(u){console.error("Error adding document: ",u)}}async function c(){try{const u=Se(ue,"Combos",t);await $o(u),console.log("Categoria successfully deleted!")}catch(u){console.error("Error deleting categoria: ",u)}}return d.jsx("div",{className:Qe.pag,children:localStorage.getItem("admin")!="true"?o("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Qe.pedidosActualesContainer,children:d.jsx("h2",{className:Qe.pedidosActualesTitle,children:"Eliminar o Agregar Menu"})}),d.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),placeholder:"Enter Combo Name"}),d.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Enter Combo Descripcion"}),d.jsx("input",{type:"text",value:i,onChange:u=>s(u.target.value),placeholder:"Enter Combo Precio"}),d.jsx("button",{onClick:l,children:"Add Combo"}),d.jsx("button",{onClick:c,children:"Delete Combo"})]})})}function c3(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,l]=b.useState(""),c=yt();async function u(){try{const f=Se(ue,"Combos",t);console.log(f),await Qr(f,{combo:n,descripcion:i,precio:o}),console.log("Document successfully updated!")}catch(f){console.error("Error updating document: ",f)}}return d.jsx("div",{className:Qe.pag,children:localStorage.getItem("admin")!="true"?c("/acceder"):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:Qe.pedidosActualesContainer,children:d.jsx("h2",{className:Qe.pedidosActualesTitle,children:"Editar Combo"})}),d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Enter Combo Name"}),d.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),placeholder:"Ingrese nuevo nombre de Combo"}),d.jsx("input",{type:"text",value:i,onChange:f=>s(f.target.value),placeholder:"Enter Combo Descripcion"}),d.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:"Enter Combo Precio"}),d.jsx("button",{onClick:u(),children:"Editar Combo"})]})})}const u3=eP([{path:"/",element:d.jsx(sM,{}),children:[{path:We[0].path,element:d.jsx(qM,{})},{path:We[1].path,element:d.jsx(vV,{})},{path:We[1].children[0].path,element:d.jsx(S4,{})},{path:We[2].path,element:d.jsx($V,{})},{path:We[3].path,element:d.jsx(nU,{})},{path:We[4].path,element:d.jsx(_U,{})},{path:We[5].path,element:d.jsx(xU,{})},{path:We[6].path,element:d.jsx(kU,{})},{path:We[7].path,element:d.jsx(UU,{})},{path:We[7].children[0].path,element:d.jsx(FU,{})},{path:We[8].path,element:d.jsx(V4,{})},{path:We[9].path,element:d.jsx(qU,{})},{path:We[9].children[0].path,element:d.jsx(SF,{})},{path:We[9].children[1].path,element:d.jsx(AF,{})},{path:We[9].children[2].path,element:d.jsx(CF,{})},{path:We[9].children[3].path,element:d.jsx(RF,{})},{path:We[9].children[4].path,element:d.jsx(a3,{})},{path:We[9].children[5].path,element:d.jsx(l3,{})},{path:We[9].children[6].path,element:d.jsx(c3,{})},{path:We[10].path,element:d.jsx(H4,{})},{path:We[11].path,element:d.jsx(Y4,{})},{path:We[12].path,element:d.jsx(aF,{})},{path:We[13].path,element:d.jsx(TF,{})}]}]);Mh.createRoot(document.getElementById("root")).render(d.jsx(cP,{router:u3}));
