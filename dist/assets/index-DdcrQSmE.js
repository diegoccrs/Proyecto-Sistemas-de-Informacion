function Uv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Bv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zv={exports:{}},ju={},$v={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),D1=Symbol.for("react.portal"),j1=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),O1=Symbol.for("react.profiler"),M1=Symbol.for("react.provider"),V1=Symbol.for("react.context"),F1=Symbol.for("react.forward_ref"),U1=Symbol.for("react.suspense"),B1=Symbol.for("react.memo"),z1=Symbol.for("react.lazy"),Lg=Symbol.iterator;function $1(t){return t===null||typeof t!="object"?null:(t=Lg&&t[Lg]||t["@@iterator"],typeof t=="function"?t:null)}var qv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hv=Object.assign,Wv={};function xo(t,e,n){this.props=t,this.context=e,this.refs=Wv,this.updater=n||qv}xo.prototype.isReactComponent={};xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gv(){}Gv.prototype=xo.prototype;function Yf(t,e,n){this.props=t,this.context=e,this.refs=Wv,this.updater=n||qv}var Xf=Yf.prototype=new Gv;Xf.constructor=Yf;Hv(Xf,xo.prototype);Xf.isPureReactComponent=!0;var Og=Array.isArray,Kv=Object.prototype.hasOwnProperty,Jf={current:null},Qv={key:!0,ref:!0,__self:!0,__source:!0};function Yv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Kv.call(e,r)&&!Qv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:fl,type:t,key:s,ref:o,props:i,_owner:Jf.current}}function q1(t,e){return{$$typeof:fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zf(t){return typeof t=="object"&&t!==null&&t.$$typeof===fl}function H1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mg=/\/+/g;function jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H1(""+t.key):e.toString(36)}function vc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fl:case D1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jd(o,0):r,Og(i)?(n="",t!=null&&(n=t.replace(Mg,"$&/")+"/"),vc(i,e,n,"",function(u){return u})):i!=null&&(Zf(i)&&(i=q1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Og(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+jd(s,l);o+=vc(s,e,n,c,i)}else if(c=$1(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+jd(s,l++),o+=vc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yl(t,e,n){if(t==null)return t;var r=[],i=0;return vc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function W1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},wc={transition:null},G1={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:wc,ReactCurrentOwner:Jf};function Xv(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Yl,forEach:function(t,e,n){Yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yl(t,function(){e++}),e},toArray:function(t){return Yl(t,function(e){return e})||[]},only:function(t){if(!Zf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=xo;_e.Fragment=j1;_e.Profiler=O1;_e.PureComponent=Yf;_e.StrictMode=L1;_e.Suspense=U1;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G1;_e.act=Xv;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Kv.call(e,c)&&!Qv.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:fl,type:t.type,key:i,ref:s,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:V1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M1,_context:t},t.Consumer=t};_e.createElement=Yv;_e.createFactory=function(t){var e=Yv.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:F1,render:t}};_e.isValidElement=Zf;_e.lazy=function(t){return{$$typeof:z1,_payload:{_status:-1,_result:t},_init:W1}};_e.memo=function(t,e){return{$$typeof:B1,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=wc.transition;wc.transition={};try{t()}finally{wc.transition=e}};_e.unstable_act=Xv;_e.useCallback=function(t,e){return Kt.current.useCallback(t,e)};_e.useContext=function(t){return Kt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Kt.current.useEffect(t,e)};_e.useId=function(){return Kt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Kt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};_e.useRef=function(t){return Kt.current.useRef(t)};_e.useState=function(t){return Kt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Kt.current.useTransition()};_e.version="18.3.1";$v.exports=_e;var M=$v.exports;const Jv=Bv(M),K1=Uv({__proto__:null,default:Jv},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=M,Y1=Symbol.for("react.element"),X1=Symbol.for("react.fragment"),J1=Object.prototype.hasOwnProperty,Z1=Q1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eS={key:!0,ref:!0,__self:!0,__source:!0};function Zv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)J1.call(e,r)&&!eS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Y1,type:t,key:s,ref:o,props:i,_owner:Z1.current}}ju.Fragment=X1;ju.jsx=Zv;ju.jsxs=Zv;zv.exports=ju;var d=zv.exports,Sh={},ew={exports:{}},yn={},tw={exports:{}},nw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,ie){var ae=$.length;$.push(ie);e:for(;0<ae;){var Pe=ae-1>>>1,ge=$[Pe];if(0<i(ge,ie))$[Pe]=ie,$[ae]=ge,ae=Pe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ie=$[0],ae=$.pop();if(ae!==ie){$[0]=ae;e:for(var Pe=0,ge=$.length,ke=ge>>>1;Pe<ke;){var $t=2*(Pe+1)-1,ct=$[$t],vt=$t+1,wt=$[vt];if(0>i(ct,ae))vt<ge&&0>i(wt,ct)?($[Pe]=wt,$[vt]=ae,Pe=vt):($[Pe]=ct,$[$t]=ae,Pe=$t);else if(vt<ge&&0>i(wt,ae))$[Pe]=wt,$[vt]=ae,Pe=vt;else break e}}return ie}function i($,ie){var ae=$.sortIndex-ie.sortIndex;return ae!==0?ae:$.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,g=3,I=!1,R=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A($){for(var ie=n(u);ie!==null;){if(ie.callback===null)r(u);else if(ie.startTime<=$)r(u),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(u)}}function j($){if(P=!1,A($),!R)if(n(c)!==null)R=!0,ve(B);else{var ie=n(u);ie!==null&&Ue(j,ie.startTime-$)}}function B($,ie){R=!1,P&&(P=!1,S(_),_=-1),I=!0;var ae=g;try{for(A(ie),m=n(c);m!==null&&(!(m.expirationTime>ie)||$&&!x());){var Pe=m.callback;if(typeof Pe=="function"){m.callback=null,g=m.priorityLevel;var ge=Pe(m.expirationTime<=ie);ie=t.unstable_now(),typeof ge=="function"?m.callback=ge:m===n(c)&&r(c),A(ie)}else r(c);m=n(c)}if(m!==null)var ke=!0;else{var $t=n(u);$t!==null&&Ue(j,$t.startTime-ie),ke=!1}return ke}finally{m=null,g=ae,I=!1}}var V=!1,y=null,_=-1,E=5,T=-1;function x(){return!(t.unstable_now()-T<E)}function N(){if(y!==null){var $=t.unstable_now();T=$;var ie=!0;try{ie=y(!0,$)}finally{ie?C():(V=!1,y=null)}}else V=!1}var C;if(typeof w=="function")C=function(){w(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,pe=G.port2;G.port1.onmessage=N,C=function(){pe.postMessage(null)}}else C=function(){k(N,0)};function ve($){y=$,V||(V=!0,C())}function Ue($,ie){_=k(function(){$(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){R||I||(R=!0,ve(B))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var ae=g;g=ie;try{return $()}finally{g=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=g;g=$;try{return ie()}finally{g=ae}},t.unstable_scheduleCallback=function($,ie,ae){var Pe=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Pe+ae:Pe):ae=Pe,$){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ae+ge,$={id:f++,callback:ie,priorityLevel:$,startTime:ae,expirationTime:ge,sortIndex:-1},ae>Pe?($.sortIndex=ae,e(u,$),n(c)===null&&$===n(u)&&(P?(S(_),_=-1):P=!0,Ue(j,ae-Pe))):($.sortIndex=ge,e(c,$),R||I||(R=!0,ve(B))),$},t.unstable_shouldYield=x,t.unstable_wrapCallback=function($){var ie=g;return function(){var ae=g;g=ie;try{return $.apply(this,arguments)}finally{g=ae}}}})(nw);tw.exports=nw;var tS=tw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS=M,gn=tS;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rw=new Set,Va={};function ms(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(Va[t]=e,t=0;t<e.length;t++)rw.add(e[t])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ch=Object.prototype.hasOwnProperty,rS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vg={},Fg={};function iS(t){return Ch.call(Fg,t)?!0:Ch.call(Vg,t)?!1:rS.test(t)?Fg[t]=!0:(Vg[t]=!0,!1)}function sS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oS(t,e,n,r){if(e===null||typeof e>"u"||sS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ep=/[\-:]([a-z])/g;function tp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ep,tp);kt[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ep,tp);kt[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ep,tp);kt[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function np(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oS(e,n,i,r)&&(n=null),r||i===null?iS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=nS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xl=Symbol.for("react.element"),zs=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),Ah=Symbol.for("react.profiler"),iw=Symbol.for("react.provider"),sw=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),Rh=Symbol.for("react.suspense"),Ph=Symbol.for("react.suspense_list"),sp=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),ow=Symbol.for("react.offscreen"),Ug=Symbol.iterator;function Xo(t){return t===null||typeof t!="object"?null:(t=Ug&&t[Ug]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Ld;function da(t){if(Ld===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ld=e&&e[1]||""}return`
`+Ld+t}var Od=!1;function Md(t,e){if(!t||Od)return"";Od=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Od=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?da(t):""}function aS(t){switch(t.tag){case 5:return da(t.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return t=Md(t.type,!1),t;case 11:return t=Md(t.type.render,!1),t;case 1:return t=Md(t.type,!0),t;default:return""}}function xh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case zs:return"Portal";case Ah:return"Profiler";case rp:return"StrictMode";case Rh:return"Suspense";case Ph:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sw:return(t.displayName||"Context")+".Consumer";case iw:return(t._context.displayName||"Context")+".Provider";case ip:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sp:return e=t.displayName||null,e!==null?e:xh(t.type)||"Memo";case Jr:e=t._payload,t=t._init;try{return xh(t(e))}catch{}}return null}function lS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xh(e);case 8:return e===rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cS(t){var e=aw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jl(t){t._valueTracker||(t._valueTracker=cS(t))}function lw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kh(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cw(t,e){e=e.checked,e!=null&&np(t,"checked",e,!1)}function Nh(t,e){cw(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bh(t,e.type,n):e.hasOwnProperty("defaultValue")&&bh(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bh(t,e,n){(e!=="number"||Uc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ha=Array.isArray;function to(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $g(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(ha(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function uw(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zl,hw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zl=Zl||document.createElement("div"),Zl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uS=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(t){uS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ia[e]=Ia[t]})});function fw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ia.hasOwnProperty(t)&&Ia[t]?(""+e).trim():e+"px"}function pw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dS=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lh(t,e){if(e){if(dS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Oh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=null;function op(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vh=null,no=null,ro=null;function Hg(t){if(t=gl(t)){if(typeof Vh!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Fu(e),Vh(t.stateNode,t.type,e))}}function mw(t){no?ro?ro.push(t):ro=[t]:no=t}function gw(){if(no){var t=no,e=ro;if(ro=no=null,Hg(t),e)for(t=0;t<e.length;t++)Hg(e[t])}}function yw(t,e){return t(e)}function _w(){}var Vd=!1;function vw(t,e,n){if(Vd)return t(e,n);Vd=!0;try{return yw(t,e,n)}finally{Vd=!1,(no!==null||ro!==null)&&(_w(),gw())}}function Ua(t,e){var n=t.stateNode;if(n===null)return null;var r=Fu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Fh=!1;if(br)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Fh=!1}function hS(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Ta=!1,Bc=null,zc=!1,Uh=null,fS={onError:function(t){Ta=!0,Bc=t}};function pS(t,e,n,r,i,s,o,l,c){Ta=!1,Bc=null,hS.apply(fS,arguments)}function mS(t,e,n,r,i,s,o,l,c){if(pS.apply(this,arguments),Ta){if(Ta){var u=Bc;Ta=!1,Bc=null}else throw Error(q(198));zc||(zc=!0,Uh=u)}}function gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ww(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wg(t){if(gs(t)!==t)throw Error(q(188))}function gS(t){var e=t.alternate;if(!e){if(e=gs(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wg(i),t;if(s===r)return Wg(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function Ew(t){return t=gS(t),t!==null?Iw(t):null}function Iw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iw(t);if(e!==null)return e;t=t.sibling}return null}var Tw=gn.unstable_scheduleCallback,Gg=gn.unstable_cancelCallback,yS=gn.unstable_shouldYield,_S=gn.unstable_requestPaint,tt=gn.unstable_now,vS=gn.unstable_getCurrentPriorityLevel,ap=gn.unstable_ImmediatePriority,Sw=gn.unstable_UserBlockingPriority,$c=gn.unstable_NormalPriority,wS=gn.unstable_LowPriority,Cw=gn.unstable_IdlePriority,Lu=null,ir=null;function ES(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Lu,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:SS,IS=Math.log,TS=Math.LN2;function SS(t){return t>>>=0,t===0?32:31-(IS(t)/TS|0)|0}var ec=64,tc=4194304;function fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=fa(l):(s&=o,s!==0&&(r=fa(s)))}else o=n&~i,o!==0?r=fa(o):s!==0&&(r=fa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),i=1<<n,r|=t[n],e&=~i;return r}function CS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=CS(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Bh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Aw(){var t=ec;return ec<<=1,!(ec&4194240)&&(ec=64),t}function Fd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function RS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function lp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function Rw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pw,cp,xw,kw,Nw,zh=!1,nc=[],ai=null,li=null,ci=null,Ba=new Map,za=new Map,ei=[],PS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kg(t,e){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(e.pointerId)}}function Zo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gl(e),e!==null&&cp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xS(t,e,n,r,i){switch(e){case"focusin":return ai=Zo(ai,t,e,n,r,i),!0;case"dragenter":return li=Zo(li,t,e,n,r,i),!0;case"mouseover":return ci=Zo(ci,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ba.set(s,Zo(Ba.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,za.set(s,Zo(za.get(s)||null,t,e,n,r,i)),!0}return!1}function bw(t){var e=qi(t.target);if(e!==null){var n=gs(e);if(n!==null){if(e=n.tag,e===13){if(e=ww(n),e!==null){t.blockedOn=e,Nw(t.priority,function(){xw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$h(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mh=r,n.target.dispatchEvent(r),Mh=null}else return e=gl(n),e!==null&&cp(e),t.blockedOn=n,!1;e.shift()}return!0}function Qg(t,e,n){Ec(t)&&n.delete(e)}function kS(){zh=!1,ai!==null&&Ec(ai)&&(ai=null),li!==null&&Ec(li)&&(li=null),ci!==null&&Ec(ci)&&(ci=null),Ba.forEach(Qg),za.forEach(Qg)}function ea(t,e){t.blockedOn===e&&(t.blockedOn=null,zh||(zh=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,kS)))}function $a(t){function e(i){return ea(i,t)}if(0<nc.length){ea(nc[0],t);for(var n=1;n<nc.length;n++){var r=nc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ai!==null&&ea(ai,t),li!==null&&ea(li,t),ci!==null&&ea(ci,t),Ba.forEach(e),za.forEach(e),n=0;n<ei.length;n++)r=ei[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)bw(n),n.blockedOn===null&&ei.shift()}var io=Ur.ReactCurrentBatchConfig,Hc=!0;function NS(t,e,n,r){var i=xe,s=io.transition;io.transition=null;try{xe=1,up(t,e,n,r)}finally{xe=i,io.transition=s}}function bS(t,e,n,r){var i=xe,s=io.transition;io.transition=null;try{xe=4,up(t,e,n,r)}finally{xe=i,io.transition=s}}function up(t,e,n,r){if(Hc){var i=$h(t,e,n,r);if(i===null)Qd(t,e,r,Wc,n),Kg(t,r);else if(xS(i,t,e,n,r))r.stopPropagation();else if(Kg(t,r),e&4&&-1<PS.indexOf(t)){for(;i!==null;){var s=gl(i);if(s!==null&&Pw(s),s=$h(t,e,n,r),s===null&&Qd(t,e,r,Wc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qd(t,e,r,null,n)}}var Wc=null;function $h(t,e,n,r){if(Wc=null,t=op(r),t=qi(t),t!==null)if(e=gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ww(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wc=t,null}function Dw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vS()){case ap:return 1;case Sw:return 4;case $c:case wS:return 16;case Cw:return 536870912;default:return 16}default:return 16}}var ii=null,dp=null,Ic=null;function jw(){if(Ic)return Ic;var t,e=dp,n=e.length,r,i="value"in ii?ii.value:ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ic=i.slice(t,1<r?1-r:void 0)}function Tc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rc(){return!0}function Yg(){return!1}function _n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rc:Yg,this.isPropagationStopped=Yg,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hp=_n(ko),ml=Qe({},ko,{view:0,detail:0}),DS=_n(ml),Ud,Bd,ta,Ou=Qe({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(Ud=t.screenX-ta.screenX,Bd=t.screenY-ta.screenY):Bd=Ud=0,ta=t),Ud)},movementY:function(t){return"movementY"in t?t.movementY:Bd}}),Xg=_n(Ou),jS=Qe({},Ou,{dataTransfer:0}),LS=_n(jS),OS=Qe({},ml,{relatedTarget:0}),zd=_n(OS),MS=Qe({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=_n(MS),FS=Qe({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),US=_n(FS),BS=Qe({},ko,{data:0}),Jg=_n(BS),zS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qS[t])?!!e[t]:!1}function fp(){return HS}var WS=Qe({},ml,{key:function(t){if(t.key){var e=zS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$S[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fp,charCode:function(t){return t.type==="keypress"?Tc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GS=_n(WS),KS=Qe({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=_n(KS),QS=Qe({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fp}),YS=_n(QS),XS=Qe({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),JS=_n(XS),ZS=Qe({},Ou,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eC=_n(ZS),tC=[9,13,27,32],pp=br&&"CompositionEvent"in window,Sa=null;br&&"documentMode"in document&&(Sa=document.documentMode);var nC=br&&"TextEvent"in window&&!Sa,Lw=br&&(!pp||Sa&&8<Sa&&11>=Sa),ey=" ",ty=!1;function Ow(t,e){switch(t){case"keyup":return tC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function rC(t,e){switch(t){case"compositionend":return Mw(e);case"keypress":return e.which!==32?null:(ty=!0,ey);case"textInput":return t=e.data,t===ey&&ty?null:t;default:return null}}function iC(t,e){if(qs)return t==="compositionend"||!pp&&Ow(t,e)?(t=jw(),Ic=dp=ii=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lw&&e.locale!=="ko"?null:e.data;default:return null}}var sC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sC[t.type]:e==="textarea"}function Vw(t,e,n,r){mw(r),e=Gc(e,"onChange"),0<e.length&&(n=new hp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ca=null,qa=null;function oC(t){Qw(t,0)}function Mu(t){var e=Gs(t);if(lw(e))return t}function aC(t,e){if(t==="change")return e}var Fw=!1;if(br){var $d;if(br){var qd="oninput"in document;if(!qd){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),qd=typeof ry.oninput=="function"}$d=qd}else $d=!1;Fw=$d&&(!document.documentMode||9<document.documentMode)}function iy(){Ca&&(Ca.detachEvent("onpropertychange",Uw),qa=Ca=null)}function Uw(t){if(t.propertyName==="value"&&Mu(qa)){var e=[];Vw(e,qa,t,op(t)),vw(oC,e)}}function lC(t,e,n){t==="focusin"?(iy(),Ca=e,qa=n,Ca.attachEvent("onpropertychange",Uw)):t==="focusout"&&iy()}function cC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(qa)}function uC(t,e){if(t==="click")return Mu(e)}function dC(t,e){if(t==="input"||t==="change")return Mu(e)}function hC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:hC;function Ha(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ch.call(e,i)||!Gn(t[i],e[i]))return!1}return!0}function sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oy(t,e){var n=sy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sy(n)}}function Bw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zw(){for(var t=window,e=Uc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uc(t.document)}return e}function mp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fC(t){var e=zw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bw(n.ownerDocument.documentElement,n)){if(r!==null&&mp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=oy(n,s);var o=oy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pC=br&&"documentMode"in document&&11>=document.documentMode,Hs=null,qh=null,Aa=null,Hh=!1;function ay(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hh||Hs==null||Hs!==Uc(r)||(r=Hs,"selectionStart"in r&&mp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Aa&&Ha(Aa,r)||(Aa=r,r=Gc(qh,"onSelect"),0<r.length&&(e=new hp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hs)))}function ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},Hd={},$w={};br&&($w=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Vu(t){if(Hd[t])return Hd[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $w)return Hd[t]=e[n];return t}var qw=Vu("animationend"),Hw=Vu("animationiteration"),Ww=Vu("animationstart"),Gw=Vu("transitionend"),Kw=new Map,ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(t,e){Kw.set(t,e),ms(e,[t])}for(var Wd=0;Wd<ly.length;Wd++){var Gd=ly[Wd],mC=Gd.toLowerCase(),gC=Gd[0].toUpperCase()+Gd.slice(1);Si(mC,"on"+gC)}Si(qw,"onAnimationEnd");Si(Hw,"onAnimationIteration");Si(Ww,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(Gw,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yC=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function cy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mS(r,e,void 0,t),t.currentTarget=null}function Qw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;cy(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;cy(i,l,u),s=c}}}if(zc)throw t=Uh,zc=!1,Uh=null,t}function Me(t,e){var n=e[Yh];n===void 0&&(n=e[Yh]=new Set);var r=t+"__bubble";n.has(r)||(Yw(e,t,2,!1),n.add(r))}function Kd(t,e,n){var r=0;e&&(r|=4),Yw(n,t,r,e)}var sc="_reactListening"+Math.random().toString(36).slice(2);function Wa(t){if(!t[sc]){t[sc]=!0,rw.forEach(function(n){n!=="selectionchange"&&(yC.has(n)||Kd(n,!1,t),Kd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sc]||(e[sc]=!0,Kd("selectionchange",!1,e))}}function Yw(t,e,n,r){switch(Dw(e)){case 1:var i=NS;break;case 4:i=bS;break;default:i=up}n=i.bind(null,e,n,t),i=void 0,!Fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=qi(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}vw(function(){var u=s,f=op(n),m=[];e:{var g=Kw.get(t);if(g!==void 0){var I=hp,R=t;switch(t){case"keypress":if(Tc(n)===0)break e;case"keydown":case"keyup":I=GS;break;case"focusin":R="focus",I=zd;break;case"focusout":R="blur",I=zd;break;case"beforeblur":case"afterblur":I=zd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=LS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=YS;break;case qw:case Hw:case Ww:I=VS;break;case Gw:I=JS;break;case"scroll":I=DS;break;case"wheel":I=eC;break;case"copy":case"cut":case"paste":I=US;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Zg}var P=(e&4)!==0,k=!P&&t==="scroll",S=P?g!==null?g+"Capture":null:g;P=[];for(var w=u,A;w!==null;){A=w;var j=A.stateNode;if(A.tag===5&&j!==null&&(A=j,S!==null&&(j=Ua(w,S),j!=null&&P.push(Ga(w,j,A)))),k)break;w=w.return}0<P.length&&(g=new I(g,R,null,n,f),m.push({event:g,listeners:P}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",g&&n!==Mh&&(R=n.relatedTarget||n.fromElement)&&(qi(R)||R[Dr]))break e;if((I||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,I?(R=n.relatedTarget||n.toElement,I=u,R=R?qi(R):null,R!==null&&(k=gs(R),R!==k||R.tag!==5&&R.tag!==6)&&(R=null)):(I=null,R=u),I!==R)){if(P=Xg,j="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(P=Zg,j="onPointerLeave",S="onPointerEnter",w="pointer"),k=I==null?g:Gs(I),A=R==null?g:Gs(R),g=new P(j,w+"leave",I,n,f),g.target=k,g.relatedTarget=A,j=null,qi(f)===u&&(P=new P(S,w+"enter",R,n,f),P.target=A,P.relatedTarget=k,j=P),k=j,I&&R)t:{for(P=I,S=R,w=0,A=P;A;A=js(A))w++;for(A=0,j=S;j;j=js(j))A++;for(;0<w-A;)P=js(P),w--;for(;0<A-w;)S=js(S),A--;for(;w--;){if(P===S||S!==null&&P===S.alternate)break t;P=js(P),S=js(S)}P=null}else P=null;I!==null&&uy(m,g,I,P,!1),R!==null&&k!==null&&uy(m,k,R,P,!0)}}e:{if(g=u?Gs(u):window,I=g.nodeName&&g.nodeName.toLowerCase(),I==="select"||I==="input"&&g.type==="file")var B=aC;else if(ny(g))if(Fw)B=dC;else{B=cC;var V=lC}else(I=g.nodeName)&&I.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=uC);if(B&&(B=B(t,u))){Vw(m,B,n,f);break e}V&&V(t,g,u),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&bh(g,"number",g.value)}switch(V=u?Gs(u):window,t){case"focusin":(ny(V)||V.contentEditable==="true")&&(Hs=V,qh=u,Aa=null);break;case"focusout":Aa=qh=Hs=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,ay(m,n,f);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":ay(m,n,f)}var y;if(pp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qs?Ow(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Lw&&n.locale!=="ko"&&(qs||_!=="onCompositionStart"?_==="onCompositionEnd"&&qs&&(y=jw()):(ii=f,dp="value"in ii?ii.value:ii.textContent,qs=!0)),V=Gc(u,_),0<V.length&&(_=new Jg(_,t,null,n,f),m.push({event:_,listeners:V}),y?_.data=y:(y=Mw(n),y!==null&&(_.data=y)))),(y=nC?rC(t,n):iC(t,n))&&(u=Gc(u,"onBeforeInput"),0<u.length&&(f=new Jg("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=y))}Qw(m,e)})}function Ga(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ua(t,n),s!=null&&r.unshift(Ga(t,s,i)),s=Ua(t,e),s!=null&&r.push(Ga(t,s,i))),t=t.return}return r}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Ua(n,s),c!=null&&o.unshift(Ga(n,c,l))):i||(c=Ua(n,s),c!=null&&o.push(Ga(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _C=/\r\n?/g,vC=/\u0000|\uFFFD/g;function dy(t){return(typeof t=="string"?t:""+t).replace(_C,`
`).replace(vC,"")}function oc(t,e,n){if(e=dy(e),dy(t)!==e&&n)throw Error(q(425))}function Kc(){}var Wh=null,Gh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,wC=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,EC=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(t){return hy.resolve(null).then(t).catch(IC)}:Qh;function IC(t){setTimeout(function(){throw t})}function Yd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$a(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$a(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),tr="__reactFiber$"+No,Ka="__reactProps$"+No,Dr="__reactContainer$"+No,Yh="__reactEvents$"+No,TC="__reactListeners$"+No,SC="__reactHandles$"+No;function qi(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fy(t);t!==null;){if(n=t[tr])return n;t=fy(t)}return e}t=n,n=t.parentNode}return null}function gl(t){return t=t[tr]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Fu(t){return t[Ka]||null}var Xh=[],Ks=-1;function Ci(t){return{current:t}}function Fe(t){0>Ks||(t.current=Xh[Ks],Xh[Ks]=null,Ks--)}function De(t,e){Ks++,Xh[Ks]=t.current,t.current=e}var vi={},Bt=Ci(vi),en=Ci(!1),ts=vi;function po(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function Qc(){Fe(en),Fe(Bt)}function py(t,e,n){if(Bt.current!==vi)throw Error(q(168));De(Bt,e),De(en,n)}function Xw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,lS(t)||"Unknown",i));return Qe({},n,r)}function Yc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,ts=Bt.current,De(Bt,t),De(en,en.current),!0}function my(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=Xw(t,e,ts),r.__reactInternalMemoizedMergedChildContext=t,Fe(en),Fe(Bt),De(Bt,t)):Fe(en),De(en,n)}var Ir=null,Uu=!1,Xd=!1;function Jw(t){Ir===null?Ir=[t]:Ir.push(t)}function CC(t){Uu=!0,Jw(t)}function Ai(){if(!Xd&&Ir!==null){Xd=!0;var t=0,e=xe;try{var n=Ir;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,Uu=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(t+1)),Tw(ap,Ai),i}finally{xe=e,Xd=!1}}return null}var Qs=[],Ys=0,Xc=null,Jc=0,En=[],In=0,ns=null,Tr=1,Sr="";function Bi(t,e){Qs[Ys++]=Jc,Qs[Ys++]=Xc,Xc=t,Jc=e}function Zw(t,e,n){En[In++]=Tr,En[In++]=Sr,En[In++]=ns,ns=t;var r=Tr;t=Sr;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var s=32-zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-zn(e)+i|n<<i|r,Sr=s+t}else Tr=1<<s|n<<i|r,Sr=t}function gp(t){t.return!==null&&(Bi(t,1),Zw(t,1,0))}function yp(t){for(;t===Xc;)Xc=Qs[--Ys],Qs[Ys]=null,Jc=Qs[--Ys],Qs[Ys]=null;for(;t===ns;)ns=En[--In],En[In]=null,Sr=En[--In],En[In]=null,Tr=En[--In],En[In]=null}var pn=null,hn=null,qe=!1,Fn=null;function e0(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ns!==null?{id:Tr,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function Jh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zh(t){if(qe){var e=hn;if(e){var n=e;if(!gy(t,e)){if(Jh(t))throw Error(q(418));e=ui(n.nextSibling);var r=pn;e&&gy(t,e)?e0(r,n):(t.flags=t.flags&-4097|2,qe=!1,pn=t)}}else{if(Jh(t))throw Error(q(418));t.flags=t.flags&-4097|2,qe=!1,pn=t}}}function yy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function ac(t){if(t!==pn)return!1;if(!qe)return yy(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=hn)){if(Jh(t))throw t0(),Error(q(418));for(;e;)e0(t,e),e=ui(e.nextSibling)}if(yy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?ui(t.stateNode.nextSibling):null;return!0}function t0(){for(var t=hn;t;)t=ui(t.nextSibling)}function mo(){hn=pn=null,qe=!1}function _p(t){Fn===null?Fn=[t]:Fn.push(t)}var AC=Ur.ReactCurrentBatchConfig;function na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function lc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _y(t){var e=t._init;return e(t._payload)}function n0(t){function e(S,w){if(t){var A=S.deletions;A===null?(S.deletions=[w],S.flags|=16):A.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=pi(S,w),S.index=0,S.sibling=null,S}function s(S,w,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<w?(S.flags|=2,w):A):(S.flags|=2,w)):(S.flags|=1048576,w)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,w,A,j){return w===null||w.tag!==6?(w=ih(A,S.mode,j),w.return=S,w):(w=i(w,A),w.return=S,w)}function c(S,w,A,j){var B=A.type;return B===$s?f(S,w,A.props.children,j,A.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Jr&&_y(B)===w.type)?(j=i(w,A.props),j.ref=na(S,w,A),j.return=S,j):(j=kc(A.type,A.key,A.props,null,S.mode,j),j.ref=na(S,w,A),j.return=S,j)}function u(S,w,A,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=sh(A,S.mode,j),w.return=S,w):(w=i(w,A.children||[]),w.return=S,w)}function f(S,w,A,j,B){return w===null||w.tag!==7?(w=Zi(A,S.mode,j,B),w.return=S,w):(w=i(w,A),w.return=S,w)}function m(S,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ih(""+w,S.mode,A),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xl:return A=kc(w.type,w.key,w.props,null,S.mode,A),A.ref=na(S,null,w),A.return=S,A;case zs:return w=sh(w,S.mode,A),w.return=S,w;case Jr:var j=w._init;return m(S,j(w._payload),A)}if(ha(w)||Xo(w))return w=Zi(w,S.mode,A,null),w.return=S,w;lc(S,w)}return null}function g(S,w,A,j){var B=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return B!==null?null:l(S,w,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xl:return A.key===B?c(S,w,A,j):null;case zs:return A.key===B?u(S,w,A,j):null;case Jr:return B=A._init,g(S,w,B(A._payload),j)}if(ha(A)||Xo(A))return B!==null?null:f(S,w,A,j,null);lc(S,A)}return null}function I(S,w,A,j,B){if(typeof j=="string"&&j!==""||typeof j=="number")return S=S.get(A)||null,l(w,S,""+j,B);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Xl:return S=S.get(j.key===null?A:j.key)||null,c(w,S,j,B);case zs:return S=S.get(j.key===null?A:j.key)||null,u(w,S,j,B);case Jr:var V=j._init;return I(S,w,A,V(j._payload),B)}if(ha(j)||Xo(j))return S=S.get(A)||null,f(w,S,j,B,null);lc(w,j)}return null}function R(S,w,A,j){for(var B=null,V=null,y=w,_=w=0,E=null;y!==null&&_<A.length;_++){y.index>_?(E=y,y=null):E=y.sibling;var T=g(S,y,A[_],j);if(T===null){y===null&&(y=E);break}t&&y&&T.alternate===null&&e(S,y),w=s(T,w,_),V===null?B=T:V.sibling=T,V=T,y=E}if(_===A.length)return n(S,y),qe&&Bi(S,_),B;if(y===null){for(;_<A.length;_++)y=m(S,A[_],j),y!==null&&(w=s(y,w,_),V===null?B=y:V.sibling=y,V=y);return qe&&Bi(S,_),B}for(y=r(S,y);_<A.length;_++)E=I(y,S,_,A[_],j),E!==null&&(t&&E.alternate!==null&&y.delete(E.key===null?_:E.key),w=s(E,w,_),V===null?B=E:V.sibling=E,V=E);return t&&y.forEach(function(x){return e(S,x)}),qe&&Bi(S,_),B}function P(S,w,A,j){var B=Xo(A);if(typeof B!="function")throw Error(q(150));if(A=B.call(A),A==null)throw Error(q(151));for(var V=B=null,y=w,_=w=0,E=null,T=A.next();y!==null&&!T.done;_++,T=A.next()){y.index>_?(E=y,y=null):E=y.sibling;var x=g(S,y,T.value,j);if(x===null){y===null&&(y=E);break}t&&y&&x.alternate===null&&e(S,y),w=s(x,w,_),V===null?B=x:V.sibling=x,V=x,y=E}if(T.done)return n(S,y),qe&&Bi(S,_),B;if(y===null){for(;!T.done;_++,T=A.next())T=m(S,T.value,j),T!==null&&(w=s(T,w,_),V===null?B=T:V.sibling=T,V=T);return qe&&Bi(S,_),B}for(y=r(S,y);!T.done;_++,T=A.next())T=I(y,S,_,T.value,j),T!==null&&(t&&T.alternate!==null&&y.delete(T.key===null?_:T.key),w=s(T,w,_),V===null?B=T:V.sibling=T,V=T);return t&&y.forEach(function(N){return e(S,N)}),qe&&Bi(S,_),B}function k(S,w,A,j){if(typeof A=="object"&&A!==null&&A.type===$s&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Xl:e:{for(var B=A.key,V=w;V!==null;){if(V.key===B){if(B=A.type,B===$s){if(V.tag===7){n(S,V.sibling),w=i(V,A.props.children),w.return=S,S=w;break e}}else if(V.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Jr&&_y(B)===V.type){n(S,V.sibling),w=i(V,A.props),w.ref=na(S,V,A),w.return=S,S=w;break e}n(S,V);break}else e(S,V);V=V.sibling}A.type===$s?(w=Zi(A.props.children,S.mode,j,A.key),w.return=S,S=w):(j=kc(A.type,A.key,A.props,null,S.mode,j),j.ref=na(S,w,A),j.return=S,S=j)}return o(S);case zs:e:{for(V=A.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(S,w.sibling),w=i(w,A.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=sh(A,S.mode,j),w.return=S,S=w}return o(S);case Jr:return V=A._init,k(S,w,V(A._payload),j)}if(ha(A))return R(S,w,A,j);if(Xo(A))return P(S,w,A,j);lc(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(n(S,w.sibling),w=i(w,A),w.return=S,S=w):(n(S,w),w=ih(A,S.mode,j),w.return=S,S=w),o(S)):n(S,w)}return k}var go=n0(!0),r0=n0(!1),Zc=Ci(null),eu=null,Xs=null,vp=null;function wp(){vp=Xs=eu=null}function Ep(t){var e=Zc.current;Fe(Zc),t._currentValue=e}function ef(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function so(t,e){eu=t,vp=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(vp!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(eu===null)throw Error(q(308));Xs=t,eu.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var Hi=null;function Ip(t){Hi===null?Hi=[t]:Hi.push(t)}function i0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ip(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zr=!1;function Tp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ip(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function Sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lp(t,n)}}function vy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tu(t,e,n,r){var i=t.updateQueue;Zr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,f=u=c=null,l=s;do{var g=l.lane,I=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:I,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var R=t,P=l;switch(g=e,I=n,P.tag){case 1:if(R=P.payload,typeof R=="function"){m=R.call(I,m,g);break e}m=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=P.payload,g=typeof R=="function"?R.call(I,m,g):R,g==null)break e;m=Qe({},m,g);break e;case 2:Zr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else I={eventTime:I,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=I,c=m):f=f.next=I,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);is|=o,t.lanes=o,t.memoizedState=m}}function wy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var yl={},sr=Ci(yl),Qa=Ci(yl),Ya=Ci(yl);function Wi(t){if(t===yl)throw Error(q(174));return t}function Sp(t,e){switch(De(Ya,e),De(Qa,t),De(sr,yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jh(e,t)}Fe(sr),De(sr,e)}function yo(){Fe(sr),Fe(Qa),Fe(Ya)}function o0(t){Wi(Ya.current);var e=Wi(sr.current),n=jh(e,t.type);e!==n&&(De(Qa,t),De(sr,n))}function Cp(t){Qa.current===t&&(Fe(sr),Fe(Qa))}var Ge=Ci(0);function nu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jd=[];function Ap(){for(var t=0;t<Jd.length;t++)Jd[t]._workInProgressVersionPrimary=null;Jd.length=0}var Cc=Ur.ReactCurrentDispatcher,Zd=Ur.ReactCurrentBatchConfig,rs=0,Ke=null,dt=null,yt=null,ru=!1,Ra=!1,Xa=0,RC=0;function jt(){throw Error(q(321))}function Rp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function Pp(t,e,n,r,i,s){if(rs=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cc.current=t===null||t.memoizedState===null?NC:bC,t=n(r,i),Ra){s=0;do{if(Ra=!1,Xa=0,25<=s)throw Error(q(301));s+=1,yt=dt=null,e.updateQueue=null,Cc.current=DC,t=n(r,i)}while(Ra)}if(Cc.current=iu,e=dt!==null&&dt.next!==null,rs=0,yt=dt=Ke=null,ru=!1,e)throw Error(q(300));return t}function xp(){var t=Xa!==0;return Xa=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ke.memoizedState=yt=t:yt=yt.next=t,yt}function xn(){if(dt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=yt===null?Ke.memoizedState:yt.next;if(e!==null)yt=e,dt=t;else{if(t===null)throw Error(q(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},yt===null?Ke.memoizedState=yt=t:yt=yt.next=t}return yt}function Ja(t,e){return typeof e=="function"?e(t):e}function eh(t){var e=xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((rs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Ke.lanes|=f,is|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Gn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,is|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function th(t){var e=xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gn(s,e.memoizedState)||(Zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function a0(){}function l0(t,e){var n=Ke,r=xn(),i=e(),s=!Gn(r.memoizedState,i);if(s&&(r.memoizedState=i,Zt=!0),r=r.queue,kp(d0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Za(9,u0.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(q(349));rs&30||c0(n,e,i)}return i}function c0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function u0(t,e,n,r){e.value=n,e.getSnapshot=r,h0(e)&&f0(t)}function d0(t,e,n){return n(function(){h0(e)&&f0(t)})}function h0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function f0(t){var e=jr(t,1);e!==null&&$n(e,t,1,-1)}function Ey(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:t},e.queue=t,t=t.dispatch=kC.bind(null,Ke,t),[e.memoizedState,t]}function Za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p0(){return xn().memoizedState}function Ac(t,e,n,r){var i=er();Ke.flags|=t,i.memoizedState=Za(1|e,n,void 0,r===void 0?null:r)}function Bu(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(dt!==null){var o=dt.memoizedState;if(s=o.destroy,r!==null&&Rp(r,o.deps)){i.memoizedState=Za(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=Za(1|e,n,s,r)}function Iy(t,e){return Ac(8390656,8,t,e)}function kp(t,e){return Bu(2048,8,t,e)}function m0(t,e){return Bu(4,2,t,e)}function g0(t,e){return Bu(4,4,t,e)}function y0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _0(t,e,n){return n=n!=null?n.concat([t]):null,Bu(4,4,y0.bind(null,e,t),n)}function Np(){}function v0(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w0(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E0(t,e,n){return rs&21?(Gn(n,e)||(n=Aw(),Ke.lanes|=n,is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function PC(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Zd.transition;Zd.transition={};try{t(!1),e()}finally{xe=n,Zd.transition=r}}function I0(){return xn().memoizedState}function xC(t,e,n){var r=fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T0(t))S0(e,n);else if(n=i0(t,e,n,r),n!==null){var i=Gt();$n(n,t,r,i),C0(n,e,r)}}function kC(t,e,n){var r=fi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T0(t))S0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Gn(l,o)){var c=e.interleaved;c===null?(i.next=i,Ip(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=i0(t,e,i,r),n!==null&&(i=Gt(),$n(n,t,r,i),C0(n,e,r))}}function T0(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function S0(t,e){Ra=ru=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lp(t,n)}}var iu={readContext:Pn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},NC={readContext:Pn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:Iy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ac(4194308,4,y0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ac(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xC.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:Ey,useDebugValue:Np,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=Ey(!1),e=t[0];return t=PC.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=er();if(qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),_t===null)throw Error(q(349));rs&30||c0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Iy(d0.bind(null,r,s,t),[t]),r.flags|=2048,Za(9,u0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=er(),e=_t.identifierPrefix;if(qe){var n=Sr,r=Tr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bC={readContext:Pn,useCallback:v0,useContext:Pn,useEffect:kp,useImperativeHandle:_0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:w0,useReducer:eh,useRef:p0,useState:function(){return eh(Ja)},useDebugValue:Np,useDeferredValue:function(t){var e=xn();return E0(e,dt.memoizedState,t)},useTransition:function(){var t=eh(Ja)[0],e=xn().memoizedState;return[t,e]},useMutableSource:a0,useSyncExternalStore:l0,useId:I0,unstable_isNewReconciler:!1},DC={readContext:Pn,useCallback:v0,useContext:Pn,useEffect:kp,useImperativeHandle:_0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:w0,useReducer:th,useRef:p0,useState:function(){return th(Ja)},useDebugValue:Np,useDeferredValue:function(t){var e=xn();return dt===null?e.memoizedState=t:E0(e,dt.memoizedState,t)},useTransition:function(){var t=th(Ja)[0],e=xn().memoizedState;return[t,e]},useMutableSource:a0,useSyncExternalStore:l0,useId:I0,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zu={isMounted:function(t){return(t=t._reactInternals)?gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=fi(t),s=Pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&($n(e,t,i,r),Sc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=fi(t),s=Pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&($n(e,t,i,r),Sc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=fi(t),i=Pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=di(t,i,r),e!==null&&($n(e,t,r,n),Sc(e,t,r))}};function Ty(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ha(n,r)||!Ha(i,s):!0}function A0(t,e,n){var r=!1,i=vi,s=e.contextType;return typeof s=="object"&&s!==null?s=Pn(s):(i=tn(e)?ts:Bt.current,r=e.contextTypes,s=(r=r!=null)?po(t,i):vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Sy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zu.enqueueReplaceState(e,e.state,null)}function nf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Tp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pn(s):(s=tn(e)?ts:Bt.current,i.context=po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zu.enqueueReplaceState(i,i.state,null),tu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _o(t,e){try{var n="",r=e;do n+=aS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function nh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jC=typeof WeakMap=="function"?WeakMap:Map;function R0(t,e,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ou||(ou=!0,pf=r),rf(t,e)},n}function P0(t,e,n){n=Pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rf(t,e),typeof r!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KC.bind(null,t,e,n),e.then(t,t))}function Ay(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ry(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pr(-1,1),e.tag=2,di(n,e,1))),n.lanes|=1),t)}var LC=Ur.ReactCurrentOwner,Zt=!1;function Wt(t,e,n,r){e.child=t===null?r0(e,null,n,r):go(e,t.child,n,r)}function Py(t,e,n,r,i){n=n.render;var s=e.ref;return so(e,i),r=Pp(t,e,n,r,s,i),n=xp(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(qe&&n&&gp(e),e.flags|=1,Wt(t,e,r,i),e.child)}function xy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Fp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,x0(t,e,s,r,i)):(t=kc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ha,n(o,r)&&t.ref===e.ref)return Lr(t,e,i)}return e.flags|=1,t=pi(s,r),t.ref=e.ref,t.return=e,e.child=t}function x0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ha(s,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,Lr(t,e,i)}return sf(t,e,n,r,i)}function k0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Zs,dn),dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Zs,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(Zs,dn),dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(Zs,dn),dn|=r;return Wt(t,e,i,n),e.child}function N0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sf(t,e,n,r,i){var s=tn(n)?ts:Bt.current;return s=po(e,s),so(e,i),n=Pp(t,e,n,r,s,i),r=xp(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(qe&&r&&gp(e),e.flags|=1,Wt(t,e,n,i),e.child)}function ky(t,e,n,r,i){if(tn(n)){var s=!0;Yc(e)}else s=!1;if(so(e,i),e.stateNode===null)Rc(t,e),A0(e,n,r),nf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pn(u):(u=tn(n)?ts:Bt.current,u=po(e,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Sy(e,o,r,u),Zr=!1;var g=e.memoizedState;o.state=g,tu(e,r,o,i),c=e.memoizedState,l!==r||g!==c||en.current||Zr?(typeof f=="function"&&(tf(e,n,f,r),c=e.memoizedState),(l=Zr||Ty(e,n,l,r,g,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,s0(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:On(e.type,l),o.props=u,m=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pn(c):(c=tn(n)?ts:Bt.current,c=po(e,c));var I=n.getDerivedStateFromProps;(f=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==c)&&Sy(e,o,r,c),Zr=!1,g=e.memoizedState,o.state=g,tu(e,r,o,i);var R=e.memoizedState;l!==m||g!==R||en.current||Zr?(typeof I=="function"&&(tf(e,n,I,r),R=e.memoizedState),(u=Zr||Ty(e,n,u,r,g,R,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return of(t,e,n,r,s,i)}function of(t,e,n,r,i,s){N0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&my(e,n,!1),Lr(t,e,s);r=e.stateNode,LC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,s),e.child=go(e,null,l,s)):Wt(t,e,l,s),e.memoizedState=r.state,i&&my(e,n,!0),e.child}function b0(t){var e=t.stateNode;e.pendingContext?py(t,e.pendingContext,e.pendingContext!==e.context):e.context&&py(t,e.context,!1),Sp(t,e.containerInfo)}function Ny(t,e,n,r,i){return mo(),_p(i),e.flags|=256,Wt(t,e,n,r),e.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(t){return{baseLanes:t,cachePool:null,transitions:null}}function D0(t,e,n){var r=e.pendingProps,i=Ge.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Ge,i&1),t===null)return Zh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hu(o,r,0,null),t=Zi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lf(n),e.memoizedState=af,t):bp(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return OC(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=pi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=pi(l,s):(s=Zi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?lf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=af,r}return s=t.child,t=s.sibling,r=pi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bp(t,e){return e=Hu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cc(t,e,n,r){return r!==null&&_p(r),go(e,t.child,null,n),t=bp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=nh(Error(q(422))),cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hu({mode:"visible",children:r.children},i,0,null),s=Zi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=lf(o),e.memoizedState=af,s);if(!(e.mode&1))return cc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(q(419)),r=nh(s,r,void 0),cc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Zt||l){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(t,i),$n(r,t,i,-1))}return Vp(),r=nh(Error(q(421))),cc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=ui(i.nextSibling),pn=e,qe=!0,Fn=null,t!==null&&(En[In++]=Tr,En[In++]=Sr,En[In++]=ns,Tr=t.id,Sr=t.overflow,ns=e),e=bp(e,r.children),e.flags|=4096,e)}function by(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ef(t.return,e,n)}function rh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function j0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,n,e);else if(t.tag===19)by(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rh(e,!0,n,null,s);break;case"together":rh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MC(t,e,n){switch(e.tag){case 3:b0(e),mo();break;case 5:o0(e);break;case 1:tn(e.type)&&Yc(e);break;case 4:Sp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?D0(t,e,n):(De(Ge,Ge.current&1),t=Lr(t,e,n),t!==null?t.sibling:null);De(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,k0(t,e,n)}return Lr(t,e,n)}var L0,cf,O0,M0;L0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cf=function(){};O0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wi(sr.current);var s=null;switch(n){case"input":i=kh(t,i),r=kh(t,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=Dh(t,i),r=Dh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kc)}Lh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Va.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Va.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};M0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ra(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VC(t,e,n){var r=e.pendingProps;switch(yp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return tn(e.type)&&Qc(),Lt(e),null;case 3:return r=e.stateNode,yo(),Fe(en),Fe(Bt),Ap(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ac(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(yf(Fn),Fn=null))),cf(t,e),Lt(e),null;case 5:Cp(e);var i=Wi(Ya.current);if(n=e.type,t!==null&&e.stateNode!=null)O0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Lt(e),null}if(t=Wi(sr.current),ac(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[Ka]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<pa.length;i++)Me(pa[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Bg(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":$g(r,s),Me("invalid",r)}Lh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&oc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&oc(r.textContent,l,t),i=["children",""+l]):Va.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":Jl(r),zg(r,s,!0);break;case"textarea":Jl(r),qg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[Ka]=r,L0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Oh(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<pa.length;i++)Me(pa[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":Bg(t,r),i=kh(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Me("invalid",t);break;case"textarea":$g(t,r),i=Dh(t,r),Me("invalid",t);break;default:i=r}Lh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?pw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fa(t,c):typeof c=="number"&&Fa(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Va.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Me("scroll",t):c!=null&&np(t,s,c,o))}switch(n){case"input":Jl(t),zg(t,r,!1);break;case"textarea":Jl(t),qg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?to(t,!!r.multiple,s,!1):r.defaultValue!=null&&to(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)M0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Wi(Ya.current),Wi(sr.current),ac(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:oc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return Lt(e),null;case 13:if(Fe(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&hn!==null&&e.mode&1&&!(e.flags&128))t0(),mo(),e.flags|=98560,s=!1;else if(s=ac(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[tr]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else Fn!==null&&(yf(Fn),Fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?ht===0&&(ht=3):Vp())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return yo(),cf(t,e),t===null&&Wa(e.stateNode.containerInfo),Lt(e),null;case 10:return Ep(e.type._context),Lt(e),null;case 17:return tn(e.type)&&Qc(),Lt(e),null;case 19:if(Fe(Ge),s=e.memoizedState,s===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ra(s,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nu(t),o!==null){for(e.flags|=128,ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Ge,Ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>vo&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=nu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Lt(e),null}else 2*tt()-s.renderingStartTime>vo&&n!==1073741824&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=Ge.current,De(Ge,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return Mp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function FC(t,e){switch(yp(e),e.tag){case 1:return tn(e.type)&&Qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),Fe(en),Fe(Bt),Ap(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cp(e),null;case 13:if(Fe(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Ge),null;case 4:return yo(),null;case 10:return Ep(e.type._context),null;case 22:case 23:return Mp(),null;case 24:return null;default:return null}}var uc=!1,Vt=!1,UC=typeof WeakSet=="function"?WeakSet:Set,X=null;function Js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function uf(t,e,n){try{n()}catch(r){Je(t,e,r)}}var Dy=!1;function BC(t,e){if(Wh=Hc,t=zw(),mp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,m=t,g=null;t:for(;;){for(var I;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(I=m.firstChild)!==null;)g=m,m=I;for(;;){if(m===t)break t;if(g===n&&++u===i&&(l=o),g===s&&++f===r&&(c=o),(I=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=I}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gh={focusedElem:t,selectionRange:n},Hc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var P=R.memoizedProps,k=R.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?P:On(e.type,P),k);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){Je(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return R=Dy,Dy=!1,R}function Pa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&uf(e,n,s)}i=i.next}while(i!==r)}}function $u(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function df(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V0(t){var e=t.alternate;e!==null&&(t.alternate=null,V0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[Ka],delete e[Yh],delete e[TC],delete e[SC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F0(t){return t.tag===5||t.tag===3||t.tag===4}function jy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kc));else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}function ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ff(t,e,n),t=t.sibling;t!==null;)ff(t,e,n),t=t.sibling}var Ct=null,Mn=!1;function Qr(t,e,n){for(n=n.child;n!==null;)U0(t,e,n),n=n.sibling}function U0(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Lu,n)}catch{}switch(n.tag){case 5:Vt||Js(n,e);case 6:var r=Ct,i=Mn;Ct=null,Qr(t,e,n),Ct=r,Mn=i,Ct!==null&&(Mn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Mn?(t=Ct,n=n.stateNode,t.nodeType===8?Yd(t.parentNode,n):t.nodeType===1&&Yd(t,n),$a(t)):Yd(Ct,n.stateNode));break;case 4:r=Ct,i=Mn,Ct=n.stateNode.containerInfo,Mn=!0,Qr(t,e,n),Ct=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uf(n,e,o),i=i.next}while(i!==r)}Qr(t,e,n);break;case 1:if(!Vt&&(Js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Je(n,e,l)}Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Qr(t,e,n),Vt=r):Qr(t,e,n);break;default:Qr(t,e,n)}}function Ly(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UC),e.forEach(function(r){var i=YC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Mn=!1;break e;case 3:Ct=l.stateNode.containerInfo,Mn=!0;break e;case 4:Ct=l.stateNode.containerInfo,Mn=!0;break e}l=l.return}if(Ct===null)throw Error(q(160));U0(s,o,i),Ct=null,Mn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Je(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B0(e,t),e=e.sibling}function B0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Jn(t),r&4){try{Pa(3,t,t.return),$u(3,t)}catch(P){Je(t,t.return,P)}try{Pa(5,t,t.return)}catch(P){Je(t,t.return,P)}}break;case 1:Ln(e,t),Jn(t),r&512&&n!==null&&Js(n,n.return);break;case 5:if(Ln(e,t),Jn(t),r&512&&n!==null&&Js(n,n.return),t.flags&32){var i=t.stateNode;try{Fa(i,"")}catch(P){Je(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&cw(i,s),Oh(l,o);var u=Oh(l,s);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?pw(i,m):f==="dangerouslySetInnerHTML"?hw(i,m):f==="children"?Fa(i,m):np(i,f,m,u)}switch(l){case"input":Nh(i,s);break;case"textarea":uw(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?to(i,!!s.multiple,I,!1):g!==!!s.multiple&&(s.defaultValue!=null?to(i,!!s.multiple,s.defaultValue,!0):to(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ka]=s}catch(P){Je(t,t.return,P)}}break;case 6:if(Ln(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){Je(t,t.return,P)}}break;case 3:if(Ln(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$a(e.containerInfo)}catch(P){Je(t,t.return,P)}break;case 4:Ln(e,t),Jn(t);break;case 13:Ln(e,t),Jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lp=tt())),r&4&&Ly(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||f,Ln(e,t),Vt=u):Ln(e,t),Jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(X=t,f=t.child;f!==null;){for(m=X=f;X!==null;){switch(g=X,I=g.child,g.tag){case 0:case 11:case 14:case 15:Pa(4,g,g.return);break;case 1:Js(g,g.return);var R=g.stateNode;if(typeof R.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(P){Je(r,n,P)}}break;case 5:Js(g,g.return);break;case 22:if(g.memoizedState!==null){My(m);continue}}I!==null?(I.return=g,X=I):My(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fw("display",o))}catch(P){Je(t,t.return,P)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(P){Je(t,t.return,P)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ln(e,t),Jn(t),r&4&&Ly(t);break;case 21:break;default:Ln(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F0(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fa(i,""),r.flags&=-33);var s=jy(t);ff(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=jy(t);hf(t,l,o);break;default:throw Error(q(161))}}catch(c){Je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zC(t,e,n){X=t,z0(t)}function z0(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Vt;l=uc;var u=Vt;if(uc=o,(Vt=c)&&!u)for(X=i;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?Vy(i):c!==null?(c.return=o,X=c):Vy(i);for(;s!==null;)X=s,z0(s),s=s.sibling;X=i,uc=l,Vt=u}Oy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):Oy(t)}}function Oy(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||$u(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&$a(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Vt||e.flags&512&&df(e)}catch(g){Je(e,e.return,g)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function My(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Vy(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$u(4,e)}catch(c){Je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Je(e,i,c)}}var s=e.return;try{df(e)}catch(c){Je(e,s,c)}break;case 5:var o=e.return;try{df(e)}catch(c){Je(e,o,c)}}}catch(c){Je(e,e.return,c)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var $C=Math.ceil,su=Ur.ReactCurrentDispatcher,Dp=Ur.ReactCurrentOwner,An=Ur.ReactCurrentBatchConfig,Se=0,_t=null,at=null,Pt=0,dn=0,Zs=Ci(0),ht=0,el=null,is=0,qu=0,jp=0,xa=null,Xt=null,Lp=0,vo=1/0,Er=null,ou=!1,pf=null,hi=null,dc=!1,si=null,au=0,ka=0,mf=null,Pc=-1,xc=0;function Gt(){return Se&6?tt():Pc!==-1?Pc:Pc=tt()}function fi(t){return t.mode&1?Se&2&&Pt!==0?Pt&-Pt:AC.transition!==null?(xc===0&&(xc=Aw()),xc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Dw(t.type)),t):1}function $n(t,e,n,r){if(50<ka)throw ka=0,mf=null,Error(q(185));pl(t,n,r),(!(Se&2)||t!==_t)&&(t===_t&&(!(Se&2)&&(qu|=n),ht===4&&ti(t,Pt)),nn(t,r),n===1&&Se===0&&!(e.mode&1)&&(vo=tt()+500,Uu&&Ai()))}function nn(t,e){var n=t.callbackNode;AS(t,e);var r=qc(t,t===_t?Pt:0);if(r===0)n!==null&&Gg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gg(n),e===1)t.tag===0?CC(Fy.bind(null,t)):Jw(Fy.bind(null,t)),EC(function(){!(Se&6)&&Ai()}),n=null;else{switch(Rw(r)){case 1:n=ap;break;case 4:n=Sw;break;case 16:n=$c;break;case 536870912:n=Cw;break;default:n=$c}n=Y0(n,$0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $0(t,e){if(Pc=-1,xc=0,Se&6)throw Error(q(327));var n=t.callbackNode;if(oo()&&t.callbackNode!==n)return null;var r=qc(t,t===_t?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lu(t,r);else{e=r;var i=Se;Se|=2;var s=H0();(_t!==t||Pt!==e)&&(Er=null,vo=tt()+500,Ji(t,e));do try{WC();break}catch(l){q0(t,l)}while(!0);wp(),su.current=s,Se=i,at!==null?e=0:(_t=null,Pt=0,e=ht)}if(e!==0){if(e===2&&(i=Bh(t),i!==0&&(r=i,e=gf(t,i))),e===1)throw n=el,Ji(t,0),ti(t,r),nn(t,tt()),n;if(e===6)ti(t,r);else{if(i=t.current.alternate,!(r&30)&&!qC(i)&&(e=lu(t,r),e===2&&(s=Bh(t),s!==0&&(r=s,e=gf(t,s))),e===1))throw n=el,Ji(t,0),ti(t,r),nn(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:zi(t,Xt,Er);break;case 3:if(ti(t,r),(r&130023424)===r&&(e=Lp+500-tt(),10<e)){if(qc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qh(zi.bind(null,t,Xt,Er),e);break}zi(t,Xt,Er);break;case 4:if(ti(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$C(r/1960))-r,10<r){t.timeoutHandle=Qh(zi.bind(null,t,Xt,Er),r);break}zi(t,Xt,Er);break;case 5:zi(t,Xt,Er);break;default:throw Error(q(329))}}}return nn(t,tt()),t.callbackNode===n?$0.bind(null,t):null}function gf(t,e){var n=xa;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=lu(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&yf(e)),t}function yf(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function qC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ti(t,e){for(e&=~jp,e&=~qu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function Fy(t){if(Se&6)throw Error(q(327));oo();var e=qc(t,0);if(!(e&1))return nn(t,tt()),null;var n=lu(t,e);if(t.tag!==0&&n===2){var r=Bh(t);r!==0&&(e=r,n=gf(t,r))}if(n===1)throw n=el,Ji(t,0),ti(t,e),nn(t,tt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,Xt,Er),nn(t,tt()),null}function Op(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(vo=tt()+500,Uu&&Ai())}}function ss(t){si!==null&&si.tag===0&&!(Se&6)&&oo();var e=Se;Se|=1;var n=An.transition,r=xe;try{if(An.transition=null,xe=1,t)return t()}finally{xe=r,An.transition=n,Se=e,!(Se&6)&&Ai()}}function Mp(){dn=Zs.current,Fe(Zs)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wC(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(yp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:yo(),Fe(en),Fe(Bt),Ap();break;case 5:Cp(r);break;case 4:yo();break;case 13:Fe(Ge);break;case 19:Fe(Ge);break;case 10:Ep(r.type._context);break;case 22:case 23:Mp()}n=n.return}if(_t=t,at=t=pi(t.current,null),Pt=dn=e,ht=0,el=null,jp=qu=is=0,Xt=xa=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hi=null}return t}function q0(t,e){do{var n=at;try{if(wp(),Cc.current=iu,ru){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ru=!1}if(rs=0,yt=dt=Ke=null,Ra=!1,Xa=0,Dp.current=null,n===null||n.return===null){ht=1,el=e,at=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var I=Ay(o);if(I!==null){I.flags&=-257,Ry(I,o,l,s,e),I.mode&1&&Cy(s,u,e),e=I,c=u;var R=e.updateQueue;if(R===null){var P=new Set;P.add(c),e.updateQueue=P}else R.add(c);break e}else{if(!(e&1)){Cy(s,u,e),Vp();break e}c=Error(q(426))}}else if(qe&&l.mode&1){var k=Ay(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ry(k,o,l,s,e),_p(_o(c,l));break e}}s=c=_o(c,l),ht!==4&&(ht=2),xa===null?xa=[s]:xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=R0(s,c,e);vy(s,S);break e;case 1:l=c;var w=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(hi===null||!hi.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=P0(s,l,e);vy(s,j);break e}}s=s.return}while(s!==null)}G0(n)}catch(B){e=B,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function H0(){var t=su.current;return su.current=iu,t===null?iu:t}function Vp(){(ht===0||ht===3||ht===2)&&(ht=4),_t===null||!(is&268435455)&&!(qu&268435455)||ti(_t,Pt)}function lu(t,e){var n=Se;Se|=2;var r=H0();(_t!==t||Pt!==e)&&(Er=null,Ji(t,e));do try{HC();break}catch(i){q0(t,i)}while(!0);if(wp(),Se=n,su.current=r,at!==null)throw Error(q(261));return _t=null,Pt=0,ht}function HC(){for(;at!==null;)W0(at)}function WC(){for(;at!==null&&!yS();)W0(at)}function W0(t){var e=Q0(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?G0(t):at=e,Dp.current=null}function G0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FC(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,at=null;return}}else if(n=VC(n,e,dn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ht===0&&(ht=5)}function zi(t,e,n){var r=xe,i=An.transition;try{An.transition=null,xe=1,GC(t,e,n,r)}finally{An.transition=i,xe=r}return null}function GC(t,e,n,r){do oo();while(si!==null);if(Se&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(RS(t,s),t===_t&&(at=_t=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,Y0($c,function(){return oo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=xe;xe=1;var l=Se;Se|=4,Dp.current=null,BC(t,n),B0(n,t),fC(Gh),Hc=!!Wh,Gh=Wh=null,t.current=n,zC(n),_S(),Se=l,xe=o,An.transition=s}else t.current=n;if(dc&&(dc=!1,si=t,au=i),s=t.pendingLanes,s===0&&(hi=null),ES(n.stateNode),nn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ou)throw ou=!1,t=pf,pf=null,t;return au&1&&t.tag!==0&&oo(),s=t.pendingLanes,s&1?t===mf?ka++:(ka=0,mf=t):ka=0,Ai(),null}function oo(){if(si!==null){var t=Rw(au),e=An.transition,n=xe;try{if(An.transition=null,xe=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,au=0,Se&6)throw Error(q(331));var i=Se;for(Se|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:Pa(8,f,s)}var m=f.child;if(m!==null)m.return=f,X=m;else for(;X!==null;){f=X;var g=f.sibling,I=f.return;if(V0(f),f===u){X=null;break}if(g!==null){g.return=I,X=g;break}X=I}}}var R=s.alternate;if(R!==null){var P=R.child;if(P!==null){R.child=null;do{var k=P.sibling;P.sibling=null,P=k}while(P!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pa(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,X=S;break e}X=s.return}}var w=t.current;for(X=w;X!==null;){o=X;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,X=A;else e:for(o=w;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$u(9,l)}}catch(B){Je(l,l.return,B)}if(l===o){X=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,X=j;break e}X=l.return}}if(Se=i,Ai(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Lu,t)}catch{}r=!0}return r}finally{xe=n,An.transition=e}}return!1}function Uy(t,e,n){e=_o(n,e),e=R0(t,e,1),t=di(t,e,1),e=Gt(),t!==null&&(pl(t,1,e),nn(t,e))}function Je(t,e,n){if(t.tag===3)Uy(t,t,n);else for(;e!==null;){if(e.tag===3){Uy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hi===null||!hi.has(r))){t=_o(n,t),t=P0(e,t,1),e=di(e,t,1),t=Gt(),e!==null&&(pl(e,1,t),nn(e,t));break}}e=e.return}}function KC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Pt&n)===n&&(ht===4||ht===3&&(Pt&130023424)===Pt&&500>tt()-Lp?Ji(t,0):jp|=n),nn(t,e)}function K0(t,e){e===0&&(t.mode&1?(e=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):e=1);var n=Gt();t=jr(t,e),t!==null&&(pl(t,e,n),nn(t,n))}function QC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K0(t,n)}function YC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),K0(t,n)}var Q0;Q0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,MC(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,qe&&e.flags&1048576&&Zw(e,Jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rc(t,e),t=e.pendingProps;var i=po(e,Bt.current);so(e,n),i=Pp(null,e,r,t,i,n);var s=xp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(s=!0,Yc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tp(e),i.updater=zu,e.stateNode=i,i._reactInternals=e,nf(e,r,t,n),e=of(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&gp(e),Wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JC(r),t=On(r,t),i){case 0:e=sf(null,e,r,t,n);break e;case 1:e=ky(null,e,r,t,n);break e;case 11:e=Py(null,e,r,t,n);break e;case 14:e=xy(null,e,r,On(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),sf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),ky(t,e,r,i,n);case 3:e:{if(b0(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,s0(t,e),tu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_o(Error(q(423)),e),e=Ny(t,e,r,n,i);break e}else if(r!==i){i=_o(Error(q(424)),e),e=Ny(t,e,r,n,i);break e}else for(hn=ui(e.stateNode.containerInfo.firstChild),pn=e,qe=!0,Fn=null,n=r0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===i){e=Lr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return o0(e),t===null&&Zh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Kh(r,i)?o=null:s!==null&&Kh(r,s)&&(e.flags|=32),N0(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&Zh(e),null;case 13:return D0(t,e,n);case 4:return Sp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Py(t,e,r,i,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(Zc,r._currentValue),r._currentValue=o,s!==null)if(Gn(s.value,o)){if(s.children===i.children&&!en.current){e=Lr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Pr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ef(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ef(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,so(e,n),i=Pn(i),r=r(i),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,i=On(r,e.pendingProps),i=On(r.type,i),xy(t,e,r,i,n);case 15:return x0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Rc(t,e),e.tag=1,tn(r)?(t=!0,Yc(e)):t=!1,so(e,n),A0(e,r,i),nf(e,r,i,n),of(null,e,r,!0,t,n);case 19:return j0(t,e,n);case 22:return k0(t,e,n)}throw Error(q(156,e.tag))};function Y0(t,e){return Tw(t,e)}function XC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new XC(t,e,n,r)}function Fp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JC(t){if(typeof t=="function")return Fp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ip)return 11;if(t===sp)return 14}return 2}function pi(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Fp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $s:return Zi(n.children,i,s,e);case rp:o=8,i|=8;break;case Ah:return t=Cn(12,n,e,i|2),t.elementType=Ah,t.lanes=s,t;case Rh:return t=Cn(13,n,e,i),t.elementType=Rh,t.lanes=s,t;case Ph:return t=Cn(19,n,e,i),t.elementType=Ph,t.lanes=s,t;case ow:return Hu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iw:o=10;break e;case sw:o=9;break e;case ip:o=11;break e;case sp:o=14;break e;case Jr:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zi(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function Hu(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=ow,t.lanes=n,t.stateNode={isHidden:!1},t}function ih(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function sh(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Up(t,e,n,r,i,s,o,l,c){return t=new ZC(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tp(s),t}function eA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X0(t){if(!t)return vi;t=t._reactInternals;e:{if(gs(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(tn(n))return Xw(t,n,e)}return e}function J0(t,e,n,r,i,s,o,l,c){return t=Up(n,r,!0,t,i,s,o,l,c),t.context=X0(null),n=t.current,r=Gt(),i=fi(n),s=Pr(r,i),s.callback=e??null,di(n,s,i),t.current.lanes=i,pl(t,i,r),nn(t,r),t}function Wu(t,e,n,r){var i=e.current,s=Gt(),o=fi(i);return n=X0(n),e.context===null?e.context=n:e.pendingContext=n,e=Pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=di(i,e,o),t!==null&&($n(t,i,o,s),Sc(t,i,o)),o}function cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function By(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bp(t,e){By(t,e),(t=t.alternate)&&By(t,e)}function tA(){return null}var Z0=typeof reportError=="function"?reportError:function(t){console.error(t)};function zp(t){this._internalRoot=t}Gu.prototype.render=zp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Wu(t,e,null,null)};Gu.prototype.unmount=zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ss(function(){Wu(null,t,null,null)}),e[Dr]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=kw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ei.length&&e!==0&&e<ei[n].priority;n++);ei.splice(n,0,t),n===0&&bw(t)}};function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zy(){}function nA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=cu(o);s.call(u)}}var o=J0(e,r,t,0,null,!1,!1,"",zy);return t._reactRootContainer=o,t[Dr]=o.current,Wa(t.nodeType===8?t.parentNode:t),ss(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=cu(c);l.call(u)}}var c=Up(t,0,!1,null,null,!1,!1,"",zy);return t._reactRootContainer=c,t[Dr]=c.current,Wa(t.nodeType===8?t.parentNode:t),ss(function(){Wu(e,c,n,r)}),c}function Qu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=cu(o);l.call(c)}}Wu(e,o,t,i)}else o=nA(n,e,t,i,r);return cu(o)}Pw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fa(e.pendingLanes);n!==0&&(lp(e,n|1),nn(e,tt()),!(Se&6)&&(vo=tt()+500,Ai()))}break;case 13:ss(function(){var r=jr(t,1);if(r!==null){var i=Gt();$n(r,t,1,i)}}),Bp(t,1)}};cp=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=Gt();$n(e,t,134217728,n)}Bp(t,134217728)}};xw=function(t){if(t.tag===13){var e=fi(t),n=jr(t,e);if(n!==null){var r=Gt();$n(n,t,e,r)}Bp(t,e)}};kw=function(){return xe};Nw=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Vh=function(t,e,n){switch(e){case"input":if(Nh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fu(r);if(!i)throw Error(q(90));lw(r),Nh(r,i)}}}break;case"textarea":uw(t,n);break;case"select":e=n.value,e!=null&&to(t,!!n.multiple,e,!1)}};yw=Op;_w=ss;var rA={usingClientEntryPoint:!1,Events:[gl,Gs,Fu,mw,gw,Op]},ia={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iA={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ew(t),t===null?null:t.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||tA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Lu=hc.inject(iA),ir=hc}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rA;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$p(e))throw Error(q(200));return eA(t,e,null,n)};yn.createRoot=function(t,e){if(!$p(t))throw Error(q(299));var n=!1,r="",i=Z0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Up(t,1,!1,null,null,n,!1,r,i),t[Dr]=e.current,Wa(t.nodeType===8?t.parentNode:t),new zp(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Ew(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return ss(t)};yn.hydrate=function(t,e,n){if(!Ku(e))throw Error(q(200));return Qu(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!$p(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Z0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J0(e,null,t,1,n??null,i,!1,s,o),t[Dr]=e.current,Wa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gu(e)};yn.render=function(t,e,n){if(!Ku(e))throw Error(q(200));return Qu(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Ku(t))throw Error(q(40));return t._reactRootContainer?(ss(function(){Qu(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};yn.unstable_batchedUpdates=Op;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ku(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Qu(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function eE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eE)}catch(t){console.error(t)}}eE(),ew.exports=yn;var qp=ew.exports;const sA=Bv(qp),oA=Uv({__proto__:null,default:sA},[qp]);var $y=qp;Sh.createRoot=$y.createRoot,Sh.hydrateRoot=$y.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function We(){return We=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},We.apply(this,arguments)}var st;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(st||(st={}));const qy="popstate";function aA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return tl("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:os(i)}return cA(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lA(){return Math.random().toString(36).substr(2,8)}function Hy(t,e){return{usr:t.state,key:t.key,idx:e}}function tl(t,e,n,r){return n===void 0&&(n=null),We({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ri(e):e,{state:n,key:e&&e.key||r||lA()})}function os(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=st.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(We({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=st.Pop;let k=f(),S=k==null?null:k-u;u=k,c&&c({action:l,location:P.location,delta:S})}function g(k,S){l=st.Push;let w=tl(P.location,k,S);u=f()+1;let A=Hy(w,u),j=P.createHref(w);try{o.pushState(A,"",j)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(j)}s&&c&&c({action:l,location:P.location,delta:1})}function I(k,S){l=st.Replace;let w=tl(P.location,k,S);u=f();let A=Hy(w,u),j=P.createHref(w);o.replaceState(A,"",j),s&&c&&c({action:l,location:P.location,delta:0})}function R(k){let S=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof k=="string"?k:os(k);return w=w.replace(/ $/,"%20"),me(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let P={get action(){return l},get location(){return t(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qy,m),c=k,()=>{i.removeEventListener(qy,m),c=null}},createHref(k){return e(i,k)},createURL:R,encodeLocation(k){let S=R(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:I,go(k){return o.go(k)}};return P}var $e;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($e||($e={}));const uA=new Set(["lazy","caseSensitive","path","id","index","children"]);function dA(t){return t.index===!0}function _f(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(me(i.index!==!0||!i.children,"Cannot specify children on an index route"),me(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),dA(i)){let c=We({},i,e(i),{id:l});return r[l]=c,c}else{let c=We({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=_f(i.children,e,o,r)),c}})}function eo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ri(e):e,i=Or(r.pathname||"/",n);if(i==null)return null;let s=tE(t);fA(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=SA(i);o=IA(s[l],c)}return o}function hA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function tE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(me(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xr([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tE(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:wA(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of nE(s.path))i(s,o,c)}),e}function nE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=nE(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function fA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pA=/^:[\w-]+$/,mA=3,gA=2,yA=1,_A=10,vA=-2,Wy=t=>t==="*";function wA(t,e){let n=t.split("/"),r=n.length;return n.some(Wy)&&(r+=vA),e&&(r+=gA),n.filter(i=>!Wy(i)).reduce((i,s)=>i+(pA.test(s)?mA:s===""?yA:_A),r)}function EA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IA(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=vf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!f)return null;Object.assign(r,f.params);let m=l.route;s.push({params:r,pathname:xr([i,f.pathname]),pathnameBase:RA(xr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=xr([i,f.pathnameBase]))}return s}function vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,m)=>{let{paramName:g,isOptional:I}=f;if(g==="*"){let P=l[m]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const R=l[m];return I&&!R?u[g]=void 0:u[g]=(R||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function TA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Or(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ri(t):t;return{pathname:n?n.startsWith("/")?n:AA(n,e):e,search:PA(r),hash:xA(i)}}function AA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function oh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hp(t,e){let n=rE(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ri(t):(i=We({},t),me(!i.pathname||!i.pathname.includes("?"),oh("?","pathname","search",i)),me(!i.pathname||!i.pathname.includes("#"),oh("#","pathname","hash",i)),me(!i.search||!i.search.includes("#"),oh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=CA(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const xr=t=>t.join("/").replace(/\/\/+/g,"/"),RA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Gp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Kp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iE=["post","put","patch","delete"],kA=new Set(iE),NA=["get",...iE],bA=new Set(NA),DA=new Set([301,302,303,307,308]),jA=new Set([307,308]),ah={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},LA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Qp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),sE="remix-router-transitions";function MA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let b=t.detectErrorBoundary;i=L=>({hasErrorBoundary:b(L)})}else i=OA;let s={},o=_f(t.routes,i,void 0,s),l,c=t.basename||"/",u=t.unstable_dataStrategy||BA,f=We({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),m=null,g=new Set,I=null,R=null,P=null,k=t.hydrationData!=null,S=eo(o,t.history.location,c),w=null;if(S==null){let b=wn(404,{pathname:t.history.location.pathname}),{matches:L,route:F}=n_(o);S=L,w={[F.id]:b}}let A,j=S.some(b=>b.route.lazy),B=S.some(b=>b.route.loader);if(j)A=!1;else if(!B)A=!0;else if(f.v7_partialHydration){let b=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null,F=H=>H.route.loader?typeof H.route.loader=="function"&&H.route.loader.hydrate===!0?!1:b&&b[H.route.id]!==void 0||L&&L[H.route.id]!==void 0:!0;if(L){let H=S.findIndex(Y=>L[Y.route.id]!==void 0);A=S.slice(0,H+1).every(F)}else A=S.every(F)}else A=t.hydrationData!=null;let V,y={historyAction:t.history.action,location:t.history.location,matches:S,initialized:A,navigation:ah,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},_=st.Pop,E=!1,T,x=!1,N=new Map,C=null,G=!1,pe=!1,ve=[],Ue=[],$=new Map,ie=0,ae=-1,Pe=new Map,ge=new Set,ke=new Map,$t=new Map,ct=new Set,vt=new Map,wt=new Map,Oo=!1;function Td(){if(m=t.history.listen(b=>{let{action:L,location:F,delta:H}=b;if(Oo){Oo=!1;return}wo(wt.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=Ps({currentLocation:y.location,nextLocation:F,historyAction:L});if(Y&&H!=null){Oo=!0,t.history.go(H*-1),Rs(Y,{state:"blocked",location:F,proceed(){Rs(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(H)},reset(){let ee=new Map(y.blockers);ee.set(Y,sa),Et({blockers:ee})}});return}return Yn(L,F)}),n){ZA(e,N);let b=()=>eR(e,N);e.addEventListener("pagehide",b),C=()=>e.removeEventListener("pagehide",b)}return y.initialized||Yn(st.Pop,y.location,{initialHydration:!0}),V}function Is(){m&&m(),C&&C(),g.clear(),T&&T.abort(),y.fetchers.forEach((b,L)=>Mi(L)),y.blockers.forEach((b,L)=>Vl(L))}function Ts(b){return g.add(b),()=>g.delete(b)}function Et(b,L){L===void 0&&(L={}),y=We({},y,b);let F=[],H=[];f.v7_fetcherPersist&&y.fetchers.forEach((Y,ee)=>{Y.state==="idle"&&(ct.has(ee)?H.push(ee):F.push(ee))}),[...g].forEach(Y=>Y(y,{deletedFetchers:H,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),f.v7_fetcherPersist&&(F.forEach(Y=>y.fetchers.delete(Y)),H.forEach(Y=>Mi(Y)))}function hr(b,L,F){var H,Y;let{flushSync:ee}=F===void 0?{}:F,ne=y.actionData!=null&&y.navigation.formMethod!=null&&Vn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((H=b.state)==null?void 0:H._isRedirect)!==!0,Q;L.actionData?Object.keys(L.actionData).length>0?Q=L.actionData:Q=null:ne?Q=y.actionData:Q=null;let le=L.loaderData?e_(y.loaderData,L.loaderData,L.matches||[],L.errors):y.loaderData,ue=y.blockers;ue.size>0&&(ue=new Map(ue),ue.forEach((se,be)=>ue.set(be,sa)));let ut=E===!0||y.navigation.formMethod!=null&&Vn(y.navigation.formMethod)&&((Y=b.state)==null?void 0:Y._isRedirect)!==!0;l&&(o=l,l=void 0),G||_===st.Pop||(_===st.Push?t.history.push(b,b.state):_===st.Replace&&t.history.replace(b,b.state));let Be;if(_===st.Pop){let se=N.get(y.location.pathname);se&&se.has(b.pathname)?Be={currentLocation:y.location,nextLocation:b}:N.has(b.pathname)&&(Be={currentLocation:b,nextLocation:y.location})}else if(x){let se=N.get(y.location.pathname);se?se.add(b.pathname):(se=new Set([b.pathname]),N.set(y.location.pathname,se)),Be={currentLocation:y.location,nextLocation:b}}Et(We({},L,{actionData:Q,loaderData:le,historyAction:_,location:b,initialized:!0,navigation:ah,revalidation:"idle",restoreScrollPosition:ks(b,L.matches||y.matches),preventScrollReset:ut,blockers:ue}),{viewTransitionOpts:Be,flushSync:ee===!0}),_=st.Pop,E=!1,x=!1,G=!1,pe=!1,ve=[],Ue=[]}async function Ss(b,L){if(typeof b=="number"){t.history.go(b);return}let F=wf(y.location,y.matches,c,f.v7_prependBasename,b,f.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:H,submission:Y,error:ee}=Gy(f.v7_normalizeFormMethod,!1,F,L),ne=y.location,Q=tl(y.location,H,L&&L.state);Q=We({},Q,t.history.encodeLocation(Q));let le=L&&L.replace!=null?L.replace:void 0,ue=st.Push;le===!0?ue=st.Replace:le===!1||Y!=null&&Vn(Y.formMethod)&&Y.formAction===y.location.pathname+y.location.search&&(ue=st.Replace);let ut=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,Be=(L&&L.unstable_flushSync)===!0,se=Ps({currentLocation:ne,nextLocation:Q,historyAction:ue});if(se){Rs(se,{state:"blocked",location:Q,proceed(){Rs(se,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Ss(b,L)},reset(){let be=new Map(y.blockers);be.set(se,sa),Et({blockers:be})}});return}return await Yn(ue,Q,{submission:Y,pendingError:ee,preventScrollReset:ut,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:Be})}function Mo(){if(As(),Et({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Yn(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Yn(_||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Yn(b,L,F){T&&T.abort(),T=null,_=b,G=(F&&F.startUninterruptedRevalidation)===!0,zo(y.location,y.matches),E=(F&&F.preventScrollReset)===!0,x=(F&&F.enableViewTransition)===!0;let H=l||o,Y=F&&F.overrideNavigation,ee=eo(H,L,c),ne=(F&&F.flushSync)===!0;if(!ee){let se=wn(404,{pathname:L.pathname}),{matches:be,route:He}=n_(H);xs(),hr(L,{matches:be,loaderData:{},errors:{[He.id]:se}},{flushSync:ne});return}if(y.initialized&&!pe&&GA(y.location,L)&&!(F&&F.submission&&Vn(F.submission.formMethod))){hr(L,{matches:ee},{flushSync:ne});return}T=new AbortController;let Q=Ls(t.history,L,T.signal,F&&F.submission),le;if(F&&F.pendingError)le=[Na(ee).route.id,{type:$e.error,error:F.pendingError}];else if(F&&F.submission&&Vn(F.submission.formMethod)){let se=await Sd(Q,L,F.submission,ee,{replace:F.replace,flushSync:ne});if(se.shortCircuited)return;le=se.pendingActionResult,Y=lh(L,F.submission),ne=!1,Q=Ls(t.history,Q.url,Q.signal)}let{shortCircuited:ue,loaderData:ut,errors:Be}=await Cd(Q,L,ee,Y,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,ne,le);ue||(T=null,hr(L,We({matches:ee},t_(le),{loaderData:ut,errors:Be})))}async function Sd(b,L,F,H,Y){Y===void 0&&(Y={}),As();let ee=XA(L,F);Et({navigation:ee},{flushSync:Y.flushSync===!0});let ne,Q=If(H,L);if(!Q.route.action&&!Q.route.lazy)ne={type:$e.error,error:wn(405,{method:b.method,pathname:L.pathname,routeId:Q.route.id})};else if(ne=(await fr("action",b,[Q],H))[0],b.signal.aborted)return{shortCircuited:!0};if(Ki(ne)){let le;return Y&&Y.replace!=null?le=Y.replace:le=Xy(ne.response.headers.get("Location"),new URL(b.url),c)===y.location.pathname+y.location.search,await Li(b,ne,{submission:F,replace:le}),{shortCircuited:!0}}if(Gi(ne))throw wn(400,{type:"defer-action"});if(Tn(ne)){let le=Na(H,Q.route.id);return(Y&&Y.replace)!==!0&&(_=st.Push),{pendingActionResult:[le.route.id,ne]}}return{pendingActionResult:[Q.route.id,ne]}}async function Cd(b,L,F,H,Y,ee,ne,Q,le,ue){let ut=H||lh(L,Y),Be=Y||ee||s_(ut),se=l||o,[be,He]=Ky(t.history,y,F,Be,L,f.v7_partialHydration&&Q===!0,f.unstable_skipActionErrorRevalidation,pe,ve,Ue,ct,ke,ge,se,c,ue);if(xs(ye=>!(F&&F.some(It=>It.route.id===ye))||be&&be.some(It=>It.route.id===ye)),ae=++ie,be.length===0&&He.length===0){let ye=Fo();return hr(L,We({matches:F,loaderData:{},errors:ue&&Tn(ue[1])?{[ue[0]]:ue[1].error}:null},t_(ue),ye?{fetchers:new Map(y.fetchers)}:{}),{flushSync:le}),{shortCircuited:!0}}if(!G&&(!f.v7_partialHydration||!Q)){He.forEach(It=>{let Tt=y.fetchers.get(It.key),rt=oa(void 0,Tt?Tt.data:void 0);y.fetchers.set(It.key,rt)});let ye;ue&&!Tn(ue[1])?ye={[ue[0]]:ue[1].data}:y.actionData&&(Object.keys(y.actionData).length===0?ye=null:ye=y.actionData),Et(We({navigation:ut},ye!==void 0?{actionData:ye}:{},He.length>0?{fetchers:new Map(y.fetchers)}:{}),{flushSync:le})}He.forEach(ye=>{$.has(ye.key)&&Xn(ye.key),ye.controller&&$.set(ye.key,ye.controller)});let $r=()=>He.forEach(ye=>Xn(ye.key));T&&T.signal.addEventListener("abort",$r);let{loaderResults:vn,fetcherResults:Dn}=await Cs(y.matches,F,be,He,b);if(b.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",$r),He.forEach(ye=>$.delete(ye.key));let qt=r_([...vn,...Dn]);if(qt){if(qt.idx>=be.length){let ye=He[qt.idx-be.length].key;ge.add(ye)}return await Li(b,qt.result,{replace:ne}),{shortCircuited:!0}}let{loaderData:mr,errors:on}=Zy(y,F,be,vn,ue,He,Dn,vt);vt.forEach((ye,It)=>{ye.subscribe(Tt=>{(Tt||ye.done)&&vt.delete(It)})}),f.v7_partialHydration&&Q&&y.errors&&Object.entries(y.errors).filter(ye=>{let[It]=ye;return!be.some(Tt=>Tt.route.id===It)}).forEach(ye=>{let[It,Tt]=ye;on=Object.assign(on||{},{[It]:Tt})});let qr=Fo(),Hr=Uo(ae),Vi=qr||Hr||He.length>0;return We({loaderData:mr,errors:on},Vi?{fetchers:new Map(y.fetchers)}:{})}function Ll(b,L,F,H){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(b)&&Xn(b);let Y=(H&&H.unstable_flushSync)===!0,ee=l||o,ne=wf(y.location,y.matches,c,f.v7_prependBasename,F,f.v7_relativeSplatPath,L,H==null?void 0:H.relative),Q=eo(ee,ne,c);if(!Q){et(b,L,wn(404,{pathname:ne}),{flushSync:Y});return}let{path:le,submission:ue,error:ut}=Gy(f.v7_normalizeFormMethod,!0,ne,H);if(ut){et(b,L,ut,{flushSync:Y});return}let Be=If(Q,le);if(E=(H&&H.preventScrollReset)===!0,ue&&Vn(ue.formMethod)){Vo(b,L,le,Be,Q,Y,ue);return}ke.set(b,{routeId:L,path:le}),Ol(b,L,le,Be,Q,Y,ue)}async function Vo(b,L,F,H,Y,ee,ne){if(As(),ke.delete(b),!H.route.action&&!H.route.lazy){let rt=wn(405,{method:ne.formMethod,pathname:F,routeId:L});et(b,L,rt,{flushSync:ee});return}let Q=y.fetchers.get(b);Le(b,JA(ne,Q),{flushSync:ee});let le=new AbortController,ue=Ls(t.history,F,le.signal,ne);$.set(b,le);let ut=ie,se=(await fr("action",ue,[H],Y))[0];if(ue.signal.aborted){$.get(b)===le&&$.delete(b);return}if(f.v7_fetcherPersist&&ct.has(b)){if(Ki(se)||Tn(se)){Le(b,Xr(void 0));return}}else{if(Ki(se))if($.delete(b),ae>ut){Le(b,Xr(void 0));return}else return ge.add(b),Le(b,oa(ne)),Li(ue,se,{fetcherSubmission:ne});if(Tn(se)){et(b,L,se.error);return}}if(Gi(se))throw wn(400,{type:"defer-action"});let be=y.navigation.location||y.location,He=Ls(t.history,be,le.signal),$r=l||o,vn=y.navigation.state!=="idle"?eo($r,y.navigation.location,c):y.matches;me(vn,"Didn't find any matches after fetcher action");let Dn=++ie;Pe.set(b,Dn);let qt=oa(ne,se.data);y.fetchers.set(b,qt);let[mr,on]=Ky(t.history,y,vn,ne,be,!1,f.unstable_skipActionErrorRevalidation,pe,ve,Ue,ct,ke,ge,$r,c,[H.route.id,se]);on.filter(rt=>rt.key!==b).forEach(rt=>{let gr=rt.key,Wr=y.fetchers.get(gr),yr=oa(void 0,Wr?Wr.data:void 0);y.fetchers.set(gr,yr),$.has(gr)&&Xn(gr),rt.controller&&$.set(gr,rt.controller)}),Et({fetchers:new Map(y.fetchers)});let qr=()=>on.forEach(rt=>Xn(rt.key));le.signal.addEventListener("abort",qr);let{loaderResults:Hr,fetcherResults:Vi}=await Cs(y.matches,vn,mr,on,He);if(le.signal.aborted)return;le.signal.removeEventListener("abort",qr),Pe.delete(b),$.delete(b),on.forEach(rt=>$.delete(rt.key));let ye=r_([...Hr,...Vi]);if(ye){if(ye.idx>=mr.length){let rt=on[ye.idx-mr.length].key;ge.add(rt)}return Li(He,ye.result)}let{loaderData:It,errors:Tt}=Zy(y,y.matches,mr,Hr,void 0,on,Vi,vt);if(y.fetchers.has(b)){let rt=Xr(se.data);y.fetchers.set(b,rt)}Uo(Dn),y.navigation.state==="loading"&&Dn>ae?(me(_,"Expected pending action"),T&&T.abort(),hr(y.navigation.location,{matches:vn,loaderData:It,errors:Tt,fetchers:new Map(y.fetchers)})):(Et({errors:Tt,loaderData:e_(y.loaderData,It,vn,Tt),fetchers:new Map(y.fetchers)}),pe=!1)}async function Ol(b,L,F,H,Y,ee,ne){let Q=y.fetchers.get(b);Le(b,oa(ne,Q?Q.data:void 0),{flushSync:ee});let le=new AbortController,ue=Ls(t.history,F,le.signal);$.set(b,le);let ut=ie,se=(await fr("loader",ue,[H],Y))[0];if(Gi(se)&&(se=await cE(se,ue.signal,!0)||se),$.get(b)===le&&$.delete(b),!ue.signal.aborted){if(ct.has(b)){Le(b,Xr(void 0));return}if(Ki(se))if(ae>ut){Le(b,Xr(void 0));return}else{ge.add(b),await Li(ue,se);return}if(Tn(se)){et(b,L,se.error);return}me(!Gi(se),"Unhandled fetcher deferred data"),Le(b,Xr(se.data))}}async function Li(b,L,F){let{submission:H,fetcherSubmission:Y,replace:ee}=F===void 0?{}:F;L.response.headers.has("X-Remix-Revalidate")&&(pe=!0);let ne=L.response.headers.get("Location");me(ne,"Expected a Location header on the redirect Response"),ne=Xy(ne,new URL(b.url),c);let Q=tl(y.location,ne,{_isRedirect:!0});if(n){let be=!1;if(L.response.headers.has("X-Remix-Reload-Document"))be=!0;else if(Qp.test(ne)){const He=t.history.createURL(ne);be=He.origin!==e.location.origin||Or(He.pathname,c)==null}if(be){ee?e.location.replace(ne):e.location.assign(ne);return}}T=null;let le=ee===!0?st.Replace:st.Push,{formMethod:ue,formAction:ut,formEncType:Be}=y.navigation;!H&&!Y&&ue&&ut&&Be&&(H=s_(y.navigation));let se=H||Y;if(jA.has(L.response.status)&&se&&Vn(se.formMethod))await Yn(le,Q,{submission:We({},se,{formAction:ne}),preventScrollReset:E});else{let be=lh(Q,H);await Yn(le,Q,{overrideNavigation:be,fetcherSubmission:Y,preventScrollReset:E})}}async function fr(b,L,F,H){try{let Y=await zA(u,b,L,F,H,s,i);return await Promise.all(Y.map((ee,ne)=>{if(KA(ee)){let Q=ee.result;return{type:$e.redirect,response:HA(Q,L,F[ne].route.id,H,c,f.v7_relativeSplatPath)}}return qA(ee)}))}catch(Y){return F.map(()=>({type:$e.error,error:Y}))}}async function Cs(b,L,F,H,Y){let[ee,...ne]=await Promise.all([F.length?fr("loader",Y,F,L):[],...H.map(Q=>{if(Q.matches&&Q.match&&Q.controller){let le=Ls(t.history,Q.path,Q.controller.signal);return fr("loader",le,[Q.match],Q.matches).then(ue=>ue[0])}else return Promise.resolve({type:$e.error,error:wn(404,{pathname:Q.path})})})]);return await Promise.all([i_(b,F,ee,ee.map(()=>Y.signal),!1,y.loaderData),i_(b,H.map(Q=>Q.match),ne,H.map(Q=>Q.controller?Q.controller.signal:null),!0)]),{loaderResults:ee,fetcherResults:ne}}function As(){pe=!0,ve.push(...xs()),ke.forEach((b,L)=>{$.has(L)&&(Ue.push(L),Xn(L))})}function Le(b,L,F){F===void 0&&(F={}),y.fetchers.set(b,L),Et({fetchers:new Map(y.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function et(b,L,F,H){H===void 0&&(H={});let Y=Na(y.matches,L);Mi(b),Et({errors:{[Y.route.id]:F},fetchers:new Map(y.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Oi(b){return f.v7_fetcherPersist&&($t.set(b,($t.get(b)||0)+1),ct.has(b)&&ct.delete(b)),y.fetchers.get(b)||LA}function Mi(b){let L=y.fetchers.get(b);$.has(b)&&!(L&&L.state==="loading"&&Pe.has(b))&&Xn(b),ke.delete(b),Pe.delete(b),ge.delete(b),ct.delete(b),y.fetchers.delete(b)}function Ml(b){if(f.v7_fetcherPersist){let L=($t.get(b)||0)-1;L<=0?($t.delete(b),ct.add(b)):$t.set(b,L)}else Mi(b);Et({fetchers:new Map(y.fetchers)})}function Xn(b){let L=$.get(b);me(L,"Expected fetch controller: "+b),L.abort(),$.delete(b)}function Br(b){for(let L of b){let F=Oi(L),H=Xr(F.data);y.fetchers.set(L,H)}}function Fo(){let b=[],L=!1;for(let F of ge){let H=y.fetchers.get(F);me(H,"Expected fetcher: "+F),H.state==="loading"&&(ge.delete(F),b.push(F),L=!0)}return Br(b),L}function Uo(b){let L=[];for(let[F,H]of Pe)if(H<b){let Y=y.fetchers.get(F);me(Y,"Expected fetcher: "+F),Y.state==="loading"&&(Xn(F),Pe.delete(F),L.push(F))}return Br(L),L.length>0}function Bo(b,L){let F=y.blockers.get(b)||sa;return wt.get(b)!==L&&wt.set(b,L),F}function Vl(b){y.blockers.delete(b),wt.delete(b)}function Rs(b,L){let F=y.blockers.get(b)||sa;me(F.state==="unblocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="proceeding"||F.state==="blocked"&&L.state==="unblocked"||F.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+L.state);let H=new Map(y.blockers);H.set(b,L),Et({blockers:H})}function Ps(b){let{currentLocation:L,nextLocation:F,historyAction:H}=b;if(wt.size===0)return;wt.size>1&&wo(!1,"A router only supports one blocker at a time");let Y=Array.from(wt.entries()),[ee,ne]=Y[Y.length-1],Q=y.blockers.get(ee);if(!(Q&&Q.state==="proceeding")&&ne({currentLocation:L,nextLocation:F,historyAction:H}))return ee}function xs(b){let L=[];return vt.forEach((F,H)=>{(!b||b(H))&&(F.cancel(),L.push(H),vt.delete(H))}),L}function Fl(b,L,F){if(I=b,P=L,R=F||null,!k&&y.navigation===ah){k=!0;let H=ks(y.location,y.matches);H!=null&&Et({restoreScrollPosition:H})}return()=>{I=null,P=null,R=null}}function zr(b,L){return R&&R(b,L.map(H=>hA(H,y.loaderData)))||b.key}function zo(b,L){if(I&&P){let F=zr(b,L);I[F]=P()}}function ks(b,L){if(I){let F=zr(b,L),H=I[F];if(typeof H=="number")return H}return null}function pr(b){s={},l=_f(b,i,void 0,s)}return V={get basename(){return c},get future(){return f},get state(){return y},get routes(){return o},get window(){return e},initialize:Td,subscribe:Ts,enableScrollRestoration:Fl,navigate:Ss,fetch:Ll,revalidate:Mo,createHref:b=>t.history.createHref(b),encodeLocation:b=>t.history.encodeLocation(b),getFetcher:Oi,deleteFetcher:Ml,dispose:Is,getBlocker:Bo,deleteBlocker:Vl,_internalFetchControllers:$,_internalActiveDeferreds:vt,_internalSetRoutes:pr},V}function VA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function wf(t,e,n,r,i,s,o,l){let c,u;if(o){c=[];for(let m of e)if(c.push(m),m.route.id===o){u=m;break}}else c=e,u=e[e.length-1];let f=Wp(i||".",Hp(c,s),Or(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Yp(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:xr([n,f.pathname])),os(f)}function Gy(t,e,n,r){if(!r||!VA(r))return{path:n};if(r.formMethod&&!YA(r.formMethod))return{path:n,error:wn(405,{method:r.formMethod})};let i=()=>({path:n,error:wn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=aE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Vn(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((I,R)=>{let[P,k]=R;return""+I+P+"="+k+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Vn(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}me(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=Ef(r.formData),u=r.formData;else if(r.body instanceof FormData)c=Ef(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=Jy(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=Jy(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Vn(f.formMethod))return{path:n,submission:f};let m=Ri(n);return e&&m.search&&Yp(m.search)&&c.append("index",""),m.search="?"+c,{path:os(m),submission:f}}function FA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Ky(t,e,n,r,i,s,o,l,c,u,f,m,g,I,R,P){let k=P?Tn(P[1])?P[1].error:P[1].data:void 0,S=t.createURL(e.location),w=t.createURL(i),A=P&&Tn(P[1])?P[0]:void 0,j=A?FA(n,A):n,B=P?P[1].statusCode:void 0,V=o&&B&&B>=400,y=j.filter((E,T)=>{let{route:x}=E;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return typeof x.loader!="function"||x.loader.hydrate?!0:e.loaderData[x.id]===void 0&&(!e.errors||e.errors[x.id]===void 0);if(UA(e.loaderData,e.matches[T],E)||c.some(G=>G===E.route.id))return!0;let N=e.matches[T],C=E;return Qy(E,We({currentUrl:S,currentParams:N.params,nextUrl:w,nextParams:C.params},r,{actionResult:k,unstable_actionStatus:B,defaultShouldRevalidate:V?!1:l||S.pathname+S.search===w.pathname+w.search||S.search!==w.search||oE(N,C)}))}),_=[];return m.forEach((E,T)=>{if(s||!n.some(pe=>pe.route.id===E.routeId)||f.has(T))return;let x=eo(I,E.path,R);if(!x){_.push({key:T,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(T),C=If(x,E.path),G=!1;g.has(T)?G=!1:u.includes(T)?G=!0:N&&N.state!=="idle"&&N.data===void 0?G=l:G=Qy(C,We({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:k,unstable_actionStatus:B,defaultShouldRevalidate:V?!1:l})),G&&_.push({key:T,routeId:E.routeId,path:E.path,matches:x,match:C,controller:new AbortController})}),[y,_]}function UA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function oE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Qy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Yy(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];me(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";wo(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!uA.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,We({},e(i),{lazy:void 0}))}function BA(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function zA(t,e,n,r,i,s,o,l){let c=r.reduce((m,g)=>m.add(g.route.id),new Set),u=new Set,f=await t({matches:i.map(m=>{let g=c.has(m.route.id);return We({},m,{shouldLoad:g,resolve:R=>(u.add(m.route.id),g?$A(e,n,m,s,o,R,l):Promise.resolve({type:$e.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(m=>me(u.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((m,g)=>c.has(i[g].route.id))}async function $A(t,e,n,r,i,s,o){let l,c,u=f=>{let m,g=new Promise((P,k)=>m=k);c=()=>m(),e.signal.addEventListener("abort",c);let I=P=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:o},...P!==void 0?[P]:[]),R;return s?R=s(P=>I(P)):R=(async()=>{try{return{type:"data",result:await I()}}catch(P){return{type:"error",result:P}}})(),Promise.race([R,g])};try{let f=n.route[t];if(n.route.lazy)if(f){let m,[g]=await Promise.all([u(f).catch(I=>{m=I}),Yy(n.route,i,r)]);if(m!==void 0)throw m;l=g}else if(await Yy(n.route,i,r),f=n.route[t],f)l=await u(f);else if(t==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw wn(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:$e.data,result:void 0};else if(f)l=await u(f);else{let m=new URL(e.url),g=m.pathname+m.search;throw wn(404,{pathname:g})}me(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:$e.error,result:f}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function qA(t){let{result:e,type:n,status:r}=t;if(lE(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:$e.error,error:l}}return n===$e.error?{type:$e.error,error:new Gp(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:$e.data,data:o,statusCode:e.status,headers:e.headers}}if(n===$e.error)return{type:$e.error,error:e,statusCode:Kp(e)?e.status:r};if(QA(e)){var i,s;return{type:$e.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:$e.data,data:e,statusCode:r}}function HA(t,e,n,r,i,s){let o=t.headers.get("Location");if(me(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Qp.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=wf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Xy(t,e,n){if(Qp.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Or(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ls(t,e,n,r){let i=t.createURL(aE(e)).toString(),s={signal:n};if(r&&Vn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Ef(r.formData):s.body=r.formData}return new Request(i,s)}function Ef(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Jy(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function WA(t,e,n,r,i,s){let o={},l=null,c,u=!1,f={},m=r&&Tn(r[1])?r[1].error:void 0;return n.forEach((g,I)=>{let R=e[I].route.id;if(me(!Ki(g),"Cannot handle redirect results in processLoaderData"),Tn(g)){let P=g.error;m!==void 0&&(P=m,m=void 0),l=l||{};{let k=Na(t,R);l[k.route.id]==null&&(l[k.route.id]=P)}o[R]=void 0,u||(u=!0,c=Kp(g.error)?g.error.status:500),g.headers&&(f[R]=g.headers)}else Gi(g)?(i.set(R,g.deferredData),o[R]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!u&&(c=g.statusCode),g.headers&&(f[R]=g.headers)):(o[R]=g.data,g.statusCode&&g.statusCode!==200&&!u&&(c=g.statusCode),g.headers&&(f[R]=g.headers))}),m!==void 0&&r&&(l={[r[0]]:m},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:f}}function Zy(t,e,n,r,i,s,o,l){let{loaderData:c,errors:u}=WA(e,n,r,i,l);for(let f=0;f<s.length;f++){let{key:m,match:g,controller:I}=s[f];me(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let R=o[f];if(!(I&&I.signal.aborted))if(Tn(R)){let P=Na(t.matches,g==null?void 0:g.route.id);u&&u[P.route.id]||(u=We({},u,{[P.route.id]:R.error})),t.fetchers.delete(m)}else if(Ki(R))me(!1,"Unhandled fetcher revalidation redirect");else if(Gi(R))me(!1,"Unhandled fetcher deferred data");else{let P=Xr(R.data);t.fetchers.set(m,P)}}return{loaderData:c,errors:u}}function e_(t,e,n,r){let i=We({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function t_(t){return t?Tn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Na(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function n_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Gp(t||500,o,new Error(l),!0)}function r_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ki(n))return{result:n,idx:e}}}function aE(t){let e=typeof t=="string"?Ri(t):t;return os(We({},e,{hash:""}))}function GA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function KA(t){return lE(t.result)&&DA.has(t.result.status)}function Gi(t){return t.type===$e.deferred}function Tn(t){return t.type===$e.error}function Ki(t){return(t&&t.type)===$e.redirect}function QA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function lE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function YA(t){return bA.has(t.toLowerCase())}function Vn(t){return kA.has(t.toLowerCase())}async function i_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let u=t.find(m=>m.route.id===c.route.id),f=u!=null&&!oE(u,c)&&(s&&s[c.route.id])!==void 0;if(Gi(l)&&(i||f)){let m=r[o];me(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await cE(l,m,i).then(g=>{g&&(n[o]=g||n[o])})}}}async function cE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:$e.data,data:t.deferredData.unwrappedData}}catch(i){return{type:$e.error,error:i}}return{type:$e.data,data:t.deferredData.data}}}function Yp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function If(t,e){let n=typeof e=="string"?Ri(e).search:e.search;if(t[t.length-1].route.index&&Yp(n||""))return t[t.length-1];let r=rE(t);return r[r.length-1]}function s_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function lh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function XA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function oa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function JA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Xr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ZA(t,e){try{let n=t.sessionStorage.getItem(sE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function eR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(sE,JSON.stringify(n))}catch(r){wo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}const _l=M.createContext(null),Xp=M.createContext(null),Pi=M.createContext(null),Jp=M.createContext(null),xi=M.createContext({outlet:null,matches:[],isDataRoute:!1}),uE=M.createContext(null);function tR(t,e){let{relative:n}=e===void 0?{}:e;vl()||me(!1);let{basename:r,navigator:i}=M.useContext(Pi),{hash:s,pathname:o,search:l}=Xu(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:xr([r,o])),i.createHref({pathname:c,search:l,hash:s})}function vl(){return M.useContext(Jp)!=null}function wl(){return vl()||me(!1),M.useContext(Jp).location}function dE(t){M.useContext(Pi).static||M.useLayoutEffect(t)}function Yu(){let{isDataRoute:t}=M.useContext(xi);return t?mR():nR()}function nR(){vl()||me(!1);let t=M.useContext(_l),{basename:e,future:n,navigator:r}=M.useContext(Pi),{matches:i}=M.useContext(xi),{pathname:s}=wl(),o=JSON.stringify(Hp(i,n.v7_relativeSplatPath)),l=M.useRef(!1);return dE(()=>{l.current=!0}),M.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=Wp(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:xr([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,s,t])}const rR=M.createContext(null);function iR(t){let e=M.useContext(xi).outlet;return e&&M.createElement(rR.Provider,{value:t},e)}function Xu(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(Pi),{matches:i}=M.useContext(xi),{pathname:s}=wl(),o=JSON.stringify(Hp(i,r.v7_relativeSplatPath));return M.useMemo(()=>Wp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function sR(t,e,n,r){vl()||me(!1);let{navigator:i}=M.useContext(Pi),{matches:s}=M.useContext(xi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=wl(),f;f=u;let m=f.pathname||"/",g=m;if(c!=="/"){let P=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let I=eo(t,{pathname:g});return uR(I&&I.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:xr([c,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:xr([c,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r)}function oR(){let t=pR(),e=Kp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const aR=M.createElement(oR,null);class lR extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(xi.Provider,{value:this.props.routeContext},M.createElement(uE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cR(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(_l);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(xi.Provider,{value:e},r)}function uR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||me(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:I}=n,R=m.route.loader&&g[m.route.id]===void 0&&(!I||I[m.route.id]===void 0);if(m.route.lazy||R){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let I,R=!1,P=null,k=null;n&&(I=l&&m.route.id?l[m.route.id]:void 0,P=m.route.errorElement||aR,c&&(u<0&&g===0?(gR("route-fallback"),R=!0,k=null):u===g&&(R=!0,k=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,g+1)),w=()=>{let A;return I?A=P:R?A=k:m.route.Component?A=M.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=f,M.createElement(cR,{match:m,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?M.createElement(lR,{location:n.location,revalidation:n.revalidation,component:P,error:I,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}var hE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hE||{}),du=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(du||{});function dR(t){let e=M.useContext(_l);return e||me(!1),e}function hR(t){let e=M.useContext(Xp);return e||me(!1),e}function fR(t){let e=M.useContext(xi);return e||me(!1),e}function fE(t){let e=fR(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function pR(){var t;let e=M.useContext(uE),n=hR(du.UseRouteError),r=fE(du.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mR(){let{router:t}=dR(hE.UseNavigateStable),e=fE(du.UseNavigateStable),n=M.useRef(!1);return dE(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,uu({fromRouteId:e},s)))},[t,e])}const o_={};function gR(t,e,n){o_[t]||(o_[t]=!0)}function yR(t){return iR(t.context)}function _R(t){let{basename:e="/",children:n=null,location:r,navigationType:i=st.Pop,navigator:s,static:o=!1,future:l}=t;vl()&&me(!1);let c=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:c,navigator:s,static:o,future:uu({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Ri(r));let{pathname:f="/",search:m="",hash:g="",state:I=null,key:R="default"}=r,P=M.useMemo(()=>{let k=Or(f,c);return k==null?null:{location:{pathname:k,search:m,hash:g,state:I,key:R},navigationType:i}},[c,f,m,g,I,R,i]);return P==null?null:M.createElement(Pi.Provider,{value:u},M.createElement(Jp.Provider,{children:n,value:P}))}new Promise(()=>{});function vR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:M.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eo.apply(this,arguments)}function pE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ER(t,e){return t.button===0&&(!e||e==="_self")&&!wR(t)}const IR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],TR=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],SR="6";try{window.__reactRouterVersion=SR}catch{}function CR(t,e){return MA({basename:void 0,future:Eo({},void 0,{v7_prependBasename:!0}),history:aA({window:void 0}),hydrationData:AR(),routes:t,mapRouteProperties:vR,unstable_dataStrategy:void 0,window:void 0}).initialize()}function AR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Eo({},e,{errors:RR(e.errors)})),e}function RR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Gp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const mE=M.createContext({isTransitioning:!1}),PR=M.createContext(new Map),xR="startTransition",a_=K1[xR],kR="flushSync",l_=oA[kR];function NR(t){a_?a_(t):t()}function aa(t){l_?l_(t):t()}let bR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function DR(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=M.useState(n.state),[o,l]=M.useState(),[c,u]=M.useState({isTransitioning:!1}),[f,m]=M.useState(),[g,I]=M.useState(),[R,P]=M.useState(),k=M.useRef(new Map),{v7_startTransition:S}=r||{},w=M.useCallback(y=>{S?NR(y):y()},[S]),A=M.useCallback((y,_)=>{let{deletedFetchers:E,unstable_flushSync:T,unstable_viewTransitionOpts:x}=_;E.forEach(C=>k.current.delete(C)),y.fetchers.forEach((C,G)=>{C.data!==void 0&&k.current.set(G,C.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!x||N){T?aa(()=>s(y)):w(()=>s(y));return}if(T){aa(()=>{g&&(f&&f.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let C=n.window.document.startViewTransition(()=>{aa(()=>s(y))});C.finished.finally(()=>{aa(()=>{m(void 0),I(void 0),l(void 0),u({isTransitioning:!1})})}),aa(()=>I(C));return}g?(f&&f.resolve(),g.skipTransition(),P({state:y,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(l(y),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[n.window,g,f,k,w]);M.useLayoutEffect(()=>n.subscribe(A),[n,A]),M.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new bR)},[c]),M.useEffect(()=>{if(f&&o&&n.window){let y=o,_=f.promise,E=n.window.document.startViewTransition(async()=>{w(()=>s(y)),await _});E.finished.finally(()=>{m(void 0),I(void 0),l(void 0),u({isTransitioning:!1})}),I(E)}},[w,o,f,n.window]),M.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,g,i.location,o]),M.useEffect(()=>{!c.isTransitioning&&R&&(l(R.state),u({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),P(void 0))},[c.isTransitioning,R]),M.useEffect(()=>{},[]);let j=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,_,E)=>n.navigate(y,{state:_,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(y,_,E)=>n.navigate(y,{replace:!0,state:_,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[n]),B=n.basename||"/",V=M.useMemo(()=>({router:n,navigator:j,static:!1,basename:B}),[n,j,B]);return M.createElement(M.Fragment,null,M.createElement(_l.Provider,{value:V},M.createElement(Xp.Provider,{value:i},M.createElement(PR.Provider,{value:k.current},M.createElement(mE.Provider,{value:c},M.createElement(_R,{basename:B,location:i.location,navigationType:i.historyAction,navigator:j,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?M.createElement(jR,{routes:n.routes,future:n.future,state:i}):e))))),null)}function jR(t){let{routes:e,future:n,state:r}=t;return sR(e,void 0,r,n)}const LR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,unstable_viewTransition:m}=e,g=pE(e,IR),{basename:I}=M.useContext(Pi),R,P=!1;if(typeof u=="string"&&OR.test(u)&&(R=u,LR))try{let A=new URL(window.location.href),j=u.startsWith("//")?new URL(A.protocol+u):new URL(u),B=Or(j.pathname,I);j.origin===A.origin&&B!=null?u=B+j.search+j.hash:P=!0}catch{}let k=tR(u,{relative:i}),S=VR(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,unstable_viewTransition:m});function w(A){r&&r(A),A.defaultPrevented||S(A)}return M.createElement("a",Eo({},g,{href:R||k,onClick:P||s?r:w,ref:n,target:c}))}),Zn=M.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,unstable_viewTransition:u,children:f}=e,m=pE(e,TR),g=Xu(c,{relative:m.relative}),I=wl(),R=M.useContext(Xp),{navigator:P,basename:k}=M.useContext(Pi),S=R!=null&&FR(g)&&u===!0,w=P.encodeLocation?P.encodeLocation(g).pathname:g.pathname,A=I.pathname,j=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(A=A.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&k&&(j=Or(j,k)||j);const B=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=A===w||!o&&A.startsWith(w)&&A.charAt(B)==="/",y=j!=null&&(j===w||!o&&j.startsWith(w)&&j.charAt(w.length)==="/"),_={isActive:V,isPending:y,isTransitioning:S},E=V?r:void 0,T;typeof s=="function"?T=s(_):T=[s,V?"active":null,y?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(_):l;return M.createElement(Ae,Eo({},m,{"aria-current":E,className:T,ref:n,style:x,to:c,unstable_viewTransition:u}),typeof f=="function"?f(_):f)});var Tf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tf||(Tf={}));var c_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c_||(c_={}));function MR(t){let e=M.useContext(_l);return e||me(!1),e}function VR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=Yu(),u=wl(),f=Xu(t,{relative:o});return M.useCallback(m=>{if(ER(m,n)){m.preventDefault();let g=r!==void 0?r:os(u)===os(f);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,c,f,r,i,n,t,s,o,l])}function FR(t,e){e===void 0&&(e={});let n=M.useContext(mE);n==null&&me(!1);let{basename:r}=MR(Tf.useViewTransitionState),i=Xu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Or(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Or(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vf(i.pathname,o)!=null||vf(i.pathname,s)!=null}const ze=[{path:"/",name:"Inicio"},{path:"/menu",name:"Menu",children:[{path:"/menu/hamburguesas",name:"Hamburguesas"}]},{path:"/nosotros",name:"Nosotros"},{path:"/ayuda",name:"Ayuda"},{path:"/acceder",name:"Acceder"},{path:"/login",name:"IniciarSesion"},{path:"/*",name:"Error"},{path:"/perfil",name:"Perfil",children:[{path:"/perfil/editarperfil",name:"EditarPerfil"}]},{path:"/comentarios",name:"Comentarios"},{path:"/menuadmin",name:"MenuAdmin"},{path:"/historial",name:"Historial"},{path:"/pedidosactuales",name:"PedidosActuales"},{path:"/cliente",name:"Cliente"}];var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|u>>6,I=u&63;c||(I=64,o||(g=64)),r.push(n[f],n[m],n[g],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||m==null)throw new BR;const g=s<<2|l>>4;if(r.push(g),u!==64){const I=l<<4&240|u>>2;if(r.push(I),m!==64){const R=u<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zR=function(t){const e=gE(t);return yE.encodeByteArray(e,!0)},hu=function(t){return zR(t).replace(/\./g,"")},_E=function(t){try{return yE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=()=>$R().__FIREBASE_DEFAULTS__,HR=()=>{if(typeof process>"u"||typeof u_>"u")return;const t=u_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_E(t[1]);return e&&JSON.parse(e)},Ju=()=>{try{return qR()||HR()||WR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vE=t=>{var e,n;return(n=(e=Ju())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GR=t=>{const e=vE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wE=()=>{var t;return(t=Ju())===null||t===void 0?void 0:t.config},EE=t=>{var e;return(e=Ju())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hu(JSON.stringify(n)),hu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function XR(){var t;const e=(t=Ju())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZR(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eP(){return!XR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TE(){try{return typeof indexedDB=="object"}catch{return!1}}function SE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function tP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="FirebaseError";class bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nP,Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ys.prototype.create)}}class ys{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rP(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new bn(i,l,r)}}function rP(t,e){return t.replace(iP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iP=/\{\$([^}]+)}/g;function sP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(d_(s)&&d_(o)){if(!fu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function d_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ma(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ga(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oP(t,e){const n=new aP(t,e);return n.subscribe.bind(n)}class aP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ch),i.error===void 0&&(i.error=ch),i.complete===void 0&&(i.complete=ch);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ch(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=1e3,uP=2,dP=4*60*60*1e3,hP=.5;function h_(t,e=cP,n=uP){const r=e*Math.pow(n,t),i=Math.round(hP*r*(Math.random()-.5)*2);return Math.min(dP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class kn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mP(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pP(t){return t===$i?void 0:t}function mP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const yP={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},_P=Ee.INFO,vP={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},wP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zu{constructor(e){this.name=e,this._logLevel=_P,this._logHandler=wP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const EP=(t,e)=>e.some(n=>t instanceof n);let f_,p_;function IP(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TP(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,Sf=new WeakMap,AE=new WeakMap,uh=new WeakMap,Zp=new WeakMap;function SP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CE.set(n,t)}).catch(()=>{}),Zp.set(e,t),e}function CP(t){if(Sf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sf.set(t,e)}let Cf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AP(t){Cf=t(Cf)}function RP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dh(this),e,...n);return AE.set(r,e.sort?e.sort():[e]),mi(r)}:TP().includes(t)?function(...e){return t.apply(dh(this),e),mi(CE.get(this))}:function(...e){return mi(t.apply(dh(this),e))}}function PP(t){return typeof t=="function"?RP(t):(t instanceof IDBTransaction&&CP(t),EP(t,IP())?new Proxy(t,Cf):t)}function mi(t){if(t instanceof IDBRequest)return SP(t);if(uh.has(t))return uh.get(t);const e=PP(t);return e!==t&&(uh.set(t,e),Zp.set(e,t)),e}const dh=t=>Zp.get(t);function RE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=mi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(mi(o.result),c.oldVersion,c.newVersion,mi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const xP=["get","getKey","getAll","getAllKeys","count"],kP=["put","add","delete","clear"],hh=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hh.get(e))return hh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xP.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return hh.set(e,s),s}AP(t=>({...t,get:(e,n,r)=>m_(e,n)||t.get(e,n,r),has:(e,n)=>!!m_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Af="@firebase/app",g_="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Zu("@firebase/app"),DP="@firebase/app-compat",jP="@firebase/analytics-compat",LP="@firebase/analytics",OP="@firebase/app-check-compat",MP="@firebase/app-check",VP="@firebase/auth",FP="@firebase/auth-compat",UP="@firebase/database",BP="@firebase/database-compat",zP="@firebase/functions",$P="@firebase/functions-compat",qP="@firebase/installations",HP="@firebase/installations-compat",WP="@firebase/messaging",GP="@firebase/messaging-compat",KP="@firebase/performance",QP="@firebase/performance-compat",YP="@firebase/remote-config",XP="@firebase/remote-config-compat",JP="@firebase/storage",ZP="@firebase/storage-compat",ex="@firebase/firestore",tx="@firebase/vertexai-preview",nx="@firebase/firestore-compat",rx="firebase",ix="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="[DEFAULT]",sx={[Af]:"fire-core",[DP]:"fire-core-compat",[LP]:"fire-analytics",[jP]:"fire-analytics-compat",[MP]:"fire-app-check",[OP]:"fire-app-check-compat",[VP]:"fire-auth",[FP]:"fire-auth-compat",[UP]:"fire-rtdb",[BP]:"fire-rtdb-compat",[zP]:"fire-fn",[$P]:"fire-fn-compat",[qP]:"fire-iid",[HP]:"fire-iid-compat",[WP]:"fire-fcm",[GP]:"fire-fcm-compat",[KP]:"fire-perf",[QP]:"fire-perf-compat",[YP]:"fire-rc",[XP]:"fire-rc-compat",[JP]:"fire-gcs",[ZP]:"fire-gcs-compat",[ex]:"fire-fst",[nx]:"fire-fst-compat",[tx]:"fire-vertex","fire-js":"fire-js",[rx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,ox=new Map,Pf=new Map;function y_(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kn(t){const e=t.name;if(Pf.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,t);for(const n of pu.values())y_(n,t);for(const n of ox.values())y_(n,t);return!0}function Il(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new ys("app","Firebase",ax);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=ix;function em(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(n||(n=wE()),!n)throw gi.create("no-options");const s=pu.get(i);if(s){if(fu(n,s.options)&&fu(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new gP(i);for(const c of Pf.values())o.addComponent(c);const l=new lx(n,r,o);return pu.set(i,l),l}function PE(t=Rf){const e=pu.get(t);if(!e&&t===Rf&&wE())return em();if(!e)throw gi.create("no-app",{appName:t});return e}function rn(t,e,n){var r;let i=(r=sx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(l.join(" "));return}Kn(new kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="firebase-heartbeat-database",ux=1,nl="firebase-heartbeat-store";let fh=null;function xE(){return fh||(fh=RE(cx,ux,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nl)}catch(n){console.warn(n)}}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),fh}async function dx(t){try{const n=(await xE()).transaction(nl),r=await n.objectStore(nl).get(kE(t));return await n.done,r}catch(e){if(e instanceof bn)as.warn(e.message);else{const n=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function __(t,e){try{const r=(await xE()).transaction(nl,"readwrite");await r.objectStore(nl).put(e,kE(t)),await r.done}catch(n){if(n instanceof bn)as.warn(n.message);else{const r=gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function kE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=1024,fx=30*24*60*60*1e3;class px{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=fx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v_(),{heartbeatsToSend:r,unsentEntries:i}=mx(this._heartbeatsCache.heartbeats),s=hu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function v_(){return new Date().toISOString().substring(0,10)}function mx(t,e=hx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TE()?SE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w_(t){return hu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t){Kn(new kn("platform-logger",e=>new NP(e),"PRIVATE")),Kn(new kn("heartbeat",e=>new px(e),"PRIVATE")),rn(Af,g_,t),rn(Af,g_,"esm2017"),rn("fire-js","")}yx("");function tm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function NE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _x=NE,bE=new ys("auth","Firebase",NE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Zu("@firebase/auth");function vx(t,...e){mu.logLevel<=Ee.WARN&&mu.warn(`Auth (${_s}): ${t}`,...e)}function Nc(t,...e){mu.logLevel<=Ee.ERROR&&mu.error(`Auth (${_s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw rm(t,...e)}function qn(t,...e){return rm(t,...e)}function nm(t,e,n){const r=Object.assign(Object.assign({},_x()),{[e]:n});return new ys("auth","Firebase",r).create(e,{appName:t.name})}function kr(t){return nm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nn(t,"argument-error"),nm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bE.create(t,...e)}function oe(t,e,...n){if(!t)throw rm(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nc(e),new Error(e)}function Mr(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ex(){return E_()==="http:"||E_()==="https:"}function E_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ex()||IE()||"connection"in navigator)?navigator.onLine:!0}function Tx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=YR()||JR()}get(){return Ix()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e){Mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new Tl(3e4,6e4);function ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ni(t,e,n,r,i={}){return jE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=El(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),DE.fetch()(LE(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function jE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sx),e);try{const i=new Rx(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw fc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw fc(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nm(t,f,u);Nn(t,f)}}catch(i){if(i instanceof bn)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function Sl(t,e,n,r,i={}){const s=await Ni(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function LE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?im(t.config,i):`${t.config.apiScheme}://${i}`}function Ax(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qn(this.auth,"network-request-failed")),Cx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qn(t,e,r);return i.customData._tokenResponse=n,i}function I_(t){return t!==void 0&&t.enterprise!==void 0}class Px{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ax(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xx(t,e){return Ni(t,"GET","/v2/recaptchaConfig",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e){return Ni(t,"POST","/v1/accounts:delete",e)}async function OE(t,e){return Ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nx(t,e=!1){const n=nt(t),r=await n.getIdToken(e),i=sm(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ba(ph(i.auth_time)),issuedAtTime:ba(ph(i.iat)),expirationTime:ba(ph(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ph(t){return Number(t)*1e3}function sm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const i=_E(n);return i?JSON.parse(i):(Nc("Failed to decode base64 JWT payload"),null)}catch(i){return Nc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function T_(t){const e=sm(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bn&&bx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await rl(t,OE(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ME(s.providerUserInfo):[],l=Lx(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new kf(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function jx(t){const e=nt(t);await gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ME(t){return t.map(e=>{var{providerId:n}=e,r=tm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(t,e){const n=await jE(t,{},async()=>{const r=El({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=LE(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",DE.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mx(t,e){return Ni(t,"POST","/v2/accounts:revokeToken",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=T_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Ox(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ao;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ar{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await rl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Nx(this,e)}reload(){return jx(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await rl(this,kx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,R=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:A,emailVerified:j,isAnonymous:B,providerData:V,stsTokenManager:y}=n;oe(A&&y,e,"internal-error");const _=ao.fromJSON(this.name,y);oe(typeof A=="string",e,"internal-error"),Yr(m,e.name),Yr(g,e.name),oe(typeof j=="boolean",e,"internal-error"),oe(typeof B=="boolean",e,"internal-error"),Yr(I,e.name),Yr(R,e.name),Yr(P,e.name),Yr(k,e.name),Yr(S,e.name),Yr(w,e.name);const E=new Ar({uid:A,auth:e,email:g,emailVerified:j,displayName:m,isAnonymous:B,photoURL:R,phoneNumber:I,tenantId:P,stsTokenManager:_,createdAt:S,lastLoginAt:w});return V&&Array.isArray(V)&&(E.providerData=V.map(T=>Object.assign({},T))),k&&(E._redirectEventId=k),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new ao;i.updateFromServerResponse(n);const s=new Ar({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ME(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new ao;l.updateFromIdToken(r);const c=new Ar({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function Rr(t){Mr(t instanceof Function,"Expected a class definition");let e=S_.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,S_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VE.type="NONE";const C_=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e,n){return`firebase:${t}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bc(this.userKey,i.apiKey,s),this.fullPersistenceKey=bc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo(Rr(C_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Rr(C_);const o=bc(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const f=await u._get(o);if(f){const m=Ar._fromJSON(e,f);u!==s&&(l=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new lo(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new lo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(qE(e))return"Webos";if(om(e))return"Safari";if((e.includes("chrome/")||UE(e))&&!e.includes("edge/"))return"Chrome";if(zE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FE(t=Nt()){return/firefox\//i.test(t)}function om(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UE(t=Nt()){return/crios\//i.test(t)}function BE(t=Nt()){return/iemobile/i.test(t)}function zE(t=Nt()){return/android/i.test(t)}function $E(t=Nt()){return/blackberry/i.test(t)}function qE(t=Nt()){return/webos/i.test(t)}function ed(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vx(t=Nt()){var e;return ed(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fx(){return ZR()&&document.documentMode===10}function HE(t=Nt()){return ed(t)||zE(t)||qE(t)||$E(t)||/windows phone/i.test(t)||BE(t)}function Ux(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t,e=[]){let n;switch(t){case"Browser":n=A_(Nt());break;case"Worker":n=`${A_(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(t,e={}){return Ni(t,"GET","/v2/passwordPolicy",ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=6;class qx{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$x,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new Bx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await OE(this,{idToken:e}),r=await Ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(kr(this));const n=e?nt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zx(this),n=new qx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ys("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bi(t){return nt(t)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=oP(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wx(t){td=t}function GE(t){return td.loadJS(t)}function Gx(){return td.recaptchaEnterpriseScript}function Kx(){return td.gapiScript}function Qx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Yx="recaptcha-enterprise",Xx="NO_RECAPTCHA";class Jx{constructor(e){this.type=Yx,this.auth=bi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{xx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Px(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;I_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Xx)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&I_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Gx();c.length!==0&&(c+=l),GE(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function P_(t,e,n,r=!1){const i=new Jx(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Nf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await P_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await P_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t,e){const n=Il(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(fu(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function ek(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tk(t,e,n){const r=bi(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=KE(e),{host:o,port:l}=nk(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),rk()}function KE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nk(t){const e=KE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:x_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:x_(o)}}}function x_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function ik(t,e){return Ni(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e){return Sl(t,"POST","/v1/accounts:signInWithPassword",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t,e){return Sl(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}async function ak(t,e){return Sl(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends am{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new il(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new il(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nf(e,n,"signInWithPassword",sk);case"emailLink":return ok(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nf(e,r,"signUpPassword",ik);case"emailLink":return ak(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(t,e){return Sl(t,"POST","/v1/accounts:signInWithIdp",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="http://localhost";class ls extends am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=tm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ls(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:lk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=El(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uk(t){const e=ma(ga(t)).link,n=e?ma(ga(e)).deep_link_id:null,r=ma(ga(t)).deep_link_id;return(r?ma(ga(r)).link:null)||r||n||e||t}class lm{constructor(e){var n,r,i,s,o,l;const c=ma(ga(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,m=ck((i=c.mode)!==null&&i!==void 0?i:null);oe(u&&f&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=uk(e);try{return new lm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,n){return il._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lm.parseLink(n);return oe(r,"argument-error"),il._fromEmailAndCode(e,r.code,r.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends cm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Cl{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Cl{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Cl{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e){return Sl(t,"POST","/v1/accounts:signUp",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ar._fromIdTokenResponse(e,r,i),o=k_(r);return new cs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=k_(r);return new cs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function k_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends bn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yu(e,n,r,i)}}function QE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yu._fromErrorAndOperation(t,s,e,r):s})}async function hk(t,e,n=!1){const r=await rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t,e,n=!1){const{auth:r}=t;if(Un(r.app))return Promise.reject(kr(r));const i="reauthenticate";try{const s=await rl(t,QE(r,i,e,t),n);oe(s.idToken,r,"internal-error");const o=sm(s.idToken);oe(o,r,"internal-error");const{sub:l}=o;return oe(t.uid===l,r,"user-mismatch"),cs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(t,e,n=!1){if(Un(t.app))return Promise.reject(kr(t));const r="signIn",i=await QE(t,r,e),s=await cs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function pk(t,e){return YE(bi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(t){const e=bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mk(t,e,n){if(Un(t.app))return Promise.reject(kr(t));const r=bi(t),o=await Nf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dk).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&XE(t),c}),l=await cs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function gk(t,e,n){return Un(t.app)?Promise.reject(kr(t)):pk(nt(t),bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XE(t),r})}function yk(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function _k(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function nd(t,e,n,r){return nt(t).onAuthStateChanged(e,n,r)}function N_(t){return nt(t).signOut()}async function vk(t){return nt(t).delete()}const _u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){const t=Nt();return om(t)||ed(t)}const Ek=1e3,Ik=10;class ZE extends JE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wk()&&Ux(),this.fallbackToPolling=HE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Fx()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ik):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const Tk=ZE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends JE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eI.type="SESSION";const tI=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await Sk(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=um("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function Ak(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function Rk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xk(){return nI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebaseLocalStorageDb",kk=1,vu="firebaseLocalStorage",iI="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(t,e){return t.transaction([vu],e?"readwrite":"readonly").objectStore(vu)}function Nk(){const t=indexedDB.deleteDatabase(rI);return new Al(t).toPromise()}function bf(){const t=indexedDB.open(rI,kk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vu,{keyPath:iI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vu)?e(r):(r.close(),await Nk(),e(await bf()))})})}async function b_(t,e,n){const r=id(t,!0).put({[iI]:e,value:n});return new Al(r).toPromise()}async function bk(t,e){const n=id(t,!1).get(e),r=await new Al(n).toPromise();return r===void 0?null:r.value}function D_(t,e){const n=id(t,!0).delete(e);return new Al(n).toPromise()}const Dk=800,jk=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(xk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Rk(),!this.activeServiceWorker)return;this.sender=new Ck(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bf();return await b_(e,_u,"1"),await D_(e,_u),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=id(i,!1).getAll();return new Al(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const Lk=sI;new Tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e){return e?Rr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends am{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ok(t){return YE(t.auth,new dm(t),t.bypassAuthState)}function Mk(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),fk(n,new dm(t),t.bypassAuthState)}async function Vk(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),hk(n,new dm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ok;case"linkViaPopup":case"linkViaRedirect":return Vk;case"reauthViaPopup":case"reauthViaRedirect":return Mk;default:Nn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new Tl(2e3,1e4);async function wu(t,e,n){if(Un(t.app))return Promise.reject(qn(t,"operation-not-supported-in-this-environment"));const r=bi(t);wx(t,e,cm);const i=oI(r,n);return new Qi(r,"signInViaPopup",e,i).executeNotNull()}class Qi extends aI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qi.currentPopupAction&&Qi.currentPopupAction.cancel(),Qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fk.get())};e()}}Qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="pendingRedirect",Dc=new Map;class Bk extends aI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const r=await zk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zk(t,e){const n=Hk(e),r=qk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $k(t,e){Dc.set(t._key(),e)}function qk(t){return Rr(t._redirectPersistence)}function Hk(t){return bc(Uk,t.config.apiKey,t.name)}async function Wk(t,e,n=!1){if(Un(t.app))return Promise.reject(kr(t));const r=bi(t),i=oI(r,e),o=await new Bk(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=10*60*1e3;class Kk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gk&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(e))}saveEventToCache(e){this.cachedEventUids.add(j_(e)),this.lastProcessedEventTime=Date.now()}}function j_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e={}){return Ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jk=/^https?/;async function Zk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yk(t);for(const n of e)try{if(eN(n))return}catch{}Nn(t,"unauthorized-domain")}function eN(t){const e=xf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Jk.test(n))return!1;if(Xk.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Tl(3e4,6e4);function L_(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nN(t){return new Promise((e,n)=>{var r,i,s;function o(){L_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L_(),n(qn(t,"network-request-failed"))},timeout:tN.get()})}if(!((i=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=or().gapi)===null||s===void 0)&&s.load)o();else{const l=Qx("iframefcb");return or()[l]=()=>{gapi.load?o():n(qn(t,"network-request-failed"))},GE(`${Kx()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw jc=null,e})}let jc=null;function rN(t){return jc=jc||nN(t),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Tl(5e3,15e3),sN="__/auth/iframe",oN="emulator/auth/iframe",aN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cN(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?im(e,oN):`https://${t.config.authDomain}/${sN}`,r={apiKey:e.apiKey,appName:t.name,v:_s},i=lN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${El(r).slice(1)}`}async function uN(t){const e=await rN(t),n=or().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:cN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=qn(t,"network-request-failed"),l=or().setTimeout(()=>{s(o)},iN.get());function c(){or().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hN=500,fN=600,pN="_blank",mN="http://localhost";class O_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gN(t,e,n,r=hN,i=fN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},dN),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Nt().toLowerCase();n&&(l=UE(u)?pN:n),FE(u)&&(e=e||mN,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[I,R])=>`${g}${I}=${R},`,"");if(Vx(u)&&l!=="_self")return yN(e||"",l),new O_(null);const m=window.open(e||"",l,f);oe(m,t,"popup-blocked");try{m.focus()}catch{}return new O_(m)}function yN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="__/auth/handler",vN="emulator/auth/handler",wN=encodeURIComponent("fac");async function M_(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_s,eventId:i};if(e instanceof cm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Cl){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),u=c?`#${wN}=${encodeURIComponent(c)}`:"";return`${EN(t)}?${El(l).slice(1)}${u}`}function EN({config:t}){return t.emulator?im(t,vN):`https://${t.authDomain}/${_N}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=Wk,this._overrideRedirectResult=$k}async _openPopup(e,n,r,i){var s;Mr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await M_(e,n,r,xf(),i);return gN(e,o,um())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await M_(e,n,r,xf(),i);return Ak(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Mr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uN(e),r=new Kk(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mh,{type:mh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[mh];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HE()||om()||ed()}}const TN=IN;var V_="@firebase/auth",F_="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AN(t){Kn(new kn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WE(t)},u=new Hx(r,i,s,c);return ek(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new kn("auth-internal",e=>{const n=bi(e.getProvider("auth").getImmediate());return(r=>new SN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rn(V_,F_,CN(t)),rn(V_,F_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=5*60,PN=EE("authIdTokenMaxAge")||RN;let U_=null;const xN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PN)return;const i=n==null?void 0:n.token;U_!==i&&(U_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hm(t=PE()){const e=Il(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Zx(t,{popupRedirectResolver:TN,persistence:[Lk,Tk,tI]}),r=EE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=xN(s.toString());_k(n,o,()=>o(n.currentUser)),yk(n,l=>o(l))}}const i=vE("auth");return i&&tk(n,`http://${i}`),n}function kN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Wx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AN("Browser");var NN="firebase",bN="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn(NN,bN,"app");const cI="@firebase/installations",fm="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1e4,dI=`w:${fm}`,hI="FIS_v2",DN="https://firebaseinstallations.googleapis.com/v1",jN=60*60*1e3,LN="installations",ON="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},us=new ys(LN,ON,MN);function fI(t){return t instanceof bn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI({projectId:t}){return`${DN}/projects/${t}/installations`}function mI(t){return{token:t.token,requestStatus:2,expiresIn:FN(t.expiresIn),creationTime:Date.now()}}async function gI(t,e){const r=(await e.json()).error;return us.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function yI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function VN(t,{refreshToken:e}){const n=yI(t);return n.append("Authorization",UN(e)),n}async function _I(t){const e=await t();return e.status>=500&&e.status<600?t():e}function FN(t){return Number(t.replace("s","000"))}function UN(t){return`${hI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pI(t),i=yI(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:hI,appId:t.appId,sdkVersion:dI},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await _I(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:mI(u.authToken)}}else throw await gI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^[cdef][\w-]{21}$/,Df="";function qN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=HN(t);return $N.test(n)?n:Df}catch{return Df}}function HN(t){return zN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Map;function EI(t,e){const n=sd(t);II(n,e),WN(n,e)}function II(t,e){const n=wI.get(t);if(n)for(const r of n)r(e)}function WN(t,e){const n=GN();n&&n.postMessage({key:t,fid:e}),KN()}let Yi=null;function GN(){return!Yi&&"BroadcastChannel"in self&&(Yi=new BroadcastChannel("[Firebase] FID Change"),Yi.onmessage=t=>{II(t.data.key,t.data.fid)}),Yi}function KN(){wI.size===0&&Yi&&(Yi.close(),Yi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firebase-installations-database",YN=1,ds="firebase-installations-store";let gh=null;function pm(){return gh||(gh=RE(QN,YN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ds)}}})),gh}async function Eu(t,e){const n=sd(t),i=(await pm()).transaction(ds,"readwrite"),s=i.objectStore(ds),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&EI(t,e.fid),e}async function TI(t){const e=sd(t),r=(await pm()).transaction(ds,"readwrite");await r.objectStore(ds).delete(e),await r.done}async function od(t,e){const n=sd(t),i=(await pm()).transaction(ds,"readwrite"),s=i.objectStore(ds),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&EI(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(t){let e;const n=await od(t.appConfig,r=>{const i=XN(r),s=JN(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Df?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function XN(t){const e=t||{fid:qN(),registrationStatus:0};return SI(e)}function JN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(us.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ZN(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eb(t)}:{installationEntry:e}}async function ZN(t,e){try{const n=await BN(t,e);return Eu(t.appConfig,n)}catch(n){throw fI(n)&&n.customData.serverCode===409?await TI(t.appConfig):await Eu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function eb(t){let e=await B_(t.appConfig);for(;e.registrationStatus===1;)await vI(100),e=await B_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await mm(t);return r||n}return e}function B_(t){return od(t,e=>{if(!e)throw us.create("installation-not-found");return SI(e)})}function SI(t){return tb(t)?{fid:t.fid,registrationStatus:0}:t}function tb(t){return t.registrationStatus===1&&t.registrationTime+uI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb({appConfig:t,heartbeatServiceProvider:e},n){const r=rb(t,n),i=VN(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:dI,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await _I(()=>fetch(r,l));if(c.ok){const u=await c.json();return mI(u)}else throw await gI("Generate Auth Token",c)}function rb(t,{fid:e}){return`${pI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gm(t,e=!1){let n;const r=await od(t.appConfig,s=>{if(!CI(s))throw us.create("not-registered");const o=s.authToken;if(!e&&ob(o))return s;if(o.requestStatus===1)return n=ib(t,e),s;{if(!navigator.onLine)throw us.create("app-offline");const l=lb(s);return n=sb(t,l),l}});return n?await n:r.authToken}async function ib(t,e){let n=await z_(t.appConfig);for(;n.authToken.requestStatus===1;)await vI(100),n=await z_(t.appConfig);const r=n.authToken;return r.requestStatus===0?gm(t,e):r}function z_(t){return od(t,e=>{if(!CI(e))throw us.create("not-registered");const n=e.authToken;return cb(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function sb(t,e){try{const n=await nb(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Eu(t.appConfig,r),n}catch(n){if(fI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await TI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Eu(t.appConfig,r)}throw n}}function CI(t){return t!==void 0&&t.registrationStatus===2}function ob(t){return t.requestStatus===2&&!ab(t)}function ab(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jN}function lb(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function cb(t){return t.requestStatus===1&&t.requestTime+uI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(t){const e=t,{installationEntry:n,registrationPromise:r}=await mm(e);return r?r.catch(console.error):gm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(t,e=!1){const n=t;return await hb(n),(await gm(n,e)).token}async function hb(t){const{registrationPromise:e}=await mm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t){if(!t||!t.options)throw yh("App Configuration");if(!t.name)throw yh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yh(t){return us.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="installations",pb="installations-internal",mb=t=>{const e=t.getProvider("app").getImmediate(),n=fb(e),r=Il(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gb=t=>{const e=t.getProvider("app").getImmediate(),n=Il(e,AI).getImmediate();return{getId:()=>ub(n),getToken:i=>db(n,i)}};function yb(){Kn(new kn(AI,mb,"PUBLIC")),Kn(new kn(pb,gb,"PRIVATE"))}yb();rn(cI,fm);rn(cI,fm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="analytics",_b="firebase_id",vb="origin",wb=60*1e3,Eb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ym="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Zu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new ys("analytics","Analytics",Ib);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){if(!t.startsWith(ym)){const e=Rn.create("invalid-gtag-resource",{gtagURL:t});return sn.warn(e.message),""}return t}function RI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Sb(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Cb(t,e){const n=Sb("firebase-js-sdk-policy",{createScriptURL:Tb}),r=document.createElement("script"),i=`${ym}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Ab(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Rb(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await RI(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){sn.error(l)}t("config",i,s)}async function Pb(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await RI(n);for(const c of o){const u=l.find(m=>m.measurementId===c),f=u&&e[u.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){sn.error(s)}}function xb(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await Pb(t,e,n,l,c)}else if(s==="config"){const[l,c]=o;await Rb(t,e,n,r,l,c)}else if(s==="consent"){const[l,c]=o;t("consent",l,c)}else if(s==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){sn.error(l)}}return i}function kb(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=xb(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Nb(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ym)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=30,Db=1e3;class jb{constructor(e={},n=Db){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PI=new jb;function Lb(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Ob(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Lb(r)},s=Eb.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function Mb(t,e=PI,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Ub;return setTimeout(async()=>{l.abort()},wb),xI({appId:r,apiKey:i,measurementId:s},o,l,e)}async function xI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PI){var s;const{appId:o,measurementId:l}=t;try{await Vb(r,e)}catch(c){if(l)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await Ob(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!Fb(u)){if(i.deleteThrottleMetadata(o),l)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const f=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?h_(n,i.intervalMillis,bb):h_(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(o,m),sn.debug(`Calling attemptFetch again in ${f} millis`),xI(t,m,r,i)}}function Vb(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Fb(t){if(!(t instanceof bn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ub{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Bb(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(){if(TE())try{await SE()}catch(t){return sn.warn(Rn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return sn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $b(t,e,n,r,i,s,o){var l;const c=Mb(t);c.then(I=>{n[I.measurementId]=I.appId,t.options.measurementId&&I.measurementId!==t.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>sn.error(I)),e.push(c);const u=zb().then(I=>{if(I)return r.getId()}),[f,m]=await Promise.all([c,u]);Nb(s)||Cb(s,f.measurementId),i("js",new Date);const g=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return g[vb]="firebase",g.update=!0,m!=null&&(g[_b]=m),i("config",f.measurementId,g),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.app=e}_delete(){return delete Da[this.app.options.appId],Promise.resolve()}}let Da={},q_=[];const H_={};let _h="dataLayer",Hb="gtag",W_,kI,G_=!1;function Wb(){const t=[];if(IE()&&t.push("This is a browser extension environment."),tP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}function Gb(t,e,n){Wb();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(Da[r]!=null)throw Rn.create("already-exists",{id:r});if(!G_){Ab(_h);const{wrappedGtag:s,gtagCore:o}=kb(Da,q_,H_,_h,Hb);kI=s,W_=o,G_=!0}return Da[r]=$b(t,q_,H_,e,W_,_h,n),new qb(t)}function Kb(t,e,n,r){t=nt(t),Bb(kI,Da[t.app.options.appId],e,n,r).catch(i=>sn.error(i))}const K_="@firebase/analytics",Q_="0.10.4";function Qb(){Kn(new kn($_,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Gb(r,i,n)},"PUBLIC")),Kn(new kn("analytics-internal",t,"PRIVATE")),rn(K_,Q_),rn(K_,Q_,"esm2017");function t(e){try{const n=e.getProvider($_).getImmediate();return{logEvent:(r,i,s)=>Kb(n,r,i,s)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}Qb();var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,NI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,_){function E(){}E.prototype=_.prototype,y.D=_.prototype,y.prototype=new E,y.prototype.constructor=y,y.C=function(T,x,N){for(var C=Array(arguments.length-2),G=2;G<arguments.length;G++)C[G-2]=arguments[G];return _.prototype[x].apply(T,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(y,_,E){E||(E=0);var T=Array(16);if(typeof _=="string")for(var x=0;16>x;++x)T[x]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(x=0;16>x;++x)T[x]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=y.g[0],E=y.g[1],x=y.g[2];var N=y.g[3],C=_+(N^E&(x^N))+T[0]+3614090360&4294967295;_=E+(C<<7&4294967295|C>>>25),C=N+(x^_&(E^x))+T[1]+3905402710&4294967295,N=_+(C<<12&4294967295|C>>>20),C=x+(E^N&(_^E))+T[2]+606105819&4294967295,x=N+(C<<17&4294967295|C>>>15),C=E+(_^x&(N^_))+T[3]+3250441966&4294967295,E=x+(C<<22&4294967295|C>>>10),C=_+(N^E&(x^N))+T[4]+4118548399&4294967295,_=E+(C<<7&4294967295|C>>>25),C=N+(x^_&(E^x))+T[5]+1200080426&4294967295,N=_+(C<<12&4294967295|C>>>20),C=x+(E^N&(_^E))+T[6]+2821735955&4294967295,x=N+(C<<17&4294967295|C>>>15),C=E+(_^x&(N^_))+T[7]+4249261313&4294967295,E=x+(C<<22&4294967295|C>>>10),C=_+(N^E&(x^N))+T[8]+1770035416&4294967295,_=E+(C<<7&4294967295|C>>>25),C=N+(x^_&(E^x))+T[9]+2336552879&4294967295,N=_+(C<<12&4294967295|C>>>20),C=x+(E^N&(_^E))+T[10]+4294925233&4294967295,x=N+(C<<17&4294967295|C>>>15),C=E+(_^x&(N^_))+T[11]+2304563134&4294967295,E=x+(C<<22&4294967295|C>>>10),C=_+(N^E&(x^N))+T[12]+1804603682&4294967295,_=E+(C<<7&4294967295|C>>>25),C=N+(x^_&(E^x))+T[13]+4254626195&4294967295,N=_+(C<<12&4294967295|C>>>20),C=x+(E^N&(_^E))+T[14]+2792965006&4294967295,x=N+(C<<17&4294967295|C>>>15),C=E+(_^x&(N^_))+T[15]+1236535329&4294967295,E=x+(C<<22&4294967295|C>>>10),C=_+(x^N&(E^x))+T[1]+4129170786&4294967295,_=E+(C<<5&4294967295|C>>>27),C=N+(E^x&(_^E))+T[6]+3225465664&4294967295,N=_+(C<<9&4294967295|C>>>23),C=x+(_^E&(N^_))+T[11]+643717713&4294967295,x=N+(C<<14&4294967295|C>>>18),C=E+(N^_&(x^N))+T[0]+3921069994&4294967295,E=x+(C<<20&4294967295|C>>>12),C=_+(x^N&(E^x))+T[5]+3593408605&4294967295,_=E+(C<<5&4294967295|C>>>27),C=N+(E^x&(_^E))+T[10]+38016083&4294967295,N=_+(C<<9&4294967295|C>>>23),C=x+(_^E&(N^_))+T[15]+3634488961&4294967295,x=N+(C<<14&4294967295|C>>>18),C=E+(N^_&(x^N))+T[4]+3889429448&4294967295,E=x+(C<<20&4294967295|C>>>12),C=_+(x^N&(E^x))+T[9]+568446438&4294967295,_=E+(C<<5&4294967295|C>>>27),C=N+(E^x&(_^E))+T[14]+3275163606&4294967295,N=_+(C<<9&4294967295|C>>>23),C=x+(_^E&(N^_))+T[3]+4107603335&4294967295,x=N+(C<<14&4294967295|C>>>18),C=E+(N^_&(x^N))+T[8]+1163531501&4294967295,E=x+(C<<20&4294967295|C>>>12),C=_+(x^N&(E^x))+T[13]+2850285829&4294967295,_=E+(C<<5&4294967295|C>>>27),C=N+(E^x&(_^E))+T[2]+4243563512&4294967295,N=_+(C<<9&4294967295|C>>>23),C=x+(_^E&(N^_))+T[7]+1735328473&4294967295,x=N+(C<<14&4294967295|C>>>18),C=E+(N^_&(x^N))+T[12]+2368359562&4294967295,E=x+(C<<20&4294967295|C>>>12),C=_+(E^x^N)+T[5]+4294588738&4294967295,_=E+(C<<4&4294967295|C>>>28),C=N+(_^E^x)+T[8]+2272392833&4294967295,N=_+(C<<11&4294967295|C>>>21),C=x+(N^_^E)+T[11]+1839030562&4294967295,x=N+(C<<16&4294967295|C>>>16),C=E+(x^N^_)+T[14]+4259657740&4294967295,E=x+(C<<23&4294967295|C>>>9),C=_+(E^x^N)+T[1]+2763975236&4294967295,_=E+(C<<4&4294967295|C>>>28),C=N+(_^E^x)+T[4]+1272893353&4294967295,N=_+(C<<11&4294967295|C>>>21),C=x+(N^_^E)+T[7]+4139469664&4294967295,x=N+(C<<16&4294967295|C>>>16),C=E+(x^N^_)+T[10]+3200236656&4294967295,E=x+(C<<23&4294967295|C>>>9),C=_+(E^x^N)+T[13]+681279174&4294967295,_=E+(C<<4&4294967295|C>>>28),C=N+(_^E^x)+T[0]+3936430074&4294967295,N=_+(C<<11&4294967295|C>>>21),C=x+(N^_^E)+T[3]+3572445317&4294967295,x=N+(C<<16&4294967295|C>>>16),C=E+(x^N^_)+T[6]+76029189&4294967295,E=x+(C<<23&4294967295|C>>>9),C=_+(E^x^N)+T[9]+3654602809&4294967295,_=E+(C<<4&4294967295|C>>>28),C=N+(_^E^x)+T[12]+3873151461&4294967295,N=_+(C<<11&4294967295|C>>>21),C=x+(N^_^E)+T[15]+530742520&4294967295,x=N+(C<<16&4294967295|C>>>16),C=E+(x^N^_)+T[2]+3299628645&4294967295,E=x+(C<<23&4294967295|C>>>9),C=_+(x^(E|~N))+T[0]+4096336452&4294967295,_=E+(C<<6&4294967295|C>>>26),C=N+(E^(_|~x))+T[7]+1126891415&4294967295,N=_+(C<<10&4294967295|C>>>22),C=x+(_^(N|~E))+T[14]+2878612391&4294967295,x=N+(C<<15&4294967295|C>>>17),C=E+(N^(x|~_))+T[5]+4237533241&4294967295,E=x+(C<<21&4294967295|C>>>11),C=_+(x^(E|~N))+T[12]+1700485571&4294967295,_=E+(C<<6&4294967295|C>>>26),C=N+(E^(_|~x))+T[3]+2399980690&4294967295,N=_+(C<<10&4294967295|C>>>22),C=x+(_^(N|~E))+T[10]+4293915773&4294967295,x=N+(C<<15&4294967295|C>>>17),C=E+(N^(x|~_))+T[1]+2240044497&4294967295,E=x+(C<<21&4294967295|C>>>11),C=_+(x^(E|~N))+T[8]+1873313359&4294967295,_=E+(C<<6&4294967295|C>>>26),C=N+(E^(_|~x))+T[15]+4264355552&4294967295,N=_+(C<<10&4294967295|C>>>22),C=x+(_^(N|~E))+T[6]+2734768916&4294967295,x=N+(C<<15&4294967295|C>>>17),C=E+(N^(x|~_))+T[13]+1309151649&4294967295,E=x+(C<<21&4294967295|C>>>11),C=_+(x^(E|~N))+T[4]+4149444226&4294967295,_=E+(C<<6&4294967295|C>>>26),C=N+(E^(_|~x))+T[11]+3174756917&4294967295,N=_+(C<<10&4294967295|C>>>22),C=x+(_^(N|~E))+T[2]+718787259&4294967295,x=N+(C<<15&4294967295|C>>>17),C=E+(N^(x|~_))+T[9]+3951481745&4294967295,y.g[0]=y.g[0]+_&4294967295,y.g[1]=y.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,y.g[2]=y.g[2]+x&4294967295,y.g[3]=y.g[3]+N&4294967295}r.prototype.u=function(y,_){_===void 0&&(_=y.length);for(var E=_-this.blockSize,T=this.B,x=this.h,N=0;N<_;){if(x==0)for(;N<=E;)i(this,y,N),N+=this.blockSize;if(typeof y=="string"){for(;N<_;)if(T[x++]=y.charCodeAt(N++),x==this.blockSize){i(this,T),x=0;break}}else for(;N<_;)if(T[x++]=y[N++],x==this.blockSize){i(this,T),x=0;break}}this.h=x,this.o+=_},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var _=1;_<y.length-8;++_)y[_]=0;var E=8*this.o;for(_=y.length-8;_<y.length;++_)y[_]=E&255,E/=256;for(this.u(y),y=Array(16),_=E=0;4>_;++_)for(var T=0;32>T;T+=8)y[E++]=this.g[_]>>>T&255;return y};function s(y,_){var E=l;return Object.prototype.hasOwnProperty.call(E,y)?E[y]:E[y]=_(y)}function o(y,_){this.h=_;for(var E=[],T=!0,x=y.length-1;0<=x;x--){var N=y[x]|0;T&&N==_||(E[x]=N,T=!1)}this.g=E}var l={};function c(y){return-128<=y&&128>y?s(y,function(_){return new o([_|0],0>_?-1:0)}):new o([y|0],0>y?-1:0)}function u(y){if(isNaN(y)||!isFinite(y))return m;if(0>y)return k(u(-y));for(var _=[],E=1,T=0;y>=E;T++)_[T]=y/E|0,E*=4294967296;return new o(_,0)}function f(y,_){if(y.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(y.charAt(0)=="-")return k(f(y.substring(1),_));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(_,8)),T=m,x=0;x<y.length;x+=8){var N=Math.min(8,y.length-x),C=parseInt(y.substring(x,x+N),_);8>N?(N=u(Math.pow(_,N)),T=T.j(N).add(u(C))):(T=T.j(E),T=T.add(u(C)))}return T}var m=c(0),g=c(1),I=c(16777216);t=o.prototype,t.m=function(){if(P(this))return-k(this).m();for(var y=0,_=1,E=0;E<this.g.length;E++){var T=this.i(E);y+=(0<=T?T:4294967296+T)*_,_*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(R(this))return"0";if(P(this))return"-"+k(this).toString(y);for(var _=u(Math.pow(y,6)),E=this,T="";;){var x=j(E,_).g;E=S(E,x.j(_));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(y);if(E=x,R(E))return N+T;for(;6>N.length;)N="0"+N;T=N+T}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function R(y){if(y.h!=0)return!1;for(var _=0;_<y.g.length;_++)if(y.g[_]!=0)return!1;return!0}function P(y){return y.h==-1}t.l=function(y){return y=S(this,y),P(y)?-1:R(y)?0:1};function k(y){for(var _=y.g.length,E=[],T=0;T<_;T++)E[T]=~y.g[T];return new o(E,~y.h).add(g)}t.abs=function(){return P(this)?k(this):this},t.add=function(y){for(var _=Math.max(this.g.length,y.g.length),E=[],T=0,x=0;x<=_;x++){var N=T+(this.i(x)&65535)+(y.i(x)&65535),C=(N>>>16)+(this.i(x)>>>16)+(y.i(x)>>>16);T=C>>>16,N&=65535,C&=65535,E[x]=C<<16|N}return new o(E,E[E.length-1]&-2147483648?-1:0)};function S(y,_){return y.add(k(_))}t.j=function(y){if(R(this)||R(y))return m;if(P(this))return P(y)?k(this).j(k(y)):k(k(this).j(y));if(P(y))return k(this.j(k(y)));if(0>this.l(I)&&0>y.l(I))return u(this.m()*y.m());for(var _=this.g.length+y.g.length,E=[],T=0;T<2*_;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var x=0;x<y.g.length;x++){var N=this.i(T)>>>16,C=this.i(T)&65535,G=y.i(x)>>>16,pe=y.i(x)&65535;E[2*T+2*x]+=C*pe,w(E,2*T+2*x),E[2*T+2*x+1]+=N*pe,w(E,2*T+2*x+1),E[2*T+2*x+1]+=C*G,w(E,2*T+2*x+1),E[2*T+2*x+2]+=N*G,w(E,2*T+2*x+2)}for(T=0;T<_;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=_;T<2*_;T++)E[T]=0;return new o(E,0)};function w(y,_){for(;(y[_]&65535)!=y[_];)y[_+1]+=y[_]>>>16,y[_]&=65535,_++}function A(y,_){this.g=y,this.h=_}function j(y,_){if(R(_))throw Error("division by zero");if(R(y))return new A(m,m);if(P(y))return _=j(k(y),_),new A(k(_.g),k(_.h));if(P(_))return _=j(y,k(_)),new A(k(_.g),_.h);if(30<y.g.length){if(P(y)||P(_))throw Error("slowDivide_ only works with positive integers.");for(var E=g,T=_;0>=T.l(y);)E=B(E),T=B(T);var x=V(E,1),N=V(T,1);for(T=V(T,2),E=V(E,2);!R(T);){var C=N.add(T);0>=C.l(y)&&(x=x.add(E),N=C),T=V(T,1),E=V(E,1)}return _=S(y,x.j(_)),new A(x,_)}for(x=m;0<=y.l(_);){for(E=Math.max(1,Math.floor(y.m()/_.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),N=u(E),C=N.j(_);P(C)||0<C.l(y);)E-=T,N=u(E),C=N.j(_);R(N)&&(N=g),x=x.add(N),y=S(y,C)}return new A(x,y)}t.A=function(y){return j(this,y).h},t.and=function(y){for(var _=Math.max(this.g.length,y.g.length),E=[],T=0;T<_;T++)E[T]=this.i(T)&y.i(T);return new o(E,this.h&y.h)},t.or=function(y){for(var _=Math.max(this.g.length,y.g.length),E=[],T=0;T<_;T++)E[T]=this.i(T)|y.i(T);return new o(E,this.h|y.h)},t.xor=function(y){for(var _=Math.max(this.g.length,y.g.length),E=[],T=0;T<_;T++)E[T]=this.i(T)^y.i(T);return new o(E,this.h^y.h)};function B(y){for(var _=y.g.length+1,E=[],T=0;T<_;T++)E[T]=y.i(T)<<1|y.i(T-1)>>>31;return new o(E,y.h)}function V(y,_){var E=_>>5;_%=32;for(var T=y.g.length-E,x=[],N=0;N<T;N++)x[N]=0<_?y.i(N+E)>>>_|y.i(N+E+1)<<32-_:y.i(N+E);return new o(x,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,es=o}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bI,DI,ya,jI,Lc,jf,LI,OI,MI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var D=a[v];if(!(D in p))break e;p=p[D]}a=a[a.length-1],v=p[a],h=h(v),h!=v&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,v=!1,D={next:function(){if(!v&&p<a.length){var O=p++;return{value:h(O,a[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,p){return a.call.apply(a.bind,arguments)}function m(a,h,p){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,v),a.apply(h,D)}}return function(){return a.apply(h,arguments)}}function g(a,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function I(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function R(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(v,D,O){for(var W=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)W[Ne-2]=arguments[Ne];return h.prototype[D].apply(v,W)}}function P(a){const h=a.length;if(0<h){const p=Array(h);for(let v=0;v<h;v++)p[v]=a[v];return p}return[]}function k(a,h){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(c(v)){const D=a.length||0,O=v.length||0;a.length=D+O;for(let W=0;W<O;W++)a[D+W]=v[W]}else a.push(v)}}class S{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function j(a){return j[" "](a),a}j[" "]=function(){};var B=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function V(a,h,p){for(const v in a)h.call(p,a[v],v,a)}function y(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function _(a){const h={};for(const p in a)h[p]=a[p];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,h){let p,v;for(let D=1;D<arguments.length;D++){v=arguments[D];for(p in v)a[p]=v[p];for(let O=0;O<E.length;O++)p=E[O],Object.prototype.hasOwnProperty.call(v,p)&&(a[p]=v[p])}}function x(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function N(a){l.setTimeout(()=>{throw a},0)}function C(){var a=ie;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class G{constructor(){this.h=this.g=null}add(h,p){const v=pe.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var pe=new S(()=>new ve,a=>a.reset());class ve{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,$=!1,ie=new G,ae=()=>{const a=l.Promise.resolve(void 0);Ue=()=>{a.then(Pe)}};var Pe=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(p){N(p)}var h=pe;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}$=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function ct(a,h){if(ke.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(B){e:{try{j(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:vt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ct.aa.h.call(this)}}R(ct,ke);var vt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Oo=0;function Td(a,h,p,v,D){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=D,this.key=++Oo,this.da=this.fa=!1}function Is(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ts(a){this.src=a,this.g={},this.h=0}Ts.prototype.add=function(a,h,p,v,D){var O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);var W=hr(a,h,v,D);return-1<W?(h=a[W],p||(h.fa=!1)):(h=new Td(h,this.src,O,!!v,D),h.fa=p,a.push(h)),h};function Et(a,h){var p=h.type;if(p in a.g){var v=a.g[p],D=Array.prototype.indexOf.call(v,h,void 0),O;(O=0<=D)&&Array.prototype.splice.call(v,D,1),O&&(Is(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function hr(a,h,p,v){for(var D=0;D<a.length;++D){var O=a[D];if(!O.da&&O.listener==h&&O.capture==!!p&&O.ha==v)return D}return-1}var Ss="closure_lm_"+(1e6*Math.random()|0),Mo={};function Yn(a,h,p,v,D){if(Array.isArray(h)){for(var O=0;O<h.length;O++)Yn(a,h[O],p,v,D);return null}return p=As(p),a&&a[wt]?a.K(h,p,u(v)?!!v.capture:!!v,D):Sd(a,h,p,!1,v,D)}function Sd(a,h,p,v,D,O){if(!h)throw Error("Invalid event type");var W=u(D)?!!D.capture:!!D,Ne=fr(a);if(Ne||(a[Ss]=Ne=new Ts(a)),p=Ne.add(h,p,v,W,O),p.proxy)return p;if(v=Cd(),p.proxy=v,v.src=a,v.listener=p,a.addEventListener)$t||(D=W),D===void 0&&(D=!1),a.addEventListener(h.toString(),v,D);else if(a.attachEvent)a.attachEvent(Ol(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Cd(){function a(p){return h.call(a.src,a.listener,p)}const h=Li;return a}function Ll(a,h,p,v,D){if(Array.isArray(h))for(var O=0;O<h.length;O++)Ll(a,h[O],p,v,D);else v=u(v)?!!v.capture:!!v,p=As(p),a&&a[wt]?(a=a.i,h=String(h).toString(),h in a.g&&(O=a.g[h],p=hr(O,p,v,D),-1<p&&(Is(O[p]),Array.prototype.splice.call(O,p,1),O.length==0&&(delete a.g[h],a.h--)))):a&&(a=fr(a))&&(h=a.g[h.toString()],a=-1,h&&(a=hr(h,p,v,D)),(p=-1<a?h[a]:null)&&Vo(p))}function Vo(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[wt])Et(h.i,a);else{var p=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(p,v,a.capture):h.detachEvent?h.detachEvent(Ol(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=fr(h))?(Et(p,a),p.h==0&&(p.src=null,h[Ss]=null)):Is(a)}}}function Ol(a){return a in Mo?Mo[a]:Mo[a]="on"+a}function Li(a,h){if(a.da)a=!0;else{h=new ct(h,this);var p=a.listener,v=a.ha||a.src;a.fa&&Vo(a),a=p.call(v,h)}return a}function fr(a){return a=a[Ss],a instanceof Ts?a:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function As(a){return typeof a=="function"?a:(a[Cs]||(a[Cs]=function(h){return a.handleEvent(h)}),a[Cs])}function Le(){ge.call(this),this.i=new Ts(this),this.M=this,this.F=null}R(Le,ge),Le.prototype[wt]=!0,Le.prototype.removeEventListener=function(a,h,p,v){Ll(this,a,h,p,v)};function et(a,h){var p,v=a.F;if(v)for(p=[];v;v=v.F)p.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new ke(h,a);else if(h instanceof ke)h.target=h.target||a;else{var D=h;h=new ke(v,a),T(h,D)}if(D=!0,p)for(var O=p.length-1;0<=O;O--){var W=h.g=p[O];D=Oi(W,v,!0,h)&&D}if(W=h.g=a,D=Oi(W,v,!0,h)&&D,D=Oi(W,v,!1,h)&&D,p)for(O=0;O<p.length;O++)W=h.g=p[O],D=Oi(W,v,!1,h)&&D}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],v=0;v<p.length;v++)Is(p[v]);delete a.g[h],a.h--}}this.F=null},Le.prototype.K=function(a,h,p,v){return this.i.add(String(a),h,!1,p,v)},Le.prototype.L=function(a,h,p,v){return this.i.add(String(a),h,!0,p,v)};function Oi(a,h,p,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,O=0;O<h.length;++O){var W=h[O];if(W&&!W.da&&W.capture==p){var Ne=W.listener,St=W.ha||W.src;W.fa&&Et(a.i,W),D=Ne.call(St,v)!==!1&&D}}return D&&!v.defaultPrevented}function Mi(a,h,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Ml(a){a.g=Mi(()=>{a.g=null,a.i&&(a.i=!1,Ml(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Xn extends ge{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ml(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(a){ge.call(this),this.h=a,this.g={}}R(Br,ge);var Fo=[];function Uo(a){V(a.g,function(h,p){this.g.hasOwnProperty(p)&&Vo(h)},a),a.g={}}Br.prototype.N=function(){Br.aa.N.call(this),Uo(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bo=l.JSON.stringify,Vl=l.JSON.parse,Rs=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ps(){}Ps.prototype.h=null;function xs(a){return a.h||(a.h=a.i())}function Fl(){}var zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zo(){ke.call(this,"d")}R(zo,ke);function ks(){ke.call(this,"c")}R(ks,ke);var pr={},b=null;function L(){return b=b||new Le}pr.La="serverreachability";function F(a){ke.call(this,pr.La,a)}R(F,ke);function H(a){const h=L();et(h,new F(h))}pr.STAT_EVENT="statevent";function Y(a,h){ke.call(this,pr.STAT_EVENT,a),this.stat=h}R(Y,ke);function ee(a){const h=L();et(h,new Y(h,a))}pr.Ma="timingevent";function ne(a,h){ke.call(this,pr.Ma,a),this.size=h}R(ne,ke);function Q(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function le(){this.g=!0}le.prototype.xa=function(){this.g=!1};function ue(a,h,p,v,D,O){a.info(function(){if(a.g)if(O)for(var W="",Ne=O.split("&"),St=0;St<Ne.length;St++){var Ce=Ne[St].split("=");if(1<Ce.length){var bt=Ce[0];Ce=Ce[1];var Dt=bt.split("_");W=2<=Dt.length&&Dt[1]=="type"?W+(bt+"="+Ce+"&"):W+(bt+"=redacted&")}}else W=null;else W=O;return"XMLHTTP REQ ("+v+") [attempt "+D+"]: "+h+`
`+p+`
`+W})}function ut(a,h,p,v,D,O,W){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+D+"]: "+h+`
`+p+`
`+O+" "+W})}function Be(a,h,p,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+be(a,p)+(v?" "+v:"")})}function se(a,h){a.info(function(){return"TIMEOUT: "+h})}le.prototype.info=function(){};function be(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var v=p[a];if(!(2>v.length)){var D=v[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var W=1;W<D.length;W++)D[W]=""}}}}return Bo(p)}catch{return h}}var He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function Dn(){}R(Dn,Ps),Dn.prototype.g=function(){return new XMLHttpRequest},Dn.prototype.i=function(){return{}},vn=new Dn;function qt(a,h,p,v){this.j=a,this.i=h,this.l=p,this.R=v||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}var on={},qr={};function Hr(a,h,p){a.L=1,a.v=zl(_r(h)),a.m=p,a.P=!0,Vi(a,null)}function Vi(a,h){a.F=Date.now(),Tt(a),a.A=_r(a.v);var p=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),fg(p.i,"t",v),a.C=0,p=a.j.J,a.h=new mr,a.g=Ng(a.j,p?h:null,!a.m),0<a.O&&(a.M=new Xn(g(a.Y,a,a.g),a.O)),h=a.U,p=a.g,v=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Fo[0]=D.toString()),D=Fo);for(var O=0;O<D.length;O++){var W=Yn(p,D[O],v||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),H(),ue(a.i,a.u,a.A,a.l,a.R,a.m)}qt.prototype.ca=function(a){a=a.target;const h=this.M;h&&vr(a)==3?h.j():this.Y(a)},qt.prototype.Y=function(a){try{if(a==this.g)e:{const Dt=vr(this.g);var h=this.g.Ba();const Ds=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||wg(this.g)))){this.J||Dt!=4||h==7||(h==8||0>=Ds?H(3):H(2)),gr(this);var p=this.g.Z();this.X=p;t:if(ye(this)){var v=wg(this.g);a="";var D=v.length,O=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),Wr(this);var W="";break t}this.h.i=new l.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,a+=this.h.i.decode(v[h],{stream:!(O&&h==D-1)});v.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,ut(this.i,this.u,this.A,this.l,this.R,Dt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,St=this.g;if((Ne=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ne)){var Ce=Ne;break t}}Ce=null}if(p=Ce)Be(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ad(this,p);else{this.o=!1,this.s=3,ee(12),yr(this),Wr(this);break e}}if(this.P){p=!0;let jn;for(;!this.J&&this.C<W.length;)if(jn=It(this,W),jn==qr){Dt==4&&(this.s=4,ee(14),p=!1),Be(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==on){this.s=4,ee(15),Be(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Be(this.i,this.l,jn,null),Ad(this,jn);if(ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||W.length!=0||this.h.h||(this.s=1,ee(16),p=!1),this.o=this.o&&p,!p)Be(this.i,this.l,W,"[Invalid Chunked Response]"),yr(this),Wr(this);else if(0<W.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),bd(bt),bt.M=!0,ee(11))}}else Be(this.i,this.l,W,null),Ad(this,W);Dt==4&&yr(this),this.o&&!this.J&&(Dt==4?Rg(this.j,this):(this.o=!1,Tt(this)))}else N1(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),yr(this),Wr(this)}}}catch{}finally{}};function ye(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function It(a,h){var p=a.C,v=h.indexOf(`
`,p);return v==-1?qr:(p=Number(h.substring(p,v)),isNaN(p)?on:(v+=1,v+p>h.length?qr:(h=h.slice(v,v+p),a.C=v+p,h)))}qt.prototype.cancel=function(){this.J=!0,yr(this)};function Tt(a){a.S=Date.now()+a.I,rt(a,a.I)}function rt(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Q(g(a.ba,a),h)}function gr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}qt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(se(this.i,this.A),this.L!=2&&(H(),ee(17)),yr(this),this.s=2,Wr(this)):rt(this,this.S-a)};function Wr(a){a.j.G==0||a.J||Rg(a.j,a)}function yr(a){gr(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Uo(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Ad(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||Rd(p.h,a))){if(!a.K&&Rd(p.h,a)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var D=v;if(D[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Gl(p),Hl(p);else break e;Nd(p),ee(18)}}else p.za=D[1],0<p.za-p.T&&37500>D[2]&&p.F&&p.v==0&&!p.C&&(p.C=Q(g(p.Za,p),6e3));if(1>=ig(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ui(p,11)}else if((a.K||p.g==a)&&Gl(p),!w(h))for(D=p.Da.g.parse(h),h=0;h<D.length;h++){let Ce=D[h];if(p.T=Ce[0],Ce=Ce[1],p.G==2)if(Ce[0]=="c"){p.K=Ce[1],p.ia=Ce[2];const bt=Ce[3];bt!=null&&(p.la=bt,p.j.info("VER="+p.la));const Dt=Ce[4];Dt!=null&&(p.Aa=Dt,p.j.info("SVER="+p.Aa));const Ds=Ce[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(v=1.5*Ds,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const jn=a.g;if(jn){const Ql=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ql){var O=v.h;O.g||Ql.indexOf("spdy")==-1&&Ql.indexOf("quic")==-1&&Ql.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Pd(O,O.h),O.h=null))}if(v.D){const Dd=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Dd&&(v.ya=Dd,Oe(v.I,v.D,Dd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var W=a;if(v.qa=kg(v,v.J?v.ia:null,v.W),W.K){sg(v.h,W);var Ne=W,St=v.L;St&&(Ne.I=St),Ne.B&&(gr(Ne),Tt(Ne)),v.g=W}else Cg(v);0<p.i.length&&Wl(p)}else Ce[0]!="stop"&&Ce[0]!="close"||Ui(p,7);else p.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Ui(p,7):kd(p):Ce[0]!="noop"&&p.l&&p.l.ta(Ce),p.v=0)}}H(4)}catch{}}var m1=class{constructor(a,h){this.g=a,this.map=h}};function ng(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ig(a){return a.h?1:a.g?a.g.size:0}function Rd(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Pd(a,h){a.g?a.g.add(h):a.h=h}function sg(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}ng.prototype.cancel=function(){if(this.i=og(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function og(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return P(a.i)}function g1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],p=a.length,v=0;v<p;v++)h.push(a[v]);return h}h=[],p=0;for(v in a)h[p++]=a[v];return h}function y1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const v in a)h[p++]=v;return h}}}function ag(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=y1(a),v=g1(a),D=v.length,O=0;O<D;O++)h.call(void 0,v[O],p&&p[O],a)}var lg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _1(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var v=a[p].indexOf("="),D=null;if(0<=v){var O=a[p].substring(0,v);D=a[p].substring(v+1)}else O=a[p];h(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Fi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Fi){this.h=a.h,Ul(this,a.j),this.o=a.o,this.g=a.g,Bl(this,a.s),this.l=a.l;var h=a.i,p=new Ho;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),cg(this,p),this.m=a.m}else a&&(h=String(a).match(lg))?(this.h=!1,Ul(this,h[1]||"",!0),this.o=$o(h[2]||""),this.g=$o(h[3]||"",!0),Bl(this,h[4]),this.l=$o(h[5]||"",!0),cg(this,h[6]||"",!0),this.m=$o(h[7]||"")):(this.h=!1,this.i=new Ho(null,this.h))}Fi.prototype.toString=function(){var a=[],h=this.j;h&&a.push(qo(h,ug,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(qo(h,ug,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(qo(p,p.charAt(0)=="/"?E1:w1,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",qo(p,T1)),a.join("")};function _r(a){return new Fi(a)}function Ul(a,h,p){a.j=p?$o(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Bl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function cg(a,h,p){h instanceof Ho?(a.i=h,S1(a.i,a.h)):(p||(h=qo(h,I1)),a.i=new Ho(h,a.h))}function Oe(a,h,p){a.i.set(h,p)}function zl(a){return Oe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function $o(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function qo(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,v1),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function v1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ug=/[#\/\?@]/g,w1=/[#\?:]/g,E1=/[#\?]/g,I1=/[#\?@]/g,T1=/#/g;function Ho(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Gr(a){a.g||(a.g=new Map,a.h=0,a.i&&_1(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Ho.prototype,t.add=function(a,h){Gr(this),this.i=null,a=Ns(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function dg(a,h){Gr(a),h=Ns(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function hg(a,h){return Gr(a),h=Ns(a,h),a.g.has(h)}t.forEach=function(a,h){Gr(this),this.g.forEach(function(p,v){p.forEach(function(D){a.call(h,D,v,this)},this)},this)},t.na=function(){Gr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){const D=a[v];for(let O=0;O<D.length;O++)p.push(h[v])}return p},t.V=function(a){Gr(this);let h=[];if(typeof a=="string")hg(this,a)&&(h=h.concat(this.g.get(Ns(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Gr(this),this.i=null,a=Ns(this,a),hg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function fg(a,h,p){dg(a,h),0<p.length&&(a.i=null,a.g.set(Ns(a,h),P(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];const O=encodeURIComponent(String(v)),W=this.V(v);for(v=0;v<W.length;v++){var D=O;W[v]!==""&&(D+="="+encodeURIComponent(String(W[v]))),a.push(D)}}return this.i=a.join("&")};function Ns(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function S1(a,h){h&&!a.j&&(Gr(a),a.i=null,a.g.forEach(function(p,v){var D=v.toLowerCase();v!=D&&(dg(this,v),fg(this,D,p))},a)),a.j=h}function C1(a,h){const p=new le;if(l.Image){const v=new Image;v.onload=I(Kr,p,"TestLoadImage: loaded",!0,h,v),v.onerror=I(Kr,p,"TestLoadImage: error",!1,h,v),v.onabort=I(Kr,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=I(Kr,p,"TestLoadImage: timeout",!1,h,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function A1(a,h){const p=new le,v=new AbortController,D=setTimeout(()=>{v.abort(),Kr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(O=>{clearTimeout(D),O.ok?Kr(p,"TestPingServer: ok",!0,h):Kr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),Kr(p,"TestPingServer: error",!1,h)})}function Kr(a,h,p,v,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),v(p)}catch{}}function R1(){this.g=new Rs}function P1(a,h,p){const v=p||"";try{ag(a,function(D,O){let W=D;u(D)&&(W=Bo(D)),h.push(v+O+"="+encodeURIComponent(W))})}catch(D){throw h.push(v+"type="+encodeURIComponent("_badmap")),D}}function Wo(a){this.l=a.Ub||null,this.j=a.eb||!1}R(Wo,Ps),Wo.prototype.g=function(){return new $l(this.l,this.j)},Wo.prototype.i=function(a){return function(){return a}}({});function $l(a,h){Le.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R($l,Le),t=$l.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Ko(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ko(this)),this.g&&(this.readyState=3,Ko(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function pg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Go(this):Ko(this),this.readyState==3&&pg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Go(this))},t.Qa=function(a){this.g&&(this.response=a,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ko(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Ko(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty($l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function mg(a){let h="";return V(a,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function xd(a,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=mg(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Oe(a,h,p))}function Xe(a){Le.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Xe,Le);var x1=/^https?$/i,k1=["POST","PUT"];t=Xe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?xs(this.o):xs(vn),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(O){gg(this,O);return}if(a=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var D in v)p.set(D,v[D]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const O of v.keys())p.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(k1,h,void 0))||v||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,W]of p)this.g.setRequestHeader(O,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vg(this),this.u=!0,this.g.send(a),this.u=!1}catch(O){gg(this,O)}};function gg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,yg(a),ql(a)}function yg(a){a.A||(a.A=!0,et(a,"complete"),et(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,et(this,"complete"),et(this,"abort"),ql(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ql(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_g(this):this.bb())},t.bb=function(){_g(this)};function _g(a){if(a.h&&typeof o<"u"&&(!a.v[1]||vr(a)!=4||a.Z()!=2)){if(a.u&&vr(a)==4)Mi(a.Ea,0,a);else if(et(a,"readystatechange"),vr(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=W===0){var D=String(a.D).match(lg)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),v=!x1.test(D?D.toLowerCase():"")}p=v}if(p)et(a,"complete"),et(a,"success");else{a.m=6;try{var O=2<vr(a)?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.Z()+"]",yg(a)}}finally{ql(a)}}}}function ql(a,h){if(a.g){vg(a);const p=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||et(a,"ready");try{p.onreadystatechange=v}catch{}}}function vg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function vr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Vl(h)}};function wg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function N1(a){const h={};a=(a.g&&2<=vr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(w(a[v]))continue;var p=x(a[v]);const D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const O=h[D]||[];h[D]=O,O.push(p)}y(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qo(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Eg(a){this.Aa=0,this.i=[],this.j=new le,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qo("baseRetryDelayMs",5e3,a),this.cb=Qo("retryDelaySeedMs",1e4,a),this.Wa=Qo("forwardChannelMaxRetries",2,a),this.wa=Qo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ng(a&&a.concurrentRequestLimit),this.Da=new R1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Eg.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,v){ee(0),this.W=a,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=kg(this,null,this.W),Wl(this)};function kd(a){if(Ig(a),a.G==3){var h=a.U++,p=_r(a.I);if(Oe(p,"SID",a.K),Oe(p,"RID",h),Oe(p,"TYPE","terminate"),Yo(a,p),h=new qt(a,a.j,h),h.L=2,h.v=zl(_r(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=Ng(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Tt(h)}xg(a)}function Hl(a){a.g&&(bd(a),a.g.cancel(),a.g=null)}function Ig(a){Hl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Gl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Wl(a){if(!rg(a.h)&&!a.s){a.s=!0;var h=a.Ga;Ue||ae(),$||(Ue(),$=!0),ie.add(h,a),a.B=0}}function b1(a,h){return ig(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Q(g(a.Ga,a,h),Pg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new qt(this,this.j,a);let O=this.o;if(this.S&&(O?(O=_(O),T(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Sg(this,D,h),p=_r(this.I),Oe(p,"RID",a),Oe(p,"CVER",22),this.D&&Oe(p,"X-HTTP-Session-Id",this.D),Yo(this,p),O&&(this.O?h="headers="+encodeURIComponent(String(mg(O)))+"&"+h:this.m&&xd(p,this.m,O)),Pd(this.h,D),this.Ua&&Oe(p,"TYPE","init"),this.P?(Oe(p,"$req",h),Oe(p,"SID","null"),D.T=!0,Hr(D,p,null)):Hr(D,p,h),this.G=2}}else this.G==3&&(a?Tg(this,a):this.i.length==0||rg(this.h)||Tg(this))};function Tg(a,h){var p;h?p=h.l:p=a.U++;const v=_r(a.I);Oe(v,"SID",a.K),Oe(v,"RID",p),Oe(v,"AID",a.T),Yo(a,v),a.m&&a.o&&xd(v,a.m,a.o),p=new qt(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Sg(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Pd(a.h,p),Hr(p,v,h)}function Yo(a,h){a.H&&V(a.H,function(p,v){Oe(h,v,p)}),a.l&&ag({},function(p,v){Oe(h,v,p)})}function Sg(a,h,p){p=Math.min(a.i.length,p);var v=a.l?g(a.l.Na,a.l,a):null;e:{var D=a.i;let O=-1;for(;;){const W=["count="+p];O==-1?0<p?(O=D[0].g,W.push("ofs="+O)):O=0:W.push("ofs="+O);let Ne=!0;for(let St=0;St<p;St++){let Ce=D[St].g;const bt=D[St].map;if(Ce-=O,0>Ce)O=Math.max(0,D[St].g-100),Ne=!1;else try{P1(bt,W,"req"+Ce+"_")}catch{v&&v(bt)}}if(Ne){v=W.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,v}function Cg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Ue||ae(),$||(Ue(),$=!0),ie.add(h,a),a.v=0}}function Nd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Q(g(a.Fa,a),Pg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ag(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Q(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Hl(this),Ag(this))};function bd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Ag(a){a.g=new qt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=_r(a.qa);Oe(h,"RID","rpc"),Oe(h,"SID",a.K),Oe(h,"AID",a.T),Oe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Oe(h,"TO",a.ja),Oe(h,"TYPE","xmlhttp"),Yo(a,h),a.m&&a.o&&xd(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=zl(_r(h)),p.m=null,p.P=!0,Vi(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Hl(this),Nd(this),ee(19))};function Gl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Rg(a,h){var p=null;if(a.g==h){Gl(a),bd(a),a.g=null;var v=2}else if(Rd(a.h,h))p=h.D,sg(a.h,h),v=1;else return;if(a.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var D=a.B;v=L(),et(v,new ne(v,p)),Wl(a)}else Cg(a);else if(D=h.s,D==3||D==0&&0<h.X||!(v==1&&b1(a,h)||v==2&&Nd(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),D){case 1:Ui(a,5);break;case 4:Ui(a,10);break;case 3:Ui(a,6);break;default:Ui(a,2)}}}function Pg(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Ui(a,h){if(a.j.info("Error code "+h),h==2){var p=g(a.fb,a),v=a.Xa;const D=!v;v=new Fi(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ul(v,"https"),zl(v),D?C1(v.toString(),p):A1(v.toString(),p)}else ee(2);a.G=0,a.l&&a.l.sa(h),xg(a),Ig(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function xg(a){if(a.G=0,a.ka=[],a.l){const h=og(a.h);(h.length!=0||a.i.length!=0)&&(k(a.ka,h),k(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function kg(a,h,p){var v=p instanceof Fi?_r(p):new Fi(p);if(v.g!="")h&&(v.g=h+"."+v.g),Bl(v,v.s);else{var D=l.location;v=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var O=new Fi(null);v&&Ul(O,v),h&&(O.g=h),D&&Bl(O,D),p&&(O.l=p),v=O}return p=a.D,h=a.ya,p&&h&&Oe(v,p,h),Oe(v,"VER",a.la),Yo(a,v),v}function Ng(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Xe(new Wo({eb:p})):new Xe(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bg(){}t=bg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kl(){}Kl.prototype.g=function(a,h){return new an(a,h)};function an(a,h){Le.call(this),this.g=new Eg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!w(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new bs(this)}R(an,Le),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){kd(this.g)},an.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Bo(a),a=p);h.i.push(new m1(h.Ya++,a)),h.G==3&&Wl(h)},an.prototype.N=function(){this.g.l=null,delete this.j,kd(this.g),delete this.g,an.aa.N.call(this)};function Dg(a){zo.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}R(Dg,zo);function jg(){ks.call(this),this.status=1}R(jg,ks);function bs(a){this.g=a}R(bs,bg),bs.prototype.ua=function(){et(this.g,"a")},bs.prototype.ta=function(a){et(this.g,new Dg(a))},bs.prototype.sa=function(a){et(this.g,new jg)},bs.prototype.ra=function(){et(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,MI=function(){return new Kl},OI=function(){return L()},LI=pr,jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,Lc=He,$r.COMPLETE="complete",jI=$r,Fl.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",Le.prototype.listen=Le.prototype.K,ya=Fl,DI=Wo,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,bI=Xe}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const X_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Zu("@firebase/firestore");function la(){return hs.logLevel}function Z(t,...e){if(hs.logLevel<=Ee.DEBUG){const n=e.map(_m);hs.debug(`Firestore (${Do}): ${t}`,...n)}}function Vr(t,...e){if(hs.logLevel<=Ee.ERROR){const n=e.map(_m);hs.error(`Firestore (${Do}): ${t}`,...n)}}function Io(t,...e){if(hs.logLevel<=Ee.WARN){const n=e.map(_m);hs.warn(`Firestore (${Do}): ${t}`,...n)}}function _m(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+t;throw Vr(e),new Error(e)}function je(t,e){t||de()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class Xb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jb{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new VI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Mt(e)}}class Zb{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Zb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new tD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function To(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new ft(0,0))}static max(){return new he(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends sl{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const iD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends sl{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return iD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Ve.fromString(e))}static fromName(e){return new re(Ve.fromString(e).popFirst(5))}static empty(){return new re(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ve(e.slice()))}}function sD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new wi(i,re.empty(),e)}function oD(t){return new wi(t.readTime,t.key,-1)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(he.min(),re.empty(),-1)}static max(){return new wi(he.max(),re.empty(),-1)}}function aD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==lD)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function uD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vm.oe=-1;function ad(t){return t==null}function Iu(t){return t===0&&1/t==-1/0}function dD(t){return typeof t=="number"&&Number.isInteger(t)&&!Iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new xt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BI("Invalid base64 string: "+s):s}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const hD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(je(!!t),typeof t=="string"){let e=0;const n=hD.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fs(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Em(t){const e=t.mapValue.fields.__previous_value__;return wm(e)?Em(e):e}function ol(t){const e=Ei(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wm(t)?4:pD(t)?9007199254740991:10:de()}function cr(t,e){if(t===e)return!0;const n=ps(t);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ol(t).isEqual(ol(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ei(i.timestampValue),l=Ei(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fs(i.bytesValue).isEqual(fs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),l=ot(s.doubleValue);return o===l?Iu(o)===Iu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return To(t.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(J_(o)!==J_(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!cr(o[c],l[c])))return!1;return!0}(t,e);default:return de()}}function ll(t,e){return(t.values||[]).find(n=>cr(n,e))!==void 0}function So(t,e){if(t===e)return 0;const n=ps(t),r=ps(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=ot(s.integerValue||s.doubleValue),c=ot(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ev(t.timestampValue,e.timestampValue);case 4:return ev(ol(t),ol(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){const l=fs(s),c=fs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const f=Re(l[u],c[u]);if(f!==0)return f}return Re(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Re(ot(s.latitude),ot(o.latitude));return l!==0?l:Re(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let u=0;u<l.length&&u<c.length;++u){const f=So(l[u],c[u]);if(f)return f}return Re(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===gc.mapValue&&o===gc.mapValue)return 0;if(s===gc.mapValue)return 1;if(o===gc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const g=Re(c[m],f[m]);if(g!==0)return g;const I=So(l[c[m]],u[f[m]]);if(I!==0)return I}return Re(c.length,f.length)}(t.mapValue,e.mapValue);default:throw de()}}function ev(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Ei(t),r=Ei(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function Co(t){return Lf(t)}function Lf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Lf(n.fields[o])}`;return i+"}"}(t.mapValue):de()}function tv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Of(t){return!!t&&"integerValue"in t}function Im(t){return!!t&&"arrayValue"in t}function nv(t){return!!t&&"nullValue"in t}function rv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oc(t){return!!t&&"mapValue"in t}function ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ja(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=ja(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Oc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jt(ja(this.value))}}function zI(t){const e=[];return vs(t.fields,(n,r)=>{const i=new Rt([n]);if(Oc(r)){const s=zI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ft(e,0,he.min(),he.min(),he.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,he.min(),he.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,he.min(),he.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.position=e,this.inclusive=n}}function iv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=So(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n="asc"){this.field=e,this.dir=n}}function mD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{}class lt extends $I{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yD(e,n,r):n==="array-contains"?new wD(e,r):n==="in"?new ED(e,r):n==="not-in"?new ID(e,r):n==="array-contains-any"?new TD(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _D(e,r):new vD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(So(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends $I{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Qn(e,n)}matches(e){return qI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qI(t){return t.op==="and"}function HI(t){return gD(t)&&qI(t)}function gD(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Mf(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(HI(t))return t.filters.map(e=>Mf(e)).join(",");{const e=t.filters.map(n=>Mf(n)).join(",");return`${t.op}(${e})`}}function WI(t,e){return t instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&cr(r.value,i.value)}(t,e):t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&WI(o,i.filters[l]),!0):!1}(t,e):void de()}function GI(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(GI).join(" ,")+"}"}(t):"Filter"}class yD extends lt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class _D extends lt{constructor(e,n){super(e,"in",n),this.keys=KI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vD extends lt{constructor(e,n){super(e,"not-in",n),this.keys=KI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class wD extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Im(n)&&ll(n.arrayValue,this.value)}}class ED extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ll(this.value.arrayValue,n)}}class ID extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ll(this.value.arrayValue,n)}}class TD extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Im(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function ov(t,e=null,n=[],r=[],i=null,s=null,o=null){return new SD(t,e,n,r,i,s,o)}function Tm(t){const e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.ue=n}return e.ue}function Sm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sv(t.startAt,e.startAt)&&sv(t.endAt,e.endAt)}function Vf(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function CD(t,e,n,r,i,s,o,l){return new xl(t,e,n,r,i,s,o,l)}function ld(t){return new xl(t)}function av(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QI(t){return t.collectionGroup!==null}function La(t){const e=fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new xt(Rt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Su(s,r))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new Su(Rt.keyField(),r))}return e.ce}function ar(t){const e=fe(t);return e.le||(e.le=AD(e,La(t))),e.le}function AD(t,e){if(t.limitType==="F")return ov(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Su(i.field,s)});const n=t.endAt?new Tu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tu(t.startAt.position,t.startAt.inclusive):null;return ov(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ff(t,e){const n=t.filters.concat([e]);return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uf(t,e,n){return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return Sm(ar(t),ar(e))&&t.limitType===e.limitType}function YI(t){return`${Tm(ar(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GI(i)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Co(i)).join(",")),`Target(${r})`}(ar(t))}; limitType=${t.limitType})`}function ud(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of La(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=iv(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,La(r),i)||r.endAt&&!function(o,l,c){const u=iv(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,La(r),i))}(t,e)}function RD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XI(t){return(e,n)=>{let r=!1;for(const i of La(t)){const s=PD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PD(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?So(c,u):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return UI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Ye(re.comparator);function Fr(){return xD}const JI=new Ye(re.comparator);function _a(...t){let e=JI;for(const n of t)e=e.insert(n.key,n);return e}function ZI(t){let e=JI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xi(){return Oa()}function eT(){return Oa()}function Oa(){return new jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const kD=new Ye(re.comparator),ND=new xt(re.comparator);function we(...t){let e=ND;for(const n of t)e=e.add(n);return e}const bD=new xt(Re);function DD(){return bD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(e)?"-0":e}}function nT(t){return{integerValue:""+t}}function jD(t,e){return dD(e)?nT(e):tT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function LD(t,e,n){return t instanceof Cu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wm(s)&&(s=Em(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof cl?iT(t,e):t instanceof ul?sT(t,e):function(i,s){const o=rT(i,s),l=lv(o)+lv(i.Pe);return Of(o)&&Of(i.Pe)?nT(l):tT(i.serializer,l)}(t,e)}function OD(t,e,n){return t instanceof cl?iT(t,e):t instanceof ul?sT(t,e):n}function rT(t,e){return t instanceof Au?function(r){return Of(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Cu extends dd{}class cl extends dd{constructor(e){super(),this.elements=e}}function iT(t,e){const n=oT(e);for(const r of t.elements)n.some(i=>cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ul extends dd{constructor(e){super(),this.elements=e}}function sT(t,e){let n=oT(e);for(const r of t.elements)n=n.filter(i=>!cr(i,r));return{arrayValue:{values:n}}}class Au extends dd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function lv(t){return ot(t.integerValue||t.doubleValue)}function oT(t){return Im(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cl&&i instanceof cl||r instanceof ul&&i instanceof ul?To(r.elements,i.elements,cr):r instanceof Au&&i instanceof Au?cr(r.Pe,i.Pe):r instanceof Cu&&i instanceof Cu}(t.transform,e.transform)}class VD{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hd{}function aT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cm(t.key,Hn.none()):new kl(t.key,t.data,Hn.none());{const n=t.data,r=Jt.empty();let i=new xt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Di(t.key,r,new fn(i.toArray()),Hn.none())}}function FD(t,e,n){t instanceof kl?function(i,s,o){const l=i.value.clone(),c=uv(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(i,s,o){if(!Mc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=uv(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(lT(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ma(t,e,n,r){return t instanceof kl?function(s,o,l,c){if(!Mc(s.precondition,o))return l;const u=s.value.clone(),f=dv(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(s,o,l,c){if(!Mc(s.precondition,o))return l;const u=dv(s.fieldTransforms,c,o),f=o.data;return f.setAll(lT(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Mc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function UD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rT(r.transform,i||null);s!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,s))}return n||null}function cv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&To(r,i,(s,o)=>MD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kl extends hd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends hd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uv(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,OD(o,l,n[i]))}return r}function dv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,LD(s,o,e))}return r}class Cm extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BD extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&FD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=aT(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,r)=>cv(n,r))&&To(this.baseMutations,e.baseMutations,(n,r)=>cv(n,r))}}class Am{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return kD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Am(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Ie;function HD(t){switch(t){default:return de();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function cT(t){if(t===void 0)return Vr("GRPC error has no .code"),U.UNKNOWN;switch(t){case it.OK:return U.OK;case it.CANCELLED:return U.CANCELLED;case it.UNKNOWN:return U.UNKNOWN;case it.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case it.INTERNAL:return U.INTERNAL;case it.UNAVAILABLE:return U.UNAVAILABLE;case it.UNAUTHENTICATED:return U.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case it.NOT_FOUND:return U.NOT_FOUND;case it.ALREADY_EXISTS:return U.ALREADY_EXISTS;case it.PERMISSION_DENIED:return U.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case it.ABORTED:return U.ABORTED;case it.OUT_OF_RANGE:return U.OUT_OF_RANGE;case it.UNIMPLEMENTED:return U.UNIMPLEMENTED;case it.DATA_LOSS:return U.DATA_LOSS;default:return de()}}(Ie=it||(it={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new es([4294967295,4294967295],0);function hv(t){const e=WD().encode(t),n=new NI;return n.update(e),new Uint8Array(n.digest())}function fv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new es([n,r],0),new es([i,s],0)]}class Rm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new va(`Invalid padding: ${n}`);if(r<0)throw new va(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new va(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new va(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=es.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(es.fromNumber(r)));return i.compare(GD)===1&&(i=new es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=hv(e),[r,i]=fv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Rm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=hv(e),[r,i]=fv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fd(he.min(),i,new Ye(Re),Fr(),we())}}class Nl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nl(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class uT{constructor(e,n){this.targetId=e,this.me=n}}class dT{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pv{constructor(){this.fe=0,this.ge=gv(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=we(),n=we(),r=we();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new Nl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=gv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class KD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fr(),this.qe=mv(),this.Qe=new Ye(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Vf(s))if(r===0){const o=new re(s.path);this.Ue(n,o,Ft.newNoDocument(o,he.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=fs(r).toUint8Array()}catch(c){if(c instanceof BI)return Io("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Rm(o,i,s)}catch(c){return Io(c instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Vf(l.target)){const c=new re(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Ft.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=we();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new fd(e,n,this.Qe,this.ke,r);return this.ke=Fr(),this.qe=mv(),this.Qe=new Ye(Re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new pv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function mv(){return new Ye(re.comparator)}function gv(){return new Ye(re.comparator)}const QD={asc:"ASCENDING",desc:"DESCENDING"},YD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XD={and:"AND",or:"OR"};class JD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bf(t,e){return t.useProto3Json||ad(e)?e:{value:e}}function Ru(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZD(t,e){return Ru(t,e.toTimestamp())}function lr(t){return je(!!t),he.fromTimestamp(function(n){const r=Ei(n);return new ft(r.seconds,r.nanos)}(t))}function Pm(t,e){return zf(t,e).canonicalString()}function zf(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fT(t){const e=Ve.fromString(t);return je(_T(e)),e}function $f(t,e){return Pm(t.databaseId,e.path)}function vh(t,e){const n=fT(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(mT(n))}function pT(t,e){return Pm(t.databaseId,e)}function e2(t){const e=fT(t);return e.length===4?Ve.emptyPath():mT(e)}function qf(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mT(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yv(t,e,n){return{name:$f(t,e),fields:n.value.mapValue.fields}}function t2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(je(f===void 0||typeof f=="string"),zt.fromBase64String(f||"")):(je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),zt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const f=u.code===void 0?U.UNKNOWN:cT(u.code);return new J(f,u.message||"")}(o);n=new dT(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vh(t,r.document.name),s=lr(r.document.updateTime),o=r.document.createTime?lr(r.document.createTime):he.min(),l=new Jt({mapValue:{fields:r.document.fields}}),c=Ft.newFoundDocument(i,s,o,l),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Vc(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vh(t,r.document),s=r.readTime?lr(r.readTime):he.min(),o=Ft.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Vc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vh(t,r.document),s=r.removedTargetIds||[];n=new Vc([],s,i,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new qD(i,s),l=r.targetId;n=new uT(l,o)}}return n}function n2(t,e){let n;if(e instanceof kl)n={update:yv(t,e.key,e.value)};else if(e instanceof Cm)n={delete:$f(t,e.key)};else if(e instanceof Di)n={update:yv(t,e.key,e.data),updateMask:d2(e.fieldMask)};else{if(!(e instanceof BD))return de();n={verify:$f(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Cu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Au)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ZD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:de()}(t,e.precondition)),n}function r2(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?lr(i.updateTime):lr(s);return o.isEqual(he.min())&&(o=lr(s)),new VD(o,i.transformResults||[])}(n,e))):[]}function i2(t,e){return{documents:[pT(t,e.path)]}}function s2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pT(t,i);const s=function(u){if(u.length!==0)return yT(Qn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(g){return{field:Us(g.field),direction:l2(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Bf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function o2(t){let e=e2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=gT(m);return g instanceof Qn&&HI(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(R){return new Su(Bs(R.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,ad(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,I=m.values||[];return new Tu(I,g)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const g=!m.before,I=m.values||[];return new Tu(I,g)}(n.endAt)),CD(e,i,o,s,l,"F",c,u)}function a2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bs(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bs(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bs(n.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bs(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(Bs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>gT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function l2(t){return QD[t]}function c2(t){return YD[t]}function u2(t){return XD[t]}function Us(t){return{fieldPath:t.canonicalString()}}function Bs(t){return Rt.fromServerFormat(t.fieldPath)}function yT(t){return t instanceof lt?function(n){if(n.op==="=="){if(rv(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(nv(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rv(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(nv(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:c2(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(i=>yT(i));return r.length===1?r[0]:{compositeFilter:{op:u2(n.op),filters:r}}}(t):de()}function d2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _T(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r,i,s=he.min(),o=he.min(),l=zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.ct=e}}function f2(t){const e=o2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this._n=new m2}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(wi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class m2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ao(0)}static Ln(){return new Ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.changes=new jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ma(r.mutation,i,fn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=_a();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Fr();const o=Oa(),l=function(){return Oa()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Di)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Ma(f.mutation,u,f.mutation.getFieldMask(),ft.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var m;return l.set(u,new y2(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Oa();let i=new Ye((o,l)=>o-l),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||fn.empty();f=l.applyToLocalView(u,f),r.set(c,f);const m=(i.get(l.batchId)||we()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,f=c.value,m=eT();f.forEach(g=>{if(!s.has(g)){const I=aT(n.get(g),r.get(g));I!==null&&m.set(g,I),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Xi());let l=-1,c=s;return o.next(u=>z.forEach(u,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,we())).next(f=>({batchId:l,changes:ZI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=_a();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=_a();return this.indexManager.getCollectionParents(e,s).next(l=>z.forEach(l,c=>{const u=function(m,g){return new xl(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Ft.newInvalidDocument(f)))});let l=_a();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&Ma(f.mutation,u,fn.empty(),ft.now()),ud(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:lr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:f2(i.bundledQuery),readTime:lr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.overlays=new Ye(re.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xi();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Xi(),s=n.length+1,o=new re(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Xi(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const l=Xi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=i)););return z.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $D(n,r));let s=this.hr.get(n);s===void 0&&(s=we(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.Pr=new xt(gt.Ir),this.Tr=new xt(gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new gt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new gt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new re(new Ve([])),r=new gt(n,e),i=new gt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new re(new Ve([])),r=new gt(n,e),i=new gt(n,e+1);let s=we();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return re.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xt(gt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zD(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new gt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Re);return n.forEach(i=>{const s=new gt(i,0),o=new gt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new gt(new re(s),0);let l=new xt(Re);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.pr)),!0)},o),z.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new gt(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.vr=e,this.docs=function(){return new Ye(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fr();const o=n.path,l=new re(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aD(oD(f),r)<=0||(i.has(f.key)||ud(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){de()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T2(this)}getSize(e){return z.resolve(this.size)}}class T2 extends g2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.persistence=e,this.Mr=new jo(n=>Tm(n),Sm),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xm,this.targetCount=0,this.Lr=Ao.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.Br={},this.overlays={},this.kr=new vm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new S2(this),this.indexManager=new p2,this.remoteDocumentCache=function(i){return new I2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new h2(n),this.$r=new v2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new E2(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new A2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class A2 extends cD{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.zr=new xm,this.jr=null}static Hr(e){return new km(e)}get Jr(){if(this.jr)return this.jr;throw de()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=re.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Nm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return eP()?8:uD(Nt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new R2;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(la()<=Ee.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(la()<=Ee.DEBUG&&Z("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(la()<=Ee.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):z.resolve())}ji(e,n){if(av(n))return z.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Uf(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,o,c.readTime)?this.ji(e,Uf(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return av(n)||i.isEqual(he.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?z.resolve(null):(la()<=Ee.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(n)),this.es(e,o,n,sD(i,-1)).next(l=>l))})}Zi(e,n){let r=new xt(XI(e));return n.forEach((i,s)=>{ud(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return la()<=Ee.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.zi.getDocumentsMatchingQuery(e,n,wi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ye(Re),this.rs=new jo(s=>Tm(s),Sm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function k2(t,e,n,r){return new x2(t,e,n,r)}async function vT(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=we();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){l.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:l}))})})}function N2(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,f){const m=u.batch,g=m.keys();let I=z.resolve();return g.forEach(R=>{I=I.next(()=>f.getEntry(c,R)).next(P=>{const k=u.docVersions.get(R);je(k!==null),P.version.compareTo(k)<0&&(m.applyToRemoteDocument(P,u),P.isValidDocument()&&(P.setReadTime(u.commitVersion),f.addEntry(P)))})}),I.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=we();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wT(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function b2(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,m)));let I=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(zt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(m,I),function(P,k,S){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,I,f)&&l.push(n.Qr.updateTargetData(s,I))});let c=Fr(),u=we();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(D2(s,o,e.documentUpdates).next(f=>{c=f.cs,u=f.ls})),!r.isEqual(he.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return z.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function D2(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fr();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function j2(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L2(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Hf(t,e,n){const r=fe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Pl(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function _v(t,e,n){const r=fe(t);let i=he.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const m=fe(c),g=m.rs.get(f);return g!==void 0?z.resolve(m.ns.get(g)):m.Qr.getTargetData(u,f)}(r,o,ar(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:he.min(),n?s:we())).next(l=>(O2(r,RD(e),l),{documents:l,hs:s})))}function O2(t,e,n){let r=t.ss.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class vv{constructor(){this.activeTargetIds=DD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M2{constructor(){this.no=new vv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new vv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function wh(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class B2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=wh(),c=this.vo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,i).then(f=>(Z("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Io("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=F2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=wh();return new Promise((o,l)=>{const c=new bI;c.setWithCredentials(!0),c.listenOnce(jI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Lc.NO_ERROR:const f=c.getResponseJson();Z(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Lc.TIMEOUT:Z(Ot,`RPC '${e}' ${s} timed out`),l(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const m=c.getStatus();if(Z(Ot,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const I=g==null?void 0:g.error;if(I&&I.status&&I.message){const R=function(k){const S=k.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(S)>=0?S:U.UNKNOWN}(I.status);l(new J(R,I.message))}else l(new J(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new J(U.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{Z(Ot,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Z(Ot,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=wh(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MI(),l=OI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new DI({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");Z(Ot,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);let g=!1,I=!1;const R=new U2({lo:k=>{I?Z(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(g||(Z(Ot,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Z(Ot,`RPC '${e}' stream ${i} sending:`,k),m.send(k))},ho:()=>m.close()}),P=(k,S,w)=>{k.listen(S,A=>{try{w(A)}catch(j){setTimeout(()=>{throw j},0)}})};return P(m,ya.EventType.OPEN,()=>{I||(Z(Ot,`RPC '${e}' stream ${i} transport opened.`),R.mo())}),P(m,ya.EventType.CLOSE,()=>{I||(I=!0,Z(Ot,`RPC '${e}' stream ${i} transport closed`),R.po())}),P(m,ya.EventType.ERROR,k=>{I||(I=!0,Io(Ot,`RPC '${e}' stream ${i} transport errored:`,k),R.po(new J(U.UNAVAILABLE,"The operation could not be completed")))}),P(m,ya.EventType.MESSAGE,k=>{var S;if(!I){const w=k.data[0];je(!!w);const A=w,j=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(j){Z(Ot,`RPC '${e}' stream ${i} received error:`,j);const B=j.status;let V=function(E){const T=it[E];if(T!==void 0)return cT(T)}(B),y=j.message;V===void 0&&(V=U.INTERNAL,y="Unknown error status: "+B+" with message "+j.message),I=!0,R.po(new J(V,y)),m.close()}else Z(Ot,`RPC '${e}' stream ${i} received:`,w),R.yo(w)}}),P(l,LI.STAT_EVENT,k=>{k.stat===jf.PROXY?Z(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===jf.NOPROXY&&Z(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.fo()},0),R}}function Eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new JD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ET(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z2 extends IT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=t2(this.serializer,e),r=function(s){if(!("targetChange"in s))return he.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?lr(o.readTime):he.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=qf(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Vf(c)?{documents:i2(s,c)}:{query:s2(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=hT(s,o.resumeToken);const u=Bf(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(he.min())>0){l.readTime=Ru(s,o.snapshotVersion.toTimestamp());const u=Bf(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=a2(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=qf(this.serializer),n.removeTarget=e,this.i_(n)}}class $2 extends IT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=r2(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.A_(r,n)}return je(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=qf(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n2(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,zf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(U.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,zf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(U.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class H2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Vr(n),this.y_=!1):Z("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{ws(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=fe(c);u.M_.add(4),await bl(u),u.N_.set("Unknown"),u.M_.delete(4),await md(u)}(this))})}),this.N_=new H2(r,i)}}async function md(t){if(ws(t))for(const e of t.x_)await e(!0)}async function bl(t){for(const e of t.x_)await e(!1)}function TT(t,e){const n=fe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Lm(n)?jm(n):Lo(n).Xo()&&Dm(n,e))}function bm(t,e){const n=fe(t),r=Lo(n);n.F_.delete(e),r.Xo()&&ST(n,e),n.F_.size===0&&(r.Xo()?r.n_():ws(n)&&n.N_.set("Unknown"))}function Dm(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(t).P_(e)}function ST(t,e){t.L_.xe(e),Lo(t).I_(e)}function jm(t){t.L_=new KD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Lo(t).start(),t.N_.w_()}function Lm(t){return ws(t)&&!Lo(t).Zo()&&t.F_.size>0}function ws(t){return fe(t).M_.size===0}function CT(t){t.L_=void 0}async function G2(t){t.N_.set("Online")}async function K2(t){t.F_.forEach((e,n)=>{Dm(t,e)})}async function Q2(t,e){CT(t),Lm(t)?(t.N_.D_(e),jm(t)):t.N_.set("Unknown")}async function Y2(t,e,n){if(t.N_.set("Online"),e instanceof dT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pu(t,r)}else if(e instanceof Vc?t.L_.Ke(e):e instanceof uT?t.L_.He(e):t.L_.We(e),!n.isEqual(he.min()))try{const r=await wT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.F_.get(u);f&&s.F_.set(u,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const f=s.F_.get(c);if(!f)return;s.F_.set(c,f.withResumeToken(zt.EMPTY_BYTE_STRING,f.snapshotVersion)),ST(s,c);const m=new oi(f.target,c,u,f.sequenceNumber);Dm(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Pu(t,r)}}async function Pu(t,e,n){if(!Pl(e))throw e;t.M_.add(1),await bl(t),t.N_.set("Offline"),n||(n=()=>wT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await md(t)})}function AT(t,e){return e().catch(n=>Pu(t,n,e))}async function gd(t){const e=fe(t),n=Ii(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;X2(e);)try{const i=await j2(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,J2(e,i)}catch(i){await Pu(e,i)}RT(e)&&PT(e)}function X2(t){return ws(t)&&t.v_.length<10}function J2(t,e){t.v_.push(e);const n=Ii(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function RT(t){return ws(t)&&!Ii(t).Zo()&&t.v_.length>0}function PT(t){Ii(t).start()}async function Z2(t){Ii(t).V_()}async function ej(t){const e=Ii(t);for(const n of t.v_)e.d_(n.mutations)}async function tj(t,e,n){const r=t.v_.shift(),i=Am.from(r,e,n);await AT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gd(t)}async function nj(t,e){e&&Ii(t).E_&&await async function(r,i){if(function(o){return HD(o)&&o!==U.ABORTED}(i.code)){const s=r.v_.shift();Ii(r).t_(),await AT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gd(r)}}(t,e),RT(t)&&PT(t)}async function Ev(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=ws(n);n.M_.add(3),await bl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await md(n)}async function rj(t,e){const n=fe(t);e?(n.M_.delete(2),await md(n)):e||(n.M_.add(2),await bl(n),n.N_.set("Unknown"))}function Lo(t){return t.B_||(t.B_=function(n,r,i){const s=fe(n);return s.f_(),new z2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:G2.bind(null,t),To:K2.bind(null,t),Ao:Q2.bind(null,t),h_:Y2.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Lm(t)?jm(t):t.N_.set("Unknown")):(await t.B_.stop(),CT(t))})),t.B_}function Ii(t){return t.k_||(t.k_=function(n,r,i){const s=fe(n);return s.f_(),new $2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Z2.bind(null,t),Ao:nj.bind(null,t),R_:ej.bind(null,t),A_:tj.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await gd(t)):(await t.k_.stop(),t.v_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Om(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),Pl(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=_a(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.q_=new Ye(re.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):de():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ro{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ro(e,n,uo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class sj{constructor(){this.queries=new jo(e=>YI(e),cd),this.onlineState="Unknown",this.z_=new Set}}async function Vm(t,e){const n=fe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new ij,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Mm(o,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Um(n)}async function Fm(t,e){const n=fe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oj(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&Um(n)}function aj(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Um(t){t.z_.forEach(e=>{e.next()})}var Wf,Tv;(Tv=Wf||(Wf={})).J_="default",Tv.Cache="cache";class Bm{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class lj{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=we(),this.mutatedKeys=we(),this.Ia=XI(e),this.Ta=new uo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Iv,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),I=ud(this.query,m)?m:null,R=!!g&&this.mutatedKeys.has(g.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;g&&I?g.data.isEqual(I.data)?R!==P&&(r.track({type:3,doc:I}),k=!0):this.Ra(g,I)||(r.track({type:2,doc:I}),k=!0,(c&&this.Ia(I,c)>0||u&&this.Ia(I,u)<0)&&(l=!0)):!g&&I?(r.track({type:0,doc:I}),k=!0):g&&!I&&(r.track({type:1,doc:g}),k=!0,(c||u)&&(l=!0)),k&&(I?(o=o.add(I),s=P?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,m)=>function(I,R){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return P(I)-P(R)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new Ro(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Iv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=we(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new kT(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new xT(r))}),n}pa(e){this.la=e.hs,this.Pa=we();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Ro.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class cj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uj{constructor(e){this.key=e,this.wa=!1}}class dj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new jo(l=>YI(l),cd),this.Da=new Map,this.Ca=new Set,this.va=new Ye(re.comparator),this.Fa=new Map,this.Ma=new xm,this.xa={},this.Oa=new Map,this.Na=Ao.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function hj(t,e,n=!0){const r=OT(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await NT(r,e,n,!0),i}async function fj(t,e){const n=OT(t);await NT(n,e,!0,!1)}async function NT(t,e,n,r){const i=await L2(t.localStore,ar(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await pj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&TT(t.remoteStore,i),l}async function pj(t,e,n,r,i){t.Ba=(m,g,I)=>async function(P,k,S,w){let A=k.view.da(S);A.Xi&&(A=await _v(P.localStore,k.query,!1).then(({documents:y})=>k.view.da(y,A)));const j=w&&w.targetChanges.get(k.targetId),B=w&&w.targetMismatches.get(k.targetId)!=null,V=k.view.applyChanges(A,P.isPrimaryClient,j,B);return Cv(P,k.targetId,V.fa),V.snapshot}(t,m,g,I);const s=await _v(t.localStore,e,!0),o=new lj(e,s.hs),l=o.da(s.documents),c=Nl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);Cv(t,n,u.fa);const f=new cj(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function mj(t,e,n){const r=fe(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!cd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bm(r.remoteStore,i.targetId),Gf(r,i.targetId)}).catch(Rl)):(Gf(r,i.targetId),await Hf(r.localStore,i.targetId,!0))}async function gj(t,e){const n=fe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bm(n.remoteStore,r.targetId))}async function yj(t,e,n){const r=Sj(t);try{const i=await function(o,l){const c=fe(o),u=ft.now(),f=l.reduce((I,R)=>I.add(R.key),we());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=Fr(),P=we();return c.os.getEntries(I,f).next(k=>{R=k,R.forEach((S,w)=>{w.isValidDocument()||(P=P.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(I,R)).next(k=>{m=k;const S=[];for(const w of l){const A=UD(w,m.get(w.key).overlayedDocument);A!=null&&S.push(new Di(w.key,A,zI(A.value.mapValue),Hn.exists(!0)))}return c.mutationQueue.addMutationBatch(I,u,S,l)}).next(k=>{g=k;const S=k.applyToLocalDocumentSet(m,P);return c.documentOverlayCache.saveOverlays(I,k.batchId,S)})}).then(()=>({batchId:g.batchId,changes:ZI(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.xa[o.currentUser.toKey()];u||(u=new Ye(Re)),u=u.insert(l,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Dl(r,i.changes),await gd(r.remoteStore)}catch(i){const s=Mm(i,"Failed to persist write");n.reject(s)}}async function bT(t,e){const n=fe(t);try{const r=await b2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?je(o.wa):i.removedDocuments.size>0&&(je(o.wa),o.wa=!1))}),await Dl(n,r,e)}catch(r){await Rl(r)}}function Sv(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=fe(o);c.onlineState=l;let u=!1;c.queries.forEach((f,m)=>{for(const g of m.U_)g.j_(l)&&(u=!0)}),u&&Um(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _j(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Ye(re.comparator);o=o.insert(s,Ft.newNoDocument(s,he.min()));const l=we().add(s),c=new fd(he.min(),new Map,new Ye(Re),o,l);await bT(r,c),r.va=r.va.remove(s),r.Fa.delete(e),zm(r)}else await Hf(r.localStore,e,!1).then(()=>Gf(r,e,n)).catch(Rl)}async function vj(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await N2(n.localStore,e);jT(n,r,null),DT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dl(n,i)}catch(i){await Rl(i)}}async function wj(t,e,n){const r=fe(t);try{const i=await function(o,l){const c=fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(je(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);jT(r,e,n),DT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dl(r,i)}catch(i){await Rl(i)}}function DT(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function jT(t,e,n){const r=fe(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Gf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||LT(t,r)})}function LT(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(bm(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),zm(t))}function Cv(t,e,n){for(const r of n)r instanceof xT?(t.Ma.addReference(r.key,e),Ej(t,r)):r instanceof kT?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||LT(t,r.key)):de()}function Ej(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.Ca.add(r),zm(t))}function zm(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new re(Ve.fromString(e)),r=t.Na.next();t.Fa.set(r,new uj(n)),t.va=t.va.insert(n,r),TT(t.remoteStore,new oi(ar(ld(n.path)),r,"TargetPurposeLimboResolution",vm.oe))}}async function Dl(t,e,n){const r=fe(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const f=u&&!u.fromCache;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Nm.Ki(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(c,u){const f=fe(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(u,g=>z.forEach(g.qi,I=>f.persistence.referenceDelegate.addReference(m,g.targetId,I)).next(()=>z.forEach(g.Qi,I=>f.persistence.referenceDelegate.removeReference(m,g.targetId,I)))))}catch(m){if(!Pl(m))throw m;Z("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const g=m.targetId;if(!m.fromCache){const I=f.ns.get(g),R=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(R);f.ns=f.ns.insert(g,P)}}}(r.localStore,s))}async function Ij(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await vT(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(c=>{c.reject(new J(U.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dl(n,r.us)}}function Tj(t,e){const n=fe(t),r=n.Fa.get(e);if(r&&r.wa)return we().add(r.key);{let i=we();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function OT(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_j.bind(null,e),e.Sa.h_=oj.bind(null,e.eventManager),e.Sa.ka=aj.bind(null,e.eventManager),e}function Sj(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wj.bind(null,e),e}class Av{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return k2(this.persistence,new P2,e.initialUser,this.serializer)}createPersistence(e){return new C2(km.Hr,this.serializer)}createSharedClientState(e){return new M2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Cj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ij.bind(null,this.syncEngine),await rj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sj}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),r=function(s){return new B2(s)}(e.databaseInfo);return function(s,o,l,c){return new q2(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new W2(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Sv(this.syncEngine,n,0),function(){return wv.D()?new wv:new V2}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,f){const m=new dj(i,s,o,l,c,u);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=fe(r);Z("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await bl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=FI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ih(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Rv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Pj(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ev(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ev(e.remoteStore,i)),t._onlineComponents=e}function Rj(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Pj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ih(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Rj(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await Ih(t,new Av)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Ih(t,new Av);return t._offlineComponents}async function MT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await Rv(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await Rv(t,new Cj))),t._onlineComponents}function xj(t){return MT(t).then(e=>e.syncEngine)}async function xu(t){const e=await MT(t),n=e.eventManager;return n.onListen=hj.bind(null,e.syncEngine),n.onUnlisten=mj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gj.bind(null,e.syncEngine),n}function kj(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new $m({next:g=>{o.enqueueAndForget(()=>Fm(s,m));const I=g.docs.has(l);!I&&g.fromCache?u.reject(new J(U.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&g.fromCache&&c&&c.source==="server"?u.reject(new J(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new Bm(ld(l.path),f,{includeMetadataChanges:!0,ra:!0});return Vm(s,m)}(await xu(t),t.asyncQueue,e,n,r)),r.promise}function Nj(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new $m({next:g=>{o.enqueueAndForget(()=>Fm(s,m)),g.fromCache&&c.source==="server"?u.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new Bm(l,f,{includeMetadataChanges:!0,ra:!0});return Vm(s,m)}(await xu(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bj(t,e,n,r){if(e===!0&&r===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xv(t){if(!re.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kv(t){if(re.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yd(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yb;switch(r.type){case"firstParty":return new eD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pv.get(n);r&&(Z("ComponentProvider","Removing Datastore"),Pv.delete(n),r.terminate())}(this),Promise.resolve()}}function Dj(t,e,n,r={}){var i;const s=(t=mn(t,_d))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Mt.MOCK_USER;else{l=QR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Mt(u)}t._authCredentials=new Xb(new VI(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class yi extends Es{constructor(e,n,r){super(e,n,ld(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new re(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function Os(t,e,...n){if(t=nt(t),FT("collection","path",e),t instanceof _d){const r=Ve.fromString(e,...n);return kv(r),new yi(t,null,r)}{if(!(t instanceof Ut||t instanceof yi))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return kv(r),new yi(t.firestore,null,r)}}function pt(t,e,...n){if(t=nt(t),arguments.length===1&&(e=FI.newId()),FT("doc","path",e),t instanceof _d){const r=Ve.fromString(e,...n);return xv(r),new Ut(t,null,new re(r))}{if(!(t instanceof Ut||t instanceof yi))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return xv(r),new Ut(t.firestore,t instanceof yi?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ET(this,"async_queue_retry"),this.hu=()=>{const n=Eh();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Eh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Nr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Pl(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Om.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&de()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function bv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ti extends _d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new jj}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BT(this),this._firestoreClient.terminate()}}function UT(t,e){const n=typeof t=="object"?t:PE(),r=typeof t=="string"?t:"(default)",i=Il(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=GR("firestore");s&&Dj(i,...s)}return i}function vd(t){return t._firestoreClient||BT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BT(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,f){return new fD(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,VT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Aj(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Po(zt.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Po(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=/^__.*__$/;class Oj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new kl(e,this.data,n,this.fieldTransforms)}}class zT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $T(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Wm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ku(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if($T(this.fu)&&Lj.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Mj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pd(e)}Fu(e,n,r,i=!1){return new Wm({fu:e,methodName:n,vu:r,path:Rt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(t){const e=t._freezeSettings(),n=pd(t._databaseId);return new Mj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vj(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Km("Data must be an object, but it was:",o,r);const l=qT(r,o);let c,u;if(s.merge)c=new fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=Kf(e,m,n);if(!o.contains(g))throw new J(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);WT(f,g)||f.push(g)}c=new fn(f),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new Oj(new Jt(l),c,u)}class Ed extends qm{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function Fj(t,e,n,r){const i=t.Fu(1,e,n);Km("Data must be an object, but it was:",i,r);const s=[],o=Jt.empty();vs(r,(c,u)=>{const f=Qm(e,c,n);u=nt(u);const m=i.Su(f);if(u instanceof Ed)s.push(f);else{const g=jl(u,m);g!=null&&(s.push(f),o.set(f,g))}});const l=new fn(s);return new zT(o,l,i.fieldTransforms)}function Uj(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[Kf(e,r,n)],c=[i];if(s.length%2!=0)throw new J(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(Kf(e,s[g])),c.push(s[g+1]);const u=[],f=Jt.empty();for(let g=l.length-1;g>=0;--g)if(!WT(u,l[g])){const I=l[g];let R=c[g];R=nt(R);const P=o.Su(I);if(R instanceof Ed)u.push(I);else{const k=jl(R,P);k!=null&&(u.push(I),f.set(I,k))}}const m=new fn(u);return new zT(f,m,o.fieldTransforms)}function Bj(t,e,n,r=!1){return jl(n,t.Fu(r?4:3,e))}function jl(t,e){if(HT(t=nt(t)))return Km("Unsupported field value:",e,t),qT(t,e);if(t instanceof qm)return function(r,i){if(!$T(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=jl(l,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ft.fromDate(r);return{timestampValue:Ru(i.serializer,s)}}if(r instanceof ft){const s=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ru(i.serializer,s)}}if(r instanceof Hm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Po)return{bytesValue:hT(i.serializer,r._byteString)};if(r instanceof Ut){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Pm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${yd(r)}`)}(t,e)}function qT(t,e){const n={};return UI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,(r,i)=>{const s=jl(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function HT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Hm||t instanceof Po||t instanceof Ut||t instanceof qm)}function Km(t,e,n){if(!HT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yd(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Kf(t,e,n){if((e=nt(e))instanceof wd)return e._internalPath;if(typeof e=="string")return Qm(t,e);throw ku("Field path arguments must be of type string or ",t,!1,void 0,n)}const zj=new RegExp("[~\\*/\\[\\]]");function Qm(t,e,n){if(e.search(zj)>=0)throw ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wd(...e.split("."))._internalPath}catch{throw ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ku(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new J(U.INVALID_ARGUMENT,l+t+c)}function WT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(KT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $j extends GT{data(){return super.data()}}function KT(t,e){return typeof e=="string"?Qm(t,e):e instanceof wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ym{}class qj extends Ym{}function Hj(t,e,...n){let r=[];e instanceof Ym&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Jm).length,l=s.filter(c=>c instanceof Xm).length;if(o>1||o>0&&l>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xm extends qj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xm(e,n,r)}_apply(e){const n=this._parse(e);return YT(e._query,n),new Es(e.firestore,e.converter,Ff(e._query,n))}_parse(e){const n=Gm(e.firestore);return function(s,o,l,c,u,f,m){let g;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){jv(m,f);const I=[];for(const R of m)I.push(Dv(c,s,R));g={arrayValue:{values:I}}}else g=Dv(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||jv(m,f),g=Bj(l,o,m,f==="in"||f==="not-in");return lt.create(u,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Jm extends Ym{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)YT(o,c),o=Ff(o,c)}(e._query,n),new Es(e.firestore,e.converter,Ff(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Dv(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QI(e)&&n.indexOf("/")!==-1)throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!re.isDocumentKey(r))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tv(t,new re(r))}if(n instanceof Ut)return tv(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(n)}.`)}function jv(t,e){if(!Array.isArray(t)||t.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YT(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Wj{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Hm(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);je(_T(r));const i=new al(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||Vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XT extends GT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(KT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fc extends XT{data(e={}){return super.data(e)}}class JT{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fc(this._firestore,this._userDataWriter,r.key,r,new wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Fc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Fc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:Kj(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){t=mn(t,Ut);const e=mn(t.firestore,Ti);return kj(vd(e),t._key).then(n=>ZT(e,t,n))}class Zm extends Wj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function Qj(t){t=mn(t,Es);const e=mn(t.firestore,Ti),n=vd(e),r=new Zm(e);return QT(t._query),Nj(n,t._query).then(i=>new JT(e,r,t,i))}function dl(t,e,n){t=mn(t,Ut);const r=mn(t.firestore,Ti),i=Gj(t.converter,e);return eg(r,[Vj(Gm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hn.none())])}function Ea(t,e,n,...r){t=mn(t,Ut);const i=mn(t.firestore,Ti),s=Gm(i);let o;return o=typeof(e=nt(e))=="string"||e instanceof wd?Uj(s,"updateDoc",t._key,e,n,r):Fj(s,"updateDoc",t._key,e),eg(i,[o.toMutation(t._key,Hn.exists(!0))])}function Qf(t){return eg(mn(t.firestore,Ti),[new Cm(t._key,Hn.none())])}function Yj(t,...e){var n,r,i;t=nt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||bv(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(bv(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,f;if(t instanceof Ut)u=mn(t.firestore,Ti),f=ld(t._key.path),c={next:m=>{e[o]&&e[o](ZT(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=mn(t,Es);u=mn(m.firestore,Ti),f=m._query;const g=new Zm(u);c={next:I=>{e[o]&&e[o](new JT(u,g,m,I))},error:e[o+1],complete:e[o+2]},QT(t._query)}return function(g,I,R,P){const k=new $m(P),S=new Bm(I,k,R);return g.asyncQueue.enqueueAndForget(async()=>Vm(await xu(g),S)),()=>{k.$a(),g.asyncQueue.enqueueAndForget(async()=>Fm(await xu(g),S))}}(vd(u),f,l,c)}function eg(t,e){return function(r,i){const s=new Nr;return r.asyncQueue.enqueueAndForget(async()=>yj(await xj(r),i,s)),s.promise}(vd(t),e)}function ZT(t,e,n){const r=n.docs.get(e._key),i=new Zm(t);return new XT(t,i,e._key,r,new wa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Do=i})(_s),Kn(new kn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ti(new Jb(r.getProvider("auth-internal")),new nD(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),rn(X_,"4.6.3",e),rn(X_,"4.6.3","esm2017")})();const Xj={apiKey:"AIzaSyCEGX6DExJ4wrB1XUIww4M49WnFdGx6gkY",authDomain:"deli-pernil.firebaseapp.com",projectId:"deli-pernil",storageBucket:"deli-pernil.appspot.com",messagingSenderId:"231637892410",appId:"1:231637892410:web:59c4a88c7c076bea2b2403",measurementId:"G-BJNVGD1FE3"},Jj=em(Xj),Ze=hm(Jj),Nu=new rr,e1=new nr,Yt=UT(),Zj="_tlogo_8mwrw_19",eL="_header_8mwrw_27",tL="_logoContainer_8mwrw_38",nL="_adminLogoContainer_8mwrw_43",rL="_logo_8mwrw_38",iL="_mlogo_8mwrw_54",sL="_container_8mwrw_63",oL="_social_8mwrw_70",aL="_nav_8mwrw_80",lL="_active_8mwrw_114",cL="_line_8mwrw_118",uL="_line2_8mwrw_124",dL="_purpleLink_8mwrw_129",hL="_navbar_8mwrw_135",fL="_perfil_8mwrw_141",pL="_adminNav_8mwrw_148",mL="_adminLink_8mwrw_160 _nav-link_8mwrw_89",Te={tlogo:Zj,header:eL,logoContainer:tL,adminLogoContainer:nL,logo:rL,mlogo:iL,container:sL,social:oL,nav:aL,"nav-link":"_nav-link_8mwrw_89","nav-link-access":"_nav-link-access_8mwrw_100",active:lL,line:cL,line2:uL,purpleLink:dL,navbar:hL,perfil:fL,adminNav:pL,adminLink:mL},gL="/assets/Logo-Bvb2W1SP.png",yL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABrCAYAAAAb+/AcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa8SURBVHgB7VptaBtlHP/ftenaZlmzF7WryK7QrhsMlyCCH8SmvjA/CFMYjH1x6T4pyNr5VWEbTGGfNnHgNxsEYYKwTZApiGthX5S5RNjoy+aSzr1E92K2dk3b5HL+/k/vatokd7kmaQ65X3h4nrv7P3e/+/2f139OohVgdHQ0JElSAKkXh5z7NU3z8zWUUygnUEwgH8lms8M7duyIkU1I5RpGo1F/a2vrAIphJIXsIZHL5Y4iH96+fXuinAplERsfHz8MJQYNVSqAIAhyEStDU2JwmSLL8hkUA1RdMME+M/XkUheg0v6GhoZoDUgx+IWjeMbbZIcYuw5ZpAquMwPf+wwLUOyiVIQUG0ZoFaG7dTj/3BJi3KbYfTVWqhhSIBfMb3NLXAm/X6gDKYYfggzln1gkprcrheoECBIaGxsbNI6FK/Vh4QLVkZiO1MzMTGcwGEwZioWo/qQY/paWljAXBDGodZgcAnDZzbk0MTERgH+j5CB4PB5FRjcNkcMwPz//joxu2ksOAxYMO2W4USHnIcCNXyHnwS/XaaS3gl8mh0LmNTo5Dyl2peOIgdMkj2Mj5DDAi3F2pe2tVa3BYmFqkofJeRiWt27dGnOYajFeyYrhQlXVc+QQwI2fcS4WivF43J/JZOIOGGwTPT09nVwQinV2dqb0LXxdkc9hyS4JazPejISoDuAAzLZt20LG8ZIpCW2tv04zAUeGwvknim14edt+hlYRECPIo0P+uYJJHI3vLHzdT6tDKIXUv5yUuFaqEiuHSkO16ql6k+krRopRctnDyqHNBVFMUJXBDZ3vXYoUo6zAHTbEYX2Lp1AFYJVA6FDFgbvl0AnyNn6nnXqsELKz6XQ6wrvscurYImaAQwoc+kQaMLPTB8xIuXHXfDTSCgFSYsc8GZuhkcg9Sl5Pi/M9L6+j3vBT5G/3EG8N0Y6OFKvPwWYz9aRSlTiGUKxH4mFt+uwQGL84Rd98/GdBfSb17klF5HiBYV4l6yF3RTcx8pKx2KKK6WHzI7hZwTXcfLH846lkseqUSmbol28f0q4PnhHhpft3HxNr8ODuNKWnMpSezpLX10zPv9Kh6HGxvuX3KHiyHpKK37n2mIY+ukQ5LbOQKEsakr+9mT489RYlYk/oq8FJKgVW6+DpbpqZmqP3XvuCGqQmaqAm7H4aMUZ5tEa5SdozEKTQ3q6ioc6CcQxvICI/5z4fpQd3pvCWC+n+3Ud0704K5HLCrnltA5lhdjr339sL5aUlWrDwP3w5IdSDEEPcfEoSY7V4Mv0j+pCuXf4bJFSRhFqaKkjdnPhrUZE1a0tvS7cEvCKfvHaPFryvFdiwW8+evMoXFK/Xe7gkMUOt05/GmISW01T8soKQJuUEwSdTMzR2+ZZQrDf8dDFOgjC3L/Gyl27qpAzFNFZQiKjh9+v52xILAUEGr1y5EiggZqh16fwt0Ug1LQMqKqqDFMjlNEM1lTZt9ok6L+3ZIIaGNqhnoL2rmfbrPZLx5r4XaFNHW16nYYIaH2oG0dOfXBUubWpqOkF5VgJYJPKEHT6252ftQfIRSHGjnydVNPyFpOL49b07ad/gqwUqJa/PChX9eSQNjF2+Tcff/w6N34PG7xEdoHGxM2C8Q9p1oJveOKAw5UNYMJ7MDw7HoZb29bHf4DaoBUKqQQ5581qJ1re30sHju2nj5jayi4vfj1NsZFJ0irlpTaRUcp7QO6GOh3y+FhoYehHPWCMCxNJStX6iJ9NpvHWT1tG1Tnq2ex1t2Oyl57o3goyPaoH0VJYeJtMgqlKzz0MdXV6hmsQ7JIQW/1kwylCLz0OrgAjGrkl4ScmfDdAjtuh/xPYbrozgRAhFXh8lOOGYpwveDPOC8QRVEbxCtlr6iCkJRuFSBiDtLzY1VQjFyqCcwJ1CVQZP6FY2lsQw6G6hKgPELLt1XUKdaNydVjaWxGoRbq+WYgpVH5W1MR7jqDZQrAxMic3OztYsLHXjxg3TTmXlSoXqBFNimDJqptjc3JxpzzQlhqmjlhFGxexi3VxpNfrLlVSuBFZRJFNitZiOFh8syyvvlbWMYuPe682uW7mylvHYlbsym83+TjUCFIuYXTddAerLbv70QaHqIoaIZdDMwFQx/mMCe70g3o7/RqmGenyPo9gF9VkZ2lozI2CsUQWASmU/z7n/iZND4RKzC5eYXbjE7MIlZhcuMbtwidmFS8wuXGJ24RKzC5eYXbjE7MIlZhcuMbtwidmFS8wu/h/E+CM1WiH07xTLhi1iqqqu+ENx/aPL8u3tGPPHZ/z5sZ23Z1v+cM3sm9di+BcdqAqpT33QtAAAAABJRU5ErkJggg==",Wn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAflBMVEX///8AAAD4+Pje3t6YmJhOTk7j4+NISEjx8fH7+/uRkZGOjo6/v7/a2tpycnJtbW3u7u7Jycm4uLjS0tIlJSVaWlqgoKCtra2FhYUzMzM8PDx/f3+np6fPz894eHhVVVViYmISEhIZGRkrKytAQEAMDAweHh4oKCg3NzdJSUnnAWCYAAALOElEQVR4nO1d2VZjKxA1gzGaxJgYM5nhJNrd9v//4F22t1upAQqoguNa2a8CsgMHaqLq6uqCCy644IILjNAbr+4OzfG6HI7NYbQbT4qQW90vOvVwnu5MaY7vK5L7xHR+a0JvP63N7AuasTa92+WpNimIfleRX3dUmw6Jw4MWwbvaVFg8q6zjvDYNL5bZ/B5ea3MIYJF5eyxrExBglMGve1179iJskk+cSe2pizFLI9juI8ZFP4Vge+8ICvfxBA+15xyJp1iCbRJCZbiOIxihRJxfb+zw+lM+kWMMwbVkxNN0ORvY6DEOBvvdQUS0kY+5E4w2VxN7RRhKdNO1dLR9aKQnde1MhFnwcFjJBhoGhhmVXb2v6IakyJ5omDfvGEl3qyJWfoqSIbza7rrAyRJC3zfBJtzfJ4y+DqxnL8LwyTPHebD7me+8KzB7GXwic2iX8VvgZzsW8ANDXjEPSKgPbMemxMQj8MzO1K/0N1y3HEXaBuyhuvX16nG9hFdpUcy4yfr0Ye6QCh9QNfDIzHbDdxl8K4K8eMkvIiPctueWgBjTE77h2nfp9s8l5xwJRk7lLja6eaTuXBi0usEtCu36bIEk6sMLOWm6LX1VPJadMIXJsnk7nzdNf0/8kZZRaAWWNB+K1WYzON/OCDubSIPElByK2qQ/rOcfApJcsH66pShSY5HLnWguVwMhgmyGoA15i1MbmtJIKp+jXfrsg3cBZby+I4ajzl2Z2cMMnA0RGIqoe/yVGI5QfZsCLDxgfXs/QUPK8IKHo36IukvosdqCG52yDmItkZBiWfGuCBgZ8gPgUyQEaqzvEQplHbvvX3htfo3bljCf4YuccFUUIcLCR7DTAVcGlt2wtw3bL+rqFKwG/wGg0WGl4RcaEUsGdSXSQBgWWCJCXEEj/gg3KYrffoZwdhvUAOlEqAUtvBZDgCAkgJccCnd4xMrmtRBDINfgzxbKdrfBFoURyRDfnlBcwS2KcaERYgg3IRLSgwy1BZruZLbqrw+H6eGw7q/Gk1DcJD46/AuAFIcgw4MiuVn/CR/VnePdGJ0Gnwi47ZHugFxKQYb5gZsfmPR98ZubEXfrBny9yI+C1NsgQxU79+Du5J/oO9aksygQTYB+GGTiDzJUsF+Mb8L0/mBD3Uw+R29ngZojW0aQYfbDDUFQzhf0kQjijf3EOwyteZBhpvYb+IwojnAI1pdJepeCBFCDrAt/5okG4AEWxqMCE5NDIoslQ2+shA9b959y/kHyFCy5hvEb9BPuVmWcZ+RFVo7h7TGDYKfz5sibpAuUVgmKMcyPfnesQw/owlkwR2Aphjk79C9cc/X4l/NHVqcrxNAfebs4HkZ3/f7o8OQXqxt30Mf1/3rD6eARQ8ow5G+wxXruDvgwHvE0kV5zO5hMen5tpAhD7ozZ7uiI1OGKs9u/xf/zEgwZgmvfSA/Mqw5PSAyDAgzpLYrlTQhafvWGblGwZ0i+QJH5yMkYkKi3BRQBbYbULG+kAeFdav0jjQzWDCkbfEwoFSWfxZkzjRkSRvXIgNshEW8QpcAZM8Th/bGfEWV6igoEsWWIj/wUSx0OwI5xLJgyxMFUaRHFWKiNMBaZMkTuydSQaUxR3teSIbqy043JaKPKg84MGaKe8YfMJ5DckD4NPYbwWQAMdokD1HjFP5cdQ3QV5nnlku22dgzhEuY6VqF0JA2tM2MITc35sX7w5hcuohlDeNkrvL4EIwqvfTOGoBcV9BgLeCt6nIxfYMUQ6gSRZGgACULmybRiCAwtOm9PwGEju36MGMJzJpYLA7CIorPGiCH4ZDS+wncAj7VIzDViCMxrsjNBAHdY0TY1Yuh2iU4vwmIdPxcbhuBI0Iu4Bf4diZxkwxCEyyVQ4XByBpZc+jYMXUVAb5PCbSox2NgwdHtoPsQE+19whJkwHPiHzAGYjsBeY8IQiGxJVDi4oYaC7WHC0LXkU+9w0uHqUAJzjQlDV/nVDe13fz3BIWbC0A2b0Qpm/ID7BbyEO5gwdF0Nui9swJ0f7mDC0H08p/s8Axi4wh1MGPpHzAOYT/hBeQGGyrH97uDhK78AQ+UMYLGDXxhedqlgEqYnTXQHHYau7Kj7dB9I9eEOJgzdhxS6aXrc+GCBgmjC0I2C0ZXaXHObIM7NhKGriCdk8vXA9QY34Q4mDF33dnywnQ/u/hBYTE0YAlNDEhMO7tACY5sJQyAda4re8UOXsERpZjYFdn1BJicbhq4KrGnGcI0YAgXYiCEIuVRzW8DdITGQ2DAEz3b0Xn8nuAuKeGYS4s8ZgEe9ks1hxHDqHzQVYDKiD9yIIbAJa72OBt+3SB608uODTkpnDRhVpFtbMQTbVCd/HQh2lN1CVgzh8zmVRQRjytQys4ghkHBMIyEKTFMi62XGEAYw5QunMNhRuPPtYhNBt3MMGRIwwlS48e0YwsDlXBcUfHwjVawNY4RhxzyLFIr7F78ssmOIXjzlmIbRq3rxlrCM1T+BnjmB3uhhs7j8nyVD9KorXVFEb9jk8R2mL0rQvFJDodHTpwjrlilD1DeRIn7blTMJ1ZddOH3tNiFHNs6mEWP5sWVI5K/9EeuKGuLH61HJuIwZUvlw4/wY1CPUqDKq1gypRNJNxE6lKo7EZTmyZkgn45Qu4+xEdI60a5kzpHN+vErWYUAm7Il9w2jPkKkydAxxHNDVDaJNPgUYcjlV33x7dcxkxojXpEsw5CuXNnNKybsds5VAE3yRRRj6UrRt1qvJJ83uZD4iE/5/IMWgVYYhl7rqH05vv4/X23OgVZK/vBBDvmBUBNJU6FIMr7qhDMchvCQq0MUYBsoTBpFs5inI8KpHF7cRgSq80T6G6TXnc5wCZRleDVNKQl9n/cv4zJCZvsBebHLBbfoGlRFADbIztE48+UcRrjP5EfpbiSy7D4Hs///wrBCbim7iMpmSr2bhWtONzjMGlCYzyFAt/mfvSR+4eFaLSo3Pdq1ZGqG7X04hzZdpf6YYgIN1tyBD3VDDdwwH+/F8tVrNx/ueJrcPoHOt9ZUDYoHmj6471CL7uigKbOxD5zNq0d7qoxSwZhpmmJPuqTywwRV96ljxrjHRZKDZ4+njGg11S3bFgbAtoDZYG6hcLCgKWD7EgZKEKbDlVWS/Ak++QW2IEpbf5zQlvCY4kwyRpj8vt1xJEMoooTngRtXrrEpB1VolFDJCA9ALa7YFpWsTzSgn5fdYRGoJKXmFssh/jy+R8l9RngGsXXS+x3FKup9JvYGsXaSvyKmDmjYtcpK+sfbL3xHJ4Ok67JXLIAZB1ytlQpXpEluV6yAGQJ4erF5E1R5vQQF5L3Cu9HewhkL69/hdcsaRYPwj7PnI2Kjbq0ZFT5iryFe39jEPzovn8SpRklt7KXIEfVml2LKKbdyorN/H6xhke+XneNYG64QNrAbXrXNWzj+TiS4fcBQQNOk78Q90U3vkwVN5Peg044pMdeJCYm3BnYgdicLnreHajmX0LKAo/sCzTzudbX1/zcAbAyFK1uyPFAmGxNqCCbj9C+FzHVTEG4xSz9w/C8WwCMP7aUXxK+gyzMbosRG6/yCeFlvE9QsO45IX5HD2fArPKeIgDEXC/o9mNN8Phl3DS6Q7HDzO7xoBu05k5K1GPdHSiHy/8P0oRheZ8l6LLURChJNXcmgdkkyClDugrUgMbbylzYvtw6/0iyt8x7YBWWlxJqfa0w8j1wUojYKtBYV0jQOPTlwdGx0Bee8vFF4PZz0tZ+Z5aFYNC12LwyTlBYUlnvRjDLorHPpWCy9LI9/0cBXzhsIKx52tS7O3OtT7KDf3O90CBSyGk9l8t1z2S2G53K3Gj+2yul9wwQVS/AdIxZPnwhuUSAAAAABJRU5ErkJggg==",ji="/assets/xlogo-BzPNCyv_.png",_L="/assets/tlogo-CdvIei82.png";function vL(){const[t,e]=M.useState({});return M.useEffect(()=>{nd(Ze,n=>{e(n)})},[]),d.jsxs("div",{className:Te.header,children:[d.jsxs("div",{className:`${Te.logoContainer} ${t&&localStorage.getItem("admin")==="true"?Te.adminLogoContainer:""}`,children:[d.jsx("img",{className:Te.logo,src:gL,alt:"DeliPernil"}),d.jsx("img",{className:Te.tlogo,src:_L,alt:"DeliPernil"}),d.jsx("img",{className:Te.mlogo,src:yL,alt:"Logo"}),d.jsxs("div",{className:Te.container,children:[d.jsx("img",{className:Te.social,src:Wn,alt:"Logo"}),d.jsx("img",{className:Te.social,src:ji,alt:"Logo"})]})]}),d.jsx("div",{className:`${Te.line} ${t&&localStorage.getItem("admin")==="true"?Te.adminNav:""}`,children:d.jsx("div",{className:Te.nav,children:t&&localStorage.getItem("admin")==="true"?d.jsxs(d.Fragment,{children:[d.jsx(Ae,{className:`${Te["nav-link"]} ${Te.adminLink}`,to:"/menuadmin",children:"Menú"}),d.jsx(Ae,{className:`${Te["nav-link"]} ${Te.adminLink}`,to:"/historial",children:"Historial"}),d.jsx(Ae,{className:`${Te["nav-link"]} ${Te.adminLink}`,to:"/pedidosactuales",children:"Pedidos Actuales"}),d.jsx(Ae,{className:`${Te["nav-link"]} ${Te.adminLink}`,to:"/cliente",children:"Cliente"}),d.jsx(Ae,{className:`${Te["nav-link"]} ${Te.adminLink}`,to:"/perfil",children:d.jsx("img",{className:Te.perfil,src:Wn,alt:"Logo"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ae,{className:Te["nav-link"],to:"/",children:"Inicio"}),d.jsx(Ae,{className:Te["nav-link"],to:"/menu",children:"Menú"}),d.jsx(Ae,{className:Te["nav-link"],to:"/nosotros",children:"Nosotros"}),d.jsx(Ae,{className:Te["nav-link"],to:"/ayuda",children:"Ayuda"}),t?d.jsxs("div",{children:[d.jsx(Ae,{className:Te["nav-link"],to:"/comentarios",children:"Comentarios"}),d.jsx(Ae,{className:Te["nav-link"],to:"/perfil",children:d.jsx("img",{className:Te.perfil,src:Wn,alt:"Logo"})})]}):d.jsx(Ae,{className:`${Te["nav-link-access"]} ${Te.purpleLink}`,to:"/acceder",children:"Acceder"})]})})}),d.jsx("div",{className:Te.line2})]})}function wL(){return d.jsxs("div",{children:[d.jsx(vL,{}),d.jsx(yR,{})]})}const EL="_bienvenido_q5pw0_35",IL="_titulo_q5pw0_54",TL="_bold_q5pw0_60",SL="_container_q5pw0_64",CL="_slogan_q5pw0_87",AL="_colored_q5pw0_95",RL="_fondo_q5pw0_101",PL="_parrafo_q5pw0_109",xL="_button_q5pw0_113",kL="_combos_q5pw0_130",NL="_zonacombos_q5pw0_144",bL="_descripcioncombos_q5pw0_156",DL="_buttonc_q5pw0_165",jL="_carrusel_q5pw0_183",LL="_slide_q5pw0_189",OL="_combocontenido_q5pw0_200",ML="_comboImage_q5pw0_209",VL="_comboDescription_q5pw0_222",FL="_active_q5pw0_229",UL="_origenes_q5pw0_243",BL="_containerOrigenes_q5pw0_250",zL="_descripcionorigenes_q5pw0_266",$L="_imagenorigenes_q5pw0_274",qL="_menu_q5pw0_285",HL="_titulomenu_q5pw0_297",WL="_cartasmenu_q5pw0_302",GL="_cartamenu_q5pw0_317",KL="_contactos_q5pw0_326",QL="_containerContactos_q5pw0_332",YL="_redesSociales_q5pw0_342",XL="_social_q5pw0_348",K={bienvenido:EL,titulo:IL,bold:TL,container:SL,slogan:CL,colored:AL,fondo:RL,parrafo:PL,button:xL,combos:kL,zonacombos:NL,descripcioncombos:bL,buttonc:DL,carrusel:jL,slide:LL,combocontenido:OL,comboImage:ML,comboDescription:VL,active:FL,"slide-content":"_slide-content_q5pw0_236",origenes:UL,containerOrigenes:BL,descripcionorigenes:zL,imagenorigenes:$L,menu:qL,titulomenu:HL,cartasmenu:WL,cartamenu:GL,contactos:KL,containerContactos:QL,redesSociales:YL,social:XL},Id="/assets/Map-BrfpiiUM.png",Sn="/assets/View-Dc0AvLut.png",hl="/assets/fondo1-mP0KSv87.png",JL="/assets/Local-oZwzVmRb.png",tg="/assets/Burger_0-rI8WCCNm.png",ZL="/assets/Cachapa_0-fwixH3-B.png",eO="/assets/ClubHouse_0-DjseIGzv.png",tO="/assets/Parrilla_0-C8TdXxPy.png",nO="/assets/Cookie-BXgI8nhB.png";function rO(){const[t,e]=M.useState(0),n=[{title:"Combo 1",description:"Descripción del combo 1",image:Sn},{title:"Combo 2",description:"Descripción del combo 2",image:Sn},{title:"Combo 3",description:"Descripción del combo 3",image:Sn},{title:"Combo 4",description:"Descripción del combo 4",image:Sn},{title:"Combo 5",description:"Descripción del combo 5",image:Sn},{title:"Combo 6",description:"Descripción del combo 6",image:Sn}],r=()=>{e(i=>i===n.length-1?0:i+1)};return d.jsxs("div",{children:[d.jsxs("div",{className:K.slogan,children:[d.jsxs("h1",{children:["Si te gusta ",d.jsx("span",{className:K.colored,children:"recomiéndanos."})," "]}),d.jsx("h1",{children:" ¡Si no, también para que otro pase rabia! "})]}),d.jsxs("div",{className:K.bienvenido,style:{backgroundImage:`url(${hl})`},children:[d.jsx("img",{className:K.fondo,src:hl,alt:"fondo"}),d.jsxs("div",{className:K.container,children:[d.jsx("h1",{className:K.titulo,children:"Bienvenido"}),d.jsxs("h2",{children:["Conoce todo el menú y ofertas que ofrece Deli Pernil. Rica comida hecha en base al buen comer ",d.jsx("div",{className:K.bold,children:"unimetano"}),"."]}),d.jsx("h2",{className:K.parrafo,children:" Hamburguesas con carne crispy"}),d.jsx("h2",{className:K.parrafo,children:" Cachapas"}),d.jsx("h2",{className:K.parrafo,children:" Sándwich"}),d.jsx("h2",{className:K.parrafo,children:" Club House"}),d.jsx("h2",{className:K.parrafo,children:" Y muho más"}),d.jsx(Ae,{className:K["nav-link"],to:"/menu",children:d.jsx("button",{className:K.button,children:"Ver Productos"})})]})]}),d.jsxs("div",{className:K.combos,children:[d.jsx("div",{className:K.zonacombos,children:d.jsx("div",{className:K.carrusel,children:n.map((i,s)=>d.jsx("div",{className:`${K.slide} ${s===t?K.active:""}`,children:d.jsxs("div",{className:K.combocontenido,children:[d.jsx("div",{className:K.imagencombobody,children:d.jsx("img",{className:K.comboImage,src:i.image,alt:i.title})}),d.jsxs("div",{className:K.comboDescription,children:[d.jsx("h2",{className:K.comboTitle,children:i.title}),d.jsx("p",{children:i.description}),d.jsx("button",{className:K.button,children:"Comprar"})]})]})},s))})}),d.jsx("button",{id:"nextBtn",className:K.buttonc,onClick:r,children:">"}),d.jsxs("div",{className:K.descripcioncombos,children:[d.jsx("h1",{className:K.colored,children:"COMBOS"}),d.jsxs("h2",{children:["Deléitate con nuestros irresistibles combos a los ",d.jsx("div",{className:K.colored,children:"mejores precios,"})," donde cada bocado es un viaje de sabores."]}),d.jsx("button",{className:K.button,children:"Explorar Combos"})]})]}),d.jsx("div",{className:K.origenes,children:d.jsxs("div",{className:K.containerOrigenes,children:[d.jsxs("div",{className:K.descripcionorigenes,children:[d.jsx("h1",{className:K.titulo,children:"Nuestros Orígenes"}),d.jsx("h2",{children:"Cómo llegamos aquí"}),d.jsx("h3",{children:"Deli Pernil"}),d.jsx(Ae,{className:K["nav-link"],to:"/nosotros",children:d.jsx("button",{className:K.button,children:"Conócenos"})})]}),d.jsx("div",{className:K.imagenorigenes,children:d.jsx("img",{src:JL,alt:"local_0"})})]})}),d.jsxs("div",{className:K.menu,children:[d.jsx("div",{className:K.titulomenu,children:d.jsxs("h1",{children:["Nuestro ",d.jsx(Ae,{className:K["nav-link"],to:"/menu",children:d.jsx("span",{className:K.colored,children:"Menú"})})]})}),d.jsxs("div",{className:K.cartasmenu,children:[d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:tg,alt:"burger"}),d.jsx("h1",{className:K.titulocarta,children:"Hamburguesa"})]}),d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:ZL,alt:"cachapa"}),d.jsx("h1",{className:K.titulocarta,children:"Cachapas"})]}),d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:eO,alt:"ch"}),d.jsx("h1",{className:K.titulocarta,children:"Club House"})]}),d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:tO,alt:"parrilla"}),d.jsx("h1",{className:K.titulocarta,children:"Parrillas"})]}),d.jsxs("div",{className:K.cartamenu,children:[d.jsx("img",{src:nO,alt:"cookie"}),d.jsx("h1",{className:K.titulocarta,children:"Más"})]})]})]}),d.jsx("div",{className:K.contactos,style:{backgroundImage:`url(${Id})`},children:d.jsxs("div",{className:K.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:K.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:K.social,src:Wn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:K.social,src:ji,alt:"Logo"})})]})]})})]})}const iO="_botonesMenu_sqq3e_36",sO="_botonMenu_sqq3e_46",oO="_tituloboton_sqq3e_58",aO="_combos_sqq3e_63",lO="_zonacombos_sqq3e_74",cO="_descripcioncombos_sqq3e_86",uO="_buttonc_sqq3e_95",dO="_carrusel_sqq3e_111",hO="_slide_sqq3e_117",fO="_combocontenido_sqq3e_128",pO="_comboImage_sqq3e_137",mO="_comboDescription_sqq3e_146",gO="_active_sqq3e_151",yO="_menu_sqq3e_165",_O="_titulomenu_sqq3e_173",vO="_catalogo_sqq3e_177",wO="_cartamenu_sqq3e_186",EO="_contactos_sqq3e_201",IO="_containerContactos_sqq3e_207",TO="_redesSociales_sqq3e_217",SO="_social_sqq3e_223",te={botonesMenu:iO,botonMenu:sO,tituloboton:oO,combos:aO,zonacombos:lO,descripcioncombos:cO,buttonc:uO,carrusel:dO,slide:hO,combocontenido:fO,comboImage:pO,comboDescription:mO,active:gO,"slide-content":"_slide-content_sqq3e_158",menu:yO,titulomenu:_O,catalogo:vO,cartamenu:wO,contactos:EO,containerContactos:IO,redesSociales:TO,social:SO},CO="/assets/Burger_1-DOZjyoDW.jpg",t1="/assets/Cachapa_1-BMD2NGmA.png",n1="/assets/ClubHouse_1-BpEzn2-L.webp",r1="/assets/Arepa-BjDx0X93.webp",i1="/assets/Parrilla_1-DJFyGu57.jpg",s1="/assets/Pepito-CnKj0U1j.jpg",o1="/assets/Sandwich-DqhRrS80.jpg",a1="/assets/Salad-B8huna9y.png",l1="/assets/Brookies-B-QE3UrB.webp";function AO(){const[t,e]=M.useState(0),n=[{title:"Combo 1",description:"Descripción del combo 1",image:Sn},{title:"Combo 2",description:"Descripción del combo 2",image:Sn},{title:"Combo 3",description:"Descripción del combo 3",image:Sn},{title:"Combo 4",description:"Descripción del combo 4",image:Sn},{title:"Combo 5",description:"Descripción del combo 5",image:Sn},{title:"Combo 6",description:"Descripción del combo 6",image:Sn}],r=()=>{e(s=>s===n.length-1?0:s+1)},i=()=>{e(s=>s===0?n.length-1:s-1)};return d.jsxs("div",{className:te.pageContainer,children:[d.jsxs("div",{className:te.botonesMenu,children:[d.jsx("div",{className:te.botonMenu,children:d.jsx("h1",{className:te.tituloboton,children:"Cachapas"})}),d.jsx("div",{className:te.botonMenu,children:d.jsx("h1",{className:te.tituloboton,children:"Club House"})}),d.jsx("div",{className:te.botonMenu,children:d.jsx(Ae,{to:"/menu/hamburguesas",children:d.jsx("h1",{className:te.tituloboton,children:"Hamburguesas"})})}),d.jsx("div",{className:te.botonMenu,children:d.jsx("h1",{className:te.tituloboton,children:"Parrillas"})}),d.jsx("div",{className:te.botonMenu,children:d.jsx("h1",{className:te.tituloboton,children:"Pepitos"})}),d.jsx("div",{className:te.botonMenu,children:d.jsx("h1",{className:te.tituloboton,children:"Sandwiches"})}),d.jsx("div",{className:te.botonMenu,children:d.jsx("h1",{className:te.tituloboton,children:"Arepas"})}),d.jsx("div",{className:te.botonMenu,children:d.jsx("h1",{className:te.tituloboton,children:"Ensaladas"})}),d.jsx("div",{className:te.botonMenu,children:d.jsx("h1",{className:te.tituloboton,children:"Otros"})})]}),d.jsxs("div",{className:te.menu,children:[d.jsx("h1",{children:"PROMOS"}),d.jsxs("div",{className:te.promos,children:[d.jsx("div",{className:te.carrusel,children:n.map((s,o)=>d.jsx("div",{className:`${te.slide} ${o===t?te.active:""}`,children:d.jsxs("div",{className:te.combocontenido,children:[d.jsx("div",{className:te.imagencombobody,children:d.jsx("img",{className:te.comboImage,src:s.image,alt:s.title})}),d.jsxs("div",{className:te.comboDescription,children:[d.jsx("h2",{className:te.comboTitle,children:s.title}),d.jsx("p",{children:s.description}),d.jsx(Ae,{className:te.button,to:"/menu",children:"Comprar"}),d.jsx("button",{className:te.button,children:"Comprar"})]})]})},o))}),d.jsx("button",{id:"nextBtn",className:te.buttonc,onClick:i,children:"<"}),d.jsx("button",{id:"nextBtn",className:te.buttonc,onClick:r,children:">"})]}),d.jsx("h1",{children:"MENU"}),d.jsxs("div",{className:te.catalogo,children:[d.jsxs(Ae,{className:te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:te.titulocarta,children:"Hamburguesa"}),d.jsx("img",{src:tg,alt:"burger"})]}),d.jsxs(Ae,{className:te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:te.titulocarta,children:"Cachapas"}),d.jsx("img",{src:t1,alt:"cachapa"})]}),d.jsxs(Ae,{className:te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:te.titulocarta,children:"Club House"}),d.jsx("img",{src:n1,alt:"ch"})]}),d.jsxs(Ae,{className:te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:te.titulocarta,children:"Parrillas"}),d.jsx("img",{src:i1,alt:"parrilla"})]}),d.jsxs(Ae,{className:te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:te.titulocarta,children:"Pepitos"}),d.jsx("img",{src:s1,alt:"pepito"})]}),d.jsxs(Ae,{className:te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:te.titulocarta,children:"Sandwiches"}),d.jsx("img",{src:o1,alt:"sandwich"})]}),d.jsxs(Ae,{className:te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:te.titulocarta,children:"Arepas"}),d.jsx("img",{src:r1,alt:"arepa"})]}),d.jsxs(Ae,{className:te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:te.titulocarta,children:"Ensaladas"}),d.jsx("img",{src:a1,alt:"salad"})]}),d.jsxs(Ae,{className:te.cartamenu,to:"/menu/hamburguesas",children:[d.jsx("h1",{className:te.titulocarta,children:"Otros"}),d.jsx("img",{src:l1,alt:"brookie"})]})]})]}),d.jsx("div",{className:te.contactos,style:{backgroundImage:`url(${hl})`},children:d.jsxs("div",{className:te.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:te.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:te.social,src:Wn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:te.social,src:ji,alt:"Logo"})})]})]})})]})}const RO="_slogan_qcj0d_38",PO="_colored_qcj0d_46",xO="_Inicio_qcj0d_53",kO="_Inicio2_qcj0d_71",NO="_Inicio3_qcj0d_90",bO="_g_qcj0d_94",DO="_Inicio4_qcj0d_116",jO="_Inicio5_qcj0d_137",LO="_MV_qcj0d_159",Ht={slogan:RO,colored:PO,Inicio:xO,Inicio2:kO,Inicio3:NO,g:bO,Inicio4:DO,Inicio5:jO,MV:LO},OO="/assets/Misi%C3%B3n-QXSqyuPB.png",MO="/assets/Visi%C3%B3n-CbMO8cPF.png",VO="/assets/Nosotros-DJCJ6AlO.png",FO="/assets/Gerente-D2qtAV2H.png",UO="/assets/Represent-CW7KGewH.png",BO="/assets/Equipo1-EzvGAfov.png",zO="/assets/ST-STOIgwv5.png",$O="/assets/ST1-Dlk6zio7.png",qO="/assets/ST3-1COu90Y8.png",HO="/assets/ST4-B21zYSse.png",WO="/assets/ST5-DTN53eEc.png",GO="/assets/ST6-h43mSZ-5.png",KO="/assets/ST7-CSmthD-B.png",QO="/assets/ST8-D9abU7aw.png";function YO(){return d.jsxs("div",{children:[d.jsx("div",{className:K.slogan,children:d.jsxs("h1",{children:["Historia ",d.jsx("span",{className:Ht.colored,children:"conmovedora"})," de nuestro local"]})}),d.jsxs("section",{className:Ht.Inicio,children:[d.jsx("div",{children:d.jsx("img",{src:VO,alt:"nosotros"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"¿Quiénes Somos?"}),d.jsx("h3",{children:"Local de comida rápida en la UNIMET especializado en hamburguesas, sándwiches y carnes"}),d.jsx("h3",{children:"Desde nuestro primer día de operaciones, Deli Pernil ha ofrecido al público una gran variedad de platillos a precios incomparables. Nuestra tienda virtual es sinónimo de calidad, por lo que te garantizamos contar con un menú que sea perfectamente adaptable al cliente y a cualquier presupuesto. Echa un vistazo y empieza a comprar hoy mismo."})]})]}),d.jsxs("section",{className:Ht.Inicio2,children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Conoce al Equipo"}),d.jsx("h3",{children:"Lo que hace que Deli Pernil brindemos un excelente servicio, es nuestro equipo de profesionales. En esta sección podrás conocer un poco más sobre las personas que se encargan de que tu experiencia sea la mejor."})]}),d.jsx("div",{children:d.jsx("img",{src:BO,alt:"equipo"})})]}),d.jsxs("section",{className:Ht.Inicio3,children:[d.jsxs("div",{children:[d.jsx("img",{src:FO,alt:"ger"}),d.jsx("h2",{children:"C. Contreras"}),d.jsx("h3",{className:Ht.g,children:"Gerente"}),d.jsx("h3",{children:"Este miembro del equipo aporta su experiencia profesional y alegría al trabajo. Es difícil imaginar dónde estaríamos sin nuestro(a) Gerente"})]}),d.jsxs("div",{children:[d.jsx("img",{src:UO,alt:"rep"}),d.jsx("h2",{children:"A. Cifuentes"}),d.jsx("h3",{className:Ht.g,children:"Representante de servicio al cliente"}),d.jsx("h3",{children:"Tenemos mucha suerte al contar con un excelente Representante de servicio al cliente. No cabe duda que tomamos la mejor decisión cuando incorporamos a A. Cifuentes a nuestro equipo de trabajo."})]})]}),d.jsxs("section",{className:Ht.Inicio4,children:[d.jsx("div",{children:d.jsx("img",{src:$O,alt:"st1"})}),d.jsx("div",{children:d.jsx("h2",{children:"Soporte Técnico"})}),d.jsx("div",{children:d.jsx("img",{src:zO,alt:"st"})})]}),d.jsxs("section",{className:Ht.Inicio5,children:[d.jsxs("div",{children:[d.jsx("img",{src:WO,alt:"st5"}),d.jsx("h2",{children:"Diego Cáceres"}),d.jsx("h3",{className:Ht.g,children:"Gerente"})]}),d.jsxs("div",{children:[d.jsx("img",{src:HO,alt:"st4"}),d.jsx("h2",{children:"Giselle Esclasans"}),d.jsx("h3",{className:Ht.g,children:"Líder de Proyecto"})]}),d.jsxs("div",{children:[d.jsx("img",{src:KO,alt:"st7"}),d.jsx("h2",{children:"Diego Goncalves"}),d.jsx("h3",{className:Ht.g,children:"Levantamiento de Información"})]}),d.jsxs("div",{children:[d.jsx("img",{src:qO,alt:"st3"}),d.jsx("h2",{children:"Sebastian Hernandez"}),d.jsx("h3",{className:Ht.g,children:"Seguridad"})]}),d.jsxs("div",{children:[d.jsx("img",{src:QO,alt:"st8"}),d.jsx("h2",{children:"Victor Martinez "}),d.jsx("h3",{className:Ht.g,children:"Mantenimiento"})]}),d.jsxs("div",{children:[d.jsx("img",{src:GO,alt:"st6"}),d.jsx("h2",{children:"Virginia Torrealba"}),d.jsx("h3",{className:Ht.g,children:"Diseño"})]})]}),d.jsxs("section",{className:Ht.MV,children:[d.jsx("div",{children:d.jsx("img",{src:OO,alt:"mision"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"Misión"}),d.jsx("h3",{children:"Crecer como empresa y día a día, ser capaces de innovar en los platos que servimos sin disminuir la calidad que nos caracteriza desde hace años."})]}),d.jsx("div",{children:d.jsx("img",{src:MO,alt:"vision"})}),d.jsxs("div",{children:[d.jsx("h2",{children:"Visión"}),d.jsx("h3",{children:"Ofrecer a los miembros de la universidad metropolitana una alternativa de comida rápida, de calidad y de un precio accesible para que todos puedan disfrutar de nuestras delicias."})]})]}),d.jsx("div",{className:K.contactos,style:{backgroundImage:`url(${Id})`},children:d.jsxs("div",{className:K.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:K.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:K.social,src:Wn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:K.social,src:ji,alt:"Logo"})})]})]})})]})}const XO="_slogan_jg9n3_36",JO="_formularioayuda_jg9n3_47",ZO="_formularioInfo_jg9n3_55",eM="_formulario1_jg9n3_62",tM="_formulario2_jg9n3_63",nM="_inputting_jg9n3_67",rM="_button_jg9n3_72",iM="_contactos_jg9n3_85",sM="_containerContactos_jg9n3_91",oM="_redesSociales_jg9n3_101",aM="_social_jg9n3_107",ln={slogan:XO,formularioayuda:JO,formularioInfo:ZO,formulario1:eM,formulario2:tM,inputting:nM,button:rM,contactos:iM,containerContactos:sM,redesSociales:oM,social:aM};function lM(){return d.jsxs("div",{children:[d.jsx("div",{className:ln.slogan,children:d.jsx("h1",{children:"Contacta a nuestro equipo de ayuda"})}),d.jsxs("div",{className:ln.formularioayuda,children:[d.jsx("h2",{children:"¿Cómo podemos ayudarte?"}),d.jsxs("div",{className:ln.formulario,children:[d.jsxs("div",{className:ln.formularioInfo,children:[d.jsxs("div",{className:ln.formulario1,children:[d.jsx("h3",{children:"Nombre"}),d.jsx("input",{type:"text"}),d.jsx("h3",{children:"Apellido"}),d.jsx("input",{type:"text"})]}),d.jsxs("div",{className:ln.formulario2,children:[d.jsx("h3",{children:"Correo"}),d.jsx("input",{type:"text"}),d.jsx("h3",{children:"Teléfono"}),d.jsx("input",{type:"text"})]})]}),d.jsx("h3",{children:"Cuéntanos tus dudas o inquietudes"}),d.jsx("input",{className:ln.inputting,type:"text"})]}),d.jsx("button",{className:ln.button,children:"Enviar"})]}),d.jsx("div",{className:ln.contactos,style:{backgroundImage:`url(${Id})`},children:d.jsxs("div",{className:ln.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:ln.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:ln.social,src:Wn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:ln.social,src:ji,alt:"Logo"})})]})]})})]})}const cM="_pageContainer_a9s24_1",uM="_boxContainer_a9s24_10",dM="_titleContainer_a9s24_19",hM="_container_a9s24_24",fM="_column_a9s24_28",pM="_center_a9s24_45",mM="_loginButton_a9s24_53",gM="_buttonDisable_a9s24_83",yM="_imageButtonsContainer_a9s24_95",_M="_imageButton_a9s24_95",vM="_errorLabel_a9s24_115",cn={pageContainer:cM,boxContainer:uM,titleContainer:dM,container:hM,column:fM,center:pM,loginButton:mM,buttonDisable:gM,imageButtonsContainer:yM,imageButton:_M,errorLabel:vM},c1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABa1BMVEX////qQzU0qFNChfT7vAXg6P0ufPM4gPSdu/j7ugCxyPrqPi/qQTMopUsupk9AhPXpOSnpNCLpLxvpOir739385OIdo0XpNSTrSDr7vgD7twD98O/rTD5Dg/n5/foqpUxSs2vympX2trLtXlPpOja33cCNypxeuHUzqUo/rVzh8eX609D4w7/1qqX/+vrwg3vucGfveXHxjIXtZVv619TylY78xTz8zFj+89f81Hf95Kr92IT93Zj++ef96b/80Gj7xCz+9N7946JBhuzF5M3N59OTzaGr2Lbu+PE2pGtzwIb3vbn0pJ7sV0r3pQ3uZz/yhkD2oS/5syXwd0X1ljX4qy7sWDz7xkfzjDv7zozw9P5Vlubd7PCxzee1zPaJtOpmoeFHjePA2Off1YyPs0der1KKsPXSuyyvuEGBs0zIujaftkGSuuVarlO/uTbKuBo/jdQ8lrE5nYw8kr86mps1pGc+j8w6mKQ3oICcZUs3AAALc0lEQVR4nO2c+3fixhWAZZm1q9UDSWAJFiqBCWAw2F5Y7yvZxK0NOJhtHk2bNutt7G27222SNk2ff34lgXkIzTAaaUYSh++HnJw9Zy19njv33nloGWbDhg0bNmzYsCEUjgqFvcPWfns0KpdPy+XRqL3fOtwrFI6ifrEQKOxdjTonFUFVFUWXbTLOf3VFUdVc5WFn1NorRP2SuBQetY+7OcsrwwvClheCwGdkRSl2O/vZpGkWWqfdomK7eaq5RPmMrhdP2o8SY5ltd3M6mty8pqznTq4SIPmoXNR1n3YzS12utGMtmS1vqTJg0iFLqpX9mObYo6uKpRfA7g5L8vgwaptlsqeCwoeg5yBkrIGMV7QePtQzYQzfDF7Jlfei1ppy1VUwcwsMQRY68XBsVcILT5djJnMcvWOrohPymzh2op2P2S6p8Zs56qPo/AodlbCf46hvtSIS3Ncz5P0cR/UkiumYPVHCz58geHlEu885GmUoBOgMQa88oiqYrej0BnAML5cpCrZlqgM4xhpGWrOxQHMGzsPrV1QED3lKKXQZQT2mkHDaEQ3gGJl4pB511CgFrUgVyJb/QleP1G/LTjhtgoJ7xcim4Jyi0iE2GQ+FCIrEMrxCai62QtmFCQzPkxLcjzSJTuEFYoIRJ9EJfI6UYDsmgsUsIcG4jODaC+ZICbbWPckcUl8MeiIQKxN7gc5aQoNcHSwU49HJbJESPOrGoBclmUWZ48hXEzYEBdtq1HI2BAUPY1En+C1igoUQT80Egeczzm2aDA+6fwL4m8SyKMOchJJlBF5WVFV+2T22L0SVy53jk5e6quoy2u+PXJmwd50Cywm8rvMno1bWvS4/enRV7soI9zbIdTIMkw245BUEWc4dX8FeMLt/sgU/ICe3XLJ+y5VApV7I6C/LCIcNR4fHRfApOcEsyjCjIJWQV3Id5LOUQuuh7B0vRAWzAW5X8Irf2yJ7pzmP/p7ccsmmix2jvNpt+d/wK7SLbkeSScbeeML0E5QK5o2mo7YuL/wkgmXC+o1irgkFOcgB0cLNAJJ10OIYr9bzymmw587OXsktl8YPwmq4BTmEs+g27wwj0SzKYKYZIZyD6GzXGkbSgi2cNJMphnRn8uhUIS3I4HQzSje8+1ktcsulyQP8dzOCGjDFLEL6MNv/EAoqyXPL0Hn+q+IHPgX1qK6e4fE4n/rMl6KQSZbgx1wqn//8A/SeRsjE8OI5jCdcKpXKf1FEVRSUZI0g89QWtBS/RIxUQU2YIPNsbJjKp9AiNVlZ1MJI3ZHPf4GgGLTVps/zB6mZ45cry0amG/UL++Yxl5pTzP8arigU4/VpCwJP54bQcfwqB4lUQU9YnbD4kEu5FH/zW/Aw6jTv7YZE3m2Yyj8ARipfifp1/eMO0vFk/Mo7pwoK3dvlobAUpJNI9Wxw5MQVCsYrSCeR6tHgCHLUb4vBU29BO1J/txSpKp175eHyEcjQbsVdZSOJacZV7t2KrlZcTV4pZJgXYL+UuxXnk9euMc7aF+441+AkbVE45tkKQytS7xocvhLTj+bhfL3K0IrUSYOj7Ef9sji8AFTDBcVxgyPkEremsAFWQ1ekWovGTCfql8UCUg3dkaonsCO1+ATN0G5wElntGWN1opk6/h77Kd/cI8s3kGejJJoJ3FNsw/s7ZHkFefYvPNaGAMEUtiBzf3ebKOeQZz9HH8In8TXcuQY/23v162n4PL6Gu6/Bz17Zs80M8achecNvwc9+gm6IL0jcMA1ONcYZqiH3dZwNwanmRR55CD+KseH2jgE0RC8WARINBUNgMkUvhw8CJBoKhm9Aj/4Y3RAYB3Ew3P0D6NE+Cn4AQQqGwHLxS+RUehZvwxvQoxFXhwGLBXlDcEFEN/wk3oa3oEcjt6Xcs3gbAks+uuGHa28YpKWhYLi9MUy84WYeIhgmNZeufz1cm54GaLgufSnYcF3WFuC+dG3WhzegR6/LGh+8PlyXfZrd74GGa7LXBt7FWJP9Uti2/nrseUP22tbk3AJ2+LQeZ0+QPe81OT/cBi4P1+UMGNy0UTvHJ31+eAN+to+7GA/+GF/D+5CHo96n4VJ/KuEb7uzikEY2hJxyo64QubM/s2IP1/Dez7B4i6oIu6ng+SmCh+A7lmXNGq4hJq9Rg3sXtvBBSTUc9x1r07ikJufwFtEQlkoZlPul3Nl7R5DVqpTUxhi3iFGafgv9OSv7Nu5dYyzISqUgy2DfXO+gBilwZeGw6p439xd2inZBSc4BeRpC+m4b+F19LvV+JshKdUpyDq9QUynsWpsN7HsL7t0P7Dw0BxE5SNOvVkweSEXk/sYuIpWoyDl8j1wrIHe+HIA3va02hnVDMZ2eI9d7+DRkgN+ucWc/LAmyrEhDzuYNcpCew64IO3ivgrm/evhZhrQam1eoQbpyGno3blzqO09BK06xu1NfXCMvR8A7iTOWw9RutAFQSjY36Ib3Vv+0pTCdtTFecdon78e8QV45pc8RGi13mHKgCJ0oUohT5Fm4ulY4LBR9Lg+M0Emckl9jIDdsluHKWmEz/+9iOEtBOCbp5s1AroVoQTr/b5tw8402EI1wyUBPM9BNqHnullBc/v1qP1txQFLwNWqxRw7SaefmbrQhigRb8Os0coyuWt7P4ZzQLDXakSgiL+2dIUQo92OsdTCXX260wUgmIUUDvVBsr9hlW+Sxd6NNX9FHloF+SrLE879D2hhvRSKB+q2PLIOycJqjJPk0JJJR/Qmi5xmbqujbMPS6aNz4Etzege3mL4MxiKxWD7OB85dkkPuZKReaf0PWbITXhl/f+jyiQi8VE+oYg8hKoS2mXvso9FhDyDBNnEG0FlOlMIbRuEE/TMMdQoYZYiQbexhDSDjVc385BmsIGeYSz9AaRjHYJmOzrrE//pz8EDLMAC9OLbQSfvm/rGkSKx38w59i+hbrmAgr2ThIWv0C65HNmmg6P+HgJ/R17/aKk23I40xcQ9uxVPVbHY3eUJxOjYNPb9GH0U9HukAfdyqOHRs1P3m12S9p879Sk/0nsqKvjnQeA6ezmX9JsdRHkjR6/ZIouh4mHfwLsSii7bB50gwyiM5bimJjWG1CH9KrDhtLeg4H/ztHGUacSjEFP5/OMEVNqverzaXXMJoXg1pJ0zztxooSStnAjlGHeoBsM4ckapZJoz6s9fuDfr9WG9Ybzh+Z8Hlgl41VkYq6wQbAkIJNxcX3lUxTtDFNCfXnWmUDPozpc/S9C096IcRpIA7+DY9U1B1EMGFMxUDAy0aAPDoFswUPD1jZ2MVr1xYxQso2ATj4FDAZ09sBJ+GYy0aI2QYPU/qPp6LPvRkgzTATKh7SwX89InUHZ83kyUXUU5H1bHACVsIFqlEnVNajbOyuvneRMEXXuhhz1Qsk8rJoc/DT9nQyBu5lYqo4XRentwP3MvFUNNlx2UinwxeMx1yclA0ygvZ5TeR1kR2XDUKC1kKDjYUi+yMpQau7aUTeo9oHQPBtkWBcliJvb8QS2VtYxjDifKMNiX8FMdCinIwajcuQPSmyyShRulpu1COKVJFojllgEEllpDAFZzTp51RTInpDcAmjv2IzN2y0OrUIvaNJczaaIt0BnDAQaYVqBAM4xjmSJo8o0f2acwErVEk7mlqN6recS1yUiFYOSRxS/uDY05HYOJpiVBPQRZVMrJrikM53VSj0hlrIeVUSzWE8xu+OZo0NcSAlrdGPfv65MaolyJm8Hz1Rq0dYH6A0+42gkpZeYxC/4ZvDkvS+O4KmJzb68Zp9njQHdda/pWXH1gcJ0Btz2avVGysvk0zlTCs06/1erIPTg8veYGhp2p4gUcl209j6cNBMmt0dxmWz2q8NS5Jm3w+ax/4DtjSs9S+al9H2naFgWKa9i8Fg0B9j/d9FzzJbA7UNGzZs2LBhQzz4P7gp2NndMM1XAAAAAElFTkSuQmCC",u1="/assets/facebook-BJ4qWEPU.png";function wM(){const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState(""),[c,u]=M.useState(0),[f,m]=M.useState(""),[g,I]=M.useState(!1),[R,P]=M.useState(null),[k,S]=M.useState({}),w=Yu();M.useEffect(()=>{nd(Ze,V=>{S(V)})},[]);const A=async()=>{I(!0);try{if(!t||!n||!i||!o||!f||c===0)throw new Error("Input error: rellenar casillas");const V=await mk(Ze,t,n);console.log(V);const y=pt(Yt,"Usuario",t),_={nombreCompleto:i+" "+o,email:t,facultad:f,telefono:c,admin:!1};await dl(y,_);const E=await ho(y);console.log(E.data()),localStorage.setItem("admin",E.data().admin),localStorage.setItem("email",E.data().email),localStorage.setItem("nombreCompleto",E.data().nombreCompleto),localStorage.setItem("telefono",E.data().telefono),localStorage.setItem("facultad",E.data().facultad),P(null),I(!1),localStorage.getItem("admin")==="true"?w("/menuadmin"):w("/"),scroll(0,0),location.reload()}catch(V){console.log(V.message),P(V.message),I(!1)}},j=async()=>{I(!0),Nu.setCustomParameters({prompt:"select_account"});try{const V=await wu(Ze,Nu);console.log(V);const y=pt(Yt,"Usuario",Ze.currentUser.email);let _=await ho(y);if(!_.data()){const E={nombreCompleto:Ze.currentUser.displayName,email:Ze.currentUser.email,facultad:"por definir",telefono:Ze.currentUser.phoneNumber,admin:!1};await dl(y,E)}_=await ho(y),console.log(_.data()),localStorage.setItem("admin",_.data().admin),localStorage.setItem("email",_.data().email),localStorage.setItem("nombreCompleto",_.data().nombreCompleto),localStorage.setItem("telefono",_.data().telefono),localStorage.setItem("facultad",_.data().facultad),P(null),I(!1),localStorage.getItem("admin")==="true"?w("/menuadmin"):w("/"),scroll(0,0),location.reload()}catch(V){console.log(V.message),P(V.message),I(!1)}},B=async()=>{I(!0);try{await wu(Ze,e1),console.log(k),P(null),I(!1),localStorage.getItem("admin")==="true"?w("/menuadmin"):w("/")}catch(V){console.log(V.message),P(V.message),I(!1)}};return d.jsx("div",{className:cn.pageContainer,children:d.jsxs("div",{className:cn.boxContainer,children:[d.jsx("div",{className:cn.titleContainer,children:d.jsx("h2",{children:"Registrarse"})}),d.jsxs("div",{className:cn.container,children:[d.jsxs("div",{className:cn.column,children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",onChange:V=>{s(V.target.value)}}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",onChange:V=>{l(V.target.value)}}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{type:"text",placeholder:"Facultad",onChange:V=>{m(V.target.value)}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{type:"number",placeholder:"Teléfono",onChange:V=>{u(V.target.value)}}),d.jsx("button",{className:g?cn.buttonDisable:cn.button,onClick:A,children:"Registrarse"}),d.jsx("p",{className:"errorSignup",children:R})]}),d.jsxs("div",{className:cn.column,children:[d.jsx("h2",{children:"Correo"}),d.jsx("input",{type:"email",placeholder:"Correo electrónico",onChange:V=>{e(V.target.value)}}),d.jsx("h2",{children:"Contraseña"}),d.jsx("input",{type:"password",placeholder:"Contraseña",onChange:V=>{r(V.target.value)}}),d.jsxs("div",{className:cn.center,children:[d.jsx("h3",{children:"¿Ya estás registrado?"}),d.jsx(Ae,{to:"/login",className:cn.loginButton,children:"Iniciar Sesion"}),d.jsxs("div",{className:cn.imageButtonsContainer,children:[d.jsx("button",{className:cn.imageButton,onClick:()=>j(),children:d.jsx("img",{src:c1,alt:"google"})}),d.jsx("button",{className:cn.imageButton,onClick:()=>B(),children:d.jsx("img",{src:u1,alt:"facebook"})})]})]})]})]})]})})}const EM="_pageContainer_18ugj_1",IM="_boxContainer_18ugj_9",TM="_titleContainer_18ugj_20",SM="_container_18ugj_26",CM="_center_18ugj_32",AM="_loginButton_18ugj_40",RM="_buttonDisable_18ugj_70",PM="_imageButtonsContainer_18ugj_82",xM="_imageButton_18ugj_82",kM="_errorLabel_18ugj_101",wr={pageContainer:EM,boxContainer:IM,titleContainer:TM,container:SM,center:CM,loginButton:AM,buttonDisable:RM,imageButtonsContainer:PM,imageButton:xM,errorLabel:kM};function NM(){const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(!1),[o,l]=M.useState(null),[c,u]=M.useState({}),f=Yu();M.useEffect(()=>{nd(Ze,R=>{u(R)})},[]);const m=async()=>{s(!0);try{if(!t||!n)throw new Error("Input error: rellenar casillas");const R=await gk(Ze,t,n);console.log(R);const P=pt(Yt,"Usuario",Ze.currentUser.email),k=await ho(P);console.log(k.data()),localStorage.setItem("admin",k.data().admin),localStorage.setItem("email",k.data().email),localStorage.setItem("nombreCompleto",k.data().nombreCompleto),localStorage.setItem("telefono",k.data().telefono),localStorage.setItem("facultad",k.data().facultad),l(null),s(!1),localStorage.getItem("admin")==="true"?f("/menuadmin"):f("/"),scroll(0,0),location.reload()}catch(R){console.log(R.message),l(R.message),s(!1)}},g=async()=>{s(!0),Nu.setCustomParameters({prompt:"select_account"});try{const R=await wu(Ze,Nu);console.log(R);const P=pt(Yt,"Usuario",Ze.currentUser.email);let k=await ho(P);if(!k.data()){const S={nombreCompleto:Ze.currentUser.displayName,email:Ze.currentUser.email,facultad:"por definir",telefono:Ze.currentUser.phoneNumber,admin:!1};await dl(P,S)}k=await ho(P),console.log(k.data()),localStorage.setItem("admin",k.data().admin),localStorage.setItem("email",k.data().email),localStorage.setItem("nombreCompleto",k.data().nombreCompleto),localStorage.setItem("telefono",k.data().telefono),localStorage.setItem("facultad",k.data().facultad),l(null),s(!1),localStorage.getItem("admin")==="true"?f("/menuadmin"):f("/"),scroll(0,0),location.reload()}catch(R){console.log(R.message),l(R.message),s(!1)}},I=async()=>{s(!0);try{await wu(Ze,e1),console.log(c),l(null),s(!1),localStorage.getItem("admin")==="true"?f("/menuadmin"):f("/")}catch(R){console.log(R.message),l(R.message),s(!1)}};return d.jsx("div",{className:wr.pageContainer,children:d.jsxs("div",{className:wr.boxContainer,children:[d.jsx("div",{className:wr.titleContainer,children:d.jsx("h2",{children:"Iniciar Sesión"})}),d.jsx("h2",{children:"Correo"}),d.jsx("input",{type:"email",placeholder:"Correo electrónico",onChange:R=>{e(R.target.value)}}),d.jsx("h2",{children:"Contraseña"}),d.jsx("input",{type:"password",placeholder:"Contraseña",onChange:R=>{r(R.target.value)}}),d.jsxs("div",{className:wr.center,children:[d.jsxs("div",{className:wr.imageButtonsContainer,children:[d.jsx("button",{className:wr.imageButton,onClick:()=>g(),children:d.jsx("img",{src:c1,alt:"google"})}),d.jsx("button",{className:wr.imageButton,onClick:()=>I(),children:d.jsx("img",{src:u1,alt:"facebook"})})]}),d.jsx("button",{className:i?wr.buttonDisable:wr.button,onClick:m,children:"Iniciar sesión"}),d.jsx("p",{className:"errorSignin",children:o})]})]})})}function bM(){return d.jsxs("div",{children:[d.jsx("div",{className:K.slogan,children:d.jsxs("h1",{children:["La página no se ha ",d.jsx("span",{className:K.colored,children:"encontrado"})," o no está disponible"]})}),d.jsxs("div",{className:K.errorMessage,children:[d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("h1",{children:"Intente ingresar dentro de unos momentos o acceda a otra sección del sistema"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{})]}),d.jsx("div",{className:K.contactos,style:{backgroundImage:`url(${hl})`},children:d.jsxs("div",{className:K.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsx("h2",{children:"Caracas"}),d.jsx("h2",{children:"delipernil"}),d.jsx("h2",{children:"0424"}),d.jsxs("div",{className:K.redesSociales,children:[d.jsx("img",{className:K.social,src:Wn,alt:"Logo"}),d.jsx("img",{className:K.social,src:ji,alt:"Logo"})]})]})})]})}const DM="_pageContainer_x2s9i_1",jM="_boxContainer_x2s9i_9",LM="_titleContainer_x2s9i_19",OM="_container_x2s9i_24",MM="_loginButton_x2s9i_30",VM="_errorLabel_x2s9i_51",FM="_perfil_x2s9i_57",UM="_perfil2_x2s9i_65",mt={pageContainer:DM,boxContainer:jM,titleContainer:LM,container:OM,loginButton:MM,errorLabel:VM,perfil:FM,perfil2:UM};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firebasestorage.googleapis.com",BM="storageBucket",zM=2*60*1e3,$M=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends bn{constructor(e,n,r=0){super(Th(e),`Firebase Storage: ${n} (${Th(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Th(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ur;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ur||(ur={}));function Th(t){return"storage/"+t}function qM(){const t="An unknown error occurred, please check the error payload for server response.";return new dr(ur.UNKNOWN,t)}function HM(){return new dr(ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WM(){return new dr(ur.CANCELED,"User canceled the upload/download.")}function GM(t){return new dr(ur.INVALID_URL,"Invalid URL '"+t+"'.")}function KM(t){return new dr(ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Lv(t){return new dr(ur.INVALID_ARGUMENT,t)}function h1(){return new dr(ur.APP_DELETED,"The Firebase app was deleted.")}function QM(t){return new dr(ur.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw KM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(j){j.path_=decodeURIComponent(j.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",I=new RegExp(`^https?://${m}/${f}/b/${i}/o${g}`,"i"),R={bucket:1,path:3},P=n===d1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",S=new RegExp(`^https?://${P}/${i}/${k}`,"i"),A=[{regex:l,indices:c,postModify:s},{regex:I,indices:R,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let j=0;j<A.length;j++){const B=A[j],V=B.regex.exec(e);if(V){const y=V[B.indices.bucket];let _=V[B.indices.path];_||(_=""),r=new Bn(y,_),B.postModify(r);break}}if(r==null)throw GM(e);return r}}class YM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let u=!1;function f(...k){u||(u=!0,e.apply(null,k))}function m(k){i=setTimeout(()=>{i=null,t(I,c())},k)}function g(){s&&clearTimeout(s)}function I(k,...S){if(u){g();return}if(k){g(),f.call(null,k,...S);return}if(c()||o){g(),f.call(null,k,...S);return}r<64&&(r*=2);let A;l===1?(l=2,A=0):A=(r+Math.random())*1e3,m(A)}let R=!1;function P(k){R||(R=!0,g(),!u&&(i!==null?(k||(l=2),clearTimeout(i),m(0)):k||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,P(!0)},n),P}function JM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t){return t!==void 0}function Ov(t,e,n,r){if(r<e)throw Lv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lv(`Invalid value for '${t}'. Expected ${n} or less.`)}function eV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bu||(bu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r,i,s,o,l,c,u,f,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,R)=>{this.resolve_=I,this.reject_=R,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _c(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===bu.NO_ERROR,c=s.getStatus();if(!l||tV(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===bu.ABORT;r(!1,new _c(!1,null,f));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new _c(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());ZM(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=qM();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?h1():WM();o(c)}else{const c=HM();o(c)}};this.canceled_?n(!1,new _c(!1,null,!0)):this.backoffId_=XM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _c{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aV(t,e,n,r,i,s,o=!0){const l=eV(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return sV(u,e),rV(u,n),iV(u,s),oV(u,r),new nV(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Du(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cV(this._location.path)}get storage(){return this._service}get parent(){const e=lV(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new Du(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw QM(e)}}function Mv(t,e){const n=e==null?void 0:e[BM];return n==null?null:Bn.makeFromBucketSpec(n,t)}class uV{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=d1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zM,this._maxUploadRetryTime=$M,this._requests=new Set,i!=null?this._bucket=Bn.makeFromBucketSpec(i,this._host):this._bucket=Mv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=Mv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Du(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new YM(h1());{const o=aV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Vv="@firebase/storage",Fv="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="storage";function hV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uV(n,r,i,e,_s)}function fV(){Kn(new kn(dV,hV,"PUBLIC").setMultipleInstances(!0)),rn(Vv,Fv,""),rn(Vv,Fv,"esm2017")}fV();const pV={apiKey:"AIzaSyCEGX6DExJ4wrB1XUIww4M49WnFdGx6gkY",authDomain:"deli-pernil.firebaseapp.com",projectId:"deli-pernil",storageBucket:"deli-pernil.appspot.com",messagingSenderId:"231637892410",appId:"1:231637892410:web:59c4a88c7c076bea2b2403",measurementId:"G-BJNVGD1FE3"},f1=em(pV),p1=UT(f1);hm(f1);new rr;new nr;function mV(){const[t,e]=M.useState({});M.useEffect(()=>{nd(Ze,o=>{e(o)})},[]);const n=async()=>{await N_(Ze),localStorage.removeItem("admin"),localStorage.removeItem("email"),localStorage.removeItem("nombreCompleto"),localStorage.removeItem("telefono"),localStorage.removeItem("facultad"),r("/"),scroll(0,0),location.reload()},r=Yu();async function i(){try{await s();const o=hm();await vk(o.currentUser).then(()=>{console.log("User deleted")}).catch(l=>{console.error("Error deleting user: ",l)}),await N_(o)}catch(o){console.error("Error in handleDeleteAndSignOut: ",o)}}async function s(){try{const o=Ze.currentUser.uid,l=pt(p1,"Usuario",o);await Qf(l)}catch(o){console.error("Error updating document: ",o)}}return d.jsx("div",{children:t?d.jsx("div",{className:mt.pageContainer,children:d.jsxs("div",{className:mt.boxContainer,children:[d.jsx("div",{className:mt.titleContainer,children:d.jsx("h2",{children:"Perfil"})}),d.jsxs("div",{className:mt.container,children:[d.jsxs("div",{className:mt.column,children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{type:"text",placeholder:"Nombre",onChange:o=>{}}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{type:"text",placeholder:"Apellido",onChange:o=>{}}),d.jsx("button",{className:mt.button,onClick:n,children:"Cerrar Sesión"})]}),d.jsxs("div",{className:mt.column,children:[d.jsx("h2",{children:"Facultad"}),d.jsx("input",{type:"text",placeholder:"Facultad",onChange:o=>{}}),d.jsx("h2",{children:"Teléfono"}),d.jsx("input",{type:"number",placeholder:"Teléfono",onChange:o=>{}}),d.jsx(Ae,{className:mt["nav-link"],to:"/",children:"Regresar"}),d.jsx(Ae,{className:mt["nav-link"],to:"/perfil/editarperfil",children:"Editar"}),d.jsx(Ae,{className:mt["nav-link"],to:"/",onClick:i,children:"Eliminar"})]})]})]})}):r("/acceder")})}function gV(){const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState(""),[c,u]=M.useState("");async function f(){try{const k=Ze.currentUser.uid,S=pt(p1,"Usuario",k);await Ea(S,{nombre:t,apellido:n,email:i,facultad:o,telefono:c})}catch(k){console.error("Error updating document: ",k)}}const m=k=>{e(k.target.value)},g=k=>{r(k.target.value)},I=k=>{s(k.target.value)},R=k=>{l(k.target.value)},P=k=>{u(k.target.value)};return d.jsx("div",{className:mt.pageContainer,children:d.jsxs("div",{className:mt.boxContainer,children:[d.jsx("div",{className:mt.titleContainer,children:d.jsx("h2",{children:"Perfil del Usuario"})}),d.jsxs("div",{className:mt.perfil,children:[d.jsxs("div",{className:mt.perfil1,children:[d.jsx("h2",{children:"Nombre"}),d.jsx("input",{value:t,onChange:m}),d.jsx("h2",{children:"Apellido"}),d.jsx("input",{value:n,onChange:g}),d.jsx("h2",{children:"Número de teléfono"}),d.jsx("input",{value:c,onChange:P}),d.jsx("h2",{children:"Email"}),d.jsx("input",{value:i,onChange:I}),d.jsx("h2",{children:"Facultad"}),d.jsx("input",{value:o,onChange:R})]}),d.jsxs("div",{className:mt.perfil2,children:[d.jsx("h2",{children:"Foto de Perfil"}),d.jsx("img",{className:mt.perfil,src:Wn,alt:"Logo"}),d.jsx("h2",{children:"Preferencias Alimentarias"}),d.jsx("input",{}),d.jsx("button",{onClick:f,children:"Actualizar"}),d.jsx(Ae,{className:mt["nav-link"],to:"/perfil",children:"Regresar"})]})]})]})})}const yV="_tm_13p6t_35",_V="_botonesMenu_13p6t_46",vV="_botonMenu_13p6t_57",wV="_tituloboton_13p6t_72",EV="_combos_13p6t_77",IV="_zonacombos_13p6t_88",TV="_descripcioncombos_13p6t_100",SV="_buttonc_13p6t_109",CV="_carrusel_13p6t_125",AV="_slide_13p6t_131",RV="_combocontenido_13p6t_142",PV="_comboImage_13p6t_151",xV="_comboDescription_13p6t_160",kV="_active_13p6t_165",NV="_menu_13p6t_179",bV="_titulomenu_13p6t_186",DV="_catalogo_13p6t_190",jV="_cartamenu_13p6t_199",LV="_contactos_13p6t_218",OV="_containerContactos_13p6t_224",MV="_redesSociales_13p6t_234",VV="_social_13p6t_240",ce={tm:yV,botonesMenu:_V,botonMenu:vV,tituloboton:wV,combos:EV,zonacombos:IV,descripcioncombos:TV,buttonc:SV,carrusel:CV,slide:AV,combocontenido:RV,comboImage:PV,comboDescription:xV,active:kV,"slide-content":"_slide-content_13p6t_172",menu:NV,titulomenu:bV,catalogo:DV,cartamenu:jV,contactos:LV,containerContactos:OV,redesSociales:MV,social:VV};function FV(){return d.jsxs("div",{className:ce.pageContainer,children:[d.jsxs("div",{className:ce.botonesMenu,children:[d.jsx("div",{className:ce.botonMenu,children:d.jsx("h1",{className:ce.tituloboton,children:"Cachapas"})}),d.jsx("div",{className:ce.botonMenu,children:d.jsx("h1",{className:ce.tituloboton,children:"Club House"})}),d.jsx("div",{className:ce.botonMenu,children:d.jsx("h1",{className:ce.tituloboton,children:"Hamburguesas"})}),d.jsx("div",{className:ce.botonMenu,children:d.jsx("h1",{className:ce.tituloboton,children:"Parrillas"})}),d.jsx("div",{className:ce.botonMenu,children:d.jsx("h1",{className:ce.tituloboton,children:"Pepitos"})}),d.jsx("div",{className:ce.botonMenu,children:d.jsx("h1",{className:ce.tituloboton,children:"Sandwiches"})}),d.jsx("div",{className:ce.botonMenu,children:d.jsx("h1",{className:ce.tituloboton,children:"Arepas"})}),d.jsx("div",{className:ce.botonMenu,children:d.jsx("h1",{className:ce.tituloboton,children:"Ensaladas"})}),d.jsx("div",{className:ce.botonMenu,children:d.jsx("h1",{className:ce.tituloboton,children:"Otros"})})]}),d.jsxs("div",{className:ce.menu,children:[d.jsx("h1",{children:"MENU"}),d.jsxs("div",{className:ce.catalogo,children:[d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:"/Hamburguesas",children:[d.jsx("h1",{className:ce.titulocarta,children:"Hamburguesa"}),d.jsx("img",{src:tg,alt:"burger"})]})}),d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:ze[1].children[0].path,children:[d.jsx("h1",{className:ce.titulocarta,children:"Hamburguesa"}),d.jsx("img",{src:CO,alt:"burger1"})]})}),d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:ze[1].children[0].path,children:[d.jsx("h1",{className:ce.titulocarta,children:"Cachapas"}),d.jsx("img",{src:t1,alt:"cachapa"})]})}),d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:ze[1].children[0].path,children:[d.jsx("h1",{className:ce.titulocarta,children:"Club House"}),d.jsx("img",{src:n1,alt:"ch"})]})}),d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:ze[1].children[0].path,children:[d.jsx("h1",{className:ce.titulocarta,children:"Parrillas"}),d.jsx("img",{src:i1,alt:"parrilla"})]})}),d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:ze[1].children[0].path,children:[d.jsx("h1",{className:ce.titulocarta,children:"Pepitos"}),d.jsx("img",{src:s1,alt:"pepito"})]})}),d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:ze[1].children[0].path,children:[d.jsx("h1",{className:ce.titulocarta,children:"Sandwiches"}),d.jsx("img",{src:o1,alt:"sandwich"})]})}),d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:ze[1].children[0].path,children:[d.jsx("h1",{className:ce.titulocarta,children:"Arepas"}),d.jsx("img",{src:r1,alt:"arepa"})]})}),d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:ze[1].children[0].path,children:[d.jsx("h1",{className:ce.titulocarta,children:"Ensaladas"}),d.jsx("img",{src:a1,alt:"salad"})]})}),d.jsx("div",{className:ce.cartamenu,children:d.jsxs(Zn,{to:ze[1].children[0].path,children:[d.jsx("h1",{className:ce.titulocarta,children:"Otros"}),d.jsx("img",{src:l1,alt:"brookie"})]})})]})]}),d.jsx("div",{className:ce.contactos,style:{backgroundImage:`url(${hl})`},children:d.jsxs("div",{className:ce.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:ce.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:ce.social,src:Wn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:ce.social,src:ji,alt:"Logo"})})]})]})})]})}const UV="_slogan_jg9n3_36",BV="_formularioayuda_jg9n3_47",zV="_formularioInfo_jg9n3_55",$V="_formulario1_jg9n3_62",qV="_formulario2_jg9n3_63",HV="_inputting_jg9n3_67",WV="_button_jg9n3_72",GV="_contactos_jg9n3_85",KV="_containerContactos_jg9n3_91",QV="_redesSociales_jg9n3_101",YV="_social_jg9n3_107",un={slogan:UV,formularioayuda:BV,formularioInfo:zV,formulario1:$V,formulario2:qV,inputting:HV,button:WV,contactos:GV,containerContactos:KV,redesSociales:QV,social:YV};function XV(){return d.jsxs("div",{children:[d.jsx("div",{className:un.slogan,children:d.jsx("h1",{children:"Dejanos tu reseña"})}),d.jsxs("div",{className:un.formularioayuda,children:[d.jsx("h2",{children:"RELLENA LAS CASILLAS CON TUS DATOS"}),d.jsxs("div",{className:un.formulario,children:[d.jsxs("div",{className:un.formularioInfo,children:[d.jsxs("div",{className:un.formulario1,children:[d.jsx("h3",{children:"Nombre"}),d.jsx("input",{type:"text"}),d.jsx("h3",{children:"Apellido"}),d.jsx("input",{type:"text"})]}),d.jsxs("div",{className:un.formulario2,children:[d.jsx("h3",{children:"Correo"}),d.jsx("input",{type:"text"}),d.jsx("h3",{children:"Teléfono"}),d.jsx("input",{type:"text"})]})]}),d.jsx("h3",{children:"DINOS LO QUE PIENSAS"}),d.jsx("input",{className:un.inputting,type:"text"})]}),d.jsx("button",{className:un.button,children:"Enviar"})]}),d.jsx("div",{className:un.contactos,style:{backgroundImage:`url(${Id})`},children:d.jsxs("div",{className:un.containerContactos,children:[d.jsx("h1",{children:"Llámanos"}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"https://maps.app.goo.gl/GTvtRsQVo77zFdKL8",children:" Caracas 1073, Miranda, Universidad Metropolitana de Caracas"})]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:""})," delipernil@gmail.com"]}),d.jsxs("h2",{children:[" ",d.jsx("a",{href:"tel:04242285852",children:"0424-2285852"})]}),d.jsxs("div",{className:un.redesSociales,children:[d.jsx("a",{href:"https://www.instagram.com/deliunimet/",children:d.jsx("img",{className:un.social,src:Wn,alt:"Logo"})}),d.jsx("a",{href:"https://twitter.com/delipernil",children:d.jsx("img",{className:un.social,src:ji,alt:"Logo"})})]})]})})]})}const JV="_menu_1uu4r_1",ZV="_categoriaContainer_1uu4r_10",eF="_platilloContainer_1uu4r_19",tF="_slider_1uu4r_41",Ms={menu:JV,categoriaContainer:ZV,platilloContainer:eF,"toggle-switch":"_toggle-switch_1uu4r_30",slider:tF,"on-label":"_on-label_1uu4r_81","off-label":"_off-label_1uu4r_82"};function nF(){const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState(0),[c,u]=M.useState(!1),[f,m]=M.useState(!1),[g,I]=M.useState([]),[R,P]=M.useState([]),k=G=>{C(G)};async function S(){if(!t.trim()){console.error("The category name cannot be empty");return}try{const G=pt(Yt,"Categoria",t);await dl(G,{Categoria:t,disponible:!0}),console.log("Document written with ID: ",t),e("")}catch(G){console.error("Error adding document: ",G)}}async function w(G){try{const pe=pt(Yt,"Categoria",G),ve=Os(pe,"Platillos");await dl(pt(ve,n),{nombre:n,tipo:t,descripcion:"Descripcion del platillo",precio:0,disponible:!0}),console.log("Platillo added to 'Platillos' subcollection with ID: ",n),r("")}catch(pe){console.error("Error adding platillo: ",pe)}}async function A(){try{await w(t),console.log("Platillo added successfully")}catch(G){console.error("Error adding platillo: ",G)}}const j=async G=>{try{const pe=pt(Yt,"Categoria",G);await Ea(pe,{disponible:!c}),console.log("Document successfully updated!"),u(!c)}catch(pe){console.error("Error updating document: ",pe)}};async function B(){try{const G=pt(Yt,"Categoria",t);await Ea(G,{Categoria:t}),console.log("Document successfully updated!")}catch(G){console.error("Error updating document: ",G)}}const V=async(G,pe)=>{try{const ve=pt(Yt,"Categoria",G),Ue=Os(ve,"Platillos");await Ea(pt(Ue,pe),{disponible:!f}),console.log("Document successfully updated!"),m(!f)}catch(ve){console.error("Error updating document: ",ve)}};async function y(){try{const G=pt(Yt,"Categoria",t),pe=Os(G,"Platillos");await Ea(pt(pe,n),{disponible:i,nombre:n,precio:o}),console.log("Document successfully updated!")}catch(G){console.error("Error updating document: ",G)}}async function _(G){try{const pe=pt(Yt,"Categoria",G);await Qf(pe),console.log("Categoria successfully deleted!")}catch(pe){console.error("Error deleting categoria: ",pe)}}async function E(G,pe){try{const ve=pt(Yt,"Categoria",G),Ue=pt(Os(ve,"Platillos"),pe);await Qf(Ue),console.log("Platillo successfully deleted!"),N(G)}catch(ve){console.error("Error deleting platillo: ",ve)}}M.useEffect(()=>{const G=Yj(Os(Yt,"Categoria"),pe=>{const ve=[];pe.forEach(Ue=>{ve.push({id:Ue.id,data:Ue.data()})}),I(ve)});return()=>G()},[]);const T=()=>g.map(G=>d.jsxs("div",{className:Ms.categoriaContainer,onClick:()=>k(G.id),children:[d.jsx("h2",{children:G.data.Categoria}),d.jsx("button",{onClick:()=>_(G.id),children:"Borrar Categoria"}),d.jsxs("p",{children:["Disponible: ",G.data.disponible?"Sí":"No"]}),d.jsx("button",{onClick:()=>j(G.id),children:c?"Encendido":"Apagado"})]},G.id));async function x(G){const pe=Hj(Os(Yt,"Categoria",G,"Platillos"));try{const ve=await Qj(pe),Ue=[];return ve.forEach($=>{Ue.push({id:$.id,data:$.data()})}),Ue}catch(ve){return console.error("Error getting platillos: ",ve),[]}}async function N(G){const pe=await x(G);P(pe)}M.useEffect(()=>{g.length>0&&N(g[0].id)},[g]);const C=G=>R.filter(ve=>ve.data.tipo===G).map(ve=>d.jsxs("div",{className:Ms.platilloContainer,children:[d.jsx("h3",{children:ve.data.nombre}),d.jsx("button",{onClick:()=>E(G,ve.id),children:"Borrar Platillo"}),d.jsx("p",{children:ve.data.descripcion}),d.jsxs("p",{children:["Precio: ",ve.data.precio]}),d.jsx("button",{onClick:()=>V(G,ve.id),children:f?"Apagar":"Encender"})]},ve.id));return d.jsxs("div",{children:[d.jsx("div",{className:Ms.slogan,children:d.jsxs("h1",{children:["ADMIN ",d.jsx("span",{className:Ms.colored,children:"conmovedora"})," de nuestro local"]})}),d.jsx("input",{type:"text",value:t,onChange:G=>e(G.target.value),placeholder:"Enter Category Name"}),d.jsx("button",{onClick:S,children:"Add Categoria"}),d.jsx("input",{type:"text",value:n,onChange:G=>r(G.target.value),placeholder:"Enter Platillo Name"}),d.jsx("button",{onClick:A,children:"Add Platillo"}),d.jsx("input",{type:"text",value:i,onChange:G=>s(G.target.value),placeholder:"Enter Platillo Description"}),d.jsx("input",{type:"number",value:o,onChange:G=>l(G.target.value),placeholder:"Enter Platillo Price"}),d.jsx("button",{onClick:B,children:"Editar Categoria"}),d.jsx("button",{onClick:y,children:"Editar Platillo"}),d.jsx("div",{className:Ms.menu,children:T()}),d.jsx("div",{className:Ms.menu,children:C("Hamburguesas")})]})}const rF="_container_kalpi_1",iF="_title_kalpi_23",sF="_table_kalpi_37",oF="_tableHeader_kalpi_51",aF="_tableRow_kalpi_79",ca={container:rF,title:iF,table:sF,tableHeader:oF,tableRow:aF};function lF(){return d.jsxs("div",{className:ca.container,children:[d.jsx("h2",{className:ca.title,children:"Historial"}),d.jsxs("div",{className:ca.table,children:[d.jsxs("div",{className:ca.tableHeader,children:[d.jsx("div",{children:"Número"}),d.jsx("div",{children:"CI"}),d.jsx("div",{children:"Nombre"}),d.jsx("div",{children:"Apellido"}),d.jsx("div",{children:"Email"}),d.jsx("div",{children:"Facultad"}),d.jsx("div",{children:"Método Pago"}),d.jsx("div",{children:"Fecha"}),d.jsx("div",{children:"Factura"})]}),d.jsxs("div",{className:ca.tableRow,children:[d.jsx("div",{children:"1"}),d.jsx("div",{children:"12345678"}),d.jsx("div",{children:"John"}),d.jsx("div",{children:"Doe"}),d.jsx("div",{children:"john@example.com"}),d.jsx("div",{children:"Ingeniería"}),d.jsx("div",{children:"Tarjeta de Crédito"}),d.jsx("div",{children:"2023-06-01"}),d.jsx("div",{children:"123456"})]})]})]})}const cF="_pedidosActualesContainer_18sor_1",uF="_pedidosActualesTitle_18sor_21",dF="_pedidoCard_18sor_39",hF="_pedidoNumber_18sor_57",fF="_pedidoInfo_18sor_81",ua={pedidosActualesContainer:cF,pedidosActualesTitle:uF,pedidoCard:dF,pedidoNumber:hF,pedidoInfo:fF};function pF(){const t=[{id:1,nombre:"Juan",apellido:"Pérez",fecha:"2023-07-01"},{id:2,nombre:"María",apellido:"González",fecha:"2023-07-02"},{id:3,nombre:"Carlos",apellido:"Rodríguez",fecha:"2023-07-03"}];return d.jsxs("div",{className:ua.pedidosActualesContainer,children:[d.jsx("h2",{className:ua.pedidosActualesTitle,children:"Pedidos Actuales"}),t.map(e=>d.jsxs("div",{className:ua.pedidoCard,children:[d.jsx("div",{className:ua.pedidoNumber,children:e.id}),d.jsxs("div",{className:ua.pedidoInfo,children:[d.jsxs("span",{children:["Nombre: ",e.nombre]}),d.jsxs("span",{children:["Apellido: ",e.apellido]}),d.jsxs("span",{children:["Fecha: ",e.fecha]})]})]},e.id))]})}const mF="_container_j3v3g_1",gF="_title_j3v3g_23",yF="_card_j3v3g_37",_F="_cardImage_j3v3g_59",vF="_cardTitle_j3v3g_75",wF="_cardOrders_j3v3g_87",Vs={container:mF,title:gF,card:yF,cardImage:_F,cardTitle:vF,cardOrders:wF},EF="/assets/Burger_1-MKk7w113.png",IF="/assets/Burger_2-BwEEJlyn.png",TF="/assets/Burger_3-C6ZGu8VU.png";function SF(){const t=[{id:1,name:"Hamburguesa Carne Clasica",orders:150,image:EF},{id:2,name:"Hamburguesa Carne Salmon",orders:120,image:IF},{id:3,name:"Hamburguesa Carne Clasica con Bacon",orders:100,image:TF}];return d.jsxs("div",{className:Vs.container,children:[d.jsx("h2",{className:Vs.title,children:"Producto Más Vendido"}),d.jsx("div",{children:t.map(e=>d.jsxs("div",{className:Vs.card,children:[d.jsx("img",{src:e.image,alt:e.name,className:Vs.cardImage}),d.jsx("h3",{className:Vs.cardTitle,children:e.name}),d.jsxs("p",{className:Vs.cardOrders,children:["Número de pedidos: ",e.orders]})]},e.id))})]})}const CF=CR([{path:"/",element:d.jsx(wL,{}),children:[{path:ze[0].path,element:d.jsx(rO,{})},{path:ze[1].path,element:d.jsx(AO,{})},{path:ze[1].children[0].path,element:d.jsx(FV,{})},{path:ze[2].path,element:d.jsx(YO,{})},{path:ze[3].path,element:d.jsx(lM,{})},{path:ze[4].path,element:d.jsx(wM,{})},{path:ze[5].path,element:d.jsx(NM,{})},{path:ze[6].path,element:d.jsx(bM,{})},{path:ze[7].path,element:d.jsx(mV,{})},{path:ze[7].children[0].path,element:d.jsx(gV,{})},{path:ze[8].path,element:d.jsx(XV,{})},{path:ze[9].path,element:d.jsx(nF,{})},{path:ze[10].path,element:d.jsx(lF,{})},{path:ze[11].path,element:d.jsx(pF,{})},{path:ze[12].path,element:d.jsx(SF,{})}]}]);Sh.createRoot(document.getElementById("root")).render(d.jsx(Jv.StrictMode,{children:d.jsx(DR,{router:CF})}));
